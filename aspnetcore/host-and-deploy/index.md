---
title: Héberger et déployer ASP.NET Core
author: guardrex
description: Découvrez comment configurer des environnements d’hébergement et déployer des applications ASP.NET Core.
ms.author: riande
ms.custom: mvc
ms.date: 12/06/2018
uid: host-and-deploy/index
---
# <a name="host-and-deploy-aspnet-core"></a><span data-ttu-id="9dccc-103">Héberger et déployer ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="9dccc-103">Host and deploy ASP.NET Core</span></span>

<span data-ttu-id="9dccc-104">En général, pour déployer une application ASP.NET Core sur un environnement d’hébergement :</span><span class="sxs-lookup"><span data-stu-id="9dccc-104">In general, to deploy an ASP.NET Core app to a hosting environment:</span></span>

* <span data-ttu-id="9dccc-105">Déployer l’application publiée dans un dossier sur le serveur d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="9dccc-105">Deploy the published app to a folder on the hosting server.</span></span>
* <span data-ttu-id="9dccc-106">Configurer un gestionnaire de processus qui démarre l’application à l’arrivée des requêtes et redémarre l’application en cas de blocage ou quand le serveur redémarre.</span><span class="sxs-lookup"><span data-stu-id="9dccc-106">Set up a process manager that starts the app when requests arrive and restarts the app after it crashes or the server reboots.</span></span>
* <span data-ttu-id="9dccc-107">Pour la configuration d’un proxy inverse, configurez un proxy inverse pour transférer les requêtes à l’application.</span><span class="sxs-lookup"><span data-stu-id="9dccc-107">For configuration of a reverse proxy, set up a reverse proxy to forward requests to the app.</span></span>

## <a name="publish-to-a-folder"></a><span data-ttu-id="9dccc-108">Publier dans un dossier</span><span class="sxs-lookup"><span data-stu-id="9dccc-108">Publish to a folder</span></span>

<span data-ttu-id="9dccc-109">La commande [dotnet publish](/dotnet/core/tools/dotnet-publish) compile le code d’application et copie les fichiers nécessaires pour exécuter l’application dans un dossier *publish*.</span><span class="sxs-lookup"><span data-stu-id="9dccc-109">The [dotnet publish](/dotnet/core/tools/dotnet-publish) command compiles app code and copies the files required to run the app into a *publish* folder.</span></span> <span data-ttu-id="9dccc-110">Dans le cadre d’un déploiement à partir de Visual Studio, l’étape `dotnet publish` est effectuée automatiquement avant que les fichiers ne soient copiés vers la destination du déploiement.</span><span class="sxs-lookup"><span data-stu-id="9dccc-110">When deploying from Visual Studio, the `dotnet publish` step occurs automatically before the files are copied to the deployment destination.</span></span>

### <a name="folder-contents"></a><span data-ttu-id="9dccc-111">Contenu du dossier</span><span class="sxs-lookup"><span data-stu-id="9dccc-111">Folder contents</span></span>

<span data-ttu-id="9dccc-112">Le dossier *publish* contient un ou plusieurs fichiers d’assembly d’application, ses dépendances et éventuellement le runtime .NET.</span><span class="sxs-lookup"><span data-stu-id="9dccc-112">The *publish* folder contains one or more app assembly files, dependencies, and optionally the .NET runtime.</span></span>

<span data-ttu-id="9dccc-113">Une application .NET Core peut être publiée en tant que *déploiement autonome* ou *déploiement dépendant du framework*.</span><span class="sxs-lookup"><span data-stu-id="9dccc-113">A .NET Core app can be published as *self-contained deployment* or *framework-dependent deployment*.</span></span> <span data-ttu-id="9dccc-114">Si l’application est autonome, les fichiers d’assembly qui contiennent le runtime .NET sont inclus dans le dossier *publish*.</span><span class="sxs-lookup"><span data-stu-id="9dccc-114">If the app is self-contained, the assembly files that contain the .NET runtime are included in the *publish* folder.</span></span> <span data-ttu-id="9dccc-115">Si l’application dépend du framework, les fichiers du runtime .NET ne sont pas inclus, car l’application a une référence à une version de .NET installée sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="9dccc-115">If the app is framework-dependent, the .NET runtime files aren't included because the app has a reference to a version of .NET that's installed on the server.</span></span> <span data-ttu-id="9dccc-116">Le modèle de déploiement par défaut est « dépendante du framework ».</span><span class="sxs-lookup"><span data-stu-id="9dccc-116">The default deployment model is framework-dependent.</span></span> <span data-ttu-id="9dccc-117">Pour plus d’informations, consultez [Déploiement d’applications .NET Core](/dotnet/core/deploying/).</span><span class="sxs-lookup"><span data-stu-id="9dccc-117">For more information, see [.NET Core application deployment](/dotnet/core/deploying/).</span></span>

<span data-ttu-id="9dccc-118">En plus des fichiers *.exe* et *.dll*, le dossier *publish* d’une application ASP.NET Core contient généralement des fichiers de configuration, des ressources statiques et des vues MVC.</span><span class="sxs-lookup"><span data-stu-id="9dccc-118">In addition to *.exe* and *.dll* files, the *publish* folder for an ASP.NET Core app typically contains configuration files, static assets, and MVC views.</span></span> <span data-ttu-id="9dccc-119">Pour plus d'informations, consultez <xref:host-and-deploy/directory-structure>.</span><span class="sxs-lookup"><span data-stu-id="9dccc-119">For more information, see <xref:host-and-deploy/directory-structure>.</span></span>

## <a name="set-up-a-process-manager"></a><span data-ttu-id="9dccc-120">Configurer un gestionnaire de processus</span><span class="sxs-lookup"><span data-stu-id="9dccc-120">Set up a process manager</span></span>

<span data-ttu-id="9dccc-121">Une application ASP.NET Core est une application console qui doit être démarrée quand un serveur démarre, et redémarrée si elle se bloque.</span><span class="sxs-lookup"><span data-stu-id="9dccc-121">An ASP.NET Core app is a console app that must be started when a server boots and restarted if it crashes.</span></span> <span data-ttu-id="9dccc-122">Pour automatiser le démarrage et le redémarrage, un gestionnaire de processus est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="9dccc-122">To automate starts and restarts, a process manager is required.</span></span> <span data-ttu-id="9dccc-123">Les gestionnaires de processus les plus courants pour ASP.NET Core sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="9dccc-123">The most common process managers for ASP.NET Core are:</span></span>

* <span data-ttu-id="9dccc-124">Linux</span><span class="sxs-lookup"><span data-stu-id="9dccc-124">Linux</span></span>
  * [<span data-ttu-id="9dccc-125">Nginx</span><span class="sxs-lookup"><span data-stu-id="9dccc-125">Nginx</span></span>](xref:host-and-deploy/linux-nginx)
  * [<span data-ttu-id="9dccc-126">Apache</span><span class="sxs-lookup"><span data-stu-id="9dccc-126">Apache</span></span>](xref:host-and-deploy/linux-apache)
* <span data-ttu-id="9dccc-127">Windows</span><span class="sxs-lookup"><span data-stu-id="9dccc-127">Windows</span></span>
  * [<span data-ttu-id="9dccc-128">IIS</span><span class="sxs-lookup"><span data-stu-id="9dccc-128">IIS</span></span>](xref:host-and-deploy/iis/index)
  * [<span data-ttu-id="9dccc-129">Service Windows</span><span class="sxs-lookup"><span data-stu-id="9dccc-129">Windows Service</span></span>](xref:host-and-deploy/windows-service)

## <a name="set-up-a-reverse-proxy"></a><span data-ttu-id="9dccc-130">Configurer un proxy inverse</span><span class="sxs-lookup"><span data-stu-id="9dccc-130">Set up a reverse proxy</span></span>

::: moniker range=">= aspnetcore-2.0"

<span data-ttu-id="9dccc-131">Si l’application utilise le serveur [Kestrel](xref:fundamentals/servers/kestrel), vous pouvez utiliser [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache) ou [IIS](xref:host-and-deploy/iis/index) comme serveur proxy inverse.</span><span class="sxs-lookup"><span data-stu-id="9dccc-131">If the app uses the [Kestrel](xref:fundamentals/servers/kestrel) server, [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache), or [IIS](xref:host-and-deploy/iis/index) can be used as a reverse proxy server.</span></span> <span data-ttu-id="9dccc-132">Un serveur proxy inverse reçoit les requêtes HTTP en provenance d’Internet et les transmet à Kestrel.</span><span class="sxs-lookup"><span data-stu-id="9dccc-132">A reverse proxy server receives HTTP requests from the Internet and forwards them to Kestrel.</span></span>

<span data-ttu-id="9dccc-133">Les deux configurations, avec ou sans serveur proxy inverse, sont des configurations d’hébergement prises en charge pour les applications ASP.NET Core 2.0 ou ultérieur.</span><span class="sxs-lookup"><span data-stu-id="9dccc-133">Either configuration&mdash;with or without a reverse proxy server&mdash;is a supported hosting configuration for ASP.NET Core 2.0 or later apps.</span></span> <span data-ttu-id="9dccc-134">Pour plus d’informations, consultez [Quand utiliser Kestrel avec un proxy inverse ?](xref:fundamentals/servers/kestrel#when-to-use-kestrel-with-a-reverse-proxy).</span><span class="sxs-lookup"><span data-stu-id="9dccc-134">For more information, see [When to use Kestrel with a reverse proxy](xref:fundamentals/servers/kestrel#when-to-use-kestrel-with-a-reverse-proxy).</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.0"

<span data-ttu-id="9dccc-135">Si l’application utilise le serveur [Kestrel](xref:fundamentals/servers/kestrel) et qu’elle est exposée à Internet, utilisez [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache) ou [IIS](xref:host-and-deploy/iis/index) comme serveur proxy inverse.</span><span class="sxs-lookup"><span data-stu-id="9dccc-135">If the app uses the [Kestrel](xref:fundamentals/servers/kestrel) server and will be exposed to the Internet, use [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache), or [IIS](xref:host-and-deploy/iis/index) as a reverse proxy server.</span></span> <span data-ttu-id="9dccc-136">Un serveur proxy inverse reçoit les requêtes HTTP en provenance d’Internet et les transmet à Kestrel.</span><span class="sxs-lookup"><span data-stu-id="9dccc-136">A reverse proxy server receives HTTP requests from the Internet and forwards them to Kestrel.</span></span> <span data-ttu-id="9dccc-137">La principale raison pour utiliser un proxy inverse est la sécurité.</span><span class="sxs-lookup"><span data-stu-id="9dccc-137">The main reason for using a reverse proxy is security.</span></span> <span data-ttu-id="9dccc-138">Pour plus d’informations, consultez [Quand utiliser Kestrel avec un proxy inverse ?](xref:fundamentals/servers/kestrel?tabs=aspnetcore1x#when-to-use-kestrel-with-a-reverse-proxy).</span><span class="sxs-lookup"><span data-stu-id="9dccc-138">For more information, see [When to use Kestrel with a reverse proxy](xref:fundamentals/servers/kestrel?tabs=aspnetcore1x#when-to-use-kestrel-with-a-reverse-proxy).</span></span>

::: moniker-end

## <a name="proxy-server-and-load-balancer-scenarios"></a><span data-ttu-id="9dccc-139">Scénarios avec un serveur proxy et un équilibreur de charge</span><span class="sxs-lookup"><span data-stu-id="9dccc-139">Proxy server and load balancer scenarios</span></span>

<span data-ttu-id="9dccc-140">Une configuration supplémentaire peut être nécessaire pour les applications hébergées derrière des serveurs proxy et des équilibreurs de charge.</span><span class="sxs-lookup"><span data-stu-id="9dccc-140">Additional configuration might be required for apps hosted behind proxy servers and load balancers.</span></span> <span data-ttu-id="9dccc-141">Sans configuration supplémentaire, une application peut ne pas avoir accès au schéma (HTTP/HTTPS) et à l’adresse IP distante d’où provient une requête.</span><span class="sxs-lookup"><span data-stu-id="9dccc-141">Without additional configuration, an app might not have access to the scheme (HTTP/HTTPS) and the remote IP address where a request originated.</span></span> <span data-ttu-id="9dccc-142">Pour plus d’informations, consultez [Configurer ASP.NET Core pour l’utilisation de serveurs proxy et d’équilibreurs de charge](xref:host-and-deploy/proxy-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="9dccc-142">For more information, see [Configure ASP.NET Core to work with proxy servers and load balancers](xref:host-and-deploy/proxy-load-balancer).</span></span>

## <a name="use-visual-studio-and-msbuild-to-automate-deployments"></a><span data-ttu-id="9dccc-143">Utiliser Visual Studio et MSBuild pour automatiser les déploiements</span><span class="sxs-lookup"><span data-stu-id="9dccc-143">Use Visual Studio and MSBuild to automate deployments</span></span>

<span data-ttu-id="9dccc-144">Le déploiement nécessite souvent des tâches supplémentaires en plus de la copie de la sortie de [dotnet publish](/dotnet/core/tools/dotnet-publish) vers un serveur.</span><span class="sxs-lookup"><span data-stu-id="9dccc-144">Deployment often requires additional tasks besides copying the output from [dotnet publish](/dotnet/core/tools/dotnet-publish) to a server.</span></span> <span data-ttu-id="9dccc-145">Par exemple, des fichiers supplémentaires peuvent être requis ou exclus du dossier *publish*.</span><span class="sxs-lookup"><span data-stu-id="9dccc-145">For example, extra files might be required or excluded from the *publish* folder.</span></span> <span data-ttu-id="9dccc-146">Visual Studio utilise MSBuild pour le déploiement web, et MSBuild peut être personnalisé pour effectuer de nombreuses autres tâches pendant le déploiement.</span><span class="sxs-lookup"><span data-stu-id="9dccc-146">Visual Studio uses MSBuild for web deployment, and MSBuild can be customized to do many other tasks during deployment.</span></span> <span data-ttu-id="9dccc-147">Pour plus d’informations, consultez <xref:host-and-deploy/visual-studio-publish-profiles> et l’ouvrage [Using MSBuild and Team Foundation Build](http://msbuildbook.com/) (Utilisation de MSBuild et Team Foundation Build).</span><span class="sxs-lookup"><span data-stu-id="9dccc-147">For more information, see <xref:host-and-deploy/visual-studio-publish-profiles> and the [Using MSBuild and Team Foundation Build](http://msbuildbook.com/) book.</span></span>

<span data-ttu-id="9dccc-148">Les applications peuvent être déployées directement à partir de Visual Studio sur Azure App Service à l’aide de la [fonctionnalité de publication web](xref:tutorials/publish-to-azure-webapp-using-vs) ou de la [prise en charge intégrée de Git](xref:host-and-deploy/azure-apps/azure-continuous-deployment).</span><span class="sxs-lookup"><span data-stu-id="9dccc-148">By using [the Publish Web feature](xref:tutorials/publish-to-azure-webapp-using-vs) or [built-in Git support](xref:host-and-deploy/azure-apps/azure-continuous-deployment), apps can be deployed directly from Visual Studio to the Azure App Service.</span></span> <span data-ttu-id="9dccc-149">Azure DevOps Services prend en charge le [déploiement continu sur Azure App Service](/azure/devops/pipelines/targets/webapp).</span><span class="sxs-lookup"><span data-stu-id="9dccc-149">Azure DevOps Services supports [continuous deployment to Azure App Service](/azure/devops/pipelines/targets/webapp).</span></span> <span data-ttu-id="9dccc-150">Pour plus d’informations, consultez [DevOps avec ASP.NET Core et Azure](xref:azure/devops/index).</span><span class="sxs-lookup"><span data-stu-id="9dccc-150">For more information, see [DevOps with ASP.NET Core and Azure](xref:azure/devops/index).</span></span>

## <a name="publish-to-azure"></a><span data-ttu-id="9dccc-151">Publier sur Azure</span><span class="sxs-lookup"><span data-stu-id="9dccc-151">Publish to Azure</span></span>

<span data-ttu-id="9dccc-152">Consultez <xref:tutorials/publish-to-azure-webapp-using-vs> pour obtenir des instructions sur la façon de publier une application sur Azure à l’aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9dccc-152">See <xref:tutorials/publish-to-azure-webapp-using-vs> for instructions on how to publish an app to Azure using Visual Studio.</span></span> <span data-ttu-id="9dccc-153">Un exemple supplémentaire est fourni par [Créer une application web ASP.NET Core dans Azure](/azure/app-service/app-service-web-get-started-dotnet).</span><span class="sxs-lookup"><span data-stu-id="9dccc-153">An additional example is provided by [Create an ASP.NET Core web app in Azure](/azure/app-service/app-service-web-get-started-dotnet).</span></span>

## <a name="publish-with-msdeploy-on-windows"></a><span data-ttu-id="9dccc-154">Publier avec MSDeploy sur Windows</span><span class="sxs-lookup"><span data-stu-id="9dccc-154">Publish with MSDeploy on Windows</span></span>

<span data-ttu-id="9dccc-155">Consultez <xref:host-and-deploy/visual-studio-publish-profiles> pour obtenir des instructions sur la publication d’une application avec un profil de publication Visual Studio, notamment à partir d’une invite de commandes Windows à l’aide de la commande [dotnet msbuild](/dotnet/core/tools/dotnet-msbuild).</span><span class="sxs-lookup"><span data-stu-id="9dccc-155">See <xref:host-and-deploy/visual-studio-publish-profiles> for instructions on how to publish an app with a Visual Studio publish profile, including from a Windows command prompt using the [dotnet msbuild](/dotnet/core/tools/dotnet-msbuild) command.</span></span>

## <a name="host-in-a-web-farm"></a><span data-ttu-id="9dccc-156">Héberger dans une batterie de serveurs web</span><span class="sxs-lookup"><span data-stu-id="9dccc-156">Host in a web farm</span></span>

<span data-ttu-id="9dccc-157">Pour plus d’informations sur la configuration pour héberger des applications ASP.NET Core dans un environnement de batterie de serveurs web (par exemple, le déploiement de plusieurs instances de votre application pour la scalabilité), consultez <xref:host-and-deploy/web-farm>.</span><span class="sxs-lookup"><span data-stu-id="9dccc-157">For information on configuration for hosting ASP.NET Core apps in a web farm environment (for example, deployment of multiple instances of your app for scalability), see <xref:host-and-deploy/web-farm>.</span></span>

::: moniker range=">= aspnetcore-2.2"

## <a name="perform-health-checks"></a><span data-ttu-id="9dccc-158">Effectuer des contrôles d’intégrité</span><span class="sxs-lookup"><span data-stu-id="9dccc-158">Perform health checks</span></span>

<span data-ttu-id="9dccc-159">Utilisez Health Check Middleware pour effectuer des contrôles d’intégrité sur une application et ses dépendances.</span><span class="sxs-lookup"><span data-stu-id="9dccc-159">Use Health Check Middleware to perform health checks on an app and its dependencies.</span></span> <span data-ttu-id="9dccc-160">Pour plus d'informations, consultez <xref:host-and-deploy/health-checks>.</span><span class="sxs-lookup"><span data-stu-id="9dccc-160">For more information, see <xref:host-and-deploy/health-checks>.</span></span>

::: moniker-end

## <a name="additional-resources"></a><span data-ttu-id="9dccc-161">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="9dccc-161">Additional resources</span></span>

* <xref:host-and-deploy/docker/index>
* <xref:test/troubleshoot>
