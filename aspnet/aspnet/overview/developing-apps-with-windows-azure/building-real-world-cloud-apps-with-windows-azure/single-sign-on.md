---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
title: Single Sign-On (génération d’applications Cloud réalistes avec Azure) | Microsoft Docs
author: MikeWasson
description: Building Real World Cloud Apps with Azure e-book est basé sur une présentation développée par Scott Guthrie. Il explique 13 modèles et pratiques qui peuvent il...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 7d82d5e9-0619-4f22-9e03-32a6d52940a5
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
msc.type: authoredcontent
ms.openlocfilehash: da1136e085776c63886b6ac25533521fa1479d4f
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59406286"
---
# <a name="single-sign-on-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="ece08-104">Single Sign-On (génération d’applications Cloud réalistes avec Azure)</span><span class="sxs-lookup"><span data-stu-id="ece08-104">Single Sign-On (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="ece08-105">par [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="ece08-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="ece08-106">[Téléchargement Fix It projet](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) ou [télécharger l’E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="ece08-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="ece08-107">Le **Building Real World Cloud Apps with Azure** e-book est basé sur une présentation développée par Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="ece08-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="ece08-108">Il explique 13 modèles et pratiques qui peuvent vous aider à réussir le développement d’applications web pour le cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="ece08-109">Pour plus d’informations sur l’e-book, consultez [le premier chapitre](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="ece08-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="ece08-110">Pensez lorsque vous développez une application cloud de nombreux problèmes de sécurité, mais pour cette série nous allons nous concentrer sur un seul : authentification unique.</span><span class="sxs-lookup"><span data-stu-id="ece08-110">There are many security issues to think about when you're developing a cloud app, but for this series we'll focus on just one: single sign-on.</span></span> <span data-ttu-id="ece08-111">Une question que les gens demandent souvent est la suivante : « Je suis principalement création d’applications pour les employés de ma société ; comment héberger ces applications dans le cloud et toujours leur permettre d’utiliser le même modèle de sécurité Mes employés connaître et à utilisent dans l’environnement local quand ils s’exécutent des applications qui sont hébergés au sein du pare-feu ? »</span><span class="sxs-lookup"><span data-stu-id="ece08-111">A question people often ask is this: "I'm primarily building apps for the employees of my company; how do I host these apps in the cloud and still enable them to use the same security model that my employees know and use in the on-premises environment when they're running apps that are hosted inside the firewall?"</span></span> <span data-ttu-id="ece08-112">Une des manières de que nous permettre ce scénario est appelée Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="ece08-112">One of the ways we enable this scenario is called Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="ece08-113">Azure AD vous permet de proposer des enterprise line of business (LOB) applications via Internet, et il vous permet de proposer ces applications à des partenaires commerciaux.</span><span class="sxs-lookup"><span data-stu-id="ece08-113">Azure AD enables you to make enterprise line-of-business (LOB) apps available over the Internet, and it enables you to make these apps available to business partners as well.</span></span>

## <a name="introduction-to-azure-ad"></a><span data-ttu-id="ece08-114">Présentation d’Azure AD</span><span class="sxs-lookup"><span data-stu-id="ece08-114">Introduction to Azure AD</span></span>

<span data-ttu-id="ece08-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) fournit [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) provides [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) in the cloud.</span></span> <span data-ttu-id="ece08-116">Fonctionnalités clés sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="ece08-116">Key features include the following:</span></span>

- <span data-ttu-id="ece08-117">Il s’intègre avec Active Directory en local.</span><span class="sxs-lookup"><span data-stu-id="ece08-117">It integrates with on-premises Active Directory.</span></span>
- <span data-ttu-id="ece08-118">Il permet l’authentification unique avec vos applications.</span><span class="sxs-lookup"><span data-stu-id="ece08-118">It enables single sign-on with your apps.</span></span>
- <span data-ttu-id="ece08-119">Il prend en charge des normes ouvertes telles que [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), et [OAuth 2.0](http://oauth.net/2/).</span><span class="sxs-lookup"><span data-stu-id="ece08-119">It supports open standards such as [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), and [OAuth 2.0](http://oauth.net/2/).</span></span>
- <span data-ttu-id="ece08-120">Il prend en charge Enterprise [API REST Graph](https://msdn.microsoft.com/library/hh974476.aspx).</span><span class="sxs-lookup"><span data-stu-id="ece08-120">It supports Enterprise [Graph REST API](https://msdn.microsoft.com/library/hh974476.aspx).</span></span>

<span data-ttu-id="ece08-121">Supposons que vous avez un environnement Windows Server Active Directory en local que vous utilisez pour permettre aux employés se connectent à des applications Intranet :</span><span class="sxs-lookup"><span data-stu-id="ece08-121">Suppose you have an on-premises Windows Server Active Directory environment that you use to enable employees to sign on to Intranet apps:</span></span>

![](single-sign-on/_static/image1.png)

<span data-ttu-id="ece08-122">Ce que Azure AD vous permet de faire est créer un répertoire dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-122">What Azure AD enables you to do is create a directory in the cloud.</span></span> <span data-ttu-id="ece08-123">Il est une fonctionnalité gratuite et facile à configurer.</span><span class="sxs-lookup"><span data-stu-id="ece08-123">It's a free feature and easy to set up.</span></span>

<span data-ttu-id="ece08-124">Il peut être entièrement indépendant à partir d’Active Directory en local ; Vous pouvez placer tout le monde vous souhaitez qu’il contient et authentifiez les applications Internet.</span><span class="sxs-lookup"><span data-stu-id="ece08-124">It can be entirely independent from your on-premises Active Directory; you can put anyone you want in it and authenticate them in Internet apps.</span></span>

![Windows Azure Active Directory](single-sign-on/_static/image2.png)

<span data-ttu-id="ece08-126">Ou vous pouvez l’intégrer avec votre réseau local AD.</span><span class="sxs-lookup"><span data-stu-id="ece08-126">Or you can integrate it with your on-premises AD.</span></span>

![AD et l’intégration de WAAD](single-sign-on/_static/image3.png)

<span data-ttu-id="ece08-128">Maintenant tous les employés qui peuvent s’authentifier sur site peuvent également s’authentifier sur l’Internet, sans avoir à ouvrir un pare-feu ou de déployer de nouveaux serveurs dans votre centre de données.</span><span class="sxs-lookup"><span data-stu-id="ece08-128">Now all the employees who can authenticate on-premises can also authenticate over the Internet – without you having to open up a firewall or deploy any new servers in your data center.</span></span> <span data-ttu-id="ece08-129">Vous pouvez continuer à tirer parti de tout l’environnement Active Directory existant que vous connaissez et que vous utilisez aujourd'hui pour donner à vos applications internes-l’authentification unique sur la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="ece08-129">You can continue to leverage all the existing Active Directory environment that you know and use today to give your internal apps single-sign on capability.</span></span>

<span data-ttu-id="ece08-130">Une fois que vous avez apportées à cette connexion entre AD et Azure AD, vous pouvez également activer vos applications web et vos appareils mobiles pour authentifier vos employés dans le cloud, et vous pouvez activer des applications tierces, telles que les applications Office 365, SalesForce.com ou Google, pour accepter votre informations d’identification des employés.</span><span class="sxs-lookup"><span data-stu-id="ece08-130">Once you've made this connection between AD and Azure AD, you can also enable your web apps and your mobile devices to authenticate your employees in the cloud, and you can enable third-party apps, such as Office 365, SalesForce.com, or Google apps, to accept your employees' credentials.</span></span> <span data-ttu-id="ece08-131">Si vous utilisez Office 365, vous êtes déjà configuré avec Azure AD comme Office 365 utilise Azure AD pour l’authentification et l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="ece08-131">If you're using Office 365, you're already set up with Azure AD because Office 365 uses Azure AD for authentication and authorization.</span></span>

![3e applications tierces](single-sign-on/_static/image4.png)

<span data-ttu-id="ece08-133">L’avantage de cette approche est que chaque fois que votre organisation ajoute ou supprime un utilisateur, ou un utilisateur modifie un mot de passe, vous utilisez le même processus que vous utilisez aujourd'hui dans votre environnement local.</span><span class="sxs-lookup"><span data-stu-id="ece08-133">The beauty of this approach is that any time your organization adds or deletes a user, or a user changes a password, you use the same process that you use today in your on-premises environment.</span></span> <span data-ttu-id="ece08-134">Tous les de votre réseau local AD modifications sont automatiquement propagées à l’environnement de cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-134">All of your on-premises AD changes are automatically propagated to the cloud environment.</span></span>

<span data-ttu-id="ece08-135">Si votre entreprise est à l’aide ou le déplacement vers Office 365, la bonne nouvelle est que vous avez Azure AD configuré automatiquement, car Office 365 utilise Azure AD pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="ece08-135">If your company is using or moving to Office 365, the good news is that you'll have Azure AD set up automatically because Office 365 uses Azure AD for authentication.</span></span> <span data-ttu-id="ece08-136">Par conséquent, vous pouvez facilement utiliser dans vos propres applications la même authentification qui utilise Office 365.</span><span class="sxs-lookup"><span data-stu-id="ece08-136">So you can easily use in your own apps the same authentication that Office 365 uses.</span></span>

## <a name="set-up-an-azure-ad-tenant"></a><span data-ttu-id="ece08-137">Configurer un client Azure AD</span><span class="sxs-lookup"><span data-stu-id="ece08-137">Set up an Azure AD tenant</span></span>

<span data-ttu-id="ece08-138">un annuaire Azure AD est appelé une annonce Azure [locataire](https://technet.microsoft.com/library/jj573650.aspx), et la configuration d’un client est assez simple.</span><span class="sxs-lookup"><span data-stu-id="ece08-138">an Azure AD directory is called an Azure AD [tenant](https://technet.microsoft.com/library/jj573650.aspx), and setting up a tenant is pretty easy.</span></span> <span data-ttu-id="ece08-139">Nous allons vous montrer comment procéder dans le portail de gestion Azure afin d’illustrer les concepts, mais bien sûr comme les autres fonctions de portail vous pouvez également le faire à l’aide d’un script ou une API de gestion.</span><span class="sxs-lookup"><span data-stu-id="ece08-139">We'll show you how it's done in the Azure Management Portal in order to illustrate the concepts, but of course like the other portal functions you can also do it by using a script or management API.</span></span>

<span data-ttu-id="ece08-140">Dans le portail de gestion, cliquez sur l’onglet Active Directory.</span><span class="sxs-lookup"><span data-stu-id="ece08-140">In the management portal click the Active Directory tab.</span></span>

![WAAD dans le portail](single-sign-on/_static/image5.png)

<span data-ttu-id="ece08-142">Vous disposez automatiquement d’un locataire Azure AD pour votre compte Azure, et vous pouvez cliquer sur le **ajouter** bouton en bas de la page pour créer d’autres annuaires.</span><span class="sxs-lookup"><span data-stu-id="ece08-142">You automatically have one Azure AD tenant for your Azure account, and you can click the **Add** button at the bottom of the page to create additional directories.</span></span> <span data-ttu-id="ece08-143">Vous souhaiterez un pour un environnement de test et un environnement de production, par exemple.</span><span class="sxs-lookup"><span data-stu-id="ece08-143">You might want one for a test environment and one for production, for example.</span></span> <span data-ttu-id="ece08-144">Réfléchir soigneusement à ce que vous nommez un nouveau répertoire.</span><span class="sxs-lookup"><span data-stu-id="ece08-144">Think carefully about what you name a new directory.</span></span> <span data-ttu-id="ece08-145">Si vous utilisez votre nom pour le répertoire et puis vous utilisez votre nom encore pour l’un des utilisateurs, ce qui peuvent prêter à confus.</span><span class="sxs-lookup"><span data-stu-id="ece08-145">If you use your name for the directory and then you use your name again for one of the users, that can be confusing.</span></span>

![Ajouter un répertoire](single-sign-on/_static/image6.png)

<span data-ttu-id="ece08-147">Le portail offre une prise en charge complète pour la création, suppression et la gestion des utilisateurs au sein de cet environnement.</span><span class="sxs-lookup"><span data-stu-id="ece08-147">The portal has full support for creating, deleting, and managing users within this environment.</span></span> <span data-ttu-id="ece08-148">Par exemple, pour ajouter un utilisateur doit accéder à la **utilisateurs** onglet et cliquez sur le **ajouter un utilisateur** bouton.</span><span class="sxs-lookup"><span data-stu-id="ece08-148">For example, to add a user go to the **Users** tab and click the **Add User** button.</span></span>

![Bouton Ajouter un utilisateur](single-sign-on/_static/image7.png)

![Ajouter la boîte de dialogue utilisateur](single-sign-on/_static/image8.png)

<span data-ttu-id="ece08-151">Vous pouvez créer un nouvel utilisateur qui existe uniquement dans ce répertoire, ou vous pouvez inscrire un Account Microsoft en tant qu’un utilisateur dans ce répertoire, ou le Registre ou un utilisateur à partir d’un autre annuaire Azure AD en tant qu’utilisateur dans ce répertoire.</span><span class="sxs-lookup"><span data-stu-id="ece08-151">You can create a new user who exists only in this directory, or you can register a Microsoft Account as a user in this directory, or register or a user from another Azure AD directory as a user in this directory.</span></span> <span data-ttu-id="ece08-152">(Dans un répertoire réel, le domaine par défaut serait ContosoTest.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="ece08-152">(In a real directory, the default domain would be ContosoTest.onmicrosoft.com.</span></span> <span data-ttu-id="ece08-153">Vous pouvez également utiliser un domaine de votre choix, comme contoso.com.)</span><span class="sxs-lookup"><span data-stu-id="ece08-153">You can also use a domain of your own choosing, like contoso.com.)</span></span>

![Types utilisateur](single-sign-on/_static/image9.png)

![Ajouter la boîte de dialogue utilisateur](single-sign-on/_static/image10.png)

<span data-ttu-id="ece08-156">Vous pouvez affecter l’utilisateur à un rôle.</span><span class="sxs-lookup"><span data-stu-id="ece08-156">You can assign the user to a role.</span></span>

![Profil utilisateur](single-sign-on/_static/image11.png)

<span data-ttu-id="ece08-158">Et le compte est créé avec un mot de passe temporaire.</span><span class="sxs-lookup"><span data-stu-id="ece08-158">And the account is created with a temporary password.</span></span>

![Mot de passe temporaire](single-sign-on/_static/image12.png)

<span data-ttu-id="ece08-160">Les utilisateurs de créez de cette façon, vous peuvent vous connecter immédiatement à vos applications web à l’aide de cet annuaire de cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-160">The users you create this way can immediately log in to your web apps using this cloud directory.</span></span>

<span data-ttu-id="ece08-161">Ce qui est idéal pour l’entreprise l’authentification unique, cependant, est la **intégration d’annuaire** onglet :</span><span class="sxs-lookup"><span data-stu-id="ece08-161">What's great for enterprise single sign-on, though, is the **Directory Integration** tab:</span></span>

![Onglet de l’intégration d’annuaire](single-sign-on/_static/image13.png)

<span data-ttu-id="ece08-163">Si vous activez l’intégration d’annuaire, et [Téléchargez un outil](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), vous pouvez synchroniser cet annuaire de cloud avec votre local Active Directory existant que vous utilisez déjà à l’intérieur de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="ece08-163">If you enable directory integration, and [download a tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), you can sync this cloud directory with your existing on-premises Active Directory that you're already using inside your organization.</span></span> <span data-ttu-id="ece08-164">Puis tous les utilisateurs stockés dans votre annuaire seront afficheront dans cet annuaire de cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-164">Then all of the users stored in your directory will show up in this cloud directory.</span></span> <span data-ttu-id="ece08-165">Vos applications cloud peuvent désormais s’authentifier tous les employés à l’aide de leurs informations d’identification Active Directory existantes.</span><span class="sxs-lookup"><span data-stu-id="ece08-165">Your cloud apps can now authenticate all of your employees using their existing Active Directory credentials.</span></span> <span data-ttu-id="ece08-166">Et tout cela est gratuit – l’outil de synchronisation et Azure AD elle-même.</span><span class="sxs-lookup"><span data-stu-id="ece08-166">And all this is free – both the sync tool and Azure AD itself.</span></span>

<span data-ttu-id="ece08-167">L’outil est un Assistant qui est facile à utiliser, comme vous pouvez le voir à partir de ces captures d’écran.</span><span class="sxs-lookup"><span data-stu-id="ece08-167">The tool is a wizard that is easy to use, as you can see from these screen shots.</span></span> <span data-ttu-id="ece08-168">Il ne s’agit pas d’obtenir des instructions complètes, juste un exemple vous montrant le processus de base.</span><span class="sxs-lookup"><span data-stu-id="ece08-168">These are not complete instructions, just an example showing you the basic process.</span></span> <span data-ttu-id="ece08-169">Pour plus d’informations how-to--it, consultez les liens dans le [ressources](#resources) section à la fin de ce chapitre.</span><span class="sxs-lookup"><span data-stu-id="ece08-169">For more detailed how-to-do-it information, see the links in the [Resources](#resources) section at the end of the chapter.</span></span>

![Assistant de configuration d’outil de synchronisation de WAAD](single-sign-on/_static/image14.png)

<span data-ttu-id="ece08-171">Cliquez sur **suivant**, puis entrez vos informations d’identification Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="ece08-171">Click **Next**, and then enter your Azure Active Directory credentials.</span></span>

![Assistant de configuration d’outil de synchronisation de WAAD](single-sign-on/_static/image15.png)

<span data-ttu-id="ece08-173">Cliquez sur **suivant**, puis entrez votre réseau local informations d’identification AD.</span><span class="sxs-lookup"><span data-stu-id="ece08-173">Click **Next**, and then enter your on-premises AD credentials.</span></span>

![Assistant de configuration d’outil de synchronisation de WAAD](single-sign-on/_static/image16.png)

<span data-ttu-id="ece08-175">Cliquez sur **suivant**, puis indiquez si vous souhaitez stocker un hachage de vos mots de passe AD dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-175">Click **Next**, and then indicate if you want to store a hash of your AD passwords in the cloud.</span></span>

![Assistant de configuration d’outil de synchronisation de WAAD](single-sign-on/_static/image17.png)

<span data-ttu-id="ece08-177">Le hachage de mot de passe que vous pouvez stocker dans le cloud est un hachage à sens unique ; les mots de passe réels ne sont jamais stockés dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ece08-177">The password hash that you can store in the cloud is a one-way hash; actual passwords are never stored in Azure AD.</span></span> <span data-ttu-id="ece08-178">Si vous décidez par rapport à stocker les hachages dans le cloud, vous devrez utiliser [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span><span class="sxs-lookup"><span data-stu-id="ece08-178">If you decide against storing hashes in the cloud, you'll have to use [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span></span> <span data-ttu-id="ece08-179">Il existe également [autres facteurs à prendre en compte quand choisir s’il faut utiliser ADFS](https://technet.microsoft.com/library/jj573653.aspx).</span><span class="sxs-lookup"><span data-stu-id="ece08-179">There are also [other factors to consider when choosing whether or not to use ADFS](https://technet.microsoft.com/library/jj573653.aspx).</span></span> <span data-ttu-id="ece08-180">L’option ADFS nécessite quelques étapes de configuration supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="ece08-180">The ADFS option requires a few additional configuration steps.</span></span>

<span data-ttu-id="ece08-181">Si vous choisissez de stocker les hachages dans le cloud, vous avez terminé, et l’outil démarre la synchronisation des annuaires lorsque vous cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="ece08-181">If you choose to store hashes in the cloud, you're done, and the tool starts synchronizing directories when you click **Next**.</span></span>

![Assistant de configuration d’outil de synchronisation de WAAD](single-sign-on/_static/image18.png)

<span data-ttu-id="ece08-183">Et en quelques minutes, vous avez terminé.</span><span class="sxs-lookup"><span data-stu-id="ece08-183">And in a few minutes you're done.</span></span>

![Assistant de configuration d’outil de synchronisation de WAAD](single-sign-on/_static/image19.png)

<span data-ttu-id="ece08-185">Vous devez uniquement exécuter cette procédure sur un contrôleur de domaine de l’organisation, sur Windows 2003 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="ece08-185">You only have to run this on one domain controller in the organization, on Windows 2003 or higher.</span></span> <span data-ttu-id="ece08-186">Et sans devoir redémarrer.</span><span class="sxs-lookup"><span data-stu-id="ece08-186">And no need to reboot.</span></span> <span data-ttu-id="ece08-187">Lorsque vous avez terminé, tous vos utilisateurs se trouvent dans le cloud et vous pouvez effectuer l’authentification unique à partir de toute application web ou mobile, à l’aide de SAML, OAuth ou WS-Fed.</span><span class="sxs-lookup"><span data-stu-id="ece08-187">When you're done, all of your users are in the cloud and you can do single sign-on from any web or mobile application, using SAML, OAuth, or WS-Fed.</span></span>

<span data-ttu-id="ece08-188">Parfois, nous demande souvent sur la sécurisation il s’agit de : Microsoft l’utiliser pour leurs propres données métier sensibles ?</span><span class="sxs-lookup"><span data-stu-id="ece08-188">Sometimes we get asked about how secure this is – does Microsoft use it for their own sensitive business data?</span></span> <span data-ttu-id="ece08-189">Et la réponse est Oui, que nous faisons.</span><span class="sxs-lookup"><span data-stu-id="ece08-189">And the answer is yes we do.</span></span> <span data-ttu-id="ece08-190">Par exemple, si vous consultez le site Microsoft SharePoint interne à [ https://microsoft.sharepoint.com/ ](https://microsoft.sharepoint.com/), vous êtes invité à se connecter.</span><span class="sxs-lookup"><span data-stu-id="ece08-190">For example, if you go to the internal Microsoft SharePoint site at [https://microsoft.sharepoint.com/](https://microsoft.sharepoint.com/), you get prompted to log in.</span></span>

![Connexion à Office 365](single-sign-on/_static/image20.png)

<span data-ttu-id="ece08-192">Microsoft a activé l’ADFS, donc lorsque vous entrez un ID Microsoft, vous êtes redirigé vers une page de connexion AD FS.</span><span class="sxs-lookup"><span data-stu-id="ece08-192">Microsoft has enabled ADFS, so when you enter a Microsoft ID, you get redirected to an ADFS log-in page.</span></span>

![L’authentification dans AD FS](single-sign-on/_static/image21.png)

<span data-ttu-id="ece08-194">Et une fois que vous entrez des informations d’identification stockées dans un compte Microsoft AD interne, vous avez accès à cette application interne.</span><span class="sxs-lookup"><span data-stu-id="ece08-194">And once you enter credentials stored in an internal Microsoft AD account, you have access to this internal application.</span></span>

![Site SharePoint de MS](single-sign-on/_static/image22.png)

<span data-ttu-id="ece08-196">Nous utilisons un serveur de connexion AD principalement parce que nous avions déjà ADFS configurer avant d’Azure AD est devenue disponible, mais le processus de connexion est en cours sur un annuaire Azure AD dans le cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-196">We're using an AD sign-in server mainly because we already had ADFS set up before Azure AD became available, but the log-in process is going through an Azure AD directory in the cloud.</span></span> <span data-ttu-id="ece08-197">Nous nos documents importants, contrôle de code source, des fichiers de gestion des performances, rapports de ventes, etc., dans le cloud et sont à l’aide de cette même solution exacte afin de les sécuriser.</span><span class="sxs-lookup"><span data-stu-id="ece08-197">We put our important documents, source control, performance management files, sales reports, and more, in the cloud and are using this exact same solution to secure them.</span></span>

## <a name="create-an-aspnet-app-that-uses-azure-ad-for-single-sign-on"></a><span data-ttu-id="ece08-198">Créer une application ASP.NET qui utilise Azure AD pour l’authentification unique</span><span class="sxs-lookup"><span data-stu-id="ece08-198">Create an ASP.NET app that uses Azure AD for single sign-on</span></span>

<span data-ttu-id="ece08-199">Visual Studio vous permet de vraiment facile de créer une application qui utilise Azure AD pour l’authentification unique, comme vous pouvez le voir à partir de quelques captures d’écran.</span><span class="sxs-lookup"><span data-stu-id="ece08-199">Visual Studio makes it really easy to create an app that uses Azure AD for single sign-on, as you can see from a few screen shots.</span></span>

<span data-ttu-id="ece08-200">Lorsque vous créez une nouvelle application ASP.NET, MVC ou Web Forms, la méthode d’authentification par défaut est ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="ece08-200">When you create a new ASP.NET application, either MVC or Web Forms, the default authentication method is ASP.NET Identity.</span></span> <span data-ttu-id="ece08-201">Pour remplacer cette Azure AD, vous cliquez sur un **modifier l’authentification** bouton.</span><span class="sxs-lookup"><span data-stu-id="ece08-201">To change that to Azure AD, you click a **Change Authentication** button.</span></span>

![Modifier l’authentification](single-sign-on/_static/image23.png)

<span data-ttu-id="ece08-203">Sélectionnez les comptes de société, entrez votre nom de domaine, puis sélectionnez l’authentification unique.</span><span class="sxs-lookup"><span data-stu-id="ece08-203">Select Organizational Accounts, enter your domain name, and then select Single Sign On.</span></span>

![Configurer la boîte de dialogue authentification](single-sign-on/_static/image24.png)

<span data-ttu-id="ece08-205">Vous pouvez également donner à la lecture de l’application ou en lecture/écriture pour les données d’annuaire.</span><span class="sxs-lookup"><span data-stu-id="ece08-205">You can also give the app read or read/write permission for directory data.</span></span> <span data-ttu-id="ece08-206">Si vous procédez ainsi, il peut utiliser le [Azure Graph API REST](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) pour rechercher le numéro de téléphone des utilisateurs, déterminer s’ils sont au bureau, lors de leur dernière ouverture de session, etc.</span><span class="sxs-lookup"><span data-stu-id="ece08-206">If you do that, it can use the [Azure Graph REST API](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) to look up users' phone number, find out if they're in the office, when they last logged on, etc.</span></span>

<span data-ttu-id="ece08-207">C’est qu’il vous suffit - Visual Studio vous demande les informations d’identification pour un administrateur pour votre locataire Azure AD, et il configure ensuite votre projet et votre client Azure AD pour la nouvelle application.</span><span class="sxs-lookup"><span data-stu-id="ece08-207">That's all you have to do - Visual Studio asks for the credentials for an administrator for your Azure AD tenant, and then it configures both your project and your Azure AD tenant for the new application.</span></span>

<span data-ttu-id="ece08-208">Lorsque vous exécutez le projet, vous verrez une page de connexion, et vous pouvez connecter avec les informations d’identification d’un utilisateur dans votre annuaire Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ece08-208">When you run the project, you'll see a sign-in page, and you can sign in with credentials of a user in your Azure AD directory.</span></span>

![Organisation compte connectez-vous](single-sign-on/_static/image25.png)

![Connecté](single-sign-on/_static/image26.png)

<span data-ttu-id="ece08-211">Lorsque vous déployez l’application sur Azure, il vous suffit est sélectionné un **activer l’authentification d’organisation** case à cocher et une fois encore Visual Studio s’occupe de toute la configuration pour vous.</span><span class="sxs-lookup"><span data-stu-id="ece08-211">When you deploy the app to Azure, all you have to do is select an **Enable Organizational Authentication** check box, and once again Visual Studio takes care of all the configuration for you.</span></span>

![Publier le site Web](single-sign-on/_static/image27.png)

<span data-ttu-id="ece08-213">Ces captures d’écran provient d’un didacticiel pas à pas complet qui montre comment générer une application qui utilise l’authentification Azure AD : [Développement d’applications ASP.NET avec Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="ece08-213">These screen shots come from a complete step-by-step tutorial that shows how to build an app that uses Azure AD authentication: [Developing ASP.NET Apps with Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span></span>

## <a name="summary"></a><span data-ttu-id="ece08-214">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="ece08-214">Summary</span></span>

<span data-ttu-id="ece08-215">Dans ce chapitre, vous avez vu qu’Azure Active Directory, Visual Studio et ASP.NET, rendent facile à configurer l’authentification unique dans les applications Internet pour les utilisateurs de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="ece08-215">In this chapter you saw that Azure Active Directory, Visual Studio, and ASP.NET, make it easy to set up single sign-on in Internet applications for your organization's users.</span></span> <span data-ttu-id="ece08-216">Vos utilisateurs à se connecter les applications Internet utilisant les informations d’identification qu’ils utilisent pour se connecter à l’aide d’Active Directory dans votre réseau interne.</span><span class="sxs-lookup"><span data-stu-id="ece08-216">Your users can sign on in Internet apps using the same credentials they use to sign on using Active Directory in your internal network.</span></span>

<span data-ttu-id="ece08-217">Le [chapitre suivant](data-storage-options.md) examine les options de stockage de données disponibles pour une application cloud.</span><span class="sxs-lookup"><span data-stu-id="ece08-217">The [next chapter](data-storage-options.md) looks at the data storage options available for a cloud app.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="ece08-218">Ressources</span><span class="sxs-lookup"><span data-stu-id="ece08-218">Resources</span></span>

<span data-ttu-id="ece08-219">Pour plus d'informations, reportez-vous aux ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="ece08-219">For more information, see the following resources:</span></span>

- <span data-ttu-id="ece08-220">[Documentation Azure Active Directory](https://docs.microsoft.com/azure/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="ece08-220">[Azure Active Directory Documentation](https://docs.microsoft.com/azure/active-directory/).</span></span> <span data-ttu-id="ece08-221">Page du portail de documentation d’Azure AD sur le site windowsazure.com.</span><span class="sxs-lookup"><span data-stu-id="ece08-221">Portal page for Azure AD documentation on the windowsazure.com site.</span></span> <span data-ttu-id="ece08-222">Pour les guides étape par étape, consultez la **développer** section.</span><span class="sxs-lookup"><span data-stu-id="ece08-222">For step by step tutorials, see the **Develop** section.</span></span>
- <span data-ttu-id="ece08-223">[Azure multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span><span class="sxs-lookup"><span data-stu-id="ece08-223">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span></span> <span data-ttu-id="ece08-224">Page du portail de la documentation sur l’authentification multifacteur dans Azure.</span><span class="sxs-lookup"><span data-stu-id="ece08-224">Portal page for documentation about multi-factor authentication in Azure.</span></span>
- <span data-ttu-id="ece08-225">[Options d’authentification de compte de société](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span><span class="sxs-lookup"><span data-stu-id="ece08-225">[Organizational account authentication options](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span></span> <span data-ttu-id="ece08-226">Explication des options d’authentification Azure AD dans la boîte de dialogue Nouveau projet Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="ece08-226">Explanation of the Azure AD authentication options in the Visual Studio 2013 new-project dialog.</span></span>
- <span data-ttu-id="ece08-227">[Modèle d’identité fédérée de Microsoft Patterns and Practices -](https://msdn.microsoft.com/library/dn589790.aspx).</span><span class="sxs-lookup"><span data-stu-id="ece08-227">[Microsoft Patterns and Practices - Federated Identity Pattern](https://msdn.microsoft.com/library/dn589790.aspx).</span></span>
- <span data-ttu-id="ece08-228">[Comment faire : Installer l’outil de Azure Directory Sync Active](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span><span class="sxs-lookup"><span data-stu-id="ece08-228">[HowTo: Install the Azure Active Directory Sync Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span></span>
- <span data-ttu-id="ece08-229">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span><span class="sxs-lookup"><span data-stu-id="ece08-229">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span></span> <span data-ttu-id="ece08-230">Liens vers la documentation sur AD FS 2.0.</span><span class="sxs-lookup"><span data-stu-id="ece08-230">Links to documentation about ADFS 2.0.</span></span>
- <span data-ttu-id="ece08-231">[Autorisation basée sur les ACL et les rôles dans une Application Windows Azure AD](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span><span class="sxs-lookup"><span data-stu-id="ece08-231">[Role-Based and ACL-Based Authorization in a Windows Azure AD Application](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span></span> <span data-ttu-id="ece08-232">Exemple d’application.</span><span class="sxs-lookup"><span data-stu-id="ece08-232">Sample application.</span></span>
- <span data-ttu-id="ece08-233">[Blog de l’API Graph Active Directory Azure](https://blogs.msdn.com/b/aadgraphteam/).</span><span class="sxs-lookup"><span data-stu-id="ece08-233">[Azure Active Directory Graph API blog](https://blogs.msdn.com/b/aadgraphteam/).</span></span>
- <span data-ttu-id="ece08-234">[Contrôle d’accès dans BYOD et intégration d’annuaire dans une Infrastructure d’identité hybride](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span><span class="sxs-lookup"><span data-stu-id="ece08-234">[Access Control in BYOD and Directory Integration in a Hybrid Identity Infrastructure](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span></span> <span data-ttu-id="ece08-235">Tech Ed 2014 session vidéo par Gayana Bagdasaryan.</span><span class="sxs-lookup"><span data-stu-id="ece08-235">Tech Ed 2014 session video by Gayana Bagdasaryan.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ece08-236">[Précédent](web-development-best-practices.md)
> [Suivant](data-storage-options.md)</span><span class="sxs-lookup"><span data-stu-id="ece08-236">[Previous](web-development-best-practices.md)
[Next](data-storage-options.md)</span></span>
