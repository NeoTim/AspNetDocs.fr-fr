---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
title: Authentification unique (création d’applications Cloud réalistes avec Azure) | Microsoft Docs
author: MikeWasson
description: La création d’applications Cloud réelles avec Azure e-book est basée sur une présentation développée par Scott Guthrie. Il décrit 13 modèles et pratiques qui peuvent le faire...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 7d82d5e9-0619-4f22-9e03-32a6d52940a5
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/single-sign-on
msc.type: authoredcontent
ms.openlocfilehash: 7e32f444dc38132296cffd45ac658f5abf51f314
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74585279"
---
# <a name="single-sign-on-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="3cadb-104">Authentification unique (création d’applications Cloud réalistes avec Azure)</span><span class="sxs-lookup"><span data-stu-id="3cadb-104">Single Sign-On (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="3cadb-105">par [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="3cadb-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="3cadb-106">[Télécharger le projet Fix it](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) ou [Télécharger le livre électronique](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="3cadb-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="3cadb-107">La **création d’applications Cloud réelles avec Azure** e-book est basée sur une présentation développée par Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="3cadb-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="3cadb-108">Il décrit 13 modèles et pratiques qui peuvent vous aider à réussir le développement d’applications Web pour le Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="3cadb-109">Pour plus d’informations sur l’e-Book, consultez [le premier chapitre](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="3cadb-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="3cadb-110">Il existe de nombreux problèmes de sécurité à prendre en compte lorsque vous développez une application Cloud, mais pour cette série, nous allons nous concentrer sur une seule : authentification unique.</span><span class="sxs-lookup"><span data-stu-id="3cadb-110">There are many security issues to think about when you're developing a cloud app, but for this series we'll focus on just one: single sign-on.</span></span> <span data-ttu-id="3cadb-111">Une question que les gens posent souvent : «je crée principalement des applications pour les employés de mon entreprise. Comment héberger ces applications dans le Cloud tout en leur permettant d’utiliser le même modèle de sécurité que mes employés savent et utilisent dans l’environnement local lorsqu’ils exécutent des applications qui sont hébergées à l’intérieur du pare-feu ?»</span><span class="sxs-lookup"><span data-stu-id="3cadb-111">A question people often ask is this: "I'm primarily building apps for the employees of my company; how do I host these apps in the cloud and still enable them to use the same security model that my employees know and use in the on-premises environment when they're running apps that are hosted inside the firewall?"</span></span> <span data-ttu-id="3cadb-112">L’un des moyens d’activer ce scénario est appelé Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="3cadb-112">One of the ways we enable this scenario is called Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="3cadb-113">Azure AD vous permet de mettre à disposition des applications métier (LOB) d’entreprise sur Internet et vous permet également de rendre ces applications disponibles pour les partenaires commerciaux.</span><span class="sxs-lookup"><span data-stu-id="3cadb-113">Azure AD enables you to make enterprise line-of-business (LOB) apps available over the Internet, and it enables you to make these apps available to business partners as well.</span></span>

## <a name="introduction-to-azure-ad"></a><span data-ttu-id="3cadb-114">Présentation de Azure AD</span><span class="sxs-lookup"><span data-stu-id="3cadb-114">Introduction to Azure AD</span></span>

<span data-ttu-id="3cadb-115">[Azure ad](https://docs.microsoft.com/azure/active-directory/) fournit [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) dans le Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-115">[Azure AD](https://docs.microsoft.com/azure/active-directory/) provides [Active Directory](https://msdn.microsoft.com/library/windows/desktop/aa746492.aspx) in the cloud.</span></span> <span data-ttu-id="3cadb-116">Les fonctionnalités clés sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cadb-116">Key features include the following:</span></span>

- <span data-ttu-id="3cadb-117">Il s’intègre aux Active Directory locaux.</span><span class="sxs-lookup"><span data-stu-id="3cadb-117">It integrates with on-premises Active Directory.</span></span>
- <span data-ttu-id="3cadb-118">Il permet l’authentification unique avec vos applications.</span><span class="sxs-lookup"><span data-stu-id="3cadb-118">It enables single sign-on with your apps.</span></span>
- <span data-ttu-id="3cadb-119">Il prend en charge des normes ouvertes telles que [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation)et [OAuth 2,0](http://oauth.net/2/).</span><span class="sxs-lookup"><span data-stu-id="3cadb-119">It supports open standards such as [SAML](http://en.wikipedia.org/wiki/SAML_2.0), [WS-Fed](http://en.wikipedia.org/wiki/WS-Federation), and [OAuth 2.0](http://oauth.net/2/).</span></span>
- <span data-ttu-id="3cadb-120">Il prend en charge l' [API REST](https://msdn.microsoft.com/library/hh974476.aspx)d’Enterprise Graph.</span><span class="sxs-lookup"><span data-stu-id="3cadb-120">It supports Enterprise [Graph REST API](https://msdn.microsoft.com/library/hh974476.aspx).</span></span>

<span data-ttu-id="3cadb-121">Supposons que vous disposez d’un environnement Windows Server Active Directory local que vous utilisez pour permettre aux employés de se connecter aux applications intranet :</span><span class="sxs-lookup"><span data-stu-id="3cadb-121">Suppose you have an on-premises Windows Server Active Directory environment that you use to enable employees to sign on to Intranet apps:</span></span>

![](single-sign-on/_static/image1.png)

<span data-ttu-id="3cadb-122">Ce que Azure AD vous permet de créer un répertoire dans le Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-122">What Azure AD enables you to do is create a directory in the cloud.</span></span> <span data-ttu-id="3cadb-123">Il s’agit d’une fonctionnalité gratuite et facile à configurer.</span><span class="sxs-lookup"><span data-stu-id="3cadb-123">It's a free feature and easy to set up.</span></span>

<span data-ttu-id="3cadb-124">Il peut être entièrement indépendant de votre Active Directory local ; vous pouvez y placer les personnes de votre choix et les authentifier dans des applications Internet.</span><span class="sxs-lookup"><span data-stu-id="3cadb-124">It can be entirely independent from your on-premises Active Directory; you can put anyone you want in it and authenticate them in Internet apps.</span></span>

![Windows Azure Active Directory](single-sign-on/_static/image2.png)

<span data-ttu-id="3cadb-126">Vous pouvez ou l’intégrer à votre AD local.</span><span class="sxs-lookup"><span data-stu-id="3cadb-126">Or you can integrate it with your on-premises AD.</span></span>

![Intégration d’AD et de WAAD](single-sign-on/_static/image3.png)

<span data-ttu-id="3cadb-128">Désormais, tous les employés qui peuvent s’authentifier localement peuvent également s’authentifier sur Internet, sans avoir à ouvrir un pare-feu ou à déployer de nouveaux serveurs dans votre centre de données.</span><span class="sxs-lookup"><span data-stu-id="3cadb-128">Now all the employees who can authenticate on-premises can also authenticate over the Internet – without you having to open up a firewall or deploy any new servers in your data center.</span></span> <span data-ttu-id="3cadb-129">Vous pouvez continuer à tirer parti de tous les environnements de Active Directory existants que vous connaissez et utilisez aujourd’hui pour offrir une fonctionnalité d’authentification unique à vos applications internes.</span><span class="sxs-lookup"><span data-stu-id="3cadb-129">You can continue to leverage all the existing Active Directory environment that you know and use today to give your internal apps single-sign on capability.</span></span>

<span data-ttu-id="3cadb-130">Une fois que vous avez établi cette connexion entre AD et Azure AD, vous pouvez également autoriser vos applications Web et vos appareils mobiles à authentifier vos employés dans le Cloud, et vous pouvez activer des applications tierces, telles qu’Office 365, SalesForce.com ou Google Apps, pour accepter votre informations d’identification des employés.</span><span class="sxs-lookup"><span data-stu-id="3cadb-130">Once you've made this connection between AD and Azure AD, you can also enable your web apps and your mobile devices to authenticate your employees in the cloud, and you can enable third-party apps, such as Office 365, SalesForce.com, or Google apps, to accept your employees' credentials.</span></span> <span data-ttu-id="3cadb-131">Si vous utilisez Office 365, vous êtes déjà configuré avec Azure AD, car Office 365 utilise Azure AD pour l’authentification et l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="3cadb-131">If you're using Office 365, you're already set up with Azure AD because Office 365 uses Azure AD for authentication and authorization.</span></span>

![applications tierces](single-sign-on/_static/image4.png)

<span data-ttu-id="3cadb-133">L’avantage de cette approche est que chaque fois que votre organisation ajoute ou supprime un utilisateur, ou qu’un utilisateur modifie un mot de passe, vous utilisez le même processus que celui que vous utilisez aujourd’hui dans votre environnement local.</span><span class="sxs-lookup"><span data-stu-id="3cadb-133">The beauty of this approach is that any time your organization adds or deletes a user, or a user changes a password, you use the same process that you use today in your on-premises environment.</span></span> <span data-ttu-id="3cadb-134">Toutes vos modifications AD locales sont propagées automatiquement vers l’environnement Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-134">All of your on-premises AD changes are automatically propagated to the cloud environment.</span></span>

<span data-ttu-id="3cadb-135">Si votre entreprise utilise ou passe à Office 365, la bonne nouvelle est que vous avez Azure AD configurer automatiquement, car Office 365 utilise Azure AD pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="3cadb-135">If your company is using or moving to Office 365, the good news is that you'll have Azure AD set up automatically because Office 365 uses Azure AD for authentication.</span></span> <span data-ttu-id="3cadb-136">Vous pouvez facilement utiliser dans vos propres applications la même authentification que celle utilisée par Office 365.</span><span class="sxs-lookup"><span data-stu-id="3cadb-136">So you can easily use in your own apps the same authentication that Office 365 uses.</span></span>

## <a name="set-up-an-azure-ad-tenant"></a><span data-ttu-id="3cadb-137">Configurer un locataire Azure AD</span><span class="sxs-lookup"><span data-stu-id="3cadb-137">Set up an Azure AD tenant</span></span>

<span data-ttu-id="3cadb-138">un répertoire Azure AD est appelé un [locataire](https://technet.microsoft.com/library/jj573650.aspx)Azure ad et la configuration d’un locataire est relativement simple.</span><span class="sxs-lookup"><span data-stu-id="3cadb-138">an Azure AD directory is called an Azure AD [tenant](https://technet.microsoft.com/library/jj573650.aspx), and setting up a tenant is pretty easy.</span></span> <span data-ttu-id="3cadb-139">Nous allons vous montrer comment cela se fait dans le Portail de gestion Azure afin d’illustrer les concepts, mais bien évidemment comme les autres fonctions de portail, vous pouvez également le faire à l’aide d’un script ou d’une API de gestion.</span><span class="sxs-lookup"><span data-stu-id="3cadb-139">We'll show you how it's done in the Azure Management Portal in order to illustrate the concepts, but of course like the other portal functions you can also do it by using a script or management API.</span></span>

<span data-ttu-id="3cadb-140">Dans le portail de gestion, cliquez sur l’onglet Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3cadb-140">In the management portal click the Active Directory tab.</span></span>

![WAAD dans le portail](single-sign-on/_static/image5.png)

<span data-ttu-id="3cadb-142">Vous disposez automatiquement d’un locataire Azure AD pour votre compte Azure, et vous pouvez cliquer sur le bouton **Ajouter** au bas de la page pour créer des répertoires supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="3cadb-142">You automatically have one Azure AD tenant for your Azure account, and you can click the **Add** button at the bottom of the page to create additional directories.</span></span> <span data-ttu-id="3cadb-143">Vous pouvez en avoir besoin pour un environnement de test et un autre pour la production, par exemple.</span><span class="sxs-lookup"><span data-stu-id="3cadb-143">You might want one for a test environment and one for production, for example.</span></span> <span data-ttu-id="3cadb-144">Réfléchissez bien à ce que vous nommez un nouveau répertoire.</span><span class="sxs-lookup"><span data-stu-id="3cadb-144">Think carefully about what you name a new directory.</span></span> <span data-ttu-id="3cadb-145">Si vous utilisez votre nom pour le répertoire et que vous utilisez à nouveau votre nom pour l’un des utilisateurs, cela peut prêter à confusion.</span><span class="sxs-lookup"><span data-stu-id="3cadb-145">If you use your name for the directory and then you use your name again for one of the users, that can be confusing.</span></span>

![jouter un annuaire](single-sign-on/_static/image6.png)

<span data-ttu-id="3cadb-147">Le portail offre une prise en charge complète de la création, de la suppression et de la gestion des utilisateurs au sein de cet environnement.</span><span class="sxs-lookup"><span data-stu-id="3cadb-147">The portal has full support for creating, deleting, and managing users within this environment.</span></span> <span data-ttu-id="3cadb-148">Par exemple, pour ajouter un utilisateur, accédez à l’onglet **utilisateurs** , puis cliquez sur le bouton **Ajouter un utilisateur** .</span><span class="sxs-lookup"><span data-stu-id="3cadb-148">For example, to add a user go to the **Users** tab and click the **Add User** button.</span></span>

![Bouton Ajouter un utilisateur](single-sign-on/_static/image7.png)

![Boîte de dialogue Ajouter un utilisateur](single-sign-on/_static/image8.png)

<span data-ttu-id="3cadb-151">Vous pouvez créer un utilisateur qui existe uniquement dans ce répertoire, ou vous pouvez inscrire un compte Microsoft en tant qu’utilisateur dans ce répertoire, ou l’inscrire ou un utilisateur à partir d’un autre répertoire Azure AD en tant qu’utilisateur dans cet annuaire.</span><span class="sxs-lookup"><span data-stu-id="3cadb-151">You can create a new user who exists only in this directory, or you can register a Microsoft Account as a user in this directory, or register or a user from another Azure AD directory as a user in this directory.</span></span> <span data-ttu-id="3cadb-152">(Dans un répertoire réel, le domaine par défaut serait ContosoTest.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="3cadb-152">(In a real directory, the default domain would be ContosoTest.onmicrosoft.com.</span></span> <span data-ttu-id="3cadb-153">Vous pouvez également utiliser un domaine de votre choix, tel que contoso.com.)</span><span class="sxs-lookup"><span data-stu-id="3cadb-153">You can also use a domain of your own choosing, like contoso.com.)</span></span>

![Types d’utilisateurs](single-sign-on/_static/image9.png)

![Boîte de dialogue Ajouter un utilisateur](single-sign-on/_static/image10.png)

<span data-ttu-id="3cadb-156">Vous pouvez affecter l’utilisateur à un rôle.</span><span class="sxs-lookup"><span data-stu-id="3cadb-156">You can assign the user to a role.</span></span>

![Profil utilisateur](single-sign-on/_static/image11.png)

<span data-ttu-id="3cadb-158">Et le compte est créé avec un mot de passe temporaire.</span><span class="sxs-lookup"><span data-stu-id="3cadb-158">And the account is created with a temporary password.</span></span>

![Mot de passe temporaire](single-sign-on/_static/image12.png)

<span data-ttu-id="3cadb-160">Les utilisateurs que vous créez de cette manière peuvent immédiatement se connecter à vos applications Web à l’aide de cet annuaire de Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-160">The users you create this way can immediately log in to your web apps using this cloud directory.</span></span>

<span data-ttu-id="3cadb-161">Cependant, la solution idéale pour l’authentification unique de l’entreprise est l’onglet **intégration d’annuaire** :</span><span class="sxs-lookup"><span data-stu-id="3cadb-161">What's great for enterprise single sign-on, though, is the **Directory Integration** tab:</span></span>

![Onglet intégration de répertoire](single-sign-on/_static/image13.png)

<span data-ttu-id="3cadb-163">Si vous activez l’intégration d’annuaire et [Téléchargez un outil](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), vous pouvez synchroniser ce répertoire Cloud avec votre Active Directory local existant que vous utilisez déjà dans votre organisation.</span><span class="sxs-lookup"><span data-stu-id="3cadb-163">If you enable directory integration, and [download a tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx), you can sync this cloud directory with your existing on-premises Active Directory that you're already using inside your organization.</span></span> <span data-ttu-id="3cadb-164">Ensuite, tous les utilisateurs stockés dans votre annuaire s’afficheront dans cet annuaire de Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-164">Then all of the users stored in your directory will show up in this cloud directory.</span></span> <span data-ttu-id="3cadb-165">Vos applications Cloud peuvent désormais authentifier tous vos employés à l’aide de leurs informations d’identification existantes Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3cadb-165">Your cloud apps can now authenticate all of your employees using their existing Active Directory credentials.</span></span> <span data-ttu-id="3cadb-166">Tout ceci est gratuit, à la fois l’outil de synchronisation et le Azure AD lui-même.</span><span class="sxs-lookup"><span data-stu-id="3cadb-166">And all this is free – both the sync tool and Azure AD itself.</span></span>

<span data-ttu-id="3cadb-167">L’outil est un assistant facile à utiliser, comme vous pouvez le voir à partir de ces captures d’écran.</span><span class="sxs-lookup"><span data-stu-id="3cadb-167">The tool is a wizard that is easy to use, as you can see from these screen shots.</span></span> <span data-ttu-id="3cadb-168">Il ne s’agit pas d’instructions complètes, un simple exemple vous montre le processus de base.</span><span class="sxs-lookup"><span data-stu-id="3cadb-168">These are not complete instructions, just an example showing you the basic process.</span></span> <span data-ttu-id="3cadb-169">Pour plus d’informations sur les procédures plus détaillées, consultez les liens dans la section [ressources](#resources) à la fin du chapitre.</span><span class="sxs-lookup"><span data-stu-id="3cadb-169">For more detailed how-to-do-it information, see the links in the [Resources](#resources) section at the end of the chapter.</span></span>

![Assistant Configuration de l’outil de synchronisation WAAD](single-sign-on/_static/image14.png)

<span data-ttu-id="3cadb-171">Cliquez sur **suivant**, puis entrez vos informations d’identification de Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3cadb-171">Click **Next**, and then enter your Azure Active Directory credentials.</span></span>

![Assistant Configuration de l’outil de synchronisation WAAD](single-sign-on/_static/image15.png)

<span data-ttu-id="3cadb-173">Cliquez sur **suivant**, puis entrez vos informations d’identification Active Directory locales.</span><span class="sxs-lookup"><span data-stu-id="3cadb-173">Click **Next**, and then enter your on-premises AD credentials.</span></span>

![Assistant Configuration de l’outil de synchronisation WAAD](single-sign-on/_static/image16.png)

<span data-ttu-id="3cadb-175">Cliquez sur **suivant**, puis indiquez si vous souhaitez stocker un hachage de vos mots de passe ad dans le Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-175">Click **Next**, and then indicate if you want to store a hash of your AD passwords in the cloud.</span></span>

![Assistant Configuration de l’outil de synchronisation WAAD](single-sign-on/_static/image17.png)

<span data-ttu-id="3cadb-177">Le hachage de mot de passe que vous pouvez stocker dans le Cloud est un hachage unidirectionnel. les mots de passe réels ne sont jamais stockés dans Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3cadb-177">The password hash that you can store in the cloud is a one-way hash; actual passwords are never stored in Azure AD.</span></span> <span data-ttu-id="3cadb-178">Si vous décidez de stocker les hachages dans le Cloud, vous devez utiliser [services ADFS](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span><span class="sxs-lookup"><span data-stu-id="3cadb-178">If you decide against storing hashes in the cloud, you'll have to use [Active Directory Federation Services](https://technet.microsoft.com/library/hh831502.aspx) (ADFS).</span></span> <span data-ttu-id="3cadb-179">Il existe également [d’autres facteurs à prendre en compte lorsque vous choisissez d’utiliser ADFS ou non](https://technet.microsoft.com/library/jj573653.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cadb-179">There are also [other factors to consider when choosing whether or not to use ADFS](https://technet.microsoft.com/library/jj573653.aspx).</span></span> <span data-ttu-id="3cadb-180">L’option ADFS nécessite quelques étapes de configuration supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="3cadb-180">The ADFS option requires a few additional configuration steps.</span></span>

<span data-ttu-id="3cadb-181">Si vous choisissez de stocker les hachages dans le Cloud, vous avez terminé et l’outil démarre la synchronisation des répertoires lorsque vous cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="3cadb-181">If you choose to store hashes in the cloud, you're done, and the tool starts synchronizing directories when you click **Next**.</span></span>

![Assistant Configuration de l’outil de synchronisation WAAD](single-sign-on/_static/image18.png)

<span data-ttu-id="3cadb-183">Et en quelques minutes, vous avez terminé.</span><span class="sxs-lookup"><span data-stu-id="3cadb-183">And in a few minutes you're done.</span></span>

![Assistant Configuration de l’outil de synchronisation WAAD](single-sign-on/_static/image19.png)

<span data-ttu-id="3cadb-185">Vous devez uniquement exécuter ce sur un contrôleur de domaine de l’organisation, sur Windows 2003 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="3cadb-185">You only have to run this on one domain controller in the organization, on Windows 2003 or higher.</span></span> <span data-ttu-id="3cadb-186">Et n’ont pas besoin de redémarrer.</span><span class="sxs-lookup"><span data-stu-id="3cadb-186">And no need to reboot.</span></span> <span data-ttu-id="3cadb-187">Lorsque vous avez terminé, tous vos utilisateurs se trouvent dans le Cloud et vous pouvez effectuer une authentification unique à partir de n’importe quelle application Web ou mobile, à l’aide de SAML, OAuth ou WS-FED.</span><span class="sxs-lookup"><span data-stu-id="3cadb-187">When you're done, all of your users are in the cloud and you can do single sign-on from any web or mobile application, using SAML, OAuth, or WS-Fed.</span></span>

<span data-ttu-id="3cadb-188">Parfois, nous nous sommes demandés à quel degré de sécurité est-ce que Microsoft utilise-t-il pour ses données d’entreprise sensibles ?</span><span class="sxs-lookup"><span data-stu-id="3cadb-188">Sometimes we get asked about how secure this is – does Microsoft use it for their own sensitive business data?</span></span> <span data-ttu-id="3cadb-189">Et la réponse est oui.</span><span class="sxs-lookup"><span data-stu-id="3cadb-189">And the answer is yes we do.</span></span> <span data-ttu-id="3cadb-190">Par exemple, si vous accédez au site Microsoft SharePoint interne à l’adresse [https://microsoft.sharepoint.com/](https://microsoft.sharepoint.com/), vous êtes invité à vous connecter.</span><span class="sxs-lookup"><span data-stu-id="3cadb-190">For example, if you go to the internal Microsoft SharePoint site at [https://microsoft.sharepoint.com/](https://microsoft.sharepoint.com/), you get prompted to log in.</span></span>

![Connexion à Office 365](single-sign-on/_static/image20.png)

<span data-ttu-id="3cadb-192">Microsoft a activé ADFS. par conséquent, lorsque vous entrez un ID Microsoft, vous êtes redirigé vers une page de connexion ADFS.</span><span class="sxs-lookup"><span data-stu-id="3cadb-192">Microsoft has enabled ADFS, so when you enter a Microsoft ID, you get redirected to an ADFS log-in page.</span></span>

![Connexion ADFS](single-sign-on/_static/image21.png)

<span data-ttu-id="3cadb-194">Et une fois que vous avez entré les informations d’identification stockées dans un compte Microsoft AD interne, vous avez accès à cette application interne.</span><span class="sxs-lookup"><span data-stu-id="3cadb-194">And once you enter credentials stored in an internal Microsoft AD account, you have access to this internal application.</span></span>

![Site Microsoft SharePoint](single-sign-on/_static/image22.png)

<span data-ttu-id="3cadb-196">Nous utilisons un serveur de connexion AD principalement parce que nous avions déjà configuré ADFS avant que Azure AD soit disponible, mais le processus de connexion passe par un répertoire Azure AD dans le Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-196">We're using an AD sign-in server mainly because we already had ADFS set up before Azure AD became available, but the log-in process is going through an Azure AD directory in the cloud.</span></span> <span data-ttu-id="3cadb-197">Nous avons mis en place nos documents importants, le contrôle de code source, les fichiers de gestion des performances, les rapports de ventes, et bien plus encore, dans le Cloud et utilisent exactement la même solution pour les sécuriser.</span><span class="sxs-lookup"><span data-stu-id="3cadb-197">We put our important documents, source control, performance management files, sales reports, and more, in the cloud and are using this exact same solution to secure them.</span></span>

## <a name="create-an-aspnet-app-that-uses-azure-ad-for-single-sign-on"></a><span data-ttu-id="3cadb-198">Créer une application ASP.NET qui utilise Azure AD pour l’authentification unique</span><span class="sxs-lookup"><span data-stu-id="3cadb-198">Create an ASP.NET app that uses Azure AD for single sign-on</span></span>

<span data-ttu-id="3cadb-199">Visual Studio simplifie grandement la création d’une application qui utilise Azure AD pour l’authentification unique, comme vous pouvez le constater dans quelques captures d’écran.</span><span class="sxs-lookup"><span data-stu-id="3cadb-199">Visual Studio makes it really easy to create an app that uses Azure AD for single sign-on, as you can see from a few screen shots.</span></span>

<span data-ttu-id="3cadb-200">Lorsque vous créez une nouvelle application ASP.NET, MVC ou Web Forms, la méthode d’authentification par défaut est ASP.NET Identity.</span><span class="sxs-lookup"><span data-stu-id="3cadb-200">When you create a new ASP.NET application, either MVC or Web Forms, the default authentication method is ASP.NET Identity.</span></span> <span data-ttu-id="3cadb-201">Pour modifier ce Azure AD, cliquez sur le bouton **modifier l’authentification** .</span><span class="sxs-lookup"><span data-stu-id="3cadb-201">To change that to Azure AD, you click a **Change Authentication** button.</span></span>

![Modifier l’authentification](single-sign-on/_static/image23.png)

<span data-ttu-id="3cadb-203">Sélectionnez comptes professionnels, entrez votre nom de domaine, puis sélectionnez authentification unique.</span><span class="sxs-lookup"><span data-stu-id="3cadb-203">Select Organizational Accounts, enter your domain name, and then select Single Sign On.</span></span>

![Boîte de dialogue Configurer l’authentification](single-sign-on/_static/image24.png)

<span data-ttu-id="3cadb-205">Vous pouvez également accorder à l’application l’autorisation de lecture ou de lecture/écriture pour les données d’annuaire.</span><span class="sxs-lookup"><span data-stu-id="3cadb-205">You can also give the app read or read/write permission for directory data.</span></span> <span data-ttu-id="3cadb-206">Dans ce cas, il peut utiliser l' [API REST de Graph Azure](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) pour rechercher le numéro de téléphone des utilisateurs, savoir s’ils sont au bureau, à la dernière connexion, etc.</span><span class="sxs-lookup"><span data-stu-id="3cadb-206">If you do that, it can use the [Azure Graph REST API](https://msdn.microsoft.com/library/windowsazure/hh974476.aspx) to look up users' phone number, find out if they're in the office, when they last logged on, etc.</span></span>

<span data-ttu-id="3cadb-207">C’est tout ce que vous devez faire-Visual Studio vous demande les informations d’identification d’un administrateur pour votre Azure AD locataire, puis il configure à la fois votre projet et votre client Azure AD pour la nouvelle application.</span><span class="sxs-lookup"><span data-stu-id="3cadb-207">That's all you have to do - Visual Studio asks for the credentials for an administrator for your Azure AD tenant, and then it configures both your project and your Azure AD tenant for the new application.</span></span>

<span data-ttu-id="3cadb-208">Lorsque vous exécutez le projet, une page de connexion s’affiche et vous pouvez vous connecter avec les informations d’identification d’un utilisateur dans votre répertoire de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3cadb-208">When you run the project, you'll see a sign-in page, and you can sign in with credentials of a user in your Azure AD directory.</span></span>

![Connexion au compte d’organisation](single-sign-on/_static/image25.png)

![Connecté](single-sign-on/_static/image26.png)

<span data-ttu-id="3cadb-211">Lorsque vous déployez l’application sur Azure, il vous suffit de cocher la case **activer l’authentification** de l’organisation et, une fois encore, Visual Studio prend en charge l’ensemble de la configuration.</span><span class="sxs-lookup"><span data-stu-id="3cadb-211">When you deploy the app to Azure, all you have to do is select an **Enable Organizational Authentication** check box, and once again Visual Studio takes care of all the configuration for you.</span></span>

![Publier le site web](single-sign-on/_static/image27.png)

<span data-ttu-id="3cadb-213">Ces captures d’écran proviennent d’un didacticiel pas à pas complet qui montre comment créer une application qui utilise l’authentification Azure AD : [développement d’applications ASP.net avec Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span><span class="sxs-lookup"><span data-stu-id="3cadb-213">These screen shots come from a complete step-by-step tutorial that shows how to build an app that uses Azure AD authentication: [Developing ASP.NET Apps with Azure Active Directory](../../../../identity/overview/getting-started/developing-aspnet-apps-with-windows-azure-active-directory.md).</span></span>

## <a name="summary"></a><span data-ttu-id="3cadb-214">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="3cadb-214">Summary</span></span>

<span data-ttu-id="3cadb-215">Dans ce chapitre, vous avez vu que Azure Active Directory, Visual Studio et ASP.NET, facilitent la configuration de l’authentification unique dans les applications Internet pour les utilisateurs de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="3cadb-215">In this chapter you saw that Azure Active Directory, Visual Studio, and ASP.NET, make it easy to set up single sign-on in Internet applications for your organization's users.</span></span> <span data-ttu-id="3cadb-216">Vos utilisateurs peuvent se connecter à des applications Internet en utilisant les mêmes informations d’identification que celles qu’ils utilisent pour se connecter à l’aide d’Active Directory de votre réseau interne.</span><span class="sxs-lookup"><span data-stu-id="3cadb-216">Your users can sign on in Internet apps using the same credentials they use to sign on using Active Directory in your internal network.</span></span>

<span data-ttu-id="3cadb-217">Le [chapitre suivant](data-storage-options.md) présente les options de stockage des données disponibles pour une application Cloud.</span><span class="sxs-lookup"><span data-stu-id="3cadb-217">The [next chapter](data-storage-options.md) looks at the data storage options available for a cloud app.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="3cadb-218">Ressources</span><span class="sxs-lookup"><span data-stu-id="3cadb-218">Resources</span></span>

<span data-ttu-id="3cadb-219">Pour plus d'informations, voir les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cadb-219">For more information, see the following resources:</span></span>

- <span data-ttu-id="3cadb-220">[Documentation Azure Active Directory](https://docs.microsoft.com/azure/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="3cadb-220">[Azure Active Directory Documentation](https://docs.microsoft.com/azure/active-directory/).</span></span> <span data-ttu-id="3cadb-221">Page du portail pour Azure AD de la documentation sur le site windowsazure.com.</span><span class="sxs-lookup"><span data-stu-id="3cadb-221">Portal page for Azure AD documentation on the windowsazure.com site.</span></span> <span data-ttu-id="3cadb-222">Pour obtenir des didacticiels pas à pas, consultez la section **développer** .</span><span class="sxs-lookup"><span data-stu-id="3cadb-222">For step by step tutorials, see the **Develop** section.</span></span>
- <span data-ttu-id="3cadb-223">[Multi-Factor Authentication Azure](https://docs.microsoft.com/azure/multi-factor-authentication/).</span><span class="sxs-lookup"><span data-stu-id="3cadb-223">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/).</span></span> <span data-ttu-id="3cadb-224">Page du portail pour obtenir de la documentation sur l’authentification multifacteur dans Azure.</span><span class="sxs-lookup"><span data-stu-id="3cadb-224">Portal page for documentation about multi-factor authentication in Azure.</span></span>
- <span data-ttu-id="3cadb-225">[Options d’authentification du compte professionnel](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span><span class="sxs-lookup"><span data-stu-id="3cadb-225">[Organizational account authentication options](../../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauthoptions).</span></span> <span data-ttu-id="3cadb-226">Explication des options d’authentification Azure AD dans la boîte de dialogue Visual Studio 2013 New-Project.</span><span class="sxs-lookup"><span data-stu-id="3cadb-226">Explanation of the Azure AD authentication options in the Visual Studio 2013 new-project dialog.</span></span>
- <span data-ttu-id="3cadb-227">[Modèles et pratiques Microsoft-modèle d’identité fédérée](https://msdn.microsoft.com/library/dn589790.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cadb-227">[Microsoft Patterns and Practices - Federated Identity Pattern](https://msdn.microsoft.com/library/dn589790.aspx).</span></span>
- <span data-ttu-id="3cadb-228">[Procédure : installer l’outil de synchronisation Azure Active Directory](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cadb-228">[HowTo: Install the Azure Active Directory Sync Tool](https://social.technet.microsoft.com/wiki/contents/articles/19098.howto-install-the-windows-azure-active-directory-sync-tool-now-with-pictures.aspx).</span></span>
- <span data-ttu-id="3cadb-229">[Carte de contenu Services ADFS 2,0](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cadb-229">[Active Directory Federation Services 2.0 Content Map](https://social.technet.microsoft.com/wiki/contents/articles/2735.ad-fs-2-0-content-map.aspx).</span></span> <span data-ttu-id="3cadb-230">Liens vers la documentation sur ADFS 2,0.</span><span class="sxs-lookup"><span data-stu-id="3cadb-230">Links to documentation about ADFS 2.0.</span></span>
- <span data-ttu-id="3cadb-231">[Autorisation basée sur les rôles et les listes de contrôle d’accès dans une application Windows Azure ad](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span><span class="sxs-lookup"><span data-stu-id="3cadb-231">[Role-Based and ACL-Based Authorization in a Windows Azure AD Application](https://code.msdn.microsoft.com/Role-Based-and-ACL-Based-86ad71a1).</span></span> <span data-ttu-id="3cadb-232">Exemple d’application.</span><span class="sxs-lookup"><span data-stu-id="3cadb-232">Sample application.</span></span>
- <span data-ttu-id="3cadb-233">[Azure Active Directory blog API Graph](https://blogs.msdn.com/b/aadgraphteam/).</span><span class="sxs-lookup"><span data-stu-id="3cadb-233">[Azure Active Directory Graph API blog](https://blogs.msdn.com/b/aadgraphteam/).</span></span>
- <span data-ttu-id="3cadb-234">[Access Control dans BYOD et l’intégration d’annuaire dans une infrastructure d’identité hybride](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span><span class="sxs-lookup"><span data-stu-id="3cadb-234">[Access Control in BYOD and Directory Integration in a Hybrid Identity Infrastructure](https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/PCIT-B213#fbid=).</span></span> <span data-ttu-id="3cadb-235">Vidéo de la session Tech Ed 2014 de Gayana BAGDASARYAN.</span><span class="sxs-lookup"><span data-stu-id="3cadb-235">Tech Ed 2014 session video by Gayana Bagdasaryan.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3cadb-236">[Précédent](web-development-best-practices.md)
> [Suivant](data-storage-options.md)</span><span class="sxs-lookup"><span data-stu-id="3cadb-236">[Previous](web-development-best-practices.md)
[Next](data-storage-options.md)</span></span>
