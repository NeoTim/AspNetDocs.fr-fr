---
uid: whitepapers/aspnet4/overview
title: Vue d’ensemble du développement Web ASP.NET 4 et Visual Studio 2010 | Microsoft Docs
author: rick-anderson
description: Ce document fournit une vue d’ensemble des nouvelles fonctionnalités de ASP.NET incluses dans the.NET Framework 4 et dans Visual Studio 2010.
ms.author: riande
ms.date: 02/10/2010
ms.assetid: d7729af4-1eda-4ff2-8b61-dbbe4fc11d10
msc.legacyurl: /whitepapers/aspnet4
msc.type: content
ms.openlocfilehash: ecde48f6bd88ee5f569bfeb8b70c26a50bc869c2
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74576871"
---
# <a name="aspnet-4-and-visual-studio-2010-web-development-overview"></a><span data-ttu-id="667fc-103">Vue d’ensemble du développement web ASP.NET 4 et Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="667fc-103">ASP.NET 4 and Visual Studio 2010 Web Development Overview</span></span>

> <span data-ttu-id="667fc-104">Ce document fournit une vue d’ensemble des nouvelles fonctionnalités de ASP.NET incluses dans the.NET Framework 4 et dans Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="667fc-104">This document provides an overview of many of the new features for ASP.NET that are included in the.NET Framework 4 and in Visual Studio 2010.</span></span>
> 
> [<span data-ttu-id="667fc-105">Téléchargez ce livre blanc</span><span class="sxs-lookup"><span data-stu-id="667fc-105">Download This Whitepaper</span></span>](https://download.microsoft.com/download/7/1/A/71A105A9-89D6-4201-9CC5-AD6A3B7E2F22/ASP_NET_4_and_Visual_Studio_2010_Web_Development_Overview.pdf)

<span data-ttu-id="667fc-106">**Sommaire**</span><span class="sxs-lookup"><span data-stu-id="667fc-106">**Contents**</span></span>

<span data-ttu-id="667fc-107">**[Services principaux](#0.2__Toc253429238 "_Toc253429238")**</span><span class="sxs-lookup"><span data-stu-id="667fc-107">**[Core Services](#0.2__Toc253429238 "_Toc253429238")**</span></span>  
[<span data-ttu-id="667fc-108">Refactorisation de fichier Web. config</span><span class="sxs-lookup"><span data-stu-id="667fc-108">Web.config File Refactoring</span></span>](#0.2__Toc253429239 "_Toc253429239")  
[<span data-ttu-id="667fc-109">Mise en cache de sortie extensible</span><span class="sxs-lookup"><span data-stu-id="667fc-109">Extensible Output Caching</span></span>](#0.2__Toc253429240 "_Toc253429240")  
[<span data-ttu-id="667fc-110">Démarrage automatique des applications Web</span><span class="sxs-lookup"><span data-stu-id="667fc-110">Auto-Start Web Applications</span></span>](#0.2__Toc253429241 "_Toc253429241")  
[<span data-ttu-id="667fc-111">Redirection permanente d’une page</span><span class="sxs-lookup"><span data-stu-id="667fc-111">Permanently Redirecting a Page</span></span>](#0.2__Toc253429242 "_Toc253429242")  
[<span data-ttu-id="667fc-112">Réduction de l’état de session</span><span class="sxs-lookup"><span data-stu-id="667fc-112">Shrinking Session State</span></span>](#0.2__Toc253429243 "_Toc253429243")  
[<span data-ttu-id="667fc-113">Extension de la plage d’URL autorisées</span><span class="sxs-lookup"><span data-stu-id="667fc-113">Expanding the Range of Allowable URLs</span></span>](#0.2__Toc253429244 "_Toc253429244")  
[<span data-ttu-id="667fc-114">Validation de requête extensible</span><span class="sxs-lookup"><span data-stu-id="667fc-114">Extensible Request Validation</span></span>](#0.2__Toc253429245 "_Toc253429245")  
[<span data-ttu-id="667fc-115">Mise en cache d’objets et extensibilité de la mise en cache d’objets</span><span class="sxs-lookup"><span data-stu-id="667fc-115">Object Caching and Object Caching Extensibility</span></span>](#0.2__Toc253429246 "_Toc253429246")  
[<span data-ttu-id="667fc-116">Extensible HTML, URL et encodage d’en-tête HTTP</span><span class="sxs-lookup"><span data-stu-id="667fc-116">Extensible HTML, URL, and HTTP Header Encoding</span></span>](#0.2__Toc253429247 "_Toc253429247")  
[<span data-ttu-id="667fc-117">Analyse des performances pour les applications individuelles dans un processus de travail unique</span><span class="sxs-lookup"><span data-stu-id="667fc-117">Performance Monitoring for Individual Applications in a Single Worker Process</span></span>](#0.2__Toc253429248 "_Toc253429248")  
[<span data-ttu-id="667fc-118">Multi-ciblage</span><span class="sxs-lookup"><span data-stu-id="667fc-118">Multi-Targeting</span></span>](#0.2__Toc253429249 "_Toc253429249")

<span data-ttu-id="667fc-119">**[Ajax](#0.2__Toc253429250 "_Toc253429250")**</span><span class="sxs-lookup"><span data-stu-id="667fc-119">**[Ajax](#0.2__Toc253429250 "_Toc253429250")**</span></span>  
[<span data-ttu-id="667fc-120">jQuery inclus avec Web Forms et MVC</span><span class="sxs-lookup"><span data-stu-id="667fc-120">jQuery Included with Web Forms and MVC</span></span>](#0.2__Toc253429251 "_Toc253429251")  
[<span data-ttu-id="667fc-121">Prise en charge du réseau de distribution de contenu</span><span class="sxs-lookup"><span data-stu-id="667fc-121">Content Delivery Network Support</span></span>](#0.2__Toc253429252 "_Toc253429252")  
[<span data-ttu-id="667fc-122">Scripts explicites ScriptManager</span><span class="sxs-lookup"><span data-stu-id="667fc-122">ScriptManager Explicit Scripts</span></span>](#0.2__Toc253429253 "_Toc253429253")

<span data-ttu-id="667fc-123">**[Web Forms](#0.2__Toc253429256 "_Toc253429256")**</span><span class="sxs-lookup"><span data-stu-id="667fc-123">**[Web Forms](#0.2__Toc253429256 "_Toc253429256")**</span></span>  
[<span data-ttu-id="667fc-124">Définition de méta-balises avec les propriétés page. MetaTags et page. MetaTags</span><span class="sxs-lookup"><span data-stu-id="667fc-124">Setting Meta Tags with the Page.MetaKeywords and Page.MetaDescription Properties</span></span>](#0.2__Toc253429257 "_Toc253429257")  
[<span data-ttu-id="667fc-125">Activation de l’état d’affichage pour les contrôles individuels</span><span class="sxs-lookup"><span data-stu-id="667fc-125">Enabling View State for Individual Controls</span></span>](#0.2__Toc253429258 "_Toc253429258")  
[<span data-ttu-id="667fc-126">Modifications apportées aux fonctionnalités du navigateur</span><span class="sxs-lookup"><span data-stu-id="667fc-126">Changes to Browser Capabilities</span></span>](#0.2__Toc253429259 "_Toc253429259")  
[<span data-ttu-id="667fc-127">Routage dans ASP.NET 4</span><span class="sxs-lookup"><span data-stu-id="667fc-127">Routing in ASP.NET 4</span></span>](#0.2__Toc253429260 "_Toc253429260")  
[<span data-ttu-id="667fc-128">Définition des ID client</span><span class="sxs-lookup"><span data-stu-id="667fc-128">Setting Client IDs</span></span>](#0.2__Toc253429261 "_Toc253429261")  
[<span data-ttu-id="667fc-129">Persistance de la sélection de lignes dans les contrôles de données</span><span class="sxs-lookup"><span data-stu-id="667fc-129">Persisting Row Selection in Data Controls</span></span>](#0.2__Toc253429262 "_Toc253429262")  
[<span data-ttu-id="667fc-130">Contrôle Chart ASP.NET</span><span class="sxs-lookup"><span data-stu-id="667fc-130">ASP.NET Chart Control</span></span>](#0.2__Toc253429263 "_Toc253429263")  
[<span data-ttu-id="667fc-131">Filtrage des données avec le contrôle QueryExtender</span><span class="sxs-lookup"><span data-stu-id="667fc-131">Filtering Data with the QueryExtender Control</span></span>](#0.2__Toc253429264 "_Toc253429264")  
[<span data-ttu-id="667fc-132">Expressions de code encodées en HTML</span><span class="sxs-lookup"><span data-stu-id="667fc-132">Html Encoded Code Expressions</span></span>](#0.2__Toc253429265 "_Toc253429265")  
[<span data-ttu-id="667fc-133">Modifications du modèle de projet</span><span class="sxs-lookup"><span data-stu-id="667fc-133">Project Template Changes</span></span>](#0.2__Toc253429266 "_Toc253429266")  
[<span data-ttu-id="667fc-134">Améliorations CSS</span><span class="sxs-lookup"><span data-stu-id="667fc-134">CSS Improvements</span></span>](#0.2__Toc253429267 "_Toc253429267")  
[<span data-ttu-id="667fc-135">Masquage d’éléments div autour de champs masqués</span><span class="sxs-lookup"><span data-stu-id="667fc-135">Hiding div Elements Around Hidden Fields</span></span>](#0.2__Toc253429268 "_Toc253429268")  
[<span data-ttu-id="667fc-136">Rendu d’une table externe pour les contrôles basés sur un modèle</span><span class="sxs-lookup"><span data-stu-id="667fc-136">Rendering an Outer Table for Templated Controls</span></span>](#0.2__Toc253429269 "_Toc253429269")  
[<span data-ttu-id="667fc-137">Améliorations du contrôle ListView</span><span class="sxs-lookup"><span data-stu-id="667fc-137">ListView Control Enhancements</span></span>](#0.2__Toc253429270 "_Toc253429270")  
[<span data-ttu-id="667fc-138">Amélioration des contrôles CheckBoxList et RadioButtonList</span><span class="sxs-lookup"><span data-stu-id="667fc-138">CheckBoxList and RadioButtonList Control Enhancements</span></span>](#0.2__Toc253429271 "_Toc253429271")  
[<span data-ttu-id="667fc-139">Améliorations du contrôle Menu</span><span class="sxs-lookup"><span data-stu-id="667fc-139">Menu Control Improvements</span></span>](#0.2__Toc253429272 "_Toc253429272")  
[<span data-ttu-id="667fc-140">Assistant et contrôles CreateUserWizard 56</span><span class="sxs-lookup"><span data-stu-id="667fc-140">Wizard and CreateUserWizard Controls 56</span></span>](#0.2__Toc253429273 "_Toc253429273")

<span data-ttu-id="667fc-141">**[ASP.NET MVC](#0.2__Toc253429274 "_Toc253429274")**</span><span class="sxs-lookup"><span data-stu-id="667fc-141">**[ASP.NET MVC](#0.2__Toc253429274 "_Toc253429274")**</span></span>  
[<span data-ttu-id="667fc-142">Prise en charge des zones</span><span class="sxs-lookup"><span data-stu-id="667fc-142">Areas Support</span></span>](#0.2__Toc253429275 "_Toc253429275")  
[<span data-ttu-id="667fc-143">Prise en charge de la validation des attributs d’annotation de données</span><span class="sxs-lookup"><span data-stu-id="667fc-143">Data-Annotation Attribute Validation Support</span></span>](#0.2__Toc253429276 "_Toc253429276")  
[<span data-ttu-id="667fc-144">Assistances basées sur un modèle</span><span class="sxs-lookup"><span data-stu-id="667fc-144">Templated Helpers</span></span>](#0.2__Toc253429277 "_Toc253429277")

<span data-ttu-id="667fc-145">**[Dynamic Data](#0.2__Toc253429278 "_Toc253429278")**</span><span class="sxs-lookup"><span data-stu-id="667fc-145">**[Dynamic Data](#0.2__Toc253429278 "_Toc253429278")**</span></span>  
[<span data-ttu-id="667fc-146">Activation d’Dynamic Data pour les projets existants</span><span class="sxs-lookup"><span data-stu-id="667fc-146">Enabling Dynamic Data for Existing Projects</span></span>](#0.2__Toc253429279 "_Toc253429279")  
[<span data-ttu-id="667fc-147">Syntaxe déclarative du contrôle DynamicDataManager</span><span class="sxs-lookup"><span data-stu-id="667fc-147">Declarative DynamicDataManager Control Syntax</span></span>](#0.2__Toc253429280 "_Toc253429280")  
[<span data-ttu-id="667fc-148">Modèles d’entité</span><span class="sxs-lookup"><span data-stu-id="667fc-148">Entity Templates</span></span>](#0.2__Toc253429281 "_Toc253429281")  
[<span data-ttu-id="667fc-149">Nouveaux modèles de champ pour les URL et les adresses de messagerie</span><span class="sxs-lookup"><span data-stu-id="667fc-149">New Field Templates for URLs and E-mail Addresses</span></span>](#0.2__Toc253429282 "_Toc253429282")  
[<span data-ttu-id="667fc-150">Création de liens avec le contrôle DynamicHyperLink</span><span class="sxs-lookup"><span data-stu-id="667fc-150">Creating Links with the DynamicHyperLink Control</span></span>](#0.2__Toc253429283 "_Toc253429283")  
[<span data-ttu-id="667fc-151">Prise en charge de l’héritage dans le modèle de données</span><span class="sxs-lookup"><span data-stu-id="667fc-151">Support for Inheritance in the Data Model</span></span>](#0.2__Toc253429284 "_Toc253429284")  
[<span data-ttu-id="667fc-152">Prise en charge des relations plusieurs-à-plusieurs (Entity Framework uniquement)</span><span class="sxs-lookup"><span data-stu-id="667fc-152">Support for Many-to-Many Relationships (Entity Framework Only)</span></span>](#0.2__Toc253429285 "_Toc253429285")  
[<span data-ttu-id="667fc-153">Nouveaux attributs pour contrôler l’affichage et les énumérations de prise en charge</span><span class="sxs-lookup"><span data-stu-id="667fc-153">New Attributes to Control Display and Support Enumerations</span></span>](#0.2__Toc253429286 "_Toc253429286")  
[<span data-ttu-id="667fc-154">Prise en charge améliorée des filtres</span><span class="sxs-lookup"><span data-stu-id="667fc-154">Enhanced Support for Filters</span></span>](#0.2__Toc253429287 "_Toc253429287")

<span data-ttu-id="667fc-155">**[Améliorations du développement Web dans Visual Studio 2010](#0.2__Toc253429288 "_Toc253429288")**</span><span class="sxs-lookup"><span data-stu-id="667fc-155">**[Visual Studio 2010 Web Development Improvements](#0.2__Toc253429288 "_Toc253429288")**</span></span>  
[<span data-ttu-id="667fc-156">Compatibilité CSS améliorée</span><span class="sxs-lookup"><span data-stu-id="667fc-156">Improved CSS Compatibility</span></span>](#0.2__Toc253429289 "_Toc253429289")  
[<span data-ttu-id="667fc-157">Extraits de code HTML et JavaScript</span><span class="sxs-lookup"><span data-stu-id="667fc-157">HTML and JavaScript Snippets</span></span>](#0.2__Toc253429290 "_Toc253429290")  
[<span data-ttu-id="667fc-158">Améliorations de JavaScript IntelliSense</span><span class="sxs-lookup"><span data-stu-id="667fc-158">JavaScript IntelliSense Enhancements</span></span>](#0.2__Toc253429291 "_Toc253429291")

<span data-ttu-id="667fc-159">**[Déploiement d’applications Web avec Visual Studio 2010](#0.2__Toc253429292 "_Toc253429292")**</span><span class="sxs-lookup"><span data-stu-id="667fc-159">**[Web Application Deployment with Visual Studio 2010](#0.2__Toc253429292 "_Toc253429292")**</span></span>  
[<span data-ttu-id="667fc-160">Empaquetage Web</span><span class="sxs-lookup"><span data-stu-id="667fc-160">Web Packaging</span></span>](#0.2__Toc253429293 "_Toc253429293")  
[<span data-ttu-id="667fc-161">Transformation Web. config</span><span class="sxs-lookup"><span data-stu-id="667fc-161">Web.config Transformation</span></span>](#0.2__Toc253429294 "_Toc253429294")  
[<span data-ttu-id="667fc-162">Déploiement de base de données</span><span class="sxs-lookup"><span data-stu-id="667fc-162">Database Deployment</span></span>](#0.2__Toc253429295 "_Toc253429295")  
[<span data-ttu-id="667fc-163">Publication en un clic pour les applications Web</span><span class="sxs-lookup"><span data-stu-id="667fc-163">One-Click Publish for Web Applications</span></span>](#0.2__Toc253429296 "_Toc253429296")  
[<span data-ttu-id="667fc-164">Ressources</span><span class="sxs-lookup"><span data-stu-id="667fc-164">Resources</span></span>](#0.2__Toc253429297 "_Toc253429297")

<span data-ttu-id="667fc-165">**[AVERTISSEMENT](#0.2__Toc253429298 "_Toc253429298")**</span><span class="sxs-lookup"><span data-stu-id="667fc-165">**[Disclaimer](#0.2__Toc253429298 "_Toc253429298")**</span></span>

<a id="0.2__Toc224729018"></a><a id="0.2__Toc253429238"></a><a id="0.2__Toc243304612"></a>

## <a name="core-services"></a><span data-ttu-id="667fc-166">Services principaux</span><span class="sxs-lookup"><span data-stu-id="667fc-166">Core Services</span></span>

<span data-ttu-id="667fc-167">ASP.NET 4 introduit un certain nombre de fonctionnalités qui améliorent les principaux services ASP.NET tels que la mise en cache de sortie et le stockage d’état de session.</span><span class="sxs-lookup"><span data-stu-id="667fc-167">ASP.NET 4 introduces a number of features that improve core ASP.NET services such as output caching and session-state storage.</span></span>

<a id="0.2__Toc243304613"></a><a id="0.2__Toc253429239"></a><a id="0.2__Toc224729019"></a>

### <a name="webconfig-file-refactoring"></a><span data-ttu-id="667fc-168">Refactorisation de fichier Web. config</span><span class="sxs-lookup"><span data-stu-id="667fc-168">Web.config File Refactoring</span></span>

<span data-ttu-id="667fc-169">Le fichier `Web.config` qui contient la configuration d’une application Web a considérablement augmenté depuis les versions précédentes du .NET Framework à mesure que de nouvelles fonctionnalités ont été ajoutées, comme Ajax, le routage et l’intégration avec IIS 7.</span><span class="sxs-lookup"><span data-stu-id="667fc-169">The `Web.config` file that contains the configuration for a Web application has grown considerably over the past few releases of the .NET Framework as new features have been added, such as Ajax, routing, and integration with IIS 7.</span></span> <span data-ttu-id="667fc-170">Cela complique la configuration ou le démarrage de nouvelles applications Web sans outil tel que Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="667fc-170">This has made it harder to configure or start new Web applications without a tool like Visual Studio.</span></span> <span data-ttu-id="667fc-171">Dans le .NET Framework 4, les éléments de configuration principaux ont été déplacés vers le fichier `machine.config`, et les applications héritent maintenant de ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="667fc-171">In .the NET Framework 4, the major configuration elements have been moved to the `machine.config` file, and applications now inherit these settings.</span></span> <span data-ttu-id="667fc-172">Cela permet au fichier `Web.config` dans les applications ASP.NET 4 d’être vide ou de contenir uniquement les lignes suivantes, qui spécifient pour Visual Studio la version du Framework ciblé par l’application :</span><span class="sxs-lookup"><span data-stu-id="667fc-172">This allows the `Web.config` file in ASP.NET 4 applications either to be empty or to contain just the following lines, which specify for Visual Studio what version of the framework the application is targeting:</span></span>

[!code-xml[Main](overview/samples/sample1.xml)]

<a id="0.2__Toc253429240"></a><a id="0.2__Toc243304614"></a>

### <a name="extensible-output-caching"></a><span data-ttu-id="667fc-173">Mise en cache de sortie extensible</span><span class="sxs-lookup"><span data-stu-id="667fc-173">Extensible Output Caching</span></span>

<span data-ttu-id="667fc-174">Depuis le lancement de ASP.NET 1,0, la mise en cache de la sortie a permis aux développeurs de stocker la sortie générée des pages, des contrôles et des réponses HTTP en mémoire.</span><span class="sxs-lookup"><span data-stu-id="667fc-174">Since the time that ASP.NET 1.0 was released, output caching has enabled developers to store the generated output of pages, controls, and HTTP responses in memory.</span></span> <span data-ttu-id="667fc-175">Lors des requêtes Web suivantes, ASP.NET peut traiter le contenu plus rapidement en extrayant la sortie générée à partir de la mémoire au lieu de régénérer la sortie de zéro.</span><span class="sxs-lookup"><span data-stu-id="667fc-175">On subsequent Web requests, ASP.NET can serve content more quickly by retrieving the generated output from memory instead of regenerating the output from scratch.</span></span> <span data-ttu-id="667fc-176">Toutefois, cette approche a une limitation : le contenu généré doit toujours être stocké en mémoire, et sur les serveurs qui rencontrent beaucoup de trafic, la mémoire consommée par la mise en cache de sortie peut rivaliser avec les demandes de mémoire d’autres parties d’une application Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-176">However, this approach has a limitation — generated content always has to be stored in memory, and on servers that are experiencing heavy traffic, the memory consumed by output caching can compete with memory demands from other portions of a Web application.</span></span>

<span data-ttu-id="667fc-177">ASP.NET 4 ajoute un point d’extensibilité à la mise en cache de sortie qui vous permet de configurer un ou plusieurs fournisseurs de cache de sortie personnalisés.</span><span class="sxs-lookup"><span data-stu-id="667fc-177">ASP.NET 4 adds an extensibility point to output caching that enables you to configure one or more custom output-cache providers.</span></span> <span data-ttu-id="667fc-178">Les fournisseurs de cache de sortie peuvent utiliser n’importe quel mécanisme de stockage pour conserver le contenu HTML.</span><span class="sxs-lookup"><span data-stu-id="667fc-178">Output-cache providers can use any storage mechanism to persist HTML content.</span></span> <span data-ttu-id="667fc-179">Cela permet de créer des fournisseurs de cache de sortie personnalisés pour divers mécanismes de persistance, qui peuvent inclure des disques locaux ou distants, le stockage cloud et des moteurs de cache distribué.</span><span class="sxs-lookup"><span data-stu-id="667fc-179">This makes it possible to create custom output-cache providers for diverse persistence mechanisms, which can include local or remote disks, cloud storage, and distributed cache engines.</span></span>

<span data-ttu-id="667fc-180">Vous créez un fournisseur de cache de sortie personnalisé en tant que classe qui dérive du nouveau type *System. Web. Caching. OutputCacheProvider* .</span><span class="sxs-lookup"><span data-stu-id="667fc-180">You create a custom output-cache provider as a class that derives from the new *System.Web.Caching.OutputCacheProvider* type.</span></span> <span data-ttu-id="667fc-181">Vous pouvez ensuite configurer le fournisseur dans le fichier `Web.config` à l’aide de la sous-section nouveaux *fournisseurs* de l’élément *OutputCache* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-181">You can then configure the provider in the `Web.config` file by using the new *providers* subsection of the *outputCache* element, as shown in the following example:</span></span>

[!code-xml[Main](overview/samples/sample2.xml)]

<span data-ttu-id="667fc-182">Par défaut, dans ASP.NET 4, toutes les réponses HTTP, les pages rendues et les contrôles utilisent le cache de sortie en mémoire, comme indiqué dans l’exemple précédent, où l’attribut *defaultProvider* a la valeur AspNetInternalProvider.</span><span class="sxs-lookup"><span data-stu-id="667fc-182">By default in ASP.NET 4, all HTTP responses, rendered pages, and controls use the in-memory output cache, as shown in the previous example, where the *defaultProvider* attribute is set to AspNetInternalProvider.</span></span> <span data-ttu-id="667fc-183">Vous pouvez modifier le fournisseur de cache de sortie par défaut utilisé pour une application Web en spécifiant un nom de fournisseur différent pour *defaultProvider*.</span><span class="sxs-lookup"><span data-stu-id="667fc-183">You can change the default output-cache provider used for a Web application by specifying a different provider name for *defaultProvider*.</span></span>

<span data-ttu-id="667fc-184">En outre, vous pouvez sélectionner différents fournisseurs de cache de sortie par contrôle et par demande.</span><span class="sxs-lookup"><span data-stu-id="667fc-184">In addition, you can select different output-cache providers per control and per request.</span></span> <span data-ttu-id="667fc-185">Le moyen le plus simple de choisir un autre fournisseur de cache de sortie pour différents contrôles utilisateur Web est de le faire de façon déclarative à l’aide du nouvel attribut *providerName* dans une directive de contrôle, comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-185">The easiest way to choose a different output-cache provider for different Web user controls is to do so declaratively by using the new *providerName* attribute in a control directive, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample3.aspx)]

<span data-ttu-id="667fc-186">La spécification d’un autre fournisseur de cache de sortie pour une requête HTTP nécessite un peu plus de travail.</span><span class="sxs-lookup"><span data-stu-id="667fc-186">Specifying a different output cache provider for an HTTP request requires a little more work.</span></span> <span data-ttu-id="667fc-187">Au lieu de spécifier de manière déclarative le fournisseur, vous substituez la nouvelle méthode *GetOuputCacheProviderName* dans le fichier `Global.asax` pour spécifier par programmation le fournisseur à utiliser pour une requête spécifique.</span><span class="sxs-lookup"><span data-stu-id="667fc-187">Instead of declaratively specifying the provider, you override the new *GetOuputCacheProviderName* method in the `Global.asax` file to programmatically specify which provider to use for a specific request.</span></span> <span data-ttu-id="667fc-188">L'exemple suivant montre comment effectuer cette opération.</span><span class="sxs-lookup"><span data-stu-id="667fc-188">The following example shows how to do this.</span></span>

[!code-csharp[Main](overview/samples/sample4.cs)]

<span data-ttu-id="667fc-189">Grâce à l’ajout de l’extensibilité du fournisseur de caches de sortie à ASP.NET 4, vous pouvez désormais poursuivre des stratégies de mise en cache de sortie plus agressives et plus intelligentes pour vos sites Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-189">With the addition of output-cache provider extensibility to ASP.NET 4, you can now pursue more aggressive and more intelligent output-caching strategies for your Web sites.</span></span> <span data-ttu-id="667fc-190">Par exemple, il est désormais possible de mettre en cache les 10 premières pages d’un site en mémoire, tout en mettant en cache les pages qui obtiennent un trafic plus faible sur le disque.</span><span class="sxs-lookup"><span data-stu-id="667fc-190">For example, it is now possible to cache the "Top 10" pages of a site in memory, while caching pages that get lower traffic on disk.</span></span> <span data-ttu-id="667fc-191">Vous pouvez également mettre en cache chaque combinaison variable d’une page rendue, mais utiliser un cache distribué afin que la consommation de mémoire soit déchargée des serveurs Web frontaux.</span><span class="sxs-lookup"><span data-stu-id="667fc-191">Alternatively, you can cache every vary-by combination for a rendered page, but use a distributed cache so that the memory consumption is offloaded from front-end Web servers.</span></span>

<a id="0.2__Toc224729020"></a><a id="0.2__Toc253429241"></a><a id="0.2__Toc243304615"></a>

### <a name="auto-start-web-applications"></a><span data-ttu-id="667fc-192">Démarrage automatique des applications Web</span><span class="sxs-lookup"><span data-stu-id="667fc-192">Auto-Start Web Applications</span></span>

<span data-ttu-id="667fc-193">Certaines applications Web ont besoin de charger de grandes quantités de données ou d’effectuer un traitement d’initialisation coûteux avant de servir la première requête.</span><span class="sxs-lookup"><span data-stu-id="667fc-193">Some Web applications need to load large amounts of data or perform expensive initialization processing before serving the first request.</span></span> <span data-ttu-id="667fc-194">Dans les versions antérieures de ASP.NET, pour ces situations, vous deviez concevoir des approches personnalisées pour « réveiller » une application ASP.NET, puis exécuter le code d’initialisation pendant l' *application\_méthode Load* dans le fichier `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="667fc-194">In earlier versions of ASP.NET, for these situations you had to devise custom approaches to "wake up" an ASP.NET application and then run initialization code during the *Application\_Load* method in the `Global.asax` file.</span></span>

<span data-ttu-id="667fc-195">Une nouvelle fonctionnalité d’extensibilité nommée *démarrage automatique* qui répond directement à ce scénario est disponible quand ASP.net 4 s’exécute sur IIS 7,5 sur Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="667fc-195">A new scalability feature named *auto-start* that directly addresses this scenario is available when ASP.NET 4 runs on IIS 7.5 on Windows Server 2008 R2.</span></span> <span data-ttu-id="667fc-196">La fonctionnalité de démarrage automatique fournit une approche contrôlée pour démarrer un pool d’applications, initialiser une application ASP.NET, puis accepter des demandes HTTP.</span><span class="sxs-lookup"><span data-stu-id="667fc-196">The auto-start feature provides a controlled approach for starting up an application pool, initializing an ASP.NET application, and then accepting HTTP requests.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="667fc-197">Module de préchauffage d’application IIS pour IIS 7,5</span><span class="sxs-lookup"><span data-stu-id="667fc-197">IIS Application Warm-Up Module for IIS 7.5</span></span>
> 
> <span data-ttu-id="667fc-198">L’équipe IIS a publié la première version test bêta du module de préchauffage d’application pour IIS 7,5.</span><span class="sxs-lookup"><span data-stu-id="667fc-198">The IIS team has released the first beta test version of the Application Warm-Up Module for IIS 7.5.</span></span> <span data-ttu-id="667fc-199">Cela rend la préchauffage de vos applications encore plus facile que celle décrite précédemment.</span><span class="sxs-lookup"><span data-stu-id="667fc-199">This makes warming up your applications even easier than previously described.</span></span> <span data-ttu-id="667fc-200">Au lieu d’écrire du code personnalisé, vous spécifiez les URL des ressources à exécuter avant que l’application Web n’accepte les demandes du réseau.</span><span class="sxs-lookup"><span data-stu-id="667fc-200">Instead of writing custom code, you specify the URLs of resources to execute before the Web application accepts requests from the network.</span></span> <span data-ttu-id="667fc-201">Cette préchauffage se produit au démarrage du service IIS (si vous avez configuré le pool d’applications IIS en tant que *AlwaysRunning*) et lors du recyclage d’un processus de travail IIS.</span><span class="sxs-lookup"><span data-stu-id="667fc-201">This warm-up occurs during startup of the IIS service (if you configured the IIS application pool as *AlwaysRunning*) and when an IIS worker process recycles.</span></span> <span data-ttu-id="667fc-202">Pendant le recyclage, l’ancien processus de travail IIS continue à exécuter des demandes jusqu’à ce que le processus de travail nouvellement généré soit entièrement nettoyé, de sorte que les applications ne subissent aucune interruption ou autre problème en raison des caches non amorcés.</span><span class="sxs-lookup"><span data-stu-id="667fc-202">During recycle, the old IIS worker process continues to execute requests until the newly spawned worker process is fully warmed up, so that applications experience no interruptions or other issues due to unprimed caches.</span></span> <span data-ttu-id="667fc-203">Notez que ce module fonctionne avec n’importe quelle version de ASP.NET, à partir de la version 2,0.</span><span class="sxs-lookup"><span data-stu-id="667fc-203">Note that this module works with any version of ASP.NET, starting with version 2.0.</span></span>
> 
> <span data-ttu-id="667fc-204">Pour plus d’informations, consultez [application chauffante](https://www.iis.net/extensions/applicationwarmup%20on%20the%20IIS.net) sur le site Web IIS.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-204">For more information, see [Application Warm-Up](https://www.iis.net/extensions/applicationwarmup%20on%20the%20IIS.net) on the IIS.net Web site.</span></span> <span data-ttu-id="667fc-205">Pour obtenir une procédure pas à pas illustrant l’utilisation de la fonctionnalité de préparation à chaud, consultez [prise en main avec le module de mise en route de l’application IIS 7,5](https://www.iis.net/learn/manage) sur le site Web IIS.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-205">For a walkthrough that illustrates how to use the warm-up feature, see [Getting Started with the IIS 7.5 Application Warm-Up Module](https://www.iis.net/learn/manage) on the IIS.net Web site.</span></span>

<span data-ttu-id="667fc-206">Pour utiliser la fonctionnalité de démarrage automatique, un administrateur IIS définit un pool d’applications dans IIS 7,5 pour qu’il soit démarré automatiquement à l’aide de la configuration suivante dans le fichier `applicationHost.config` :</span><span class="sxs-lookup"><span data-stu-id="667fc-206">To use the auto-start feature, an IIS administrator sets an application pool in IIS 7.5 to be automatically started by using the following configuration in the `applicationHost.config` file:</span></span>

[!code-xml[Main](overview/samples/sample5.xml)]

<span data-ttu-id="667fc-207">Étant donné qu’un seul pool d’applications peut contenir plusieurs applications, vous spécifiez des applications individuelles qui doivent être démarrées automatiquement à l’aide de la configuration suivante dans le fichier `applicationHost.config` :</span><span class="sxs-lookup"><span data-stu-id="667fc-207">Because a single application pool can contain multiple applications, you specify individual applications to be automatically started by using the following configuration in the `applicationHost.config` file:</span></span>

[!code-xml[Main](overview/samples/sample6.xml)]

<span data-ttu-id="667fc-208">Lorsqu’un serveur IIS 7,5 est démarré à froid ou lorsqu’un pool d’applications est recyclé, IIS 7,5 utilise les informations contenues dans le fichier `applicationHost.config` pour déterminer les applications Web qui doivent être démarrées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="667fc-208">When an IIS 7.5 server is cold-started or when an individual application pool is recycled, IIS 7.5 uses the information in the `applicationHost.config` file to determine which Web applications need to be automatically started.</span></span> <span data-ttu-id="667fc-209">Pour chaque application marquée pour un démarrage automatique, IIS 7.5 envoie une requête à ASP.NET 4 pour démarrer l’application dans un État pendant lequel l’application n’accepte pas temporairement les demandes HTTP.</span><span class="sxs-lookup"><span data-stu-id="667fc-209">For each application that is marked for auto-start, IIS7.5 sends a request to ASP.NET 4 to start the application in a state during which the application temporarily does not accept HTTP requests.</span></span> <span data-ttu-id="667fc-210">Lorsqu’il est dans cet État, ASP.NET instancie le type défini par l’attribut *serviceAutoStartProvider* (comme indiqué dans l’exemple précédent) et appelle dans son point d’entrée public.</span><span class="sxs-lookup"><span data-stu-id="667fc-210">When it is in this state, ASP.NET instantiates the type defined by the *serviceAutoStartProvider* attribute (as shown in the previous example) and calls into its public entry point.</span></span>

<span data-ttu-id="667fc-211">Vous créez un type de démarrage automatique managé avec le point d’entrée nécessaire en implémentant l’interface *IProcessHostPreloadClient* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-211">You create a managed auto-start type with the necessary entry point by implementing the *IProcessHostPreloadClient* interface, as shown in the following example:</span></span>

[!code-csharp[Main](overview/samples/sample7.cs)]

<span data-ttu-id="667fc-212">Une fois que votre code d’initialisation s’exécute dans la méthode de *préchargement* et que la méthode retourne, l’application ASP.net est prête à traiter les demandes.</span><span class="sxs-lookup"><span data-stu-id="667fc-212">After your initialization code runs in the *Preload* method and the method returns, the ASP.NET application is ready to process requests.</span></span>

<span data-ttu-id="667fc-213">Avec l’ajout du démarrage automatique à IIS 5 et ASP.NET 4, vous disposez désormais d’une approche bien définie pour effectuer une initialisation d’application coûteuse avant de traiter la première requête HTTP.</span><span class="sxs-lookup"><span data-stu-id="667fc-213">With the addition of auto-start to IIS .5 and ASP.NET 4, you now have a well-defined approach for performing expensive application initialization prior to processing the first HTTP request.</span></span> <span data-ttu-id="667fc-214">Par exemple, vous pouvez utiliser la nouvelle fonctionnalité de démarrage automatique pour initialiser une application, puis signaler à un équilibreur de charge que l’application a été initialisée et prête à accepter le trafic HTTP.</span><span class="sxs-lookup"><span data-stu-id="667fc-214">For example, you can use the new auto-start feature to initialize an application and then signal a load-balancer that the application was initialized and ready to accept HTTP traffic.</span></span>

<a id="0.2__Toc224729021"></a><a id="0.2__Toc253429242"></a><a id="0.2__Toc243304616"></a>

### <a name="permanently-redirecting-a-page"></a><span data-ttu-id="667fc-215">Redirection permanente d’une page</span><span class="sxs-lookup"><span data-stu-id="667fc-215">Permanently Redirecting a Page</span></span>

<span data-ttu-id="667fc-216">Il est courant dans les applications Web de déplacer des pages et d’autres contenus dans le temps, ce qui peut entraîner une accumulation de liens obsolètes dans les moteurs de recherche.</span><span class="sxs-lookup"><span data-stu-id="667fc-216">It is common practice in Web applications to move pages and other content around over time, which can lead to an accumulation of stale links in search engines.</span></span> <span data-ttu-id="667fc-217">Dans ASP.NET, les développeurs ont traditionnellement géré les demandes aux anciennes URL à l’aide de la méthode *Response. Redirect* pour transférer une requête à la nouvelle URL.</span><span class="sxs-lookup"><span data-stu-id="667fc-217">In ASP.NET, developers have traditionally handled requests to old URLs by using by using the *Response.Redirect* method to forward a request to the new URL.</span></span> <span data-ttu-id="667fc-218">Toutefois, la méthode de *redirection* émet une réponse http 302 trouvée (redirection temporaire), ce qui entraîne un aller-retour http supplémentaire lorsque les utilisateurs essaient d’accéder aux anciennes URL.</span><span class="sxs-lookup"><span data-stu-id="667fc-218">However, the *Redirect* method issues an HTTP 302 Found (temporary redirect) response, which results in an extra HTTP round trip when users attempt to access the old URLs.</span></span>

<span data-ttu-id="667fc-219">ASP.NET 4 ajoute une nouvelle méthode d’assistance *RedirectPermanent* qui facilite l’émission de réponses http 301 déplacées de façon permanente, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-219">ASP.NET 4 adds a new *RedirectPermanent* helper method that makes it easy to issue HTTP 301 Moved Permanently responses, as in the following example:</span></span>

[!code-csharp[Main](overview/samples/sample8.cs)]

<span data-ttu-id="667fc-220">Les moteurs de recherche et les autres agents utilisateur qui reconnaissent les redirections permanentes stockent la nouvelle URL associée au contenu, ce qui élimine l’aller-retour inutile effectué par le navigateur pour les redirections temporaires.</span><span class="sxs-lookup"><span data-stu-id="667fc-220">Search engines and other user agents that recognize permanent redirects will store the new URL that is associated with the content, which eliminates the unnecessary round trip made by the browser for temporary redirects.</span></span>

<a id="0.2__Toc224729022"></a><a id="0.2__Toc253429243"></a><a id="0.2__Toc243304617"></a>

### <a name="shrinking-session-state"></a><span data-ttu-id="667fc-221">Réduction de l’état de session</span><span class="sxs-lookup"><span data-stu-id="667fc-221">Shrinking Session State</span></span>

<span data-ttu-id="667fc-222">ASP.NET fournit deux options par défaut pour le stockage de l’état de session sur une batterie de serveurs Web : un fournisseur d’état de session qui appelle un serveur d’état de session hors processus et un fournisseur d’état de session qui stocke les données dans une base de données Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="667fc-222">ASP.NET provides two default options for storing session state across a Web farm: a session-state provider that invokes an out-of-process session-state server, and a session-state provider that stores data in a Microsoft SQL Server database.</span></span> <span data-ttu-id="667fc-223">Étant donné que les deux options impliquent le stockage des informations d’État en dehors du processus de travail d’une application Web, l’état de session doit être sérialisé avant d’être envoyé au stockage étendu.</span><span class="sxs-lookup"><span data-stu-id="667fc-223">Because both options involve storing state information outside a Web application's worker process, session state has to be serialized before it is sent to remote storage.</span></span> <span data-ttu-id="667fc-224">En fonction de la quantité d’informations qu’un développeur enregistre dans l’état de session, la taille des données sérialisées peut croître de manière importante.</span><span class="sxs-lookup"><span data-stu-id="667fc-224">Depending on how much information a developer saves in session state, the size of the serialized data can grow quite large.</span></span>

<span data-ttu-id="667fc-225">ASP.NET 4 introduit une nouvelle option de compression pour les deux types de fournisseurs d’état de session hors processus.</span><span class="sxs-lookup"><span data-stu-id="667fc-225">ASP.NET 4 introduces a new compression option for both kinds of out-of-process session-state providers.</span></span> <span data-ttu-id="667fc-226">Lorsque l’option de configuration *compressionEnabled* illustrée dans l’exemple suivant est définie sur *true*, ASP.net compresse (et décompresse) l’état de session sérialisé à l’aide de la classe .NET Framework *System. IO. compression. GZipStream* .</span><span class="sxs-lookup"><span data-stu-id="667fc-226">When the *compressionEnabled* configuration option shown in the following example is set to *true*, ASP.NET will compress (and decompress) serialized session state by using the .NET Framework *System.IO.Compression.GZipStream* class.</span></span>

[!code-xml[Main](overview/samples/sample9.xml)]

<span data-ttu-id="667fc-227">Avec l’ajout simple du nouvel attribut au fichier `Web.config`, les applications avec des cycles d’UC de rechange sur les serveurs Web peuvent réaliser des réductions substantielles de la taille des données d’état de session sérialisées.</span><span class="sxs-lookup"><span data-stu-id="667fc-227">With the simple addition of the new attribute to the `Web.config` file, applications with spare CPU cycles on Web servers can realize substantial reductions in the size of serialized session-state data.</span></span>

<a id="0.2__Toc253429244"></a><a id="0.2__Toc243304618"></a>

### <a name="expanding-the-range-of-allowable-urls"></a><span data-ttu-id="667fc-228">Extension de la plage d’URL autorisées</span><span class="sxs-lookup"><span data-stu-id="667fc-228">Expanding the Range of Allowable URLs</span></span>

<span data-ttu-id="667fc-229">ASP.NET 4 introduit de nouvelles options pour l’extension de la taille des URL d’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-229">ASP.NET 4 introduces new options for expanding the size of application URLs.</span></span> <span data-ttu-id="667fc-230">Dans les versions précédentes de ASP.NET, les longueurs de chemin d’URL sont limitées à 260 caractères, selon la limite du chemin d’accès au fichier NTFS.</span><span class="sxs-lookup"><span data-stu-id="667fc-230">Previous versions of ASP.NET constrained URL path lengths to 260 characters, based on the NTFS file-path limit.</span></span> <span data-ttu-id="667fc-231">Dans ASP.NET 4, vous avez la possibilité d’augmenter (ou de diminuer) cette limite en fonction de vos applications, à l’aide de deux nouveaux attributs de configuration *httpRuntime* .</span><span class="sxs-lookup"><span data-stu-id="667fc-231">In ASP.NET 4, you have the option to increase (or decrease) this limit as appropriate for your applications, using two new *httpRuntime* configuration attributes.</span></span> <span data-ttu-id="667fc-232">L’exemple suivant montre ces nouveaux attributs.</span><span class="sxs-lookup"><span data-stu-id="667fc-232">The following example shows these new attributes.</span></span>

[!code-xml[Main](overview/samples/sample10.xml)]

<span data-ttu-id="667fc-233">Pour autoriser des chemins d’accès plus longs ou plus courts (la partie de l’URL qui n’inclut pas le protocole, le nom du serveur et la chaîne de requête), modifiez l’attribut *[maxUrlLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxurllength.aspx)* .</span><span class="sxs-lookup"><span data-stu-id="667fc-233">To allow longer or shorter paths (the portion of the URL that does not include protocol, server name, and query string), modify the *[maxUrlLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxurllength.aspx)* attribute.</span></span> <span data-ttu-id="667fc-234">Pour autoriser des chaînes de requête plus longues ou plus courtes, modifiez la valeur de l’attribut *[maxQueryStringLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxquerystringlength.aspx)* .</span><span class="sxs-lookup"><span data-stu-id="667fc-234">To allow longer or shorter query strings, modify the value of the *[maxQueryStringLength](https://msdn.microsoft.com/library/system.web.configuration.httpruntimesection.maxquerystringlength.aspx)* attribute.</span></span>

<span data-ttu-id="667fc-235">ASP.NET 4 vous permet également de configurer les caractères utilisés par la vérification des caractères URL.</span><span class="sxs-lookup"><span data-stu-id="667fc-235">ASP.NET 4 also enables you to configure the characters that are used by the URL character check.</span></span> <span data-ttu-id="667fc-236">Quand ASP.NET trouve un caractère non valide dans la partie chemin d’accès d’une URL, il rejette la requête et émet une erreur HTTP 400.</span><span class="sxs-lookup"><span data-stu-id="667fc-236">When ASP.NET finds an invalid character in the path portion of a URL, it rejects the request and issues an HTTP 400 error.</span></span> <span data-ttu-id="667fc-237">Dans les versions précédentes de ASP.NET, les contrôles de caractères d’URL étaient limités à un ensemble fixe de caractères.</span><span class="sxs-lookup"><span data-stu-id="667fc-237">In previous versions of ASP.NET, the URL character checks were limited to a fixed set of characters.</span></span> <span data-ttu-id="667fc-238">Dans ASP.NET 4, vous pouvez personnaliser le jeu de caractères valides à l’aide du nouvel attribut *requestPathInvalidCharacters* de l’élément de configuration *httpRuntime* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-238">In ASP.NET 4, you can customize the set of valid characters using the new *requestPathInvalidCharacters* attribute of the *httpRuntime* configuration element, as shown in the following example:</span></span>

[!code-xml[Main](overview/samples/sample11.xml)]

<span data-ttu-id="667fc-239">Par défaut, l’attribut *requestPathInvalidCharacters* définit huit caractères comme étant non valides.</span><span class="sxs-lookup"><span data-stu-id="667fc-239">By default, the *requestPathInvalidCharacters* attribute defines eight characters as invalid.</span></span> <span data-ttu-id="667fc-240">(Dans la chaîne qui est assignée par défaut à *requestPathInvalidCharacters* , les caractères inférieur à (&lt;), supérieur à (&gt;) et perluète (&amp;) sont encodés, car le fichier `Web.config` est un fichier XML.) Vous pouvez personnaliser le jeu de caractères non valides en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="667fc-240">(In the string that is assigned to *requestPathInvalidCharacters* by default, the less than (&lt;), greater than (&gt;), and ampersand (&amp;) characters are encoded, because the `Web.config` file is an XML file.) You can customize the set of invalid characters as needed.</span></span>

> [!NOTE]
> <span data-ttu-id="667fc-241">Remarque ASP.NET 4 rejette toujours les chemins d’accès d’URL qui contiennent des caractères de la plage ASCII 0x00 à 0x1F, car il s’agit de caractères d’URL non valides, tels que définis dans le document RFC 2396 de l’IETF ([http://www.ietf.org/rfc/rfc2396.txt](http://www.ietf.org/rfc/rfc2396.txt)).</span><span class="sxs-lookup"><span data-stu-id="667fc-241">Note ASP.NET 4 always rejects URL paths that contain characters in the ASCII range of 0x00 to 0x1F, because those are invalid URL characters as defined in RFC 2396 of the IETF ([http://www.ietf.org/rfc/rfc2396.txt](http://www.ietf.org/rfc/rfc2396.txt)).</span></span> <span data-ttu-id="667fc-242">Sur les versions de Windows Server qui exécutent IIS 6 ou version ultérieure, le pilote de périphérique de protocole http. sys rejette automatiquement les URL avec ces caractères.</span><span class="sxs-lookup"><span data-stu-id="667fc-242">On versions of Windows Server that run IIS 6 or higher, the http.sys protocol device driver automatically rejects URLs with these characters.</span></span>

<a id="0.2__Toc253429245"></a><a id="0.2__Toc243304619"></a>

### <a name="extensible-request-validation"></a><span data-ttu-id="667fc-243">Validation de requête extensible</span><span class="sxs-lookup"><span data-stu-id="667fc-243">Extensible Request Validation</span></span>

<span data-ttu-id="667fc-244">La validation de la demande ASP.NET recherche les chaînes qui sont couramment utilisées dans les attaques de script entre sites (XSS) pour les données de requête HTTP entrantes.</span><span class="sxs-lookup"><span data-stu-id="667fc-244">ASP.NET request validation searches incoming HTTP request data for strings that are commonly used in cross-site scripting (XSS) attacks.</span></span> <span data-ttu-id="667fc-245">Si des chaînes XSS potentielles sont détectées, la validation de la demande signale la chaîne suspecte et retourne une erreur.</span><span class="sxs-lookup"><span data-stu-id="667fc-245">If potential XSS strings are found, request validation flags the suspect string and returns an error.</span></span> <span data-ttu-id="667fc-246">La validation de la demande intégrée retourne une erreur uniquement lorsqu’elle trouve les chaînes les plus courantes utilisées dans les attaques XSS.</span><span class="sxs-lookup"><span data-stu-id="667fc-246">The built-in request validation returns an error only when it finds the most common strings used in XSS attacks.</span></span> <span data-ttu-id="667fc-247">Les tentatives précédentes visant à rendre la validation XSS plus agressive ont entraîné un trop grand nombre de faux positifs.</span><span class="sxs-lookup"><span data-stu-id="667fc-247">Previous attempts to make the XSS validation more aggressive resulted in too many false positives.</span></span> <span data-ttu-id="667fc-248">Toutefois, les clients peuvent souhaiter que la validation des demandes soit plus agressive, ou inversement, pour délibérer intentionnellement des contrôles XSS pour des pages spécifiques ou pour des types de demandes spécifiques.</span><span class="sxs-lookup"><span data-stu-id="667fc-248">However, customers might want request validation that is more aggressive, or conversely might want to intentionally relax XSS checks for specific pages or for specific types of requests.</span></span>

<span data-ttu-id="667fc-249">Dans ASP.NET 4, la fonctionnalité de validation de demande a été rendue extensible afin que vous puissiez utiliser la logique de validation de requête personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-249">In ASP.NET 4, the request validation feature has been made extensible so that you can use custom request-validation logic.</span></span> <span data-ttu-id="667fc-250">Pour étendre la validation de la demande, vous créez une classe qui dérive du nouveau type *System. Web. util. RequestValidator* et vous configurez l’application (dans la section *httpRuntime* du fichier `Web.config`) pour utiliser le type personnalisé.</span><span class="sxs-lookup"><span data-stu-id="667fc-250">To extend request validation, you create a class that derives from the new *System.Web.Util.RequestValidator* type, and you configure the application (in the *httpRuntime* section of the `Web.config` file) to use the custom type.</span></span> <span data-ttu-id="667fc-251">L’exemple suivant montre comment configurer une classe de validation de demande personnalisée :</span><span class="sxs-lookup"><span data-stu-id="667fc-251">The following example shows how to configure a custom request-validation class:</span></span>

[!code-xml[Main](overview/samples/sample12.xml)]

<span data-ttu-id="667fc-252">Le nouvel attribut *RequestValidationType* requiert une chaîne d’identificateur de type .NET Framework standard qui spécifie la classe qui fournit la validation de demande personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-252">The new *requestValidationType* attribute requires a standard .NET Framework type identifier string that specifies the class that provides custom request validation.</span></span> <span data-ttu-id="667fc-253">Pour chaque demande, ASP.NET appelle le type personnalisé pour traiter chaque élément de données de requête HTTP entrantes.</span><span class="sxs-lookup"><span data-stu-id="667fc-253">For each request, ASP.NET invokes the custom type to process each piece of incoming HTTP request data.</span></span> <span data-ttu-id="667fc-254">L’URL entrante, tous les en-têtes HTTP (cookies et en-têtes personnalisés) et le corps d’entité sont tous disponibles pour inspection par une classe de validation de demande personnalisée comme celle illustrée dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-254">The incoming URL, all the HTTP headers (both cookies and custom headers), and the entity body are all available for inspection by a custom request validation class like that shown in the following example:</span></span>

[!code-csharp[Main](overview/samples/sample13.cs)]

<span data-ttu-id="667fc-255">Dans les cas où vous ne souhaitez pas inspecter un élément de données HTTP entrantes, la classe de validation des demandes peut revenir pour permettre l’exécution de la validation de la demande par défaut ASP.NET en appelant simplement la *base. IsValidRequestString.*</span><span class="sxs-lookup"><span data-stu-id="667fc-255">For cases where you do not want to inspect a piece of incoming HTTP data, the request-validation class can fall back to let the ASP.NET default request validation run by simply calling *base.IsValidRequestString.*</span></span>

<a id="0.2__Toc253429246"></a><a id="0.2__Toc243304620"></a>

### <a name="object-caching-and-object-caching-extensibility"></a><span data-ttu-id="667fc-256">Mise en cache d’objets et extensibilité de la mise en cache d’objets</span><span class="sxs-lookup"><span data-stu-id="667fc-256">Object Caching and Object Caching Extensibility</span></span>

<span data-ttu-id="667fc-257">Depuis sa première version, ASP.NET a inclus un cache d’objets en mémoire puissant (*System. Web. Caching. cache*).</span><span class="sxs-lookup"><span data-stu-id="667fc-257">Since its first release, ASP.NET has included a powerful in-memory object cache (*System.Web.Caching.Cache*).</span></span> <span data-ttu-id="667fc-258">L’implémentation du cache est tellement populaire qu’elle a été utilisée dans des applications non Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-258">The cache implementation has been so popular that it has been used in non-Web applications.</span></span> <span data-ttu-id="667fc-259">Toutefois, il est difficile pour une application Windows Forms ou WPF d’inclure une référence à `System.Web.dll` simplement pour pouvoir utiliser le cache d’objets ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="667fc-259">However, it is awkward for a Windows Forms or WPF application to include a reference to `System.Web.dll` just to be able to use the ASP.NET object cache.</span></span>

<span data-ttu-id="667fc-260">Pour rendre la mise en cache disponible pour toutes les applications, le .NET Framework 4 introduit un nouvel assembly, un nouvel espace de noms, certains types de base et une implémentation de mise en cache concrète.</span><span class="sxs-lookup"><span data-stu-id="667fc-260">To make caching available for all applications, the .NET Framework 4 introduces a new assembly, a new namespace, some base types, and a concrete caching implementation.</span></span> <span data-ttu-id="667fc-261">Le nouvel assembly `System.Runtime.Caching.dll` contient une nouvelle API de mise en cache dans l’espace de noms *System. Runtime. Caching* .</span><span class="sxs-lookup"><span data-stu-id="667fc-261">The new `System.Runtime.Caching.dll` assembly contains a new caching API in the *System.Runtime.Caching* namespace.</span></span> <span data-ttu-id="667fc-262">L’espace de noms contient deux ensembles principaux de classes :</span><span class="sxs-lookup"><span data-stu-id="667fc-262">The namespace contains two core sets of classes:</span></span>

- <span data-ttu-id="667fc-263">Types abstraits qui fournissent la Fondation pour la génération de tout type d’implémentation de cache personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-263">Abstract types that provide the foundation for building any type of custom cache implementation.</span></span>
- <span data-ttu-id="667fc-264">Implémentation du cache d’objets en mémoire concrète (classe *System. Runtime. Caching. MemoryCache* ).</span><span class="sxs-lookup"><span data-stu-id="667fc-264">A concrete in-memory object cache implementation (the *System.Runtime.Caching.MemoryCache* class).</span></span>

<span data-ttu-id="667fc-265">La nouvelle classe *MemoryCache* est modelée en détail dans le cache ASP.net et elle partage une grande partie de la logique du moteur de cache interne avec ASP.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-265">The new *MemoryCache* class is modeled closely on the ASP.NET cache, and it shares much of the internal cache engine logic with ASP.NET.</span></span> <span data-ttu-id="667fc-266">Bien que les API de mise en cache publiques dans *System. Runtime. Caching* aient été mises à jour pour prendre en charge le développement de caches personnalisés, si vous avez utilisé l’objet *cache* ASP.net, vous trouverez des concepts familiers dans les nouvelles API.</span><span class="sxs-lookup"><span data-stu-id="667fc-266">Although the public caching APIs in *System.Runtime.Caching* have been updated to support development of custom caches, if you have used the ASP.NET *Cache* object, you will find familiar concepts in the new APIs.</span></span>

<span data-ttu-id="667fc-267">Une présentation détaillée de la nouvelle classe *MemoryCache* et de la prise en charge des API de base nécessiterait l’intégralité d’un document.</span><span class="sxs-lookup"><span data-stu-id="667fc-267">An in-depth discussion of the new *MemoryCache* class and supporting base APIs would require an entire document.</span></span> <span data-ttu-id="667fc-268">Toutefois, l’exemple suivant vous donne une idée du fonctionnement de la nouvelle API de cache.</span><span class="sxs-lookup"><span data-stu-id="667fc-268">However, the following example gives you an idea of how the new cache API works.</span></span> <span data-ttu-id="667fc-269">L’exemple a été écrit pour une application Windows Forms, sans aucune dépendance sur `System.Web.dll`.</span><span class="sxs-lookup"><span data-stu-id="667fc-269">The example was written for a Windows Forms application, without any dependency on `System.Web.dll`.</span></span>

[!code-csharp[Main](overview/samples/sample14.cs)]

<a id="0.2__Toc253429247"></a><a id="0.2__Toc243304621"></a>

### <a name="extensible-html-url-and-http-header-encoding"></a><span data-ttu-id="667fc-270">Extensible HTML, URL et encodage d’en-tête HTTP</span><span class="sxs-lookup"><span data-stu-id="667fc-270">Extensible HTML, URL, and HTTP Header Encoding</span></span>

<span data-ttu-id="667fc-271">Dans ASP.NET 4, vous pouvez créer des routines d’encodage personnalisées pour les tâches courantes d’encodage de texte suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-271">In ASP.NET 4, you can create custom encoding routines for the following common text-encoding tasks:</span></span>

- <span data-ttu-id="667fc-272">Encodage HTML.</span><span class="sxs-lookup"><span data-stu-id="667fc-272">HTML encoding.</span></span>
- <span data-ttu-id="667fc-273">Encodage d’URL.</span><span class="sxs-lookup"><span data-stu-id="667fc-273">URL encoding.</span></span>
- <span data-ttu-id="667fc-274">Encodage d’attribut HTML.</span><span class="sxs-lookup"><span data-stu-id="667fc-274">HTML attribute encoding.</span></span>
- <span data-ttu-id="667fc-275">Encodage des en-têtes HTTP sortants.</span><span class="sxs-lookup"><span data-stu-id="667fc-275">Encoding outbound HTTP headers.</span></span>

<span data-ttu-id="667fc-276">Vous pouvez créer un encodeur personnalisé en dérivant du nouveau type *System. Web. util. HttpEncoder* , puis en configurant ASP.net pour utiliser le type personnalisé dans la section *httpRuntime* du fichier `Web.config`, comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-276">You can create a custom encoder by deriving from the new *System.Web.Util.HttpEncoder* type and then configuring ASP.NET to use the custom type in the *httpRuntime* section of the `Web.config` file, as shown in the following example:</span></span>

[!code-xml[Main](overview/samples/sample15.xml)]

<span data-ttu-id="667fc-277">Après la configuration d’un encodeur personnalisé, ASP.NET appelle automatiquement l’implémentation d’encodage personnalisée à chaque fois que les méthodes d’encodage publiques des classes *System. Web. HttpUtility* ou *System. Web. HttpServerUtility* sont appelées.</span><span class="sxs-lookup"><span data-stu-id="667fc-277">After a custom encoder has been configured, ASP.NET automatically calls the custom encoding implementation whenever public encoding methods of the *System.Web.HttpUtility* or *System.Web.HttpServerUtility* classes are called.</span></span> <span data-ttu-id="667fc-278">Cela permet à une partie d’une équipe de développement Web de créer un encodeur personnalisé qui implémente l’encodage de caractères agressif, tandis que le reste de l’équipe de développement Web continue d’utiliser les API d’encodage ASP.NET publiques.</span><span class="sxs-lookup"><span data-stu-id="667fc-278">This lets one part of a Web development team create a custom encoder that implements aggressive character encoding, while the rest of the Web development team continues to use the public ASP.NET encoding APIs.</span></span> <span data-ttu-id="667fc-279">En configurant de manière centralisée un encodeur personnalisé dans l’élément *httpRuntime* , vous êtes assuré que tous les appels d’encodage de texte provenant des API d’encodage ASP.net publiques sont routés via l’encodeur personnalisé.</span><span class="sxs-lookup"><span data-stu-id="667fc-279">By centrally configuring a custom encoder in the *httpRuntime* element, you are guaranteed that all text-encoding calls from the public ASP.NET encoding APIs are routed through the custom encoder.</span></span>

<a id="0.2__Toc253429248"></a><a id="0.2__Toc243304622"></a>

### <a name="performance-monitoring-for-individual-applications-in-a-single-worker-process"></a><span data-ttu-id="667fc-280">Analyse des performances pour les applications individuelles dans un processus de travail unique</span><span class="sxs-lookup"><span data-stu-id="667fc-280">Performance Monitoring for Individual Applications in a Single Worker Process</span></span>

<span data-ttu-id="667fc-281">Afin d’augmenter le nombre de sites Web pouvant être hébergés sur un seul serveur, de nombreux hébergeurs exécutent plusieurs applications ASP.NET dans un même processus de travail.</span><span class="sxs-lookup"><span data-stu-id="667fc-281">In order to increase the number of Web sites that can be hosted on a single server, many hosters run multiple ASP.NET applications in a single worker process.</span></span> <span data-ttu-id="667fc-282">Toutefois, si plusieurs applications utilisent un seul processus de travail partagé, il est difficile pour les administrateurs de serveur d’identifier une application individuelle qui rencontre des problèmes.</span><span class="sxs-lookup"><span data-stu-id="667fc-282">However, if multiple applications use a single shared worker process, it is difficult for server administrators to identify an individual application that is experiencing problems.</span></span>

<span data-ttu-id="667fc-283">ASP.NET 4 tire parti de la nouvelle fonctionnalité d’analyse des ressources introduite par le CLR.</span><span class="sxs-lookup"><span data-stu-id="667fc-283">ASP.NET 4 leverages new resource-monitoring functionality introduced by the CLR.</span></span> <span data-ttu-id="667fc-284">Pour activer cette fonctionnalité, vous pouvez ajouter l’extrait de configuration XML suivant au fichier de configuration `aspnet.config`.</span><span class="sxs-lookup"><span data-stu-id="667fc-284">To enable this functionality, you can add the following XML configuration snippet to the `aspnet.config` configuration file.</span></span>

[!code-xml[Main](overview/samples/sample16.xml)]

> [!NOTE]
> <span data-ttu-id="667fc-285">Notez que le fichier `aspnet.config` se trouve dans le répertoire d’installation du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="667fc-285">Note The `aspnet.config` file is in the directory where the .NET Framework is installed.</span></span> <span data-ttu-id="667fc-286">Il ne s’agit pas du fichier `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="667fc-286">It is not the `Web.config` file.</span></span>

<span data-ttu-id="667fc-287">Lorsque la fonctionnalité *appDomainResourceMonitoring* a été activée, deux nouveaux compteurs de performance sont disponibles dans la catégorie de performances « applications ASP.net » : *% du temps processeur géré* et de la *mémoire managée utilisée*.</span><span class="sxs-lookup"><span data-stu-id="667fc-287">When the *appDomainResourceMonitoring* feature has been enabled, two new performance counters are available in the "ASP.NET Applications" performance category: *% Managed Processor Time* and *Managed Memory Used*.</span></span> <span data-ttu-id="667fc-288">Ces deux compteurs de performance utilisent la nouvelle fonctionnalité de gestion des ressources de domaine d’application CLR pour suivre le temps processeur estimé et l’utilisation de la mémoire gérée des applications ASP.NET individuelles.</span><span class="sxs-lookup"><span data-stu-id="667fc-288">Both of these performance counters use the new CLR application-domain resource management feature to track estimated CPU time and managed memory utilization of individual ASP.NET applications.</span></span> <span data-ttu-id="667fc-289">Par conséquent, avec ASP.NET 4, les administrateurs disposent désormais d’une vue plus granulaire de la consommation des ressources des applications individuelles s’exécutant dans un processus de travail unique.</span><span class="sxs-lookup"><span data-stu-id="667fc-289">As a result, with ASP.NET 4, administrators now have a more granular view into the resource consumption of individual applications running in a single worker process.</span></span>

<a id="0.2__Toc253429249"></a><a id="0.2__Toc243304623"></a>

### <a name="multi-targeting"></a><span data-ttu-id="667fc-290">Multi-ciblage</span><span class="sxs-lookup"><span data-stu-id="667fc-290">Multi-Targeting</span></span>

<span data-ttu-id="667fc-291">Vous pouvez créer une application qui cible une version spécifique du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="667fc-291">You can create an application that targets a specific version of the .NET Framework.</span></span> <span data-ttu-id="667fc-292">Dans ASP.NET 4, un nouvel attribut dans l’élément *compilation* du fichier `Web.config` vous permet de cibler le .NET Framework 4 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="667fc-292">In ASP.NET 4, a new attribute in the *compilation* element of the `Web.config` file lets you target the .NET Framework 4 and later.</span></span> <span data-ttu-id="667fc-293">Si vous ciblez explicitement le .NET Framework 4 et si vous incluez des éléments facultatifs dans le fichier `Web.config`, tels que les entrées pour *System. CodeDom*, ces éléments doivent être corrects pour le .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-293">If you explicitly target the .NET Framework 4, and if you include optional elements in the `Web.config` file such as the entries for *system.codedom*, these elements must be correct for the .NET Framework 4.</span></span> <span data-ttu-id="667fc-294">(Si vous ne ciblez pas explicitement le .NET Framework 4, la version cible de .NET Framework est déduite de l’absence d’une entrée dans le fichier `Web.config`.)</span><span class="sxs-lookup"><span data-stu-id="667fc-294">(If you do not explicitly target the .NET Framework 4, the target framework is inferred from the lack of an entry in the `Web.config` file.)</span></span>

<span data-ttu-id="667fc-295">L’exemple suivant illustre l’utilisation de l’attribut *targetFramework* dans l’élément *compilation* du fichier `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="667fc-295">The following example shows the use of the *targetFramework* attribute in the *compilation* element of the `Web.config` file.</span></span>

[!code-xml[Main](overview/samples/sample17.xml)]

<span data-ttu-id="667fc-296">Notez les points suivants concernant le ciblage d’une version spécifique du .NET Framework :</span><span class="sxs-lookup"><span data-stu-id="667fc-296">Note the following about targeting a specific version of the .NET Framework:</span></span>

- <span data-ttu-id="667fc-297">Dans un pool d’applications .NET Framework 4, le système de génération ASP.NET part du principe que le .NET Framework 4 comme cible si le fichier `Web.config` n’inclut pas l’attribut *targetFramework* ou si le fichier `Web.config` est manquant.</span><span class="sxs-lookup"><span data-stu-id="667fc-297">In a .NET Framework 4 application pool, the ASP.NET build system assumes the .NET Framework 4 as a target if the `Web.config` file does not include the *targetFramework* attribute or if the `Web.config` file is missing.</span></span> <span data-ttu-id="667fc-298">(Vous devrez peut-être apporter des modifications de codage à votre application pour qu’elle s’exécute sous le .NET Framework 4.)</span><span class="sxs-lookup"><span data-stu-id="667fc-298">(You might have to make coding changes to your application to make it run under the .NET Framework 4.)</span></span>
- <span data-ttu-id="667fc-299">Si vous incluez l’attribut *targetFramework* et que l’élément *System. CodeDom* est défini dans le fichier `Web.config`, ce fichier doit contenir les entrées correctes pour le .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-299">If you do include the *targetFramework* attribute, and if the *system.codeDom* element is defined in the `Web.config` file, this file must contain the correct entries for the .NET Framework 4.</span></span>
- <span data-ttu-id="667fc-300">Si vous utilisez la commande *aspnet\_du compilateur* pour précompiler votre application (par exemple dans un environnement de génération), vous devez utiliser la version correcte de la commande du *compilateur de\_ASPNET* pour la version cible de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="667fc-300">If you are using the *aspnet\_compiler* command to precompile your application (such as in a build environment), you must use the correct version of the *aspnet\_compiler* command for the target framework.</span></span> <span data-ttu-id="667fc-301">Utilisez le compilateur fourni avec la .NET Framework 2,0 (%windir%\Microsoft.NET\Framework\v2.0.50727.) pour compiler les .NET Framework 3,5 et versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="667fc-301">Use the compiler that shipped with the .NET Framework 2.0 (%WINDIR%\Microsoft.NET\Framework\v2.0.50727) to compile for the .NET Framework 3.5 and earlier versions.</span></span> <span data-ttu-id="667fc-302">Utilisez le compilateur fourni avec le .NET Framework 4 pour compiler les applications créées à l’aide de ce Framework ou à l’aide des versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="667fc-302">Use the compiler that ships with the .NET Framework 4 to compile applications created using that framework or using later versions.</span></span>
- <span data-ttu-id="667fc-303">Au moment de l’exécution, le compilateur utilise les derniers assemblys de Framework installés sur l’ordinateur (et par conséquent dans le GAC).</span><span class="sxs-lookup"><span data-stu-id="667fc-303">At run time, the compiler uses the latest framework assemblies that are installed on the computer (and therefore in the GAC).</span></span> <span data-ttu-id="667fc-304">Si une mise à jour est effectuée ultérieurement dans l’infrastructure (par exemple, si une version hypothétique 4,1 est installée), vous pouvez utiliser les fonctionnalités de la version plus récente de l’infrastructure, même si l’attribut *targetFramework* cible une version antérieure (par exemple, 4,0).</span><span class="sxs-lookup"><span data-stu-id="667fc-304">If an update is made later to the framework (for example, a hypothetical version 4.1 is installed), you will be able to use features in the newer version of the framework even though the *targetFramework* attribute targets a lower version (such as 4.0).</span></span> <span data-ttu-id="667fc-305">(Toutefois, au moment de la conception dans Visual Studio 2010 ou lorsque vous utilisez la commande *aspnet\_du compilateur* , l’utilisation de nouvelles fonctionnalités de l’infrastructure entraînera des erreurs de compilation).</span><span class="sxs-lookup"><span data-stu-id="667fc-305">(However, at design time in Visual Studio 2010 or when you use the *aspnet\_compiler* command, using newer features of the framework will cause compiler errors).</span></span>

<a id="0.2__Toc224729023"></a><a id="0.2__Toc253429250"></a><a id="0.2__Toc243304624"></a>

## <a name="ajax"></a><span data-ttu-id="667fc-306">Ajax</span><span class="sxs-lookup"><span data-stu-id="667fc-306">Ajax</span></span>

<a id="0.2__Toc253429251"></a><a id="0.2__Toc243304625"></a>

### <a name="jquery-included-with-web-forms-and-mvc"></a><span data-ttu-id="667fc-307">jQuery inclus avec Web Forms et MVC</span><span class="sxs-lookup"><span data-stu-id="667fc-307">jQuery Included with Web Forms and MVC</span></span>

<span data-ttu-id="667fc-308">Les modèles Visual Studio pour Web Forms et MVC incluent la bibliothèque jQuery Open source.</span><span class="sxs-lookup"><span data-stu-id="667fc-308">The Visual Studio templates for both Web Forms and MVC include the open-source jQuery library.</span></span> <span data-ttu-id="667fc-309">Lorsque vous créez un nouveau site Web ou projet, un dossier scripts contenant les 3 fichiers suivants est créé :</span><span class="sxs-lookup"><span data-stu-id="667fc-309">When you create a new website or project, a Scripts folder containing the following 3 files is created:</span></span>

- <span data-ttu-id="667fc-310">jQuery-1.4.1. js : version unminified explicite de la bibliothèque jQuery.</span><span class="sxs-lookup"><span data-stu-id="667fc-310">jQuery-1.4.1.js – The human-readable, unminified version of the jQuery library.</span></span>
- <span data-ttu-id="667fc-311">jQuery-14.1. min. js : version minimisés de la bibliothèque jQuery.</span><span class="sxs-lookup"><span data-stu-id="667fc-311">jQuery-14.1.min.js – The minified version of the jQuery library.</span></span>
- <span data-ttu-id="667fc-312">jQuery-1.4.1-vsdoc. js : fichier de documentation IntelliSense pour la bibliothèque jQuery.</span><span class="sxs-lookup"><span data-stu-id="667fc-312">jQuery-1.4.1-vsdoc.js – The Intellisense documentation file for the jQuery library.</span></span>

<span data-ttu-id="667fc-313">Incluez la version unminified de jQuery lors du développement d’une application.</span><span class="sxs-lookup"><span data-stu-id="667fc-313">Include the unminified version of jQuery while developing an application.</span></span> <span data-ttu-id="667fc-314">Incluez la version minimisés de jQuery pour les applications de production.</span><span class="sxs-lookup"><span data-stu-id="667fc-314">Include the minified version of jQuery for production applications.</span></span>

<span data-ttu-id="667fc-315">Par exemple, la page de Web Forms suivante montre comment vous pouvez utiliser jQuery pour modifier la couleur d’arrière-plan des contrôles TextBox ASP.NET en jaune lorsqu’ils ont le focus.</span><span class="sxs-lookup"><span data-stu-id="667fc-315">For example, the following Web Forms page illustrates how you can use jQuery to change the background color of ASP.NET TextBox controls to yellow when they have focus.</span></span>

[!code-aspx[Main](overview/samples/sample18.aspx)]

<a id="0.2__Toc253429252"></a><a id="0.2__Toc243304626"></a>

### <a name="content-delivery-network-support"></a><span data-ttu-id="667fc-316">Prise en charge du réseau de distribution de contenu</span><span class="sxs-lookup"><span data-stu-id="667fc-316">Content Delivery Network Support</span></span>

<span data-ttu-id="667fc-317">Le réseau de distribution de contenu (CDN) Microsoft Ajax vous permet d’ajouter facilement des scripts ASP.NET AJAX et jQuery à vos applications Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-317">The Microsoft Ajax Content Delivery Network (CDN) enables you to easily add ASP.NET Ajax and jQuery scripts to your Web applications.</span></span> <span data-ttu-id="667fc-318">Par exemple, vous pouvez commencer à utiliser la bibliothèque jQuery simplement en ajoutant une balise `<script>` à votre page qui pointe vers Ajax.microsoft.com comme suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-318">For example, you can start using the jQuery library simply by adding a `<script>` tag to your page that points to Ajax.microsoft.com like this:</span></span>

[!code-html[Main](overview/samples/sample19.html)]

<span data-ttu-id="667fc-319">En tirant parti du CDN Microsoft Ajax, vous pouvez améliorer considérablement la performance de vos applications Ajax.</span><span class="sxs-lookup"><span data-stu-id="667fc-319">By taking advantage of the Microsoft Ajax CDN, you can significantly improve the performance of your Ajax applications.</span></span> <span data-ttu-id="667fc-320">Le contenu du CDN Microsoft AJAX est mis en cache sur les serveurs situés dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="667fc-320">The contents of the Microsoft Ajax CDN are cached on servers located around the world.</span></span> <span data-ttu-id="667fc-321">En outre, le CDN Microsoft Ajax permet aux navigateurs de réutiliser des fichiers JavaScript mis en cache pour les sites Web qui se trouvent dans des domaines différents.</span><span class="sxs-lookup"><span data-stu-id="667fc-321">In addition, the Microsoft Ajax CDN enables browsers to reuse cached JavaScript files for Web sites that are located in different domains.</span></span>

<span data-ttu-id="667fc-322">Le réseau de distribution de contenu Microsoft Ajax prend en charge le protocole SSL (HTTPs) au cas où vous devriez traiter une page Web à l’aide de l’protocole SSL.</span><span class="sxs-lookup"><span data-stu-id="667fc-322">The Microsoft Ajax Content Delivery Network supports SSL (HTTPS) in case you need to serve a web page using the Secure Sockets Layer.</span></span>

<span data-ttu-id="667fc-323">Implémentez une solution de secours lorsque le CDN n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="667fc-323">Implement a fallback when the CDN is unavailable.</span></span> <span data-ttu-id="667fc-324">Testez le secours.</span><span class="sxs-lookup"><span data-stu-id="667fc-324">Test the fallback.</span></span>

<span data-ttu-id="667fc-325">Pour en savoir plus sur le CDN Microsoft Ajax, visitez le site Web suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-325">To learn more about the Microsoft Ajax CDN, visit the following website:</span></span>

[https://www.asp.net/ajaxlibrary/CDN.ashx](../../ajax/cdn/overview.md)

<span data-ttu-id="667fc-326">ASP.NET ScriptManager prend en charge le CDN Microsoft Ajax.</span><span class="sxs-lookup"><span data-stu-id="667fc-326">The ASP.NET ScriptManager supports the Microsoft Ajax CDN.</span></span> <span data-ttu-id="667fc-327">En définissant simplement une propriété, la propriété EnableCdn, vous pouvez récupérer tous les fichiers JavaScript ASP.NET Framework à partir du CDN :</span><span class="sxs-lookup"><span data-stu-id="667fc-327">Simply by setting one property, the EnableCdn property, you can retrieve all ASP.NET framework JavaScript files from the CDN:</span></span>

[!code-aspx[Main](overview/samples/sample20.aspx)]

<span data-ttu-id="667fc-328">Une fois que vous avez défini la propriété EnableCdn sur la valeur true, l’infrastructure ASP.NET récupère tous les fichiers ASP.NET Framework JavaScript du CDN, y compris tous les fichiers JavaScript utilisés pour la validation et UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="667fc-328">After you set the EnableCdn property to the value true, the ASP.NET framework will retrieve all ASP.NET framework JavaScript files from the CDN including all JavaScript files used for validation and the UpdatePanel.</span></span> <span data-ttu-id="667fc-329">La définition de cette propriété peut avoir un impact spectaculaire sur les performances de votre application Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-329">Setting this one property can have a dramatic impact on the performance of your web application.</span></span>

<span data-ttu-id="667fc-330">Vous pouvez définir le chemin CDN pour vos propres fichiers JavaScript à l’aide de l’attribut Resource.</span><span class="sxs-lookup"><span data-stu-id="667fc-330">You can set the CDN path for your own JavaScript files by using the WebResource attribute.</span></span> <span data-ttu-id="667fc-331">La nouvelle propriété CdnPath spécifie le chemin d’accès au CDN utilisé lorsque vous affectez la valeur true à la propriété EnableCdn :</span><span class="sxs-lookup"><span data-stu-id="667fc-331">The new CdnPath property specifies the path to the CDN used when you set the EnableCdn property to the value true:</span></span>

[!code-csharp[Main](overview/samples/sample21.cs)]

<a id="0.2__Toc253429253"></a><a id="0.2__Toc243304627"></a>

### <a name="scriptmanager-explicit-scripts"></a><span data-ttu-id="667fc-332">Scripts explicites ScriptManager</span><span class="sxs-lookup"><span data-stu-id="667fc-332">ScriptManager Explicit Scripts</span></span>

<span data-ttu-id="667fc-333">Dans le passé, si vous utilisiez ASP.NET ScriptManger, vous deviez charger l’intégralité de la bibliothèque ASP.NET AJAX monolithique.</span><span class="sxs-lookup"><span data-stu-id="667fc-333">In the past, if you used the ASP.NET ScriptManger then you were required to load the entire monolithic ASP.NET Ajax Library.</span></span> <span data-ttu-id="667fc-334">En tirant parti de la nouvelle propriété ScriptManager. AjaxFrameworkMode, vous pouvez contrôler exactement quels composants de la bibliothèque AJAX ASP.NET sont chargés et charger uniquement les composants de la bibliothèque AJAX ASP.NET dont vous avez besoin.</span><span class="sxs-lookup"><span data-stu-id="667fc-334">By taking advantage of the new ScriptManager.AjaxFrameworkMode property, you can control exactly which components of the ASP.NET Ajax Library are loaded and load only the components of the ASP.NET Ajax Library that you need.</span></span>

<span data-ttu-id="667fc-335">La propriété ScriptManager. AjaxFrameworkMode peut avoir les valeurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-335">The ScriptManager.AjaxFrameworkMode property can be set to the following values:</span></span>

- <span data-ttu-id="667fc-336">Enabled : spécifie que le contrôle ScriptManager comprend automatiquement le fichier de script MicrosoftAjax. js, qui est un fichier de script combiné de chaque script d’infrastructure principale (comportement hérité).</span><span class="sxs-lookup"><span data-stu-id="667fc-336">Enabled -- Specifies that the ScriptManager control automatically includes the MicrosoftAjax.js script file, which is a combined script file of every core framework script (legacy behavior).</span></span>
- <span data-ttu-id="667fc-337">Disabled : spécifie que toutes les fonctionnalités de script Microsoft AJAX sont désactivées et que le contrôle ScriptManager ne fait référence à aucun script automatiquement.</span><span class="sxs-lookup"><span data-stu-id="667fc-337">Disabled -- Specifies that all Microsoft Ajax script features are disabled and that the ScriptManager control does not reference any scripts automatically.</span></span>
- <span data-ttu-id="667fc-338">Explicit : spécifie que vous incluez explicitement des références de script à chaque fichier de script Framework Core requis par votre page et que vous incluez des références aux dépendances requises par chaque fichier de script.</span><span class="sxs-lookup"><span data-stu-id="667fc-338">Explicit -- Specifies that you will explicitly include script references to individual framework core script file that your page requires, and that you will include references to the dependencies that each script file requires.</span></span>

<span data-ttu-id="667fc-339">Par exemple, si vous affectez à la propriété AjaxFrameworkMode la valeur Explicit, vous pouvez spécifier les scripts de composant ASP.NET AJAX spécifiques dont vous avez besoin :</span><span class="sxs-lookup"><span data-stu-id="667fc-339">For example, if you set the AjaxFrameworkMode property to the value Explicit then you can specify the particular ASP.NET Ajax component scripts that you need:</span></span>

[!code-aspx[Main](overview/samples/sample22.aspx)]

<a id="0.2__The_DataView_Control"></a><a id="0.2__The_DataContext_and"></a><a id="0.2__Refactoring_the_Microsoft"></a><a id="0.2__Toc224729032"></a><a id="0.2__Toc253429256"></a><a id="0.2__Toc243304630"></a>

## <a name="web-forms"></a><span data-ttu-id="667fc-340">Web Forms</span><span class="sxs-lookup"><span data-stu-id="667fc-340">Web Forms</span></span>

<span data-ttu-id="667fc-341">Web Forms est une fonctionnalité de base de ASP.NET depuis la sortie de ASP.NET 1,0.</span><span class="sxs-lookup"><span data-stu-id="667fc-341">Web Forms has been a core feature in ASP.NET since the release of ASP.NET 1.0.</span></span> <span data-ttu-id="667fc-342">De nombreuses améliorations ont été apportées dans ce domaine pour ASP.NET 4, y compris les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="667fc-342">Many enhancements have been in this area for ASP.NET 4, including the following:</span></span>

- <span data-ttu-id="667fc-343">La possibilité de définir des balises *méta* .</span><span class="sxs-lookup"><span data-stu-id="667fc-343">The ability to set *meta* tags.</span></span>
- <span data-ttu-id="667fc-344">Plus de contrôle sur l’état d’affichage.</span><span class="sxs-lookup"><span data-stu-id="667fc-344">More control over view state.</span></span>
- <span data-ttu-id="667fc-345">Méthodes plus faciles pour utiliser les fonctionnalités du navigateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-345">Easier ways to work with browser capabilities.</span></span>
- <span data-ttu-id="667fc-346">Prise en charge de l’utilisation du routage ASP.NET avec Web Forms.</span><span class="sxs-lookup"><span data-stu-id="667fc-346">Support for using ASP.NET routing with Web Forms.</span></span>
- <span data-ttu-id="667fc-347">Plus de contrôle sur les ID générés.</span><span class="sxs-lookup"><span data-stu-id="667fc-347">More control over generated IDs.</span></span>
- <span data-ttu-id="667fc-348">Capacité à rendre persistantes les lignes sélectionnées dans les contrôles de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-348">The ability to persist selected rows in data controls.</span></span>
- <span data-ttu-id="667fc-349">Plus de contrôle sur le HTML rendu dans les contrôles *FormView* et *ListView* .</span><span class="sxs-lookup"><span data-stu-id="667fc-349">More control over rendered HTML in the *FormView* and *ListView* controls.</span></span>
- <span data-ttu-id="667fc-350">Filtrage de la prise en charge des contrôles de source de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-350">Filtering support for data source controls.</span></span>

<a id="0.2__Toc224729033"></a><a id="0.2__Toc253429257"></a><a id="0.2__Toc243304631"></a>

### <a name="setting-meta-tags-with-the-pagemetakeywords-and-pagemetadescription-properties"></a><span data-ttu-id="667fc-351">Définition de méta-balises avec les propriétés page. MetaTags et page. MetaTags</span><span class="sxs-lookup"><span data-stu-id="667fc-351">Setting Meta Tags with the Page.MetaKeywords and Page.MetaDescription Properties</span></span>

<span data-ttu-id="667fc-352">ASP.NET 4 ajoute deux propriétés à la classe de *page* , aux *Mots clés* et à la *redescription*.</span><span class="sxs-lookup"><span data-stu-id="667fc-352">ASP.NET 4 adds two properties to the *Page* class, *MetaKeywords* and *MetaDescription*.</span></span> <span data-ttu-id="667fc-353">Ces deux propriétés représentent des balises *méta* correspondantes dans votre page, comme illustré dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-353">These two properties represent corresponding *meta* tags in your page, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample23.aspx)]

<span data-ttu-id="667fc-354">Ces deux propriétés fonctionnent de la même façon que la propriété *title* de la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-354">These two properties work the same way that the page's *Title* property does.</span></span> <span data-ttu-id="667fc-355">Ils suivent les règles suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-355">They follow these rules:</span></span>

1. <span data-ttu-id="667fc-356">S’il n’y a pas de balises *méta* dans l’élément *Head* qui correspondent aux noms de propriétés (autrement dit, Name = "keywords" pour *page.* metatagss et Name = "Description" pour *page.* MetaTags, ce qui signifie que ces propriétés n’ont pas été définies), les balises *méta* sont ajoutées à la page lors de leur rendu.</span><span class="sxs-lookup"><span data-stu-id="667fc-356">If there are no *meta* tags in the *head* element that match the property names (that is, name="keywords" for *Page.MetaKeywords* and name="description" for *Page.MetaDescription*, meaning that these properties have not been set), the *meta* tags will be added to the page when it is rendered.</span></span>
2. <span data-ttu-id="667fc-357">S’il existe déjà des balises *méta* avec ces noms, ces propriétés agissent comme des méthodes d’extraction et de définition pour le contenu des balises existantes.</span><span class="sxs-lookup"><span data-stu-id="667fc-357">If there are already *meta* tags with these names, these properties act as get and set methods for the contents of the existing tags.</span></span>

<span data-ttu-id="667fc-358">Vous pouvez définir ces propriétés au moment de l’exécution, ce qui vous permet d’obtenir le contenu à partir d’une base de données ou d’une autre source, et de définir les balises de manière dynamique pour décrire le rôle d’une page particulière.</span><span class="sxs-lookup"><span data-stu-id="667fc-358">You can set these properties at run time, which lets you get the content from a database or other source, and which lets you set the tags dynamically to describe what a particular page is for.</span></span>

<span data-ttu-id="667fc-359">Vous pouvez également définir les propriétés des *Mots clés* et de la *Description* dans la directive *@ page* en haut du balisage de la page Web Forms, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-359">You can also set the *Keywords* and *Description* properties in the *@ Page* directive at the top of the Web Forms page markup, as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample24.aspx)]

<span data-ttu-id="667fc-360">Cette opération remplace le contenu de la balise *meta* (le cas échéant) déjà déclaré dans la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-360">This will override the *meta* tag contents (if any) already declared in the page.</span></span>

<span data-ttu-id="667fc-361">Le contenu de la balise *meta* Description est utilisé pour améliorer les aperçus de la liste de recherche dans Google.</span><span class="sxs-lookup"><span data-stu-id="667fc-361">The contents of the description *meta* tag are used for improving search listing previews in Google.</span></span> <span data-ttu-id="667fc-362">(Pour plus d’informations, consultez [améliorer les extraits de code avec une méta-Description permodernisation](https://googlewebmastercentral.blogspot.com/2007/09/improve-snippets-with-meta-description.html) sur le blog Google Webmaster central.) Google et Windows Live Search n’utilisent pas le contenu des mots clés pour tout, mais d’autres moteurs de recherche peuvent l’être.</span><span class="sxs-lookup"><span data-stu-id="667fc-362">(For details, see [Improve snippets with a meta description makeover](https://googlewebmastercentral.blogspot.com/2007/09/improve-snippets-with-meta-description.html) on the Google Webmaster Central blog.) Google and Windows Live Search do not use the contents of the keywords for anything, but other search engines might.</span></span> <span data-ttu-id="667fc-363">Pour plus d’informations, consultez les conseils sur les [Mots clés META](http://www.searchengineguide.com/richard-ball/meta-keywords-a.php) sur le site Web du Guide du moteur de recherche.</span><span class="sxs-lookup"><span data-stu-id="667fc-363">For more information, see [Meta Keywords Advice](http://www.searchengineguide.com/richard-ball/meta-keywords-a.php) on the Search Engine Guide Web site.</span></span>

<span data-ttu-id="667fc-364">Ces nouvelles propriétés sont une fonctionnalité simple, mais elles vous permettent de vous éviter de les ajouter manuellement ou d’écrire votre propre code pour créer les balises *méta* .</span><span class="sxs-lookup"><span data-stu-id="667fc-364">These new properties are a simple feature, but they save you from the requirement to add these manually or from writing your own code to create the *meta* tags.</span></span>

<a id="0.2__Toc224729034"></a><a id="0.2__Toc253429258"></a><a id="0.2__Toc243304632"></a>

### <a name="enabling-view-state-for-individual-controls"></a><span data-ttu-id="667fc-365">Activation de l’état d’affichage pour les contrôles individuels</span><span class="sxs-lookup"><span data-stu-id="667fc-365">Enabling View State for Individual Controls</span></span>

<span data-ttu-id="667fc-366">Par défaut, l’état d’affichage est activé pour la page, avec pour résultat que chaque contrôle sur la page stocke potentiellement l’état d’affichage, même s’il n’est pas requis pour l’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-366">By default, view state is enabled for the page, with the result that each control on the page potentially stores view state even if it is not required for the application.</span></span> <span data-ttu-id="667fc-367">Les données d’état d’affichage sont incluses dans le balisage généré par une page et augmentent le temps nécessaire à l’envoi d’une page au client et à sa publication.</span><span class="sxs-lookup"><span data-stu-id="667fc-367">View state data is included in the markup that a page generates and increases the amount of time it takes to send a page to the client and post it back.</span></span> <span data-ttu-id="667fc-368">Le stockage d’un plus grand état d’affichage que ce qui est nécessaire peut entraîner une dégradation significative des performances.</span><span class="sxs-lookup"><span data-stu-id="667fc-368">Storing more view state than is necessary can cause significant performance degradation.</span></span> <span data-ttu-id="667fc-369">Dans les versions antérieures de ASP.NET, les développeurs pouvaient désactiver l’état d’affichage pour les contrôles individuels afin de réduire la taille de la page, mais ils devaient le faire explicitement pour les contrôles individuels.</span><span class="sxs-lookup"><span data-stu-id="667fc-369">In earlier versions of ASP.NET, developers could disable view state for individual controls in order to reduce page size, but had to do so explicitly for individual controls.</span></span> <span data-ttu-id="667fc-370">Dans ASP.NET 4, les contrôles serveur Web incluent une propriété *ViewStateMode* qui vous permet de désactiver l’état d’affichage par défaut, puis de l’activer uniquement pour les contrôles qui l’exigent dans la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-370">In ASP.NET 4, Web server controls include a *ViewStateMode* property that lets you disable view state by default and then enable it only for the controls that require it in the page.</span></span>

<span data-ttu-id="667fc-371">La propriété *ViewStateMode* prend une énumération qui a trois valeurs : *Enabled*, *Disabled*et *inherit*.</span><span class="sxs-lookup"><span data-stu-id="667fc-371">The *ViewStateMode* property takes an enumeration that has three values: *Enabled*, *Disabled*, and *Inherit*.</span></span> <span data-ttu-id="667fc-372">*Activé* active l’état d’affichage pour ce contrôle et pour tous les contrôles enfants qui ont la valeur *inherit* ou qui n’ont rien défini.</span><span class="sxs-lookup"><span data-stu-id="667fc-372">*Enabled* enables view state for that control and for any child controls that are set to *Inherit* or that have nothing set.</span></span> <span data-ttu-id="667fc-373">*Désactivé* désactive l’état d’affichage, et *inherit* spécifie que le contrôle utilise le paramètre *ViewStateMode* du contrôle parent.</span><span class="sxs-lookup"><span data-stu-id="667fc-373">*Disabled* disables view state, and *Inherit* specifies that the control uses the *ViewStateMode* setting from the parent control.</span></span>

<span data-ttu-id="667fc-374">L’exemple suivant illustre le fonctionnement de la propriété *ViewStateMode* .</span><span class="sxs-lookup"><span data-stu-id="667fc-374">The following example shows how the *ViewStateMode* property works.</span></span> <span data-ttu-id="667fc-375">Le balisage et le code des contrôles de la page suivante incluent des valeurs pour la propriété *ViewStateMode* :</span><span class="sxs-lookup"><span data-stu-id="667fc-375">The markup and code for the controls in the following page includes values for the *ViewStateMode* property:</span></span>

[!code-aspx[Main](overview/samples/sample25.aspx)]

<span data-ttu-id="667fc-376">Comme vous pouvez le voir, le code désactive l’état d’affichage pour le contrôle PlaceHolder1.</span><span class="sxs-lookup"><span data-stu-id="667fc-376">As you can see, the code disables view state for the PlaceHolder1 control.</span></span> <span data-ttu-id="667fc-377">Le contrôle Label1 enfant hérite de cette valeur de propriété (*inherit* est la valeur par défaut pour *ViewStateMode* pour les contrôles) et n’enregistre donc pas d’état d’affichage.</span><span class="sxs-lookup"><span data-stu-id="667fc-377">The child label1 control inherits this property value (*Inherit* is the default value for *ViewStateMode* for controls.) and therefore saves no view state.</span></span> <span data-ttu-id="667fc-378">Dans le contrôle PlaceHolder2, *ViewStateMode* est défini sur *activé*. par conséquent, Label2 hérite de cette propriété et enregistre l’état d’affichage.</span><span class="sxs-lookup"><span data-stu-id="667fc-378">In the PlaceHolder2 control, *ViewStateMode* is set to *Enabled*, so label2 inherits this property and saves view state.</span></span> <span data-ttu-id="667fc-379">Lorsque la page est chargée pour la première fois, la propriété *Text* des deux contrôles *label* est définie sur la chaîne « [DynamicValue] ».</span><span class="sxs-lookup"><span data-stu-id="667fc-379">When the page is first loaded, the *Text* property of both *Label* controls is set to the string "[DynamicValue]".</span></span>

<span data-ttu-id="667fc-380">L’effet de ces paramètres est que lorsque la page se charge pour la première fois, la sortie suivante s’affiche dans le navigateur :</span><span class="sxs-lookup"><span data-stu-id="667fc-380">The effect of these settings is that when the page loads the first time, the following output is displayed in the browser:</span></span>

<span data-ttu-id="667fc-381">Désactivée `: [DynamicValue]`</span><span class="sxs-lookup"><span data-stu-id="667fc-381">Disabled `: [DynamicValue]`</span></span>

<span data-ttu-id="667fc-382">Activé :`[DynamicValue]`</span><span class="sxs-lookup"><span data-stu-id="667fc-382">Enabled:`[DynamicValue]`</span></span>

<span data-ttu-id="667fc-383">Toutefois, après une publication (postback), la sortie suivante s’affiche :</span><span class="sxs-lookup"><span data-stu-id="667fc-383">After a postback, however, the following output is displayed:</span></span>

<span data-ttu-id="667fc-384">Désactivée `: [DeclaredValue]`</span><span class="sxs-lookup"><span data-stu-id="667fc-384">Disabled `: [DeclaredValue]`</span></span>

<span data-ttu-id="667fc-385">Activé :`[DynamicValue]`</span><span class="sxs-lookup"><span data-stu-id="667fc-385">Enabled:`[DynamicValue]`</span></span>

<span data-ttu-id="667fc-386">Le contrôle Label1 (dont la valeur *ViewStateMode* est définie sur *Disabled*) n’a pas conservé la valeur à laquelle il a été défini dans le code.</span><span class="sxs-lookup"><span data-stu-id="667fc-386">The label1 control (whose *ViewStateMode* value is set to *Disabled*) has not preserved the value that it was set to in code.</span></span> <span data-ttu-id="667fc-387">Toutefois, le contrôle Label2 (dont la valeur *ViewStateMode* est définie sur *activé*) a conservé son état.</span><span class="sxs-lookup"><span data-stu-id="667fc-387">However, the label2 control (whose *ViewStateMode* value is set to *Enabled*) has preserved its state.</span></span>

<span data-ttu-id="667fc-388">Vous pouvez également définir *ViewStateMode* dans la directive *@ page* , comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-388">You can also set *ViewStateMode* in the *@ Page* directive, as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample26.aspx)]

<span data-ttu-id="667fc-389">La classe *page* n’est qu’un autre contrôle ; Il agit en tant que contrôle parent pour tous les autres contrôles de la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-389">The *Page* class is just another control; it acts as the parent control for all the other controls in the page.</span></span> <span data-ttu-id="667fc-390">La valeur par défaut de *ViewStateMode* est *activée* pour les instances de *page*.</span><span class="sxs-lookup"><span data-stu-id="667fc-390">The default value of *ViewStateMode* is *Enabled* for instances of *Page*.</span></span> <span data-ttu-id="667fc-391">Comme les contrôles *héritent*par défaut, les contrôles hériteront de la valeur de la propriété *Enabled* , sauf si vous définissez *ViewStateMode* au niveau de la page ou du contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-391">Because controls default to *Inherit*, controls will inherit the *Enabled* property value unless you set *ViewStateMode* at page or control level.</span></span>

<span data-ttu-id="667fc-392">La valeur de la propriété *ViewStateMode* détermine si l’état d’affichage est conservé uniquement si la propriété *EnableViewState* a la valeur *true*.</span><span class="sxs-lookup"><span data-stu-id="667fc-392">The value of the *ViewStateMode* property determines if view state is maintained only if the *EnableViewState* property is set to *true*.</span></span> <span data-ttu-id="667fc-393">Si la propriété *EnableViewState* est définie sur *false*, l’état d’affichage ne sera pas conservé même si *ViewStateMode* est défini sur *activé*.</span><span class="sxs-lookup"><span data-stu-id="667fc-393">If the *EnableViewState* property is set to *false*, view state will not be maintained even if *ViewStateMode* is set to *Enabled*.</span></span>

<span data-ttu-id="667fc-394">Pour cette fonctionnalité, il est recommandé d’utiliser les contrôles *ContentPlaceHolder* dans les pages maîtres, où vous pouvez définir *ViewStateMode* sur *désactivé* pour la page maître, puis l’activer individuellement pour les contrôles *ContentPlaceHolder* qui, à leur tour, contiennent des contrôles qui requièrent un état d’affichage.</span><span class="sxs-lookup"><span data-stu-id="667fc-394">A good use for this feature is with *ContentPlaceHolder* controls in master pages, where you can set *ViewStateMode* to *Disabled* for the master page and then enable it individually for *ContentPlaceHolder* controls that in turn contain controls that require view state.</span></span>

<a id="0.2__Toc224729035"></a><a id="0.2__Toc253429259"></a><a id="0.2__Toc243304633"></a>

### <a name="changes-to-browser-capabilities"></a><span data-ttu-id="667fc-395">Modifications apportées aux fonctionnalités du navigateur</span><span class="sxs-lookup"><span data-stu-id="667fc-395">Changes to Browser Capabilities</span></span>

<span data-ttu-id="667fc-396">ASP.NET détermine les fonctionnalités du navigateur qu’un utilisateur utilise pour parcourir votre site à l’aide d’une fonctionnalité appelée *fonctionnalités du navigateur*.</span><span class="sxs-lookup"><span data-stu-id="667fc-396">ASP.NET determines the capabilities of the browser that a user is using to browse your site by using a feature called *browser capabilities*.</span></span> <span data-ttu-id="667fc-397">Les fonctionnalités du navigateur sont représentées par l’objet *HttpBrowserCapabilities* (exposé par la propriété *Request. Browser* ).</span><span class="sxs-lookup"><span data-stu-id="667fc-397">Browser capabilities are represented by the *HttpBrowserCapabilities* object (exposed by the *Request.Browser* property).</span></span> <span data-ttu-id="667fc-398">Par exemple, vous pouvez utiliser l’objet *HttpBrowserCapabilities* pour déterminer si le type et la version du navigateur actuel prennent en charge une version particulière de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="667fc-398">For example, you can use the *HttpBrowserCapabilities* object to determine whether the type and version of the current browser supports a particular version of JavaScript.</span></span> <span data-ttu-id="667fc-399">Ou bien, vous pouvez utiliser l’objet *HttpBrowserCapabilities* pour déterminer si la demande provient d’un appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="667fc-399">Or, you can use the *HttpBrowserCapabilities* object to determine whether the request originated from a mobile device.</span></span>

<span data-ttu-id="667fc-400">L’objet *HttpBrowserCapabilities* est piloté par un ensemble de fichiers de définition de navigateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-400">The *HttpBrowserCapabilities* object is driven by a set of browser definition files.</span></span> <span data-ttu-id="667fc-401">Ces fichiers contiennent des informations sur les fonctionnalités des navigateurs particuliers.</span><span class="sxs-lookup"><span data-stu-id="667fc-401">These files contain information about the capabilities of particular browsers.</span></span> <span data-ttu-id="667fc-402">Dans ASP.NET 4, ces fichiers de définition de navigateur ont été mis à jour pour contenir des informations sur les navigateurs et les appareils récemment introduits, tels que Google Chrome, Research dans Motion BlackBerry smartphones et Apple iPhone.</span><span class="sxs-lookup"><span data-stu-id="667fc-402">In ASP.NET 4, these browser definition files have been updated to contain information about recently introduced browsers and devices such as Google Chrome, Research in Motion BlackBerry smartphones, and Apple iPhone.</span></span>

<span data-ttu-id="667fc-403">La liste suivante répertorie les nouveaux fichiers de définition de navigateur :</span><span class="sxs-lookup"><span data-stu-id="667fc-403">The following list shows new browser definition files:</span></span>

- <span data-ttu-id="667fc-404">*BlackBerry. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-404">*blackberry.browser*</span></span>
- <span data-ttu-id="667fc-405">*chrome. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-405">*chrome.browser*</span></span>
- <span data-ttu-id="667fc-406">*Par défaut. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-406">*Default.browser*</span></span>
- <span data-ttu-id="667fc-407">*Firefox. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-407">*firefox.browser*</span></span>
- <span data-ttu-id="667fc-408">*passerelle. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-408">*gateway.browser*</span></span>
- <span data-ttu-id="667fc-409">*générique. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-409">*generic.browser*</span></span>
- <span data-ttu-id="667fc-410">*IE. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-410">*ie.browser*</span></span>
- <span data-ttu-id="667fc-411">*iemobile. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-411">*iemobile.browser*</span></span>
- <span data-ttu-id="667fc-412">*iPhone. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-412">*iphone.browser*</span></span>
- <span data-ttu-id="667fc-413">*Opera. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-413">*opera.browser*</span></span>
- <span data-ttu-id="667fc-414">*Safari. Browser*</span><span class="sxs-lookup"><span data-stu-id="667fc-414">*safari.browser*</span></span>

#### <a name="using-browser-capabilities-providers"></a><span data-ttu-id="667fc-415">Utilisation des fournisseurs de fonctionnalités de navigateur</span><span class="sxs-lookup"><span data-stu-id="667fc-415">Using Browser Capabilities Providers</span></span>

<span data-ttu-id="667fc-416">Dans ASP.NET version 3,5 Service Pack 1, vous pouvez définir les fonctionnalités d’un navigateur de l’une des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-416">In ASP.NET version 3.5 Service Pack 1, you can define the capabilities that a browser has in the following ways:</span></span>

- <span data-ttu-id="667fc-417">Au niveau de l’ordinateur, vous créez ou mettez à jour un fichier XML `.browser` dans le dossier suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-417">At the computer level, you create or update a `.browser` XML file in the following folder:</span></span>

- [!code-console[Main](overview/samples/sample27.cmd)]

- <span data-ttu-id="667fc-418">Une fois que vous avez défini la fonctionnalité du navigateur, exécutez la commande suivante à partir de l’invite de commandes de Visual Studio afin de régénérer l’assembly des fonctionnalités du navigateur et de l’ajouter au GAC :</span><span class="sxs-lookup"><span data-stu-id="667fc-418">After you define the browser capability, you run the following command from the Visual Studio Command Prompt in order to rebuild the browser capabilities assembly and add it to the GAC:</span></span>

- [!code-console[Main](overview/samples/sample28.cmd)]

- <span data-ttu-id="667fc-419">Pour une application individuelle, vous créez un fichier `.browser` dans le dossier `App_Browsers` de l’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-419">For an individual application, you create a `.browser` file in the application's `App_Browsers` folder.</span></span>

<span data-ttu-id="667fc-420">Ces approches nécessitent de modifier les fichiers XML et, pour les modifications au niveau de l’ordinateur, vous devez redémarrer l’application après avoir exécuté le processus ASPNET\_RegBrowsers. exe.</span><span class="sxs-lookup"><span data-stu-id="667fc-420">These approaches require you to change XML files, and for computer-level changes, you must restart the application after you run the aspnet\_regbrowsers.exe process.</span></span>

<span data-ttu-id="667fc-421">ASP.NET 4 comprend une fonctionnalité appelée fournisseurs de *fonctionnalités de navigateur*.</span><span class="sxs-lookup"><span data-stu-id="667fc-421">ASP.NET 4 includes a feature referred to as *browser capabilities providers*.</span></span> <span data-ttu-id="667fc-422">Comme son nom l’indique, cela vous permet de créer un fournisseur qui, à son tour, vous permet d’utiliser votre propre code pour déterminer les fonctionnalités du navigateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-422">As the name suggests, this lets you build a provider that in turn lets you use your own code to determine browser capabilities.</span></span>

<span data-ttu-id="667fc-423">En pratique, les développeurs ne définissent pas souvent des fonctionnalités de navigateur personnalisées.</span><span class="sxs-lookup"><span data-stu-id="667fc-423">In practice, developers often do not define custom browser capabilities.</span></span> <span data-ttu-id="667fc-424">Les fichiers de navigateur sont difficiles à mettre à jour, le processus de mise à jour est assez complexe et la syntaxe XML pour les fichiers de `.browser` peut être complexe à utiliser et à définir.</span><span class="sxs-lookup"><span data-stu-id="667fc-424">Browser files are hard to update, the process for updating them is fairly complicated, and the XML syntax for `.browser` files can be complex to use and define.</span></span> <span data-ttu-id="667fc-425">Ce processus serait beaucoup plus simple, s’il existait une syntaxe de définition de navigateur commune, ou une base de données qui contenait des définitions de navigateur à jour, ou même un service Web pour une telle base de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-425">What would make this process much easier is if there were a common browser definition syntax, or a database that contained up-to-date browser definitions, or even a Web service for such a database.</span></span> <span data-ttu-id="667fc-426">La nouvelle fonctionnalité des fournisseurs de fonctionnalités de navigateur rend ces scénarios possibles et pratiques pour les développeurs tiers.</span><span class="sxs-lookup"><span data-stu-id="667fc-426">The new browser capabilities providers feature makes these scenarios possible and practical for third-party developers.</span></span>

<span data-ttu-id="667fc-427">Il existe deux approches principales pour l’utilisation de la nouvelle fonctionnalité de fournisseur de fonctionnalités de navigateur ASP.NET 4 : extension de la fonctionnalité de définition des fonctionnalités du navigateur ASP.NET, ou remplacement total de celle-ci.</span><span class="sxs-lookup"><span data-stu-id="667fc-427">There are two main approaches for using the new ASP.NET 4 browser capabilities provider feature: extending the ASP.NET browser capabilities definition functionality, or totally replacing it.</span></span> <span data-ttu-id="667fc-428">Les sections suivantes décrivent d’abord comment remplacer la fonctionnalité, puis comment l’étendre.</span><span class="sxs-lookup"><span data-stu-id="667fc-428">The following sections describe first how to replace the functionality, and then how to extend it.</span></span>

#### <a name="replacing-the-aspnet-browser-capabilities-functionality"></a><span data-ttu-id="667fc-429">Remplacement de la fonctionnalité de fonctionnalités du navigateur ASP.NET</span><span class="sxs-lookup"><span data-stu-id="667fc-429">Replacing the ASP.NET Browser Capabilities Functionality</span></span>

<span data-ttu-id="667fc-430">Pour remplacer complètement la fonctionnalité de définition des fonctionnalités du navigateur ASP.NET, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-430">To replace the ASP.NET browser capabilities definition functionality completely, follow these steps:</span></span>

1. <span data-ttu-id="667fc-431">Créez une classe de fournisseur qui dérive de *HttpCapabilitiesProvider* et qui remplace la méthode *GetBrowserCapabilities* , comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-431">Create a provider class that derives from *HttpCapabilitiesProvider* and that overrides the *GetBrowserCapabilities* method, as in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample29.cs)]

    <span data-ttu-id="667fc-432">Le code de cet exemple crée un nouvel objet *HttpBrowserCapabilities* , en spécifiant uniquement la fonctionnalité nommée Browser et en définissant cette fonctionnalité sur MyCustomBrowser.</span><span class="sxs-lookup"><span data-stu-id="667fc-432">The code in this example creates a new *HttpBrowserCapabilities* object, specifying only the capability named browser and setting that capability to MyCustomBrowser.</span></span>
2. <span data-ttu-id="667fc-433">Inscrivez le fournisseur auprès de l’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-433">Register the provider with the application.</span></span> 

    <span data-ttu-id="667fc-434">Pour pouvoir utiliser un fournisseur avec une application, vous devez ajouter l’attribut *Provider* à la section *browserCaps* des fichiers `Web.config` ou `Machine.config`.</span><span class="sxs-lookup"><span data-stu-id="667fc-434">In order to use a provider with an application, you must add the *provider* attribute to the *browserCaps* section in the `Web.config` or `Machine.config` files.</span></span> <span data-ttu-id="667fc-435">(Vous pouvez également définir les attributs du fournisseur dans un élément *emplacement* pour des répertoires spécifiques dans l’application, par exemple dans un dossier pour un appareil mobile spécifique.) L’exemple suivant montre comment définir l’attribut *Provider* dans un fichier de configuration :</span><span class="sxs-lookup"><span data-stu-id="667fc-435">(You can also define the provider attributes in a *location* element for specific directories in application, such as in a folder for a specific mobile device.) The following example shows how to set the *provider* attribute in a configuration file:</span></span>

    [!code-xml[Main](overview/samples/sample30.xml)]

    <span data-ttu-id="667fc-436">Une autre façon d’inscrire la nouvelle définition de la fonctionnalité du navigateur consiste à utiliser le code, comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-436">Another way to register the new browser capability definition is to use code, as shown in the following example:</span></span>

    [!code-csharp[Main](overview/samples/sample31.cs)]

    <span data-ttu-id="667fc-437">Ce code doit s’exécuter dans l' *Application\_* événement de démarrage du fichier `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="667fc-437">This code must run in the *Application\_Start* event of the `Global.asax` file.</span></span> <span data-ttu-id="667fc-438">Toute modification apportée à la classe *BrowserCapabilitiesProvider* doit se produire avant l’exécution du code de l’application, afin de s’assurer que le cache reste dans un état valide pour l’objet *HttpCapabilitiesBase* résolu.</span><span class="sxs-lookup"><span data-stu-id="667fc-438">Any change to the *BrowserCapabilitiesProvider* class must occur before any code in the application executes, in order to make sure that the cache remains in a valid state for the resolved *HttpCapabilitiesBase* object.</span></span>

#### <a name="caching-the-httpbrowsercapabilities-object"></a><span data-ttu-id="667fc-439">Mise en cache de l’objet HttpBrowserCapabilities</span><span class="sxs-lookup"><span data-stu-id="667fc-439">Caching the HttpBrowserCapabilities Object</span></span>

<span data-ttu-id="667fc-440">L’exemple précédent présente un problème, à savoir que le code s’exécute chaque fois que le fournisseur personnalisé est appelé afin d’accéder à l’objet *HttpBrowserCapabilities* .</span><span class="sxs-lookup"><span data-stu-id="667fc-440">The preceding example has one problem, which is that the code would run each time the custom provider is invoked in order to get the *HttpBrowserCapabilities* object.</span></span> <span data-ttu-id="667fc-441">Cela peut se produire plusieurs fois lors de chaque demande.</span><span class="sxs-lookup"><span data-stu-id="667fc-441">This can happen multiple times during each request.</span></span> <span data-ttu-id="667fc-442">Dans l’exemple, le code du fournisseur ne fait pas grand-chose.</span><span class="sxs-lookup"><span data-stu-id="667fc-442">In the example, the code for the provider does not do much.</span></span> <span data-ttu-id="667fc-443">Toutefois, si le code de votre fournisseur personnalisé effectue un travail significatif afin d’accéder à l’objet *HttpBrowserCapabilities* , cela peut affecter les performances.</span><span class="sxs-lookup"><span data-stu-id="667fc-443">However, if the code in your custom provider performs significant work in order to get the *HttpBrowserCapabilities* object, this can affect performance.</span></span> <span data-ttu-id="667fc-444">Pour éviter ce problème, vous pouvez mettre en cache l’objet *HttpBrowserCapabilities* .</span><span class="sxs-lookup"><span data-stu-id="667fc-444">To prevent this from happening, you can cache the *HttpBrowserCapabilities* object.</span></span> <span data-ttu-id="667fc-445">Suivez les étapes ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="667fc-445">Follow these steps:</span></span>

1. <span data-ttu-id="667fc-446">Créez une classe qui dérive de *HttpCapabilitiesProvider*, comme celle de l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-446">Create a class that derives from *HttpCapabilitiesProvider*, like the one in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample32.cs)]

    <span data-ttu-id="667fc-447">Dans l’exemple, le code génère une clé de cache en appelant une méthode BuildCacheKey personnalisée et obtient la durée de mise en cache en appelant une méthode GetCacheTime personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-447">In the example, the code generates a cache key by calling a custom BuildCacheKey method, and it gets the length of time to cache by calling a custom GetCacheTime method.</span></span> <span data-ttu-id="667fc-448">Le code ajoute ensuite l’objet *HttpBrowserCapabilities* résolu au cache.</span><span class="sxs-lookup"><span data-stu-id="667fc-448">The code then adds the resolved *HttpBrowserCapabilities* object to the cache.</span></span> <span data-ttu-id="667fc-449">L’objet peut être récupéré à partir du cache et réutilisé sur les demandes suivantes qui utilisent le fournisseur personnalisé.</span><span class="sxs-lookup"><span data-stu-id="667fc-449">The object can be retrieved from the cache and reused on subsequent requests that make use of the custom provider.</span></span>
2. <span data-ttu-id="667fc-450">Inscrivez le fournisseur auprès de l’application, comme décrit dans la procédure précédente.</span><span class="sxs-lookup"><span data-stu-id="667fc-450">Register the provider with the application as described in the preceding procedure.</span></span>

#### <a name="extending-aspnet-browser-capabilities-functionality"></a><span data-ttu-id="667fc-451">Extension de la fonctionnalité de fonctionnalités du navigateur ASP.NET</span><span class="sxs-lookup"><span data-stu-id="667fc-451">Extending ASP.NET Browser Capabilities Functionality</span></span>

<span data-ttu-id="667fc-452">La section précédente a décrit comment créer un nouvel objet *HttpBrowserCapabilities* dans ASP.net 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-452">The previous section described how to create a new *HttpBrowserCapabilities* object in ASP.NET 4.</span></span> <span data-ttu-id="667fc-453">Vous pouvez également étendre la fonctionnalité de fonctionnalités du navigateur ASP.NET en ajoutant de nouvelles définitions de fonctionnalités de navigateur à celles qui figurent déjà dans ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="667fc-453">You can also extend the ASP.NET browser capabilities functionality by adding new browser capabilities definitions to those that are already in ASP.NET.</span></span> <span data-ttu-id="667fc-454">Vous pouvez le faire sans utiliser les définitions du navigateur XML.</span><span class="sxs-lookup"><span data-stu-id="667fc-454">You can do this without using the XML browser definitions.</span></span> <span data-ttu-id="667fc-455">La procédure suivante montre comment procéder.</span><span class="sxs-lookup"><span data-stu-id="667fc-455">The following procedure shows how.</span></span>

1. <span data-ttu-id="667fc-456">Créez une classe qui dérive de *HttpCapabilitiesEvaluator* et qui remplace la méthode *GetBrowserCapabilities* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-456">Create a class that derives from *HttpCapabilitiesEvaluator* and that overrides the *GetBrowserCapabilities* method, as shown in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample33.cs)]

    <span data-ttu-id="667fc-457">Ce code utilise tout d’abord la fonctionnalité de fonctionnalités du navigateur ASP.NET pour tenter d’identifier le navigateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-457">This code first uses the ASP.NET browser capabilities functionality to try to identify the browser.</span></span> <span data-ttu-id="667fc-458">Toutefois, si aucun navigateur n’est identifié en fonction des informations définies dans la demande (autrement dit, si la propriété *Browser* de l’objet *HttpBrowserCapabilities* est la chaîne « Unknown »), le code appelle le fournisseur personnalisé (MyBrowserCapabilitiesEvaluator) pour identifier le navigateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-458">However, if no browser is identified based on the information defined in the request (that is, if the *Browser* property of the *HttpBrowserCapabilities* object is the string "Unknown"), the code calls the custom provider (MyBrowserCapabilitiesEvaluator) to identify the browser.</span></span>
2. <span data-ttu-id="667fc-459">Inscrivez le fournisseur auprès de l’application, comme décrit dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="667fc-459">Register the provider with the application as described in the previous example.</span></span>

#### <a name="extending-browser-capabilities-functionality-by-adding-new-capabilities-to-existing-capabilities-definitions"></a><span data-ttu-id="667fc-460">Extension des fonctionnalités des fonctionnalités du navigateur en ajoutant de nouvelles fonctionnalités aux définitions de fonctionnalités existantes</span><span class="sxs-lookup"><span data-stu-id="667fc-460">Extending Browser Capabilities Functionality by Adding New Capabilities to Existing Capabilities Definitions</span></span>

<span data-ttu-id="667fc-461">En plus de créer un fournisseur de définitions de navigateur personnalisé et de créer dynamiquement de nouvelles définitions de navigateur, vous pouvez étendre les définitions de navigateur existantes avec des fonctionnalités supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="667fc-461">In addition to creating a custom browser definition provider and to dynamically creating new browser definitions, you can extend existing browser definitions with additional capabilities.</span></span> <span data-ttu-id="667fc-462">Cela vous permet d’utiliser une définition qui est proche de ce que vous souhaitez, mais qui ne dispose que de quelques fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="667fc-462">This lets you use a definition that is close to what you want but lacks only a few capabilities.</span></span> <span data-ttu-id="667fc-463">Pour ce faire, effectuez les étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="667fc-463">To do this, use the following steps.</span></span>

1. <span data-ttu-id="667fc-464">Créez une classe qui dérive de *HttpCapabilitiesEvaluator* et qui remplace la méthode *GetBrowserCapabilities* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-464">Create a class that derives from *HttpCapabilitiesEvaluator* and that overrides the *GetBrowserCapabilities* method, as shown in the following example:</span></span> 

    [!code-csharp[Main](overview/samples/sample34.cs)]

    <span data-ttu-id="667fc-465">L’exemple de code étend la classe ASP.NET *HttpCapabilitiesEvaluator* existante et obtient l’objet *HttpBrowserCapabilities* qui correspond à la définition de la requête actuelle à l’aide du code suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-465">The example code extends the existing ASP.NET *HttpCapabilitiesEvaluator* class and gets the *HttpBrowserCapabilities* object that matches the current request definition by using the following code:</span></span>

    [!code-csharp[Main](overview/samples/sample35.cs)]

    <span data-ttu-id="667fc-466">Le code peut ensuite ajouter ou modifier une fonctionnalité pour ce navigateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-466">The code can then add or modify a capability for this browser.</span></span> <span data-ttu-id="667fc-467">Il existe deux façons de spécifier une nouvelle fonctionnalité de navigateur :</span><span class="sxs-lookup"><span data-stu-id="667fc-467">There are two ways to specify a new browser capability:</span></span>

    - <span data-ttu-id="667fc-468">Ajoutez une paire clé/valeur à l’objet *IDictionary* exposé par la propriété *Capabilities* de l’objet *HttpCapabilitiesBase* .</span><span class="sxs-lookup"><span data-stu-id="667fc-468">Add a key/value pair to the *IDictionary* object that is exposed by the *Capabilities* property of the *HttpCapabilitiesBase* object.</span></span> <span data-ttu-id="667fc-469">Dans l’exemple précédent, le code ajoute une fonctionnalité nommée multipoint avec la valeur *true*.</span><span class="sxs-lookup"><span data-stu-id="667fc-469">In the previous example, the code adds a capability named MultiTouch with a value of *true*.</span></span>
    - <span data-ttu-id="667fc-470">Définissez les propriétés existantes de l’objet *HttpCapabilitiesBase* .</span><span class="sxs-lookup"><span data-stu-id="667fc-470">Set existing properties of the *HttpCapabilitiesBase* object.</span></span> <span data-ttu-id="667fc-471">Dans l’exemple précédent, le code définit la propriété *frames* sur *true*.</span><span class="sxs-lookup"><span data-stu-id="667fc-471">In the previous example, the code sets the *Frames* property to *true*.</span></span> <span data-ttu-id="667fc-472">Cette propriété est simplement un accesseur pour l’objet *IDictionary* qui est exposé par la propriété *Capabilities* .</span><span class="sxs-lookup"><span data-stu-id="667fc-472">This property is simply an accessor for the *IDictionary* object that is exposed by the *Capabilities* property.</span></span> 

        > [!NOTE]
        > <span data-ttu-id="667fc-473">Notez que ce modèle s’applique à toute propriété de *HttpBrowserCapabilities*, y compris les adaptateurs de contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-473">Note This model applies to any property of *HttpBrowserCapabilities*, including control adapters.</span></span>
2. <span data-ttu-id="667fc-474">Inscrivez le fournisseur auprès de l’application, comme décrit dans la procédure précédente.</span><span class="sxs-lookup"><span data-stu-id="667fc-474">Register the provider with the application as described in the earlier procedure.</span></span>

<a id="0.2__Toc224729036"></a><a id="0.2__Toc253429260"></a><a id="0.2__Toc243304634"></a>

### <a name="routing-in-aspnet-4"></a><span data-ttu-id="667fc-475">Routage dans ASP.NET 4</span><span class="sxs-lookup"><span data-stu-id="667fc-475">Routing in ASP.NET 4</span></span>

<span data-ttu-id="667fc-476">ASP.NET 4 ajoute une prise en charge intégrée de l’utilisation du routage avec Web Forms.</span><span class="sxs-lookup"><span data-stu-id="667fc-476">ASP.NET 4 adds built-in support for using routing with Web Forms.</span></span> <span data-ttu-id="667fc-477">Le routage vous permet de configurer une application pour accepter des URL de requête qui ne sont pas mappées à des fichiers physiques.</span><span class="sxs-lookup"><span data-stu-id="667fc-477">Routing lets you configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="667fc-478">Au lieu de cela, vous pouvez utiliser le routage pour définir des URL qui sont significatives pour les utilisateurs et qui peuvent faciliter l’optimisation du moteur de recherche (SEO) pour votre application.</span><span class="sxs-lookup"><span data-stu-id="667fc-478">Instead, you can use routing to define URLs that are meaningful to users and that can help with search-engine optimization (SEO) for your application.</span></span> <span data-ttu-id="667fc-479">Par exemple, l’URL d’une page qui affiche des catégories de produits dans une application existante peut se présenter comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-479">For example, the URL for a page that displays product categories in an existing application might look like the following example:</span></span>

[!code-console[Main](overview/samples/sample36.cmd)]

<span data-ttu-id="667fc-480">En utilisant le routage, vous pouvez configurer l’application pour qu’elle accepte l’URL suivante pour afficher les mêmes informations :</span><span class="sxs-lookup"><span data-stu-id="667fc-480">By using routing, you can configure the application to accept the following URL to render the same information:</span></span>

[!code-console[Main](overview/samples/sample37.cmd)]

<span data-ttu-id="667fc-481">Le routage est disponible à partir de ASP.NET 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="667fc-481">Routing has been available starting with ASP.NET 3.5 SP1.</span></span> <span data-ttu-id="667fc-482">(Pour obtenir un exemple d’utilisation du routage dans ASP.NET 3,5 SP1, consultez l’entrée [utilisation du routage avec WebForms](http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx "Titre de cette entrée.") sur le blog de Phil Haack.) Toutefois, ASP.NET 4 inclut des fonctionnalités qui facilitent l’utilisation du routage, notamment les suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-482">(For an example of how to use routing in ASP.NET 3.5 SP1, see the entry [Using Routing With WebForms](http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx "Title of this entry.") on Phil Haack's blog.) However, ASP.NET 4 includes some features that make it easier to use routing, including the following:</span></span>

- <span data-ttu-id="667fc-483">La classe *PageRouteHandler* , qui est un simple gestionnaire HTTP que vous utilisez lorsque vous définissez des itinéraires.</span><span class="sxs-lookup"><span data-stu-id="667fc-483">The *PageRouteHandler* class, which is a simple HTTP handler that you use when you define routes.</span></span> <span data-ttu-id="667fc-484">La classe transmet les données à la page vers laquelle la demande est routée.</span><span class="sxs-lookup"><span data-stu-id="667fc-484">The class passes data to the page that the request is routed to.</span></span>
- <span data-ttu-id="667fc-485">Les nouvelles propriétés *HttpRequest. RequestContext* et *page. RouteData* (qui est un proxy pour l’objet *HttpRequest. RequestContext. RouteData* ).</span><span class="sxs-lookup"><span data-stu-id="667fc-485">The new properties *HttpRequest.RequestContext* and *Page.RouteData* (which is a proxy for the *HttpRequest.RequestContext.RouteData* object).</span></span> <span data-ttu-id="667fc-486">Ces propriétés facilitent l’accès aux informations qui sont transmises à partir de l’itinéraire.</span><span class="sxs-lookup"><span data-stu-id="667fc-486">These properties make it easier to access information that is passed from the route.</span></span>
- <span data-ttu-id="667fc-487">Les nouveaux générateurs d’expressions suivants, qui sont définis dans *System. Web. Compilation. RouteUrlExpressionBuilder* et *System. Web. Compilation. RouteValueExpressionBuilder*:</span><span class="sxs-lookup"><span data-stu-id="667fc-487">The following new expression builders, which are defined in *System.Web.Compilation.RouteUrlExpressionBuilder* and *System.Web.Compilation.RouteValueExpressionBuilder*:</span></span>
- <span data-ttu-id="667fc-488">*RouteUrl*, qui fournit un moyen simple de créer une URL qui correspond à une URL de routage dans un contrôle serveur ASP.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-488">*RouteUrl*, which provides a simple way to create a URL that corresponds to a route URL within an ASP.NET server control.</span></span>
- <span data-ttu-id="667fc-489">*RouteValue*, qui fournit un moyen simple d’extraire des informations de l’objet *RouteContext* .</span><span class="sxs-lookup"><span data-stu-id="667fc-489">*RouteValue*, which provides a simple way to extract information from the *RouteContext* object.</span></span>
- <span data-ttu-id="667fc-490">La classe *RouteParameter* , qui permet de passer plus facilement les données contenues dans un objet *RouteContext* à une requête pour un contrôle de source de données (semblable à [*FormParameter*](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx)).</span><span class="sxs-lookup"><span data-stu-id="667fc-490">The *RouteParameter* class, which makes it easier to pass data contained in a *RouteContext* object to a query for a data source control (similar to [*FormParameter*](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx)).</span></span>

#### <a name="routing-for-web-forms-pages"></a><span data-ttu-id="667fc-491">Routage pour les pages Web Forms</span><span class="sxs-lookup"><span data-stu-id="667fc-491">Routing for Web Forms Pages</span></span>

<span data-ttu-id="667fc-492">L’exemple suivant montre comment définir un itinéraire Web Forms à l’aide de la nouvelle méthode *MapPageRoute* de la classe *route* :</span><span class="sxs-lookup"><span data-stu-id="667fc-492">The following example shows how to define a Web Forms route by using the new *MapPageRoute* method of the *Route* class:</span></span>

[!code-csharp[Main](overview/samples/sample38.cs)]

<span data-ttu-id="667fc-493">ASP.NET 4 introduit la méthode *MapPageRoute* .</span><span class="sxs-lookup"><span data-stu-id="667fc-493">ASP.NET 4 introduces the *MapPageRoute* method.</span></span> <span data-ttu-id="667fc-494">L’exemple suivant est équivalent à la définition SearchRoute indiquée dans l’exemple précédent, mais utilise la classe *PageRouteHandler* .</span><span class="sxs-lookup"><span data-stu-id="667fc-494">The following example is equivalent to the SearchRoute definition shown in the previous example, but uses the *PageRouteHandler* class.</span></span>

[!code-csharp[Main](overview/samples/sample39.cs)]

<span data-ttu-id="667fc-495">Le code de l’exemple mappe l’itinéraire à une page physique (dans le premier itinéraire, à `~/search.aspx`).</span><span class="sxs-lookup"><span data-stu-id="667fc-495">The code in the example maps the route to a physical page (in the first route, to `~/search.aspx`).</span></span> <span data-ttu-id="667fc-496">La première définition de route spécifie également que le paramètre nommé searchTerm doit être extrait de l’URL et transmis à la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-496">The first route definition also specifies that the parameter named searchterm should be extracted from the URL and passed to the page.</span></span>

<span data-ttu-id="667fc-497">La méthode *MapPageRoute* prend en charge les surcharges de méthode suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-497">The *MapPageRoute* method supports the following method overloads:</span></span>

- <span data-ttu-id="667fc-498">*MapPageRoute (String routeName, String routeUrl, String physicalFile, bool checkPhysicalUrlAccess)*</span><span class="sxs-lookup"><span data-stu-id="667fc-498">*MapPageRoute(string routeName, string routeUrl, string physicalFile, bool checkPhysicalUrlAccess)*</span></span>
- <span data-ttu-id="667fc-499">*MapPageRoute (String routeName, String routeUrl, String physicalFile, bool checkPhysicalUrlAccess, RouteValueDictionary valeurs par défaut)*</span><span class="sxs-lookup"><span data-stu-id="667fc-499">*MapPageRoute(string routeName, string routeUrl, string physicalFile, bool checkPhysicalUrlAccess, RouteValueDictionary defaults)*</span></span>
- <span data-ttu-id="667fc-500">*MapPageRoute (String routeName, String routeUrl, String physicalFile, bool checkPhysicalUrlAccess, RouteValueDictionary valeurs par défaut, contraintes RouteValueDictionary)*</span><span class="sxs-lookup"><span data-stu-id="667fc-500">*MapPageRoute(string routeName, string routeUrl, string physicalFile, bool checkPhysicalUrlAccess, RouteValueDictionary defaults, RouteValueDictionary constraints)*</span></span>

<span data-ttu-id="667fc-501">Le paramètre *checkPhysicalUrlAccess* spécifie si l’itinéraire doit vérifier les autorisations de sécurité pour la page physique en cours de routage (dans ce cas, Search. aspx) et les autorisations sur l’URL entrante (dans ce cas, search/{searchterm}).</span><span class="sxs-lookup"><span data-stu-id="667fc-501">The *checkPhysicalUrlAccess* parameter specifies whether the route should check the security permissions for the physical page being routed to (in this case, search.aspx) and the permissions on the incoming URL (in this case, search/{searchterm}).</span></span> <span data-ttu-id="667fc-502">Si la valeur de *checkPhysicalUrlAccess* est *false*, seules les autorisations de l’URL entrante sont vérifiées.</span><span class="sxs-lookup"><span data-stu-id="667fc-502">If the value of *checkPhysicalUrlAccess* is *false*, only the permissions of the incoming URL will be checked.</span></span> <span data-ttu-id="667fc-503">Ces autorisations sont définies dans le fichier `Web.config` à l’aide de paramètres tels que les suivants :</span><span class="sxs-lookup"><span data-stu-id="667fc-503">These permissions are defined in the `Web.config` file using settings such as the following:</span></span>

[!code-xml[Main](overview/samples/sample40.xml)]

<span data-ttu-id="667fc-504">Dans l’exemple de configuration, l’accès est refusé à la page physique `search.aspx` pour tous les utilisateurs, à l’exception de ceux qui appartiennent au rôle d’administrateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-504">In the example configuration, access is denied to the physical page `search.aspx` for all users except those who are in the admin role.</span></span> <span data-ttu-id="667fc-505">Lorsque le paramètre *checkPhysicalUrlAccess* a la valeur *true* (valeur par défaut), seuls les utilisateurs administrateurs sont autorisés à accéder à l’URL/search/{searchterm}, car la page physique Search. aspx est limitée aux utilisateurs de ce rôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-505">When the *checkPhysicalUrlAccess* parameter is set to *true* (which is its default value), only admin users are allowed to access the URL /search/{searchterm}, because the physical page search.aspx is restricted to users in that role.</span></span> <span data-ttu-id="667fc-506">Si *checkPhysicalUrlAccess* est défini sur *false* et que le site est configuré comme indiqué dans l’exemple précédent, tous les utilisateurs authentifiés sont autorisés à accéder à l’URL/search/{searchterm}.</span><span class="sxs-lookup"><span data-stu-id="667fc-506">If *checkPhysicalUrlAccess* is set to *false* and the site is configured as shown in the previous example, all authenticated users are allowed to access the URL /search/{searchterm}.</span></span>

#### <a name="reading-routing-information-in-a-web-forms-page"></a><span data-ttu-id="667fc-507">Lecture des informations de routage dans une page Web Forms</span><span class="sxs-lookup"><span data-stu-id="667fc-507">Reading Routing Information in a Web Forms Page</span></span>

<span data-ttu-id="667fc-508">Dans le code de la page physique Web Forms, vous pouvez accéder aux informations que le routage a extraites de l’URL (ou d’autres informations qu’un autre objet a ajoutées à l’objet *RouteData* ) à l’aide de deux nouvelles propriétés : *HttpRequest. RequestContext* et *page. RouteData*.</span><span class="sxs-lookup"><span data-stu-id="667fc-508">In the code of the Web Forms physical page, you can access the information that routing has extracted from the URL (or other information that another object has added to the *RouteData* object) by using two new properties: *HttpRequest.RequestContext* and *Page.RouteData*.</span></span> <span data-ttu-id="667fc-509">(*Page. RouteData* inclut *HttpRequest. RequestContext. RouteData*.) L’exemple suivant montre comment utiliser *page. RouteData*.</span><span class="sxs-lookup"><span data-stu-id="667fc-509">(*Page.RouteData* wraps *HttpRequest.RequestContext.RouteData*.) The following example shows how to use *Page.RouteData*.</span></span>

[!code-csharp[Main](overview/samples/sample41.cs)]

<span data-ttu-id="667fc-510">Le code extrait la valeur qui a été transmise pour le paramètre searchTerm, comme défini dans l’exemple d’itinéraire précédent.</span><span class="sxs-lookup"><span data-stu-id="667fc-510">The code extracts the value that was passed for the searchterm parameter, as defined in the example route earlier.</span></span> <span data-ttu-id="667fc-511">Examinez l’URL de requête suivante :</span><span class="sxs-lookup"><span data-stu-id="667fc-511">Consider the following request URL:</span></span>

[!code-console[Main](overview/samples/sample42.cmd)]

<span data-ttu-id="667fc-512">Lorsque cette demande est effectuée, le mot « Scott » s’affiche dans la page `search.aspx`.</span><span class="sxs-lookup"><span data-stu-id="667fc-512">When this request is made, the word "scott" would be rendered in the `search.aspx` page.</span></span>

#### <a name="accessing-routing-information-in-markup"></a><span data-ttu-id="667fc-513">Accès aux informations de routage dans le balisage</span><span class="sxs-lookup"><span data-stu-id="667fc-513">Accessing Routing Information in Markup</span></span>

<span data-ttu-id="667fc-514">La méthode décrite dans la section précédente montre comment obtenir des données de routage dans le code d’une page de Web Forms.</span><span class="sxs-lookup"><span data-stu-id="667fc-514">The method described in the previous section shows how to get route data in code in a Web Forms page.</span></span> <span data-ttu-id="667fc-515">Vous pouvez également utiliser des expressions dans le balisage qui vous permettent d’accéder aux mêmes informations.</span><span class="sxs-lookup"><span data-stu-id="667fc-515">You can also use expressions in markup that give you access to the same information.</span></span> <span data-ttu-id="667fc-516">Les générateurs d’expressions sont un moyen puissant et élégant d’utiliser du code déclaratif.</span><span class="sxs-lookup"><span data-stu-id="667fc-516">Expression builders are a powerful and elegant way to work with declarative code.</span></span> <span data-ttu-id="667fc-517">(Pour plus d’informations, consultez l’entrée [Express avec les générateurs d’expressions personnalisées](http://haacked.com/archive/2006/11/29/Express_Yourself_With_Custom_Expression_Builders.aspx) sur le blog de Phil Haack.)</span><span class="sxs-lookup"><span data-stu-id="667fc-517">(For more information, see the entry [Express Yourself With Custom Expression Builders](http://haacked.com/archive/2006/11/29/Express_Yourself_With_Custom_Expression_Builders.aspx) on Phil Haack's blog.)</span></span>

<span data-ttu-id="667fc-518">ASP.NET 4 comprend deux nouveaux générateurs d’expressions pour le routage Web Forms.</span><span class="sxs-lookup"><span data-stu-id="667fc-518">ASP.NET 4 includes two new expression builders for Web Forms routing.</span></span> <span data-ttu-id="667fc-519">L’exemple suivant montre comment les utiliser.</span><span class="sxs-lookup"><span data-stu-id="667fc-519">The following example shows how to use them.</span></span>

[!code-aspx[Main](overview/samples/sample43.aspx)]

<span data-ttu-id="667fc-520">Dans l’exemple, l’expression *RouteUrl* est utilisée pour définir une URL basée sur un paramètre d’itinéraire.</span><span class="sxs-lookup"><span data-stu-id="667fc-520">In the example, the *RouteUrl* expression is used to define a URL that is based on a route parameter.</span></span> <span data-ttu-id="667fc-521">Cela vous évite d’avoir à coder en dur l’URL complète dans le balisage et vous permet de modifier la structure d’URL ultérieurement sans avoir à modifier ce lien.</span><span class="sxs-lookup"><span data-stu-id="667fc-521">This saves you from having to hard-code the complete URL into the markup, and lets you change the URL structure later without requiring any change to this link.</span></span>

<span data-ttu-id="667fc-522">En fonction de l’itinéraire défini précédemment, ce balisage génère l’URL suivante :</span><span class="sxs-lookup"><span data-stu-id="667fc-522">Based on the route defined earlier, this markup generates the following URL:</span></span>

[!code-console[Main](overview/samples/sample44.cmd)]

<span data-ttu-id="667fc-523">ASP.NET utilise automatiquement l’itinéraire correct (autrement dit, il génère l’URL correcte) en fonction des paramètres d’entrée.</span><span class="sxs-lookup"><span data-stu-id="667fc-523">ASP.NET automatically works out the correct route (that is, it generates the correct URL) based on the input parameters.</span></span> <span data-ttu-id="667fc-524">Vous pouvez également inclure un nom d’itinéraire dans l’expression, ce qui vous permet de spécifier un itinéraire à utiliser.</span><span class="sxs-lookup"><span data-stu-id="667fc-524">You can also include a route name in the expression, which lets you specify a route to use.</span></span>

<span data-ttu-id="667fc-525">L’exemple suivant montre comment utiliser l’expression *RouteValue* .</span><span class="sxs-lookup"><span data-stu-id="667fc-525">The following example shows how to use the *RouteValue* expression.</span></span>

[!code-aspx[Main](overview/samples/sample45.aspx)]

<span data-ttu-id="667fc-526">Quand la page qui contient ce contrôle s’exécute, la valeur « Scott » s’affiche dans l’étiquette.</span><span class="sxs-lookup"><span data-stu-id="667fc-526">When the page that contains this control runs, the value "scott" is displayed in the label.</span></span>

<span data-ttu-id="667fc-527">L’expression *RouteValue* facilite l’utilisation des données d’itinéraire dans le balisage et évite d’avoir à utiliser la syntaxe page. RouteData ["x"] plus complexe dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="667fc-527">The *RouteValue* expression makes it simple to use route data in markup, and it avoids having to work with the more complex Page.RouteData["x"] syntax in markup.</span></span>

#### <a name="using-route-data-for-data-source-control-parameters"></a><span data-ttu-id="667fc-528">Utilisation des données d’itinéraire pour les paramètres de contrôle de source de données</span><span class="sxs-lookup"><span data-stu-id="667fc-528">Using Route Data for Data Source Control Parameters</span></span>

<span data-ttu-id="667fc-529">La classe *RouteParameter* vous permet de spécifier des données de routage comme valeur de paramètre pour les requêtes dans un contrôle de source de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-529">The *RouteParameter* class lets you specify route data as a parameter value for queries in a data source control.</span></span> <span data-ttu-id="667fc-530">Il [fonctionne très bien comme la](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx) classe, comme illustré dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-530">It [works much like the](https://msdn.microsoft.com/library/system.web.ui.webcontrols.formparameter.aspx) class, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample46.aspx)]

<span data-ttu-id="667fc-531">Dans ce cas, la valeur du paramètre d’itinéraire searchTerm sera utilisée pour le paramètre @companyname dans l’instruction *Select* .</span><span class="sxs-lookup"><span data-stu-id="667fc-531">In this case, the value of the route parameter searchterm will be used for the @companyname parameter in the *Select* statement.</span></span>

<a id="0.2__Toc224729037"></a><a id="0.2__Toc253429261"></a><a id="0.2__Toc243304635"></a>

### <a name="setting-client-ids"></a><span data-ttu-id="667fc-532">Définition des ID client</span><span class="sxs-lookup"><span data-stu-id="667fc-532">Setting Client IDs</span></span>

<span data-ttu-id="667fc-533">La nouvelle propriété *ClientIDMode* résout un problème de longue durée dans ASP.net, à savoir comment les contrôles créent l’attribut *ID* pour les éléments qu’ils restituent.</span><span class="sxs-lookup"><span data-stu-id="667fc-533">The new *ClientIDMode* property addresses a long-standing issue in ASP.NET, namely how controls create the *id* attribute for elements that they render.</span></span> <span data-ttu-id="667fc-534">Il est important de connaître l’attribut *ID* pour les éléments rendus si votre application comprend un script client qui fait référence à ces éléments.</span><span class="sxs-lookup"><span data-stu-id="667fc-534">Knowing the *id* attribute for rendered elements is important if your application includes client script that references these elements.</span></span>

<span data-ttu-id="667fc-535">L’attribut *ID* dans le code HTML rendu pour les contrôles serveur Web est généré en fonction de la propriété *ClientID* du contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-535">The *id* attribute in HTML that is rendered for Web server controls is generated based on the *ClientID* property of the control.</span></span> <span data-ttu-id="667fc-536">Jusqu’à ASP.NET 4, l’algorithme de génération de l’attribut *ID* à partir de la propriété *ClientID* était de concaténer le conteneur d’attribution de noms (le cas échéant) avec l’ID et, dans le cas de contrôles répétés (comme dans les contrôles de données), d’ajouter un préfixe et un numéro séquentiel.</span><span class="sxs-lookup"><span data-stu-id="667fc-536">Until ASP.NET 4, the algorithm for generating the *id* attribute from the *ClientID* property has been to concatenate the naming container (if any) with the ID, and in the case of repeated controls (as in data controls), to add a prefix and a sequential number.</span></span> <span data-ttu-id="667fc-537">Bien que cela ait toujours garanti que les ID des contrôles dans la page soient uniques, l’algorithme a généré des ID de contrôle qui n’étaient pas prévisibles et étaient donc difficiles à référencer dans le script client.</span><span class="sxs-lookup"><span data-stu-id="667fc-537">While this has always guaranteed that the IDs of controls in the page are unique, the algorithm has resulted in control IDs that were not predictable, and were therefore difficult to reference in client script.</span></span>

<span data-ttu-id="667fc-538">La nouvelle propriété *ClientIDMode* vous permet de spécifier plus précisément la manière dont l’ID client est généré pour les contrôles.</span><span class="sxs-lookup"><span data-stu-id="667fc-538">The new *ClientIDMode* property lets you specify more precisely how the client ID is generated for controls.</span></span> <span data-ttu-id="667fc-539">Vous pouvez définir la propriété *ClientIDMode* pour n’importe quel contrôle, y compris pour la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-539">You can set the *ClientIDMode* property for any control, including for the page.</span></span> <span data-ttu-id="667fc-540">Les paramètres possibles sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="667fc-540">Possible settings are the following:</span></span>

- <span data-ttu-id="667fc-541">*AutoID* : il s’agit de l’équivalent de l’algorithme pour générer les valeurs des propriétés *ClientID* qui ont été utilisées dans les versions antérieures de ASP.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-541">*AutoID* – This is equivalent to the algorithm for generating *ClientID* property values that was used in earlier versions of ASP.NET.</span></span>
- <span data-ttu-id="667fc-542">*Static* : spécifie que la valeur *ClientID* sera identique à celle de l’ID sans concaténer les ID des conteneurs d’attribution de noms parents.</span><span class="sxs-lookup"><span data-stu-id="667fc-542">*Static* – This specifies that the *ClientID* value will be the same as the ID without concatenating the IDs of parent naming containers.</span></span> <span data-ttu-id="667fc-543">Cela peut être utile dans les contrôles utilisateur Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-543">This can be useful in Web user controls.</span></span> <span data-ttu-id="667fc-544">Étant donné qu’un contrôle utilisateur Web peut se trouver sur des pages différentes et dans des contrôles conteneurs différents, il peut être difficile d’écrire un script client pour les contrôles qui utilisent l’algorithme *AutoID* , car vous ne pouvez pas prédire les valeurs d’ID.</span><span class="sxs-lookup"><span data-stu-id="667fc-544">Because a Web user control can be located on different pages and in different container controls, it can be difficult to write client script for controls that use the *AutoID* algorithm because you cannot predict what the ID values will be.</span></span>
- <span data-ttu-id="667fc-545">*Prévisible* : cette option est principalement destinée à être utilisée dans les contrôles de données qui utilisent des modèles répétitifs.</span><span class="sxs-lookup"><span data-stu-id="667fc-545">*Predictable* – This option is primarily for use in data controls that use repeating templates.</span></span> <span data-ttu-id="667fc-546">Elle concatène les propriétés d’ID des conteneurs d’attribution de noms du contrôle, mais les valeurs *ClientID* générées ne contiennent pas de chaînes telles que « ctlxxx ».</span><span class="sxs-lookup"><span data-stu-id="667fc-546">It concatenates the ID properties of the control's naming containers, but generated *ClientID* values do not contain strings like "ctlxxx".</span></span> <span data-ttu-id="667fc-547">Ce paramètre fonctionne conjointement avec la propriété *ClientIDRowSuffix* du contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-547">This setting works in conjunction with the *ClientIDRowSuffix* property of the control.</span></span> <span data-ttu-id="667fc-548">Vous définissez la propriété *ClientIDRowSuffix* sur le nom d’un champ de données, et la valeur de ce champ est utilisée comme suffixe pour la valeur *ClientID* générée.</span><span class="sxs-lookup"><span data-stu-id="667fc-548">You set the *ClientIDRowSuffix* property to the name of a data field, and the value of that field is used as the suffix for the generated *ClientID* value.</span></span> <span data-ttu-id="667fc-549">En général, vous utilisez la clé primaire d’un enregistrement de données comme valeur *ClientIDRowSuffix* .</span><span class="sxs-lookup"><span data-stu-id="667fc-549">Typically you would use the primary key of a data record as the *ClientIDRowSuffix* value.</span></span>
- <span data-ttu-id="667fc-550">*Inherit* : ce paramètre est le comportement par défaut pour les contrôles. elle spécifie que la génération d’ID d’un contrôle est identique à celle de son parent.</span><span class="sxs-lookup"><span data-stu-id="667fc-550">*Inherit* – This setting is the default behavior for controls; it specifies that a control's ID generation is the same as its parent.</span></span>

<span data-ttu-id="667fc-551">Vous pouvez définir la propriété *ClientIDMode* au niveau de la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-551">You can set the *ClientIDMode* property at the page level.</span></span> <span data-ttu-id="667fc-552">Cela définit la valeur *ClientIDMode* par défaut pour tous les contrôles de la page active.</span><span class="sxs-lookup"><span data-stu-id="667fc-552">This defines the default *ClientIDMode* value for all controls in the current page.</span></span>

<span data-ttu-id="667fc-553">La valeur *ClientIDMode* par défaut au niveau de la page est *AutoID*, et la valeur *ClientIDMode* par défaut au niveau du contrôle est *inherit*.</span><span class="sxs-lookup"><span data-stu-id="667fc-553">The default *ClientIDMode* value at the page level is *AutoID*, and the default *ClientIDMode* value at the control level is *Inherit*.</span></span> <span data-ttu-id="667fc-554">Par conséquent, si vous ne définissez pas cette propriété n’importe où dans votre code, tous les contrôles auront comme valeur par défaut l’algorithme *AutoID* .</span><span class="sxs-lookup"><span data-stu-id="667fc-554">As a result, if you do not set this property anywhere in your code, all controls will default to the *AutoID* algorithm.</span></span>

<span data-ttu-id="667fc-555">Vous définissez la valeur au niveau de la page dans la directive *@ page* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-555">You set the page-level value in the *@ Page* directive, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample47.aspx)]

<span data-ttu-id="667fc-556">Vous pouvez également définir la valeur *ClientIDMode* dans le fichier de configuration, au niveau de l’ordinateur (machine) ou au niveau de l’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-556">You can also set the *ClientIDMode* value in the configuration file, either at the computer (machine) level or at the application level.</span></span> <span data-ttu-id="667fc-557">Cela définit le paramètre *ClientIDMode* par défaut pour tous les contrôles dans toutes les pages de l’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-557">This defines the default *ClientIDMode* setting for all controls in all pages in the application.</span></span> <span data-ttu-id="667fc-558">Si vous définissez la valeur au niveau de l’ordinateur, elle définit le paramètre *ClientIDMode* par défaut pour tous les sites Web sur cet ordinateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-558">If you set the value at the computer level, it defines the default *ClientIDMode* setting for all Web sites on that computer.</span></span> <span data-ttu-id="667fc-559">L’exemple suivant montre le paramètre *ClientIDMode* dans le fichier de configuration :</span><span class="sxs-lookup"><span data-stu-id="667fc-559">The following example shows the *ClientIDMode* setting in the configuration file:</span></span>

[!code-xml[Main](overview/samples/sample48.xml)]

<span data-ttu-id="667fc-560">Comme indiqué précédemment, la valeur de la propriété *ClientID* est dérivée du conteneur d’attribution de noms pour le parent d’un contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-560">As noted earlier, the value of the *ClientID* property is derived from the naming container for a control's parent.</span></span> <span data-ttu-id="667fc-561">Dans certains scénarios, par exemple quand vous utilisez des pages maîtres, les contrôles peuvent se retrouver avec des ID tels que ceux figurant dans le code HTML suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-561">In some scenarios, such as when you are using master pages, controls can end up with IDs like those in the following rendered HTML:</span></span>

[!code-html[Main](overview/samples/sample49.html)]

<span data-ttu-id="667fc-562">Bien que l’élément *d’entrée* affiché dans le balisage (à partir d’un contrôle *TextBox* ) ne soit que deux conteneurs d’attribution de noms en profondeur dans la page (les contrôles *ContentPlaceHolder* imbriqués), en raison de la façon dont les pages maîtres sont traitées, le résultat final est un ID de contrôle similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-562">Even though the *input* element shown in the markup (from a *TextBox* control) is only two naming containers deep in the page (the nested *ContentPlaceholder* controls), because of the way master pages are processed, the end result is a control ID like the following:</span></span>

[!code-console[Main](overview/samples/sample50.cmd)]

<span data-ttu-id="667fc-563">Cet ID est garanti comme étant unique dans la page, mais il est inutilement long dans la plupart des cas.</span><span class="sxs-lookup"><span data-stu-id="667fc-563">This ID is guaranteed to be unique in the page, but is unnecessarily long for most purposes.</span></span> <span data-ttu-id="667fc-564">Imaginez que vous souhaitez réduire la longueur de l’ID rendu et avoir davantage de contrôle sur la façon dont l’ID est généré.</span><span class="sxs-lookup"><span data-stu-id="667fc-564">Imagine that you want to reduce the length of the rendered ID, and to have more control over how the ID is generated.</span></span> <span data-ttu-id="667fc-565">(Par exemple, vous voulez éliminer les préfixes « ctlxxx ».) Le moyen le plus simple pour y parvenir consiste à définir la propriété *ClientIDMode* comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-565">(For example, you want to eliminate "ctlxxx" prefixes.) The easiest way to achieve this is by setting the *ClientIDMode* property as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample51.aspx)]

<span data-ttu-id="667fc-566">Dans cet exemple, la propriété *ClientIDMode* est définie sur *static* pour l’élément *NamingPanel* le plus à l’extérieur, et définie sur *Predictable* pour l’élément *NamingControl* interne.</span><span class="sxs-lookup"><span data-stu-id="667fc-566">In this sample, the *ClientIDMode* property is set to *Static* for the outermost *NamingPanel* element, and set to *Predictable* for the inner *NamingControl* element.</span></span> <span data-ttu-id="667fc-567">Ces paramètres entraînent le balisage suivant (le reste de la page et la page maître sont supposés être les mêmes que dans l’exemple précédent) :</span><span class="sxs-lookup"><span data-stu-id="667fc-567">These settings result in the following markup (the rest of the page and the master page is assumed to be the same as in the previous example):</span></span>

[!code-html[Main](overview/samples/sample52.html)]

<span data-ttu-id="667fc-568">Le paramètre *static* a pour effet de réinitialiser la hiérarchie d’attribution de noms pour tous les contrôles à l’intérieur de l’élément *NamingPanel* le plus à l’extérieur, et d’éliminer les ID *CONTENTPLACEHOLDER* et *masterpage* de l’ID généré.</span><span class="sxs-lookup"><span data-stu-id="667fc-568">The *Static* setting has the effect of resetting the naming hierarchy for any controls inside the outermost *NamingPanel* element, and of eliminating the *ContentPlaceHolder* and *MasterPage* IDs from the generated ID.</span></span> <span data-ttu-id="667fc-569">(L’attribut *Name* des éléments rendus n’est pas affecté, donc la fonctionnalité normale ASP.net est conservée pour les événements, l’état d’affichage, etc.) Un effet secondaire de la réinitialisation de la hiérarchie d’attribution de noms est que même si vous déplacez le balisage des éléments *NamingPanel* vers un autre contrôle *ContentPlaceHolder* , les ID des clients rendus restent les mêmes.</span><span class="sxs-lookup"><span data-stu-id="667fc-569">(The *name* attribute of rendered elements is unaffected, so the normal ASP.NET functionality is retained for events, view state, and so on.) A side effect of resetting the naming hierarchy is that even if you move the markup for the *NamingPanel* elements to a different *ContentPlaceholder* control, the rendered client IDs remain the same.</span></span>

> [!NOTE]
> <span data-ttu-id="667fc-570">Notez que vous devez vous assurer que les ID de contrôle rendus sont uniques.</span><span class="sxs-lookup"><span data-stu-id="667fc-570">Note It is up to you to make sure that the rendered control IDs are unique.</span></span> <span data-ttu-id="667fc-571">Si ce n’est pas le cas, il peut interrompre toute fonctionnalité qui requiert des ID uniques pour des éléments HTML individuels, tels que la fonction client *document. getElementById* .</span><span class="sxs-lookup"><span data-stu-id="667fc-571">If they are not, it can break any functionality that requires unique IDs for individual HTML elements, such as the client *document.getElementById* function.</span></span>

#### <a name="creating-predictable-client-ids-in-data-bound-controls"></a><span data-ttu-id="667fc-572">Création d’ID de client prévisibles dans des contrôles liés aux données</span><span class="sxs-lookup"><span data-stu-id="667fc-572">Creating Predictable Client IDs in Data-Bound Controls</span></span>

<span data-ttu-id="667fc-573">Les valeurs *ClientID* générées pour les contrôles dans un contrôle de liste lié aux données par l’algorithme hérité peuvent être longues et ne sont pas vraiment prévisibles.</span><span class="sxs-lookup"><span data-stu-id="667fc-573">The *ClientID* values that are generated for controls in a data-bound list control by the legacy algorithm can be long and are not really predictable.</span></span> <span data-ttu-id="667fc-574">La fonctionnalité *ClientIDMode* peut vous aider à mieux contrôler la façon dont ces ID sont générés.</span><span class="sxs-lookup"><span data-stu-id="667fc-574">The *ClientIDMode* functionality can help you have more control over how these IDs are generated.</span></span>

<span data-ttu-id="667fc-575">Le balisage de l’exemple suivant comprend un contrôle *ListView* :</span><span class="sxs-lookup"><span data-stu-id="667fc-575">The markup in the following example includes a *ListView* control:</span></span>

[!code-aspx[Main](overview/samples/sample53.aspx)]

<span data-ttu-id="667fc-576">Dans l’exemple précédent, les propriétés *ClientIDMode* et *RowClientIDRowSuffix* sont définies dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="667fc-576">In the previous example, the *ClientIDMode* and *RowClientIDRowSuffix* properties are set in markup.</span></span> <span data-ttu-id="667fc-577">La propriété *ClientIDRowSuffix* peut être utilisée uniquement dans les contrôles liés aux données, et son comportement diffère selon le contrôle que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="667fc-577">The *ClientIDRowSuffix* property can be used only in data-bound controls, and its behavior differs depending on which control you are using.</span></span> <span data-ttu-id="667fc-578">Les différences sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-578">The differences are these:</span></span>

- <span data-ttu-id="667fc-579">Contrôle *GridView* : vous pouvez spécifier le nom d’une ou plusieurs colonnes de la source de données, qui sont combinées au moment de l’exécution pour créer les ID client.</span><span class="sxs-lookup"><span data-stu-id="667fc-579">*GridView* control — You can specify the name of one or more columns in the data source, which are combined at run time to create the client IDs.</span></span> <span data-ttu-id="667fc-580">Par exemple, si vous affectez à *RowClientIDRowSuffix* la valeur « ProductName, ProductID », les ID de contrôle pour les éléments rendus auront un format similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-580">For example, if you set *RowClientIDRowSuffix* to "ProductName, ProductId", control IDs for rendered elements will have a format like the following:</span></span>

- [!code-console[Main](overview/samples/sample54.cmd)]

- <span data-ttu-id="667fc-581">Contrôle *ListView* : vous pouvez spécifier une colonne unique dans la source de données qui est ajoutée à l’ID client.</span><span class="sxs-lookup"><span data-stu-id="667fc-581">*ListView* control — You can specify a single column in the data source that is appended to the client ID.</span></span> <span data-ttu-id="667fc-582">Par exemple, si vous affectez à *ClientIDRowSuffix* la valeur « ProductName », les ID de contrôle rendus auront un format similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-582">For example, if you set *ClientIDRowSuffix* to "ProductName", the rendered control IDs will have a format like the following:</span></span>

- [!code-console[Main](overview/samples/sample55.cmd)]

- <span data-ttu-id="667fc-583">Dans ce cas, la fin 1 est dérivée de l’ID de produit de l’élément de données actuel.</span><span class="sxs-lookup"><span data-stu-id="667fc-583">In this case the trailing 1 is derived from the product ID of the current data item.</span></span>

- <span data-ttu-id="667fc-584">Contrôle *Repeater* : ce contrôle ne prend pas en charge la propriété *ClientIDRowSuffix* .</span><span class="sxs-lookup"><span data-stu-id="667fc-584">*Repeater* control— This control does not support the *ClientIDRowSuffix* property.</span></span> <span data-ttu-id="667fc-585">Dans un contrôle *Repeater* , l’index de la ligne actuelle est utilisé.</span><span class="sxs-lookup"><span data-stu-id="667fc-585">In a *Repeater* control, the index of the current row is used.</span></span> <span data-ttu-id="667fc-586">Lorsque vous utilisez ClientIDMode = "prévisible" avec un contrôle *Repeater* , les ID clients sont générés au format suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-586">When you use ClientIDMode="Predictable" with a *Repeater* control, client IDs are generated that have the following format:</span></span>

- [!code-console[Main](overview/samples/sample56.cmd)]

- <span data-ttu-id="667fc-587">La valeur 0 de fin est l’index de la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="667fc-587">The trailing 0 is the index of the current row.</span></span>

<span data-ttu-id="667fc-588">Les contrôles *FormView* et *DetailsView* n’affichent pas plusieurs lignes. ils ne prennent donc pas en charge la propriété *ClientIDRowSuffix* .</span><span class="sxs-lookup"><span data-stu-id="667fc-588">The *FormView* and *DetailsView* controls do not display multiple rows, so they do not support the *ClientIDRowSuffix* property.</span></span>

<a id="0.2__Toc224729038"></a><a id="0.2__Toc253429262"></a><a id="0.2__Toc243304636"></a>

### <a name="persisting-row-selection-in-data-controls"></a><span data-ttu-id="667fc-589">Persistance de la sélection de lignes dans les contrôles de données</span><span class="sxs-lookup"><span data-stu-id="667fc-589">Persisting Row Selection in Data Controls</span></span>

<span data-ttu-id="667fc-590">Les contrôles *GridView* et *ListView* peuvent permettre aux utilisateurs de sélectionner une ligne.</span><span class="sxs-lookup"><span data-stu-id="667fc-590">The *GridView* and *ListView* controls can let users select a row.</span></span> <span data-ttu-id="667fc-591">Dans les versions précédentes de ASP.NET, la sélection a été basée sur l’index de ligne sur la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-591">In previous versions of ASP.NET, selection has been based on the row index on the page.</span></span> <span data-ttu-id="667fc-592">Par exemple, si vous sélectionnez le troisième élément sur la page 1 et que vous passez à la page 2, le troisième élément de cette page est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="667fc-592">For example, if you select the third item on page 1 and then move to page 2, the third item on that page is selected.</span></span>

<span data-ttu-id="667fc-593">La sélection persistante n’a initialement été prise en charge que dans les projets Dynamic Data dans le .NET Framework 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="667fc-593">Persisted selection was initially supported only in Dynamic Data projects in the .NET Framework 3.5 SP1.</span></span> <span data-ttu-id="667fc-594">Lorsque cette fonctionnalité est activée, l’élément actuellement sélectionné est basé sur la clé de données de l’élément.</span><span class="sxs-lookup"><span data-stu-id="667fc-594">When this feature is enabled, the current selected item is based on the data key for the item.</span></span> <span data-ttu-id="667fc-595">Cela signifie que si vous sélectionnez la troisième ligne sur la page 1 et que vous passez à la page 2, rien n’est sélectionné sur la page 2.</span><span class="sxs-lookup"><span data-stu-id="667fc-595">This means that if you select the third row on page 1 and move to page 2, nothing is selected on page 2.</span></span> <span data-ttu-id="667fc-596">Lorsque vous revenez à la page 1, la troisième ligne est toujours sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="667fc-596">When you move back to page 1, the third row is still selected.</span></span> <span data-ttu-id="667fc-597">La sélection rendue persistante est maintenant prise en charge pour les contrôles *GridView* et *ListView* dans tous les projets à l’aide de la propriété *EnablePersistedSelection* , comme indiqué dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-597">Persisted selection is now supported for the *GridView* and *ListView* controls in all projects by using the *EnablePersistedSelection* property, as shown in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample57.aspx)]

<a id="0.2__Toc253429263"></a><a id="0.2__Toc243304637"></a>

### <a name="aspnet-chart-control"></a><span data-ttu-id="667fc-598">Contrôle Chart ASP.NET</span><span class="sxs-lookup"><span data-stu-id="667fc-598">ASP.NET Chart Control</span></span>

<span data-ttu-id="667fc-599">Le contrôle ASP.NET *Chart* développe les offres de visualisation des données dans la .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="667fc-599">The ASP.NET *Chart* control expands the data-visualization offerings in the .NET Framework.</span></span> <span data-ttu-id="667fc-600">À l’aide du contrôle *Chart* , vous pouvez créer des pages ASP.net avec des graphiques intuitifs et visuellement attrayants pour une analyse statistique ou financière complexe.</span><span class="sxs-lookup"><span data-stu-id="667fc-600">Using the *Chart* control, you can create ASP.NET pages that have intuitive and visually compelling charts for complex statistical or financial analysis.</span></span> <span data-ttu-id="667fc-601">Le contrôle ASP.NET *Chart* a été introduit en tant que module complémentaire de la version 3,5 SP1 de .NET Framework et fait partie de la version .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-601">The ASP.NET *Chart* control was introduced as an add-on to the .NET Framework version 3.5 SP1 release and is part of the .NET Framework 4 release.</span></span>

<span data-ttu-id="667fc-602">Le contrôle comprend les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-602">The control includes the following features:</span></span>

- <span data-ttu-id="667fc-603">35 types de graphiques distincts.</span><span class="sxs-lookup"><span data-stu-id="667fc-603">35 distinct chart types.</span></span>
- <span data-ttu-id="667fc-604">Nombre illimité de zones de graphique, titres, légendes et annotations.</span><span class="sxs-lookup"><span data-stu-id="667fc-604">An unlimited number of chart areas, titles, legends, and annotations.</span></span>
- <span data-ttu-id="667fc-605">Un large éventail de paramètres d’apparence pour tous les éléments de graphique.</span><span class="sxs-lookup"><span data-stu-id="667fc-605">A wide variety of appearance settings for all chart elements.</span></span>
- <span data-ttu-id="667fc-606">prise en charge 3D pour la plupart des types de graphiques.</span><span class="sxs-lookup"><span data-stu-id="667fc-606">3-D support for most chart types.</span></span>
- <span data-ttu-id="667fc-607">Étiquettes de données intelligentes qui peuvent être ajustées automatiquement autour des points de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-607">Smart data labels that can automatically fit around data points.</span></span>
- <span data-ttu-id="667fc-608">Franges, séparateurs d’échelle et mise à l’échelle logarithmique.</span><span class="sxs-lookup"><span data-stu-id="667fc-608">Strip lines, scale breaks, and logarithmic scaling.</span></span>
- <span data-ttu-id="667fc-609">Plus de 50 formules financières et statistiques pour l'analyse et la transformation de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-609">More than 50 financial and statistical formulas for data analysis and transformation.</span></span>
- <span data-ttu-id="667fc-610">Liaison et manipulation simples des données de graphique.</span><span class="sxs-lookup"><span data-stu-id="667fc-610">Simple binding and manipulation of chart data.</span></span>
- <span data-ttu-id="667fc-611">Prise en charge des formats de données courants, tels que les dates, les heures et les devises.</span><span class="sxs-lookup"><span data-stu-id="667fc-611">Support for common data formats such as dates, times, and currency.</span></span>
- <span data-ttu-id="667fc-612">Prise en charge de l’interactivité et de la personnalisation pilotée par les événements, y compris les événements Click client à l’aide d’Ajax.</span><span class="sxs-lookup"><span data-stu-id="667fc-612">Support for interactivity and event-driven customization, including client click events using Ajax.</span></span>
- <span data-ttu-id="667fc-613">Gestion d'état.</span><span class="sxs-lookup"><span data-stu-id="667fc-613">State management.</span></span>
- <span data-ttu-id="667fc-614">Flux binaires.</span><span class="sxs-lookup"><span data-stu-id="667fc-614">Binary streaming.</span></span>

<span data-ttu-id="667fc-615">Les figures suivantes présentent des exemples de graphiques financiers produits par le contrôle Chart ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="667fc-615">The following figures show examples of financial charts that are produced by the ASP.NET Chart control.</span></span>

<a id="0.2_graphic17"></a>![](overview/_static/image1.png)

<span data-ttu-id="667fc-616">Figure 2 : exemples de contrôles Chart ASP.NET</span><span class="sxs-lookup"><span data-stu-id="667fc-616">Figure 2: ASP.NET Chart control examples</span></span>

<span data-ttu-id="667fc-617">Pour obtenir plus d’exemples d’utilisation du contrôle Chart ASP.NET, téléchargez l’exemple de code sur la page [exemples d’environnement pour les contrôles Microsoft Chart](https://go.microsoft.com/fwlink/?LinkId=128300) sur le site Web MSDN.</span><span class="sxs-lookup"><span data-stu-id="667fc-617">For more examples of how to use the ASP.NET Chart control, download the sample code on the [Samples Environment for Microsoft Chart Controls](https://go.microsoft.com/fwlink/?LinkId=128300) page on the MSDN Web site.</span></span> <span data-ttu-id="667fc-618">Vous trouverez d’autres exemples de contenu de la communauté sur le [Forum de contrôle graphique](https://go.microsoft.com/fwlink/?LinkId=128713).</span><span class="sxs-lookup"><span data-stu-id="667fc-618">You can find more samples of community content at the [Chart Control Forum](https://go.microsoft.com/fwlink/?LinkId=128713).</span></span>

#### <a name="adding-the-chart-control-to-an-aspnet-page"></a><span data-ttu-id="667fc-619">Ajout du contrôle Chart à une page ASP.NET</span><span class="sxs-lookup"><span data-stu-id="667fc-619">Adding the Chart Control to an ASP.NET Page</span></span>

<span data-ttu-id="667fc-620">L’exemple suivant montre comment ajouter un contrôle *Chart* à une page ASP.net à l’aide du balisage.</span><span class="sxs-lookup"><span data-stu-id="667fc-620">The following example shows how to add a *Chart* control to an ASP.NET page by using markup.</span></span> <span data-ttu-id="667fc-621">Dans l’exemple, le contrôle *Chart* produit un histogramme pour les points de données statiques.</span><span class="sxs-lookup"><span data-stu-id="667fc-621">In the example, the *Chart* control produces a column chart for static data points.</span></span>

[!code-aspx[Main](overview/samples/sample58.aspx)]

#### <a name="using-3-d-charts"></a><span data-ttu-id="667fc-622">Utilisation de graphiques 3D</span><span class="sxs-lookup"><span data-stu-id="667fc-622">Using 3-D Charts</span></span>

<span data-ttu-id="667fc-623">Le contrôle *Chart* contient une collection *ChartAreas* , qui peut contenir des objets *ChartArea* qui définissent les caractéristiques des zones de graphique.</span><span class="sxs-lookup"><span data-stu-id="667fc-623">The *Chart* control contains a *ChartAreas* collection, which can contain *ChartArea* objects that define characteristics of chart areas.</span></span> <span data-ttu-id="667fc-624">Par exemple, pour utiliser le langage 3D pour une zone de graphique, utilisez la propriété *Area3DStyle* comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-624">For example, to use 3-D for a chart area, use the *Area3DStyle* property as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample59.aspx)]

<span data-ttu-id="667fc-625">La figure ci-dessous illustre un graphique 3D avec quatre séries de type graphique à *barres* .</span><span class="sxs-lookup"><span data-stu-id="667fc-625">The figure below shows a 3-D chart with four series of the *Bar* chart type.</span></span>

<a id="0.2_graphic18"></a>![](overview/_static/image2.png)

<span data-ttu-id="667fc-626">Figure 3:3-graphique à barres D</span><span class="sxs-lookup"><span data-stu-id="667fc-626">Figure 3: 3-D Bar Chart</span></span>

#### <a name="using-scale-breaks-and-logarithmic-scales"></a><span data-ttu-id="667fc-627">Utilisation des séparateurs d’échelle et des échelles logarithmiques</span><span class="sxs-lookup"><span data-stu-id="667fc-627">Using Scale Breaks and Logarithmic Scales</span></span>

<span data-ttu-id="667fc-628">Les séparations d’échelle et les échelles logarithmiques sont deux méthodes supplémentaires pour ajouter une sophistication au graphique.</span><span class="sxs-lookup"><span data-stu-id="667fc-628">Scale breaks and logarithmic scales are two additional ways to add sophistication to the chart.</span></span> <span data-ttu-id="667fc-629">Ces fonctionnalités sont spécifiques à chaque axe dans une zone de graphique.</span><span class="sxs-lookup"><span data-stu-id="667fc-629">These features are specific to each axis in a chart area.</span></span> <span data-ttu-id="667fc-630">Par exemple, pour utiliser ces fonctionnalités sur l’axe des Y principal d’une zone de graphique, utilisez les propriétés *AxisY. IsLogarithmic* et *ScaleBreakStyle* dans un objet *ChartArea* .</span><span class="sxs-lookup"><span data-stu-id="667fc-630">For example, to use these features on the primary Y axis of a chart area, use the *AxisY.IsLogarithmic* and *ScaleBreakStyle* properties in a *ChartArea* object.</span></span> <span data-ttu-id="667fc-631">L’extrait de code suivant montre comment utiliser des séparations d’échelle sur l’axe des Y principal.</span><span class="sxs-lookup"><span data-stu-id="667fc-631">The following snippet shows how to use scale breaks on the primary Y axis.</span></span>

[!code-aspx[Main](overview/samples/sample60.aspx)]

<span data-ttu-id="667fc-632">La figure ci-dessous montre l’axe Y avec les séparations d’échelle activées.</span><span class="sxs-lookup"><span data-stu-id="667fc-632">The figure below shows the Y axis with scale breaks enabled.</span></span>

<a id="0.2_graphic19"></a>![](overview/_static/image3.png)

<span data-ttu-id="667fc-633">Figure 4 : séparations d’échelle</span><span class="sxs-lookup"><span data-stu-id="667fc-633">Figure 4: Scale Breaks</span></span>

<a id="0.2__QueryExtender"></a><a id="0.2__Toc224729041"></a><a id="0.2__Toc253429264"></a><a id="0.2__Toc243304638"></a>

### <a name="filtering-data-with-the-queryextender-control"></a><span data-ttu-id="667fc-634">Filtrage des données avec le contrôle QueryExtender</span><span class="sxs-lookup"><span data-stu-id="667fc-634">Filtering Data with the QueryExtender Control</span></span>

<span data-ttu-id="667fc-635">Pour les développeurs qui créent des pages Web pilotées par les données, une tâche très courante consiste à filtrer les données.</span><span class="sxs-lookup"><span data-stu-id="667fc-635">A very common task for developers who create data-driven Web pages is to filter data.</span></span> <span data-ttu-id="667fc-636">Cela a traditionnellement été effectué en créant des clauses *Where* dans les contrôles de source de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-636">This traditionally has been performed by building *Where* clauses in data source controls.</span></span> <span data-ttu-id="667fc-637">Cette approche peut être compliquée et, dans certains cas, la syntaxe *Where* ne vous permet pas de tirer parti des fonctionnalités complètes de la base de données sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="667fc-637">This approach can be complicated, and in some cases the *Where* syntax does not let you take advantage of the full functionality of the underlying database.</span></span>

<span data-ttu-id="667fc-638">Pour faciliter le filtrage, un nouveau contrôle *QueryExtender* a été ajouté dans ASP.net 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-638">To make filtering easier, a new *QueryExtender* control has been added in ASP.NET 4.</span></span> <span data-ttu-id="667fc-639">Ce contrôle peut être ajouté aux contrôles *EntityDataSource* ou *LinqDataSource* afin de filtrer les données retournées par ces contrôles.</span><span class="sxs-lookup"><span data-stu-id="667fc-639">This control can be added to *EntityDataSource* or *LinqDataSource* controls in order to filter the data returned by these controls.</span></span> <span data-ttu-id="667fc-640">Étant donné que le contrôle *QueryExtender* s’appuie sur LINQ, le filtre est appliqué sur le serveur de base de données avant que les données ne soient envoyées à la page, ce qui se traduit par des opérations très efficaces.</span><span class="sxs-lookup"><span data-stu-id="667fc-640">Because the *QueryExtender* control relies on LINQ, the filter is applied on the database server before the data is sent to the page, which results in very efficient operations.</span></span>

<span data-ttu-id="667fc-641">Le contrôle *QueryExtender* prend en charge plusieurs options de filtre.</span><span class="sxs-lookup"><span data-stu-id="667fc-641">The *QueryExtender* control supports a variety of filter options.</span></span> <span data-ttu-id="667fc-642">Les sections suivantes décrivent ces options et fournissent des exemples de leur utilisation.</span><span class="sxs-lookup"><span data-stu-id="667fc-642">The following sections describe these options and provide examples of how to use them.</span></span>

#### <a name="search"></a><span data-ttu-id="667fc-643">Rechercher</span><span class="sxs-lookup"><span data-stu-id="667fc-643">Search</span></span>

<span data-ttu-id="667fc-644">Pour l’option de recherche, le contrôle *QueryExtender* effectue une recherche dans les champs spécifiés.</span><span class="sxs-lookup"><span data-stu-id="667fc-644">For the search option, the *QueryExtender* control performs a search in specified fields.</span></span> <span data-ttu-id="667fc-645">Dans l’exemple suivant, le contrôle utilise le texte entré dans le contrôle TextBoxSearch et recherche son contenu dans le `ProductName` et `Supplier.CompanyName` colonnes dans les données retournées à partir du contrôle *LinqDataSource* .</span><span class="sxs-lookup"><span data-stu-id="667fc-645">In the following example, the control uses the text that is entered in the TextBoxSearch control and searches for its contents in the `ProductName` and `Supplier.CompanyName` columns in the data that is returned from the *LinqDataSource* control.</span></span>

[!code-aspx[Main](overview/samples/sample61.aspx)]

#### <a name="range"></a><span data-ttu-id="667fc-646">Range</span><span class="sxs-lookup"><span data-stu-id="667fc-646">Range</span></span>

<span data-ttu-id="667fc-647">L’option Range est similaire à l’option de recherche, mais elle spécifie une paire de valeurs pour définir la plage.</span><span class="sxs-lookup"><span data-stu-id="667fc-647">The range option is similar to the search option, but specifies a pair of values to define the range.</span></span> <span data-ttu-id="667fc-648">Dans l’exemple suivant, le contrôle *QueryExtender* recherche dans la colonne `UnitPrice` dans les données retournées par le contrôle *LinqDataSource* .</span><span class="sxs-lookup"><span data-stu-id="667fc-648">In the following example, the *QueryExtender* control searches the `UnitPrice` column in the data returned from the *LinqDataSource* control.</span></span> <span data-ttu-id="667fc-649">La plage est lue à partir des contrôles TextBoxFrom et TextBoxTo sur la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-649">The range is read from the TextBoxFrom and TextBoxTo controls on the page.</span></span>

[!code-aspx[Main](overview/samples/sample62.aspx)]

#### <a name="propertyexpression"></a><span data-ttu-id="667fc-650">PropertyExpression</span><span class="sxs-lookup"><span data-stu-id="667fc-650">PropertyExpression</span></span>

<span data-ttu-id="667fc-651">L’option expression de propriété vous permet de définir une comparaison avec une valeur de propriété.</span><span class="sxs-lookup"><span data-stu-id="667fc-651">The property expression option lets you define a comparison to a property value.</span></span> <span data-ttu-id="667fc-652">Si l’expression prend la *valeur true*, les données en cours d’examen sont retournées.</span><span class="sxs-lookup"><span data-stu-id="667fc-652">If the expression evaluates to *true*, the data that is being examined is returned.</span></span> <span data-ttu-id="667fc-653">Dans l’exemple suivant, le contrôle *QueryExtender* filtre les données en comparant les données de la colonne `Discontinued` à la valeur du contrôle CheckBoxDiscontinued sur la page.</span><span class="sxs-lookup"><span data-stu-id="667fc-653">In the following example, the *QueryExtender* control filters data by comparing the data in the `Discontinued` column to the value from the CheckBoxDiscontinued control on the page.</span></span>

[!code-aspx[Main](overview/samples/sample63.aspx)]

#### <a name="customexpression"></a><span data-ttu-id="667fc-654">CustomExpression</span><span class="sxs-lookup"><span data-stu-id="667fc-654">CustomExpression</span></span>

<span data-ttu-id="667fc-655">Enfin, vous pouvez spécifier une expression personnalisée à utiliser avec le contrôle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="667fc-655">Finally, you can specify a custom expression to use with the *QueryExtender* control.</span></span> <span data-ttu-id="667fc-656">Cette option vous permet d’appeler une fonction dans la page qui définit la logique de filtre personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-656">This option lets you call a function in the page that defines custom filter logic.</span></span> <span data-ttu-id="667fc-657">L’exemple suivant montre comment spécifier de manière déclarative une expression personnalisée dans le contrôle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="667fc-657">The following example shows how to declaratively specify a custom expression in the *QueryExtender* control.</span></span>

[!code-aspx[Main](overview/samples/sample64.aspx)]

<span data-ttu-id="667fc-658">L’exemple suivant illustre la fonction personnalisée appelée par le contrôle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="667fc-658">The following example shows the custom function that is invoked by the *QueryExtender* control.</span></span> <span data-ttu-id="667fc-659">Dans ce cas, au lieu d’utiliser une requête de base de données qui comprend une clause *Where* , le code utilise une requête LINQ pour filtrer les données.</span><span class="sxs-lookup"><span data-stu-id="667fc-659">In this case, instead of using a database query that includes a *Where* clause, the code uses a LINQ query to filter the data.</span></span>

[!code-csharp[Main](overview/samples/sample65.cs)]

<span data-ttu-id="667fc-660">Ces exemples montrent qu’une seule expression est utilisée dans le contrôle *QueryExtender* à la fois.</span><span class="sxs-lookup"><span data-stu-id="667fc-660">These examples show only one expression being used in the *QueryExtender* control at a time.</span></span> <span data-ttu-id="667fc-661">Toutefois, vous pouvez inclure plusieurs expressions dans le contrôle *QueryExtender* .</span><span class="sxs-lookup"><span data-stu-id="667fc-661">However, you can include multiple expressions inside the *QueryExtender* control.</span></span>

<a id="0.2__Toc253429265"></a><a id="0.2__Toc243304639"></a>

### <a name="html-encoded-code-expressions"></a><span data-ttu-id="667fc-662">Expressions de code encodées en HTML</span><span class="sxs-lookup"><span data-stu-id="667fc-662">Html Encoded Code Expressions</span></span>

<span data-ttu-id="667fc-663">Certains sites ASP.NET (surtout avec ASP.NET MVC) s’appuient essentiellement sur l’utilisation de `<%`= `expression %>` syntaxe (souvent appelée « code pépites ») pour écrire du texte dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="667fc-663">Some ASP.NET sites (especially with ASP.NET MVC) rely heavily on using `<%`= `expression %>` syntax (often called "code nuggets") to write some text to the response.</span></span> <span data-ttu-id="667fc-664">Lorsque vous utilisez des expressions de code, il est facile d’oublier le codage HTML du texte, si le texte provient d’une entrée d’utilisateur, il peut laisser des pages ouvertes à une attaque XSS (cross site scripting).</span><span class="sxs-lookup"><span data-stu-id="667fc-664">When you use code expressions, it is easy to forget to HTML-encode the text, If the text comes from user input, it can leave pages open to an XSS (Cross Site Scripting) attack.</span></span>

<span data-ttu-id="667fc-665">ASP.NET 4 introduit la nouvelle syntaxe suivante pour les expressions de code :</span><span class="sxs-lookup"><span data-stu-id="667fc-665">ASP.NET 4 introduces the following new syntax for code expressions:</span></span>

[!code-aspx[Main](overview/samples/sample66.aspx)]

<span data-ttu-id="667fc-666">Cette syntaxe utilise l’encodage HTML par défaut lors de l’écriture dans la réponse.</span><span class="sxs-lookup"><span data-stu-id="667fc-666">This syntax uses HTML encoding by default when writing to the response.</span></span> <span data-ttu-id="667fc-667">Cette nouvelle expression se traduit en réalité comme suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-667">This new expression effectively translates to the following:</span></span>

[!code-aspx[Main](overview/samples/sample67.aspx)]

<span data-ttu-id="667fc-668">Par exemple, &lt;% : Request ["UserInput"]%&gt; effectue un encodage HTML sur la valeur de la *demande ["UserInput"]* .</span><span class="sxs-lookup"><span data-stu-id="667fc-668">For example, &lt;%: Request["UserInput"] %&gt; performs HTML encoding on the value of *Request["UserInput"]*.</span></span>

<span data-ttu-id="667fc-669">L’objectif de cette fonctionnalité est de permettre de remplacer toutes les instances de l’ancienne syntaxe par la nouvelle syntaxe, de sorte que vous n’êtes pas obligé de décider à chaque étape celle à utiliser.</span><span class="sxs-lookup"><span data-stu-id="667fc-669">The goal of this feature is to make it possible to replace all instances of the old syntax with the new syntax so that you are not forced to decide at every step which one to use.</span></span> <span data-ttu-id="667fc-670">Toutefois, dans certains cas, le texte en sortie est destiné à être au format HTML ou déjà encodé, auquel cas cela peut entraîner un double encodage.</span><span class="sxs-lookup"><span data-stu-id="667fc-670">However, there are cases in which the text being output is meant to be HTML or is already encoded, in which case this could lead to double encoding.</span></span>

<span data-ttu-id="667fc-671">Dans ces cas, ASP.NET 4 introduit une nouvelle interface, *IHtmlString*, ainsi qu’une implémentation concrète, *HtmlString*.</span><span class="sxs-lookup"><span data-stu-id="667fc-671">For those cases, ASP.NET 4 introduces a new interface, *IHtmlString*, along with a concrete implementation, *HtmlString*.</span></span> <span data-ttu-id="667fc-672">Les instances de ces types vous permettent d’indiquer que la valeur de retour est déjà encodée (ou examinée) pour l’affichage au format HTML, et que par conséquent, la valeur ne doit pas être encodée au format HTML.</span><span class="sxs-lookup"><span data-stu-id="667fc-672">Instances of these types let you indicate that the return value is already properly encoded (or otherwise examined) for displaying as HTML, and that therefore the value should not be HTML-encoded again.</span></span> <span data-ttu-id="667fc-673">Par exemple, le code suivant ne doit pas être (et ne pas) être encodé au format HTML :</span><span class="sxs-lookup"><span data-stu-id="667fc-673">For example, the following should not be (and is not) HTML encoded:</span></span>

[!code-aspx[Main](overview/samples/sample68.aspx)]

<span data-ttu-id="667fc-674">Les méthodes d’assistance ASP.NET MVC 2 ont été mises à jour pour fonctionner avec cette nouvelle syntaxe afin qu’elles ne soient pas codées en deux, mais uniquement lorsque vous exécutez ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-674">ASP.NET MVC 2 helper methods have been updated to work with this new syntax so that they are not double encoded, but only when you are running ASP.NET 4.</span></span> <span data-ttu-id="667fc-675">Cette nouvelle syntaxe ne fonctionne pas lorsque vous exécutez une application à l’aide de ASP.NET 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="667fc-675">This new syntax does not work when you run an application using ASP.NET 3.5 SP1.</span></span>

<span data-ttu-id="667fc-676">Gardez à l’esprit que cela ne garantit pas la protection contre les attaques XSS.</span><span class="sxs-lookup"><span data-stu-id="667fc-676">Keep in mind that this does not guarantee protection from XSS attacks.</span></span> <span data-ttu-id="667fc-677">Par exemple, le code HTML qui utilise des valeurs d’attribut qui ne sont pas entre guillemets peut contenir une entrée d’utilisateur qui est toujours sensible.</span><span class="sxs-lookup"><span data-stu-id="667fc-677">For example, HTML that uses attribute values that are not in quotation marks can contain user input that is still susceptible.</span></span> <span data-ttu-id="667fc-678">Notez que la sortie des contrôles ASP.NET et des applications auxiliaires MVC ASP.NET comprend toujours des valeurs d’attribut entre guillemets, ce qui est l’approche recommandée.</span><span class="sxs-lookup"><span data-stu-id="667fc-678">Note that the output of ASP.NET controls and ASP.NET MVC helpers always includes attribute values in quotation marks, which is the recommended approach.</span></span>

<span data-ttu-id="667fc-679">De même, cette syntaxe n’effectue pas d’encodage JavaScript, par exemple lorsque vous créez une chaîne JavaScript basée sur l’entrée d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-679">Likewise, this syntax does not perform JavaScript encoding, such as when you create a JavaScript string based on user input.</span></span>

<a id="0.2__Toc253429266"></a><a id="0.2__Toc243304640"></a>

### <a name="project-template-changes"></a><span data-ttu-id="667fc-680">Modifications du modèle de projet</span><span class="sxs-lookup"><span data-stu-id="667fc-680">Project Template Changes</span></span>

<span data-ttu-id="667fc-681">Dans les versions antérieures de ASP.NET, lorsque vous utilisez Visual Studio pour créer un projet de site Web ou un projet d’application Web, les projets résultants contiennent uniquement une page default. aspx, un fichier de `Web.config` par défaut et le dossier `App_Data`, comme indiqué dans l’illustration suivante :</span><span class="sxs-lookup"><span data-stu-id="667fc-681">In earlier versions of ASP.NET, when you use Visual Studio to create a new Web Site project or Web Application project, the resulting projects contain only a Default.aspx page, a default `Web.config` file, and the `App_Data` folder, as shown in the following illustration:</span></span>

<a id="0.2_graphic1A"></a>![](overview/_static/image4.png)

<span data-ttu-id="667fc-682">Visual Studio prend également en charge un type de projet de site Web vide, qui ne contient aucun fichier, comme illustré dans la figure suivante :</span><span class="sxs-lookup"><span data-stu-id="667fc-682">Visual Studio also supports an Empty Web Site project type, which contains no files at all, as shown in the following figure:</span></span>

<a id="0.2_graphic1B"></a>![](overview/_static/image5.png)

<span data-ttu-id="667fc-683">Le résultat est que pour le débutant, il y a très peu d’instructions sur la façon de créer une application Web de production.</span><span class="sxs-lookup"><span data-stu-id="667fc-683">The result is that for the beginner, there is very little guidance on how to build a production Web application.</span></span> <span data-ttu-id="667fc-684">Par conséquent, ASP.NET 4 introduit trois nouveaux modèles, l’un pour un projet d’application Web vide et l’autre pour une application Web et un projet de site Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-684">Therefore, ASP.NET 4 introduces three new templates, one for an empty Web application project, and one each for a Web Application and Web Site project.</span></span>

#### <a name="empty-web-application-template"></a><span data-ttu-id="667fc-685">Modèle d’application Web vide</span><span class="sxs-lookup"><span data-stu-id="667fc-685">Empty Web Application Template</span></span>

<span data-ttu-id="667fc-686">Comme son nom l’indique, le modèle d’application Web vide est un projet d’application Web supprimé.</span><span class="sxs-lookup"><span data-stu-id="667fc-686">As the name suggests, the Empty Web Application template is a stripped-down Web Application project.</span></span> <span data-ttu-id="667fc-687">Vous sélectionnez ce modèle de projet dans la boîte de dialogue Nouveau projet de Visual Studio, comme illustré dans la figure suivante :</span><span class="sxs-lookup"><span data-stu-id="667fc-687">You select this project template from the Visual Studio New Project dialog box, as shown in the following figure:</span></span>

[![](overview/_static/image7.png)](overview/_static/image6.png)

<span data-ttu-id="667fc-688">([Cliquez pour afficher l’image en taille réelle](overview/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="667fc-688">([Click to view full-size image](overview/_static/image8.png))</span></span>

<span data-ttu-id="667fc-689">Quand vous créez une application Web ASP.NET vide, Visual Studio crée la disposition de dossier suivante :</span><span class="sxs-lookup"><span data-stu-id="667fc-689">When you create an Empty ASP.NET Web Application, Visual Studio creates the following folder layout:</span></span>

<a id="0.2_graphic1D"></a>![](overview/_static/image9.png)

<span data-ttu-id="667fc-690">Cela est similaire à la disposition de site Web vide des versions antérieures de ASP.NET, à une exception près.</span><span class="sxs-lookup"><span data-stu-id="667fc-690">This is similar to the Empty Web Site layout from earlier versions of ASP.NET, with one exception.</span></span> <span data-ttu-id="667fc-691">Dans Visual Studio 2010, les projets d’application Web vide et de site Web vide contiennent le fichier `Web.config` minimal suivant qui contient les informations utilisées par Visual Studio pour identifier l’infrastructure ciblée par le projet :</span><span class="sxs-lookup"><span data-stu-id="667fc-691">In Visual Studio 2010, Empty Web Application and Empty Web Site projects contain the following minimal `Web.config` file that contains information used by Visual Studio to identify the framework that the project is targeting:</span></span>

<a id="0.2_graphic1E"></a>![](overview/_static/image10.png)

<span data-ttu-id="667fc-692">Sans cette propriété *targetFramework* , Visual Studio cible par défaut le .NET Framework 2,0 afin de préserver la compatibilité lors de l’ouverture d’anciennes applications.</span><span class="sxs-lookup"><span data-stu-id="667fc-692">Without this *targetFramework* property, Visual Studio defaults to targeting the .NET Framework 2.0 in order to preserve compatibility when opening older applications.</span></span>

#### <a name="web-application-and-web-site-project-templates"></a><span data-ttu-id="667fc-693">Modèles de projet d’application Web et de site Web</span><span class="sxs-lookup"><span data-stu-id="667fc-693">Web Application and Web Site Project Templates</span></span>

<span data-ttu-id="667fc-694">Les deux autres modèles de projet fournis avec Visual Studio 2010 contiennent des modifications majeures.</span><span class="sxs-lookup"><span data-stu-id="667fc-694">The other two new project templates that are shipped with Visual Studio 2010 contain major changes.</span></span> <span data-ttu-id="667fc-695">L’illustration suivante montre la disposition du projet qui est créée lorsque vous créez un projet d’application Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-695">The following figure shows the project layout that is created when you create a new Web Application project.</span></span> <span data-ttu-id="667fc-696">(La disposition d’un projet de site Web est pratiquement identique.)</span><span class="sxs-lookup"><span data-stu-id="667fc-696">(The layout for a Web Site project is virtually identical.)</span></span>

- <a id="0.2_graphic1F"></a>![](overview/_static/image11.png)

<span data-ttu-id="667fc-697">Le projet comprend un certain nombre de fichiers qui n’ont pas été créés dans des versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="667fc-697">The project includes a number of files that were not created in earlier versions.</span></span> <span data-ttu-id="667fc-698">En outre, le nouveau projet d’application Web est configuré avec la fonctionnalité d’appartenance de base, qui vous permet de commencer rapidement à sécuriser l’accès à la nouvelle application.</span><span class="sxs-lookup"><span data-stu-id="667fc-698">In addition, the new Web Application project is configured with basic membership functionality, which lets you quickly get started in securing access to the new application.</span></span> <span data-ttu-id="667fc-699">En raison de cette inclusion, le fichier `Web.config` pour le nouveau projet comprend des entrées utilisées pour configurer l’appartenance, les rôles et les profils.</span><span class="sxs-lookup"><span data-stu-id="667fc-699">Because of this inclusion, the `Web.config` file for the new project includes entries that are used to configure membership, roles, and profiles.</span></span> <span data-ttu-id="667fc-700">L’exemple suivant montre le fichier `Web.config` pour un nouveau projet d’application Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-700">The following example shows the `Web.config` file for a new Web Application project.</span></span> <span data-ttu-id="667fc-701">(Dans ce cas, *roleManager* est désactivé.)</span><span class="sxs-lookup"><span data-stu-id="667fc-701">(In this case, *roleManager* is disabled.)</span></span>

[![](overview/_static/image13.png)](overview/_static/image12.png)

<span data-ttu-id="667fc-702">([Cliquez pour afficher l’image en taille réelle](overview/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="667fc-702">([Click to view full-size image](overview/_static/image14.png))</span></span>

<span data-ttu-id="667fc-703">Le projet contient également un deuxième `Web.config` fichier dans le répertoire `Account`.</span><span class="sxs-lookup"><span data-stu-id="667fc-703">The project also contains a second `Web.config` file in the `Account` directory.</span></span> <span data-ttu-id="667fc-704">Le deuxième fichier de configuration fournit un moyen de sécuriser l’accès à la page ChangePassword. aspx pour les utilisateurs non connectés.</span><span class="sxs-lookup"><span data-stu-id="667fc-704">The second configuration file provides a way to secure access to the ChangePassword.aspx page for non-logged in users.</span></span> <span data-ttu-id="667fc-705">L’exemple suivant montre le contenu du deuxième `Web.config` fichier.</span><span class="sxs-lookup"><span data-stu-id="667fc-705">The following example shows the contents of the second `Web.config` file.</span></span>

![](overview/_static/image15.png)

<span data-ttu-id="667fc-706">Les pages créées par défaut dans les nouveaux modèles de projet contiennent également plus de contenu que dans les versions précédentes.</span><span class="sxs-lookup"><span data-stu-id="667fc-706">The pages created by default in the new project templates also contain more content than in previous versions.</span></span> <span data-ttu-id="667fc-707">Le projet contient une page maître et un fichier CSS par défaut, et la page par défaut (default. aspx) est configurée pour utiliser la page maître par défaut.</span><span class="sxs-lookup"><span data-stu-id="667fc-707">The project contains a default master page and CSS file, and the default page (Default.aspx) is configured to use the master page by default.</span></span> <span data-ttu-id="667fc-708">Par conséquent, lorsque vous exécutez l’application Web ou le site Web pour la première fois, la page par défaut (page d’hébergement) est déjà fonctionnelle.</span><span class="sxs-lookup"><span data-stu-id="667fc-708">The result is that when you run the Web application or Web site for the first time, the default (home) page is already functional.</span></span> <span data-ttu-id="667fc-709">En fait, il est similaire à la page par défaut qui s’affiche lorsque vous démarrez une nouvelle application MVC.</span><span class="sxs-lookup"><span data-stu-id="667fc-709">In fact, it is similar to the default page you see when you start up a new MVC application.</span></span>

[![](overview/_static/image17.png)](overview/_static/image16.png)

<span data-ttu-id="667fc-710">([Cliquez pour afficher l’image en taille réelle](overview/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="667fc-710">([Click to view full-size image](overview/_static/image18.png))</span></span>

<span data-ttu-id="667fc-711">Les modifications apportées aux modèles de projet ont pour but de vous guider dans la création d’une nouvelle application Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-711">The intention of these changes to the project templates is to provide guidance on how to start building a new Web application.</span></span> <span data-ttu-id="667fc-712">Avec un balisage conforme à XHTML 1,0 strict et correct et une disposition spécifiée à l’aide de CSS, les pages des modèles représentent les meilleures pratiques pour la création d’applications Web ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-712">With semantically correct, strict XHTML 1.0-compliant markup and with layout that is specified using CSS, the pages in the templates represent best practices for building ASP.NET 4 Web applications.</span></span> <span data-ttu-id="667fc-713">Les pages par défaut ont également une disposition à deux colonnes que vous pouvez facilement personnaliser.</span><span class="sxs-lookup"><span data-stu-id="667fc-713">The default pages also have a two-column layout that you can easily customize.</span></span>

<span data-ttu-id="667fc-714">Par exemple, imaginez que pour une nouvelle application Web, vous souhaitez modifier certaines des couleurs et insérer le logo de votre société à la place du logo de l’application My ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="667fc-714">For example, imagine that for a new Web Application you want to change some of the colors and insert your company logo in place of the My ASP.NET Application logo.</span></span> <span data-ttu-id="667fc-715">Pour ce faire, vous créez un répertoire sous `Content` pour stocker l’image de votre logo :</span><span class="sxs-lookup"><span data-stu-id="667fc-715">To do this, you create a new directory under `Content` to store your logo image:</span></span>

<a id="0.2_graphic23"></a>![](overview/_static/image19.png)

<span data-ttu-id="667fc-716">Pour ajouter l’image à la page, ouvrez le fichier `Site.Master`, recherchez l’emplacement où est défini le texte de l’application My ASP.NET, puis remplacez-le par un élément *image* dont l’attribut *src* a pour valeur la nouvelle image de logo, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-716">To add the image to the page, you then open the `Site.Master` file, find where the My ASP.NET Application text is defined, and replace it with an *image* element whose *src* attribute is set to the new logo image, as in the following example:</span></span>

[![](overview/_static/image21.png)](overview/_static/image20.png)

<span data-ttu-id="667fc-717">([Cliquez pour afficher l’image en taille réelle](overview/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="667fc-717">([Click to view full-size image](overview/_static/image22.png))</span></span>

<span data-ttu-id="667fc-718">Vous pouvez ensuite accéder au fichier site. CSS et modifier les définitions de classe CSS pour modifier la couleur d’arrière-plan de la page ainsi que celle de l’en-tête.</span><span class="sxs-lookup"><span data-stu-id="667fc-718">You can then go into the Site.css file and modify CSS class definitions to change the background color of the page as well as that of the header.</span></span>

<span data-ttu-id="667fc-719">Le résultat de ces modifications est que vous pouvez afficher une page d’hébergement personnalisée avec très peu d’efforts :</span><span class="sxs-lookup"><span data-stu-id="667fc-719">The result of these changes is that you can display a customized home page with very little effort:</span></span>

[![](overview/_static/image24.png)](overview/_static/image23.png)

<span data-ttu-id="667fc-720">([Cliquez pour afficher l’image en taille réelle](overview/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="667fc-720">([Click to view full-size image](overview/_static/image25.png))</span></span>

<a id="0.2__Toc253429267"></a><a id="0.2__Toc243304641"></a>

### <a name="css-improvements"></a><span data-ttu-id="667fc-721">Améliorations CSS</span><span class="sxs-lookup"><span data-stu-id="667fc-721">CSS Improvements</span></span>

<span data-ttu-id="667fc-722">L’une des principales zones de travail dans ASP.NET 4 a été de vous aider à effectuer le rendu du code HTML conforme aux normes HTML les plus récentes.</span><span class="sxs-lookup"><span data-stu-id="667fc-722">One of the major areas of work in ASP.NET 4 has been to help render HTML that is compliant with the latest HTML standards.</span></span> <span data-ttu-id="667fc-723">Cela comprend les modifications apportées à la façon dont les contrôles de serveur Web ASP.NET utilisent les styles CSS.</span><span class="sxs-lookup"><span data-stu-id="667fc-723">This includes changes to how ASP.NET Web server controls use CSS styles.</span></span>

#### <a name="compatibility-setting-for-rendering"></a><span data-ttu-id="667fc-724">Paramètre de compatibilité pour le rendu</span><span class="sxs-lookup"><span data-stu-id="667fc-724">Compatibility Setting for Rendering</span></span>

<span data-ttu-id="667fc-725">Par défaut, lorsqu’une application Web ou un site Web cible le .NET Framework 4, l’attribut *controlRenderingCompatibilityVersion* de l’élément *pages* est défini sur « 4,0 ».</span><span class="sxs-lookup"><span data-stu-id="667fc-725">By default, when a Web application or Web site targets the .NET Framework 4, the *controlRenderingCompatibilityVersion* attribute of the *pages* element is set to "4.0".</span></span> <span data-ttu-id="667fc-726">Cet élément est défini dans le fichier de `Web.config` au niveau de l’ordinateur et s’applique par défaut à toutes les applications ASP.NET 4 :</span><span class="sxs-lookup"><span data-stu-id="667fc-726">This element is defined in the machine-level `Web.config` file and by default applies to all ASP.NET 4 applications:</span></span>

[!code-xml[Main](overview/samples/sample69.xml)]

<span data-ttu-id="667fc-727">La valeur de *controlRenderingCompatibility* est une chaîne, ce qui permet d’éventuelles nouvelles définitions de version dans les futures versions.</span><span class="sxs-lookup"><span data-stu-id="667fc-727">The value for *controlRenderingCompatibility* is a string, which allows potential new version definitions in future releases.</span></span> <span data-ttu-id="667fc-728">Dans la version actuelle, les valeurs suivantes sont prises en charge pour cette propriété :</span><span class="sxs-lookup"><span data-stu-id="667fc-728">In the current release, the following values are supported for this property:</span></span>

- <span data-ttu-id="667fc-729">« 3,5 ».</span><span class="sxs-lookup"><span data-stu-id="667fc-729">"3.5".</span></span> <span data-ttu-id="667fc-730">Ce paramètre indique un rendu et un balisage hérités.</span><span class="sxs-lookup"><span data-stu-id="667fc-730">This setting indicates legacy rendering and markup.</span></span> <span data-ttu-id="667fc-731">Le balisage rendu par les contrôles est de 100% à compatibilité descendante et le paramètre de la propriété *xhtmlConformance* est respecté.</span><span class="sxs-lookup"><span data-stu-id="667fc-731">Markup rendered by controls is 100% backward compatible, and the setting of the *xhtmlConformance* property is honored.</span></span>
- <span data-ttu-id="667fc-732">« 4,0 ».</span><span class="sxs-lookup"><span data-stu-id="667fc-732">"4.0".</span></span> <span data-ttu-id="667fc-733">Si la propriété a ce paramètre, les contrôles serveur Web ASP.NET effectuent les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-733">If the property has this setting, ASP.NET Web server controls do the following:</span></span>
- <span data-ttu-id="667fc-734">La propriété *xhtmlConformance* est toujours traitée comme « strict ».</span><span class="sxs-lookup"><span data-stu-id="667fc-734">The *xhtmlConformance* property is always treated as "Strict".</span></span> <span data-ttu-id="667fc-735">Par conséquent, les contrôles affichent le balisage XHTML 1,0 strict.</span><span class="sxs-lookup"><span data-stu-id="667fc-735">As a result, controls render XHTML 1.0 Strict markup.</span></span>
- <span data-ttu-id="667fc-736">La désactivation des contrôles non-entrée n’affiche plus les styles non valides.</span><span class="sxs-lookup"><span data-stu-id="667fc-736">Disabling non-input controls no longer renders invalid styles.</span></span>
- <span data-ttu-id="667fc-737">les éléments *div* autour des champs masqués sont maintenant stylisés, de sorte qu’ils n’interfèrent pas avec les règles CSS créées par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-737">*div* elements around hidden fields are now styled so they do not interfere with user-created CSS rules.</span></span>
- <span data-ttu-id="667fc-738">Les contrôles de menu restituent le balisage qui est sémantiquement correct et conforme aux règles d’accessibilité.</span><span class="sxs-lookup"><span data-stu-id="667fc-738">Menu controls render markup that is semantically correct and compliant with accessibility guidelines.</span></span>
- <span data-ttu-id="667fc-739">Les contrôles de validation ne restituent pas de styles intralignes.</span><span class="sxs-lookup"><span data-stu-id="667fc-739">Validation controls do not render inline styles.</span></span>
- <span data-ttu-id="667fc-740">Les contrôles qui ont précédemment rendu border = "0" (les contrôles qui dérivent du contrôle *Table* ASP.net et le contrôle *image* ASP.net) n’affichent plus cet attribut.</span><span class="sxs-lookup"><span data-stu-id="667fc-740">Controls that previously rendered border="0" (controls that derive from the ASP.NET *Table* control, and the ASP.NET *Image* control) no longer render this attribute.</span></span>

#### <a name="disabling-controls"></a><span data-ttu-id="667fc-741">Désactivation de contrôles</span><span class="sxs-lookup"><span data-stu-id="667fc-741">Disabling Controls</span></span>

<span data-ttu-id="667fc-742">Dans ASP.NET 3,5 SP1 et les versions antérieures, le Framework restitue l’attribut *Disabled* dans le balisage HTML pour tout contrôle dont la propriété *Enabled* a la valeur *false*.</span><span class="sxs-lookup"><span data-stu-id="667fc-742">In ASP.NET 3.5 SP1 and earlier versions, the framework renders the *disabled* attribute in the HTML markup for any control whose *Enabled* property set to *false*.</span></span> <span data-ttu-id="667fc-743">Toutefois, en fonction de la spécification HTML 4,01, seuls les éléments *d’entrée* doivent avoir cet attribut.</span><span class="sxs-lookup"><span data-stu-id="667fc-743">However, according to the HTML 4.01 specification, only *input* elements should have this attribute.</span></span>

<span data-ttu-id="667fc-744">Dans ASP.NET 4, vous pouvez définir la propriété *controlRenderingCompatibilityVersion* sur « 3,5 », comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-744">In ASP.NET 4, you can set the *controlRenderingCompatibilityVersion* property to "3.5", as in the following example:</span></span>

[!code-xml[Main](overview/samples/sample70.xml)]

<span data-ttu-id="667fc-745">Vous pouvez créer un balisage pour un contrôle *label* comme celui qui suit, ce qui désactive le contrôle :</span><span class="sxs-lookup"><span data-stu-id="667fc-745">You might create markup for a *Label* control like the following, which disables the control:</span></span>

[!code-aspx[Main](overview/samples/sample71.aspx)]

<span data-ttu-id="667fc-746">Le contrôle *label* affiche le code HTML suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-746">The *Label* control would render the following HTML:</span></span>

[!code-html[Main](overview/samples/sample72.html)]

<span data-ttu-id="667fc-747">Dans ASP.NET 4, vous pouvez définir le *controlRenderingCompatibilityVersion* sur « 4,0 ».</span><span class="sxs-lookup"><span data-stu-id="667fc-747">In ASP.NET 4, you can set the *controlRenderingCompatibilityVersion* to "4.0".</span></span> <span data-ttu-id="667fc-748">Dans ce cas, seuls les contrôles qui restituent des éléments *d’entrée* rendront un attribut *désactivé* lorsque la propriété *Enabled* du contrôle est définie sur *false*.</span><span class="sxs-lookup"><span data-stu-id="667fc-748">In that case, only controls that render *input* elements will render a *disabled* attribute when the control's *Enabled* property is set to *false*.</span></span> <span data-ttu-id="667fc-749">Les contrôles qui n’affichent pas *d’éléments d’entrée* HTML à la place restituent un attribut de *classe* qui référence une classe CSS que vous pouvez utiliser pour définir une apparence désactivée pour le contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-749">Controls that do not render HTML *input* elements instead render a *class* attribute that references a CSS class that you can use to define a disabled look for the control.</span></span> <span data-ttu-id="667fc-750">Par exemple, le contrôle *label* indiqué dans l’exemple précédent générerait le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-750">For example, the *Label* control shown in the earlier example would generate the following markup:</span></span>

[!code-html[Main](overview/samples/sample73.html)]

<span data-ttu-id="667fc-751">La valeur par défaut de la classe qui a été spécifiée pour ce contrôle est « aspNetDisabled ».</span><span class="sxs-lookup"><span data-stu-id="667fc-751">The default value for the class that specified for this control is "aspNetDisabled".</span></span> <span data-ttu-id="667fc-752">Toutefois, vous pouvez modifier cette valeur par défaut en définissant la propriété statique *DisabledCssClass* statique de la classe *WebControl* .</span><span class="sxs-lookup"><span data-stu-id="667fc-752">However, you can change this default value by setting the static *DisabledCssClass* static property of the *WebControl* class.</span></span> <span data-ttu-id="667fc-753">Pour les développeurs de contrôles, le comportement à utiliser pour un contrôle spécifique peut également être défini à l’aide de la propriété *SupportsDisabledAttribute* .</span><span class="sxs-lookup"><span data-stu-id="667fc-753">For control developers, the behavior to use for a specific control can also be defined using the *SupportsDisabledAttribute* property.</span></span>

<a id="0.2__Toc253429268"></a><a id="0.2__Toc243304642"></a>

### <a name="hiding-div-elements-around-hidden-fields"></a><span data-ttu-id="667fc-754">Masquage d’éléments div autour de champs masqués</span><span class="sxs-lookup"><span data-stu-id="667fc-754">Hiding div Elements Around Hidden Fields</span></span>

<span data-ttu-id="667fc-755">ASP.NET 2,0 et les versions ultérieures restituent les champs masqués spécifiques au système (tels que l’élément *masqué* utilisé pour stocker les informations d’état d’affichage) à l’intérieur de l’élément *div* afin de se conformer à la norme XHTML.</span><span class="sxs-lookup"><span data-stu-id="667fc-755">ASP.NET 2.0 and later versions render system-specific hidden fields (such as the *hidden* element used to store view state information) inside *div* element in order to comply with the XHTML standard.</span></span> <span data-ttu-id="667fc-756">Toutefois, cela peut poser un problème lorsqu’une règle CSS affecte des éléments *div* sur une page.</span><span class="sxs-lookup"><span data-stu-id="667fc-756">However, this can cause a problem when a CSS rule affects *div* elements on a page.</span></span> <span data-ttu-id="667fc-757">Par exemple, elle peut entraîner l’affichage d’une ligne d’un pixel autour des éléments *div* masqués.</span><span class="sxs-lookup"><span data-stu-id="667fc-757">For example, it can result in a one-pixel line appearing in the page around hidden *div* elements.</span></span> <span data-ttu-id="667fc-758">Dans ASP.NET 4, les éléments *div* qui encadrent les champs masqués générés par ASP.net ajoutent une référence de classe CSS comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-758">In ASP.NET 4, *div* elements that enclose the hidden fields generated by ASP.NET add a CSS class reference as in the following example:</span></span>

[!code-html[Main](overview/samples/sample74.html)]

<span data-ttu-id="667fc-759">Vous pouvez ensuite définir une classe CSS qui s’applique uniquement aux éléments *masqués* générés par ASP.net, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-759">You can then define a CSS class that applies only to the *hidden* elements that are generated by ASP.NET, as in the following example:</span></span>

[!code-css[Main](overview/samples/sample75.css)]

<a id="0.2__Toc253429269"></a><a id="0.2__Toc243304643"></a>

### <a name="rendering-an-outer-table-for-templated-controls"></a><span data-ttu-id="667fc-760">Rendu d’une table externe pour les contrôles basés sur un modèle</span><span class="sxs-lookup"><span data-stu-id="667fc-760">Rendering an Outer Table for Templated Controls</span></span>

<span data-ttu-id="667fc-761">Par défaut, les contrôles serveur Web ASP.NET suivants qui prennent en charge les modèles sont automatiquement encapsulés dans une table externe qui est utilisée pour appliquer des styles intralignes :</span><span class="sxs-lookup"><span data-stu-id="667fc-761">By default, the following ASP.NET Web server controls that support templates are automatically wrapped in an outer table that is used to apply inline styles:</span></span>

- <span data-ttu-id="667fc-762">*FormView*</span><span class="sxs-lookup"><span data-stu-id="667fc-762">*FormView*</span></span>
- <span data-ttu-id="667fc-763">*Connexion*</span><span class="sxs-lookup"><span data-stu-id="667fc-763">*Login*</span></span>
- <span data-ttu-id="667fc-764">*PasswordRecovery*</span><span class="sxs-lookup"><span data-stu-id="667fc-764">*PasswordRecovery*</span></span>
- <span data-ttu-id="667fc-765">*Connaissant*</span><span class="sxs-lookup"><span data-stu-id="667fc-765">*ChangePassword*</span></span>
- <span data-ttu-id="667fc-766">*Création*</span><span class="sxs-lookup"><span data-stu-id="667fc-766">*Wizard*</span></span>
- <span data-ttu-id="667fc-767">*CreateUserWizard*</span><span class="sxs-lookup"><span data-stu-id="667fc-767">*CreateUserWizard*</span></span>

<span data-ttu-id="667fc-768">Une nouvelle propriété nommée *RenderOuterTable* a été ajoutée à ces contrôles pour permettre la suppression de la table externe du balisage.</span><span class="sxs-lookup"><span data-stu-id="667fc-768">A new property named *RenderOuterTable* has been added to these controls that allows the outer table to be removed from the markup.</span></span> <span data-ttu-id="667fc-769">Prenons l’exemple suivant d’un contrôle *FormView* :</span><span class="sxs-lookup"><span data-stu-id="667fc-769">For example, consider the following example of a *FormView* control:</span></span>

[!code-aspx[Main](overview/samples/sample76.aspx)]

<span data-ttu-id="667fc-770">Ce balisage restitue la sortie suivante sur la page, qui comprend un tableau HTML :</span><span class="sxs-lookup"><span data-stu-id="667fc-770">This markup renders the following output to the page, which includes an HTML table:</span></span>

[!code-html[Main](overview/samples/sample77.html)]

<span data-ttu-id="667fc-771">Pour empêcher le rendu de la table, vous pouvez définir la propriété *RenderOuterTable* du contrôle *FormView* , comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-771">To prevent the table from being rendered, you can set the *FormView* control's *RenderOuterTable* property, as in the following example:</span></span>

[!code-aspx[Main](overview/samples/sample78.aspx)]

<span data-ttu-id="667fc-772">L’exemple précédent restitue la sortie suivante, sans les éléments *table*, *TR*et *TD* :</span><span class="sxs-lookup"><span data-stu-id="667fc-772">The previous example renders the following output, without the *table*, *tr*, and *td* elements:</span></span>

> <span data-ttu-id="667fc-773">Contenu</span><span class="sxs-lookup"><span data-stu-id="667fc-773">Content</span></span>

<span data-ttu-id="667fc-774">Cette amélioration peut faciliter le style du contenu du contrôle avec CSS, car aucune balise inattendue n’est restituée par le contrôle.</span><span class="sxs-lookup"><span data-stu-id="667fc-774">This enhancement can make it easier to style the content of the control with CSS, because no unexpected tags are rendered by the control.</span></span>

> [!NOTE]
> <span data-ttu-id="667fc-775">Remarque Cette modification désactive la prise en charge de la fonction de mise en forme automatique dans le concepteur Visual Studio 2010, car il n’y a plus d’élément de *table* qui peut héberger des attributs de style générés par l’option de mise en forme automatique.</span><span class="sxs-lookup"><span data-stu-id="667fc-775">Note This change disables support for the auto-format function in the Visual Studio 2010 designer, because there is no longer a *table* element that can host style attributes that are generated by the auto-format option.</span></span>

<a id="0.2__Toc253429270"></a><a id="0.2__Toc243304644"></a>

### <a name="listview-control-enhancements"></a><span data-ttu-id="667fc-776">Améliorations du contrôle ListView</span><span class="sxs-lookup"><span data-stu-id="667fc-776">ListView Control Enhancements</span></span>

<span data-ttu-id="667fc-777">Le contrôle *ListView* a été simplifié pour une utilisation dans ASP.net 4.</span><span class="sxs-lookup"><span data-stu-id="667fc-777">The *ListView* control has been made easier to use in ASP.NET 4.</span></span> <span data-ttu-id="667fc-778">La version antérieure du contrôle nécessitait que vous spécifiiez un modèle de disposition qui contenait un contrôle serveur avec un ID connu.</span><span class="sxs-lookup"><span data-stu-id="667fc-778">The earlier version of the control required that you specify a layout template that contained a server control with a known ID.</span></span> <span data-ttu-id="667fc-779">Le balisage suivant montre un exemple classique d’utilisation du contrôle *ListView* dans ASP.net 3,5.</span><span class="sxs-lookup"><span data-stu-id="667fc-779">The following markup shows a typical example of how to use the *ListView* control in ASP.NET 3.5.</span></span>

[!code-aspx[Main](overview/samples/sample79.aspx)]

<span data-ttu-id="667fc-780">Dans ASP.NET 4, le contrôle *ListView* ne requiert pas de modèle de disposition.</span><span class="sxs-lookup"><span data-stu-id="667fc-780">In ASP.NET 4, the *ListView* control does not require a layout template.</span></span> <span data-ttu-id="667fc-781">Le balisage illustré dans l’exemple précédent peut être remplacé par le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-781">The markup shown in the previous example can be replaced with the following markup:</span></span>

[!code-aspx[Main](overview/samples/sample80.aspx)]

<a id="0.2__Toc253429271"></a><a id="0.2__Toc243304645"></a>

### <a name="checkboxlist-and-radiobuttonlist-control-enhancements"></a><span data-ttu-id="667fc-782">Amélioration des contrôles CheckBoxList et RadioButtonList</span><span class="sxs-lookup"><span data-stu-id="667fc-782">CheckBoxList and RadioButtonList Control Enhancements</span></span>

<span data-ttu-id="667fc-783">Dans ASP.NET 3,5, vous pouvez spécifier la disposition pour *CheckBoxList* et *RadioButtonList* à l’aide des deux paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="667fc-783">In ASP.NET 3.5, you can specify layout for the *CheckBoxList* and *RadioButtonList* using the following two settings:</span></span>

- <span data-ttu-id="667fc-784">*Flow*.</span><span class="sxs-lookup"><span data-stu-id="667fc-784">*Flow*.</span></span> <span data-ttu-id="667fc-785">Le contrôle restitue des éléments *span* pour contenir son contenu.</span><span class="sxs-lookup"><span data-stu-id="667fc-785">The control renders *span* elements to contain its content.</span></span>
- <span data-ttu-id="667fc-786">*Table*.</span><span class="sxs-lookup"><span data-stu-id="667fc-786">*Table*.</span></span> <span data-ttu-id="667fc-787">Le contrôle restitue un élément *table* pour contenir son contenu.</span><span class="sxs-lookup"><span data-stu-id="667fc-787">The control renders a *table* element to contain its content.</span></span>

<span data-ttu-id="667fc-788">L’exemple suivant montre un balisage pour chacun de ces contrôles.</span><span class="sxs-lookup"><span data-stu-id="667fc-788">The following example shows markup for each of these controls.</span></span>

[!code-aspx[Main](overview/samples/sample81.aspx)]

<span data-ttu-id="667fc-789">Par défaut, les contrôles affichent du code HTML similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-789">By default, the controls render HTML similar to the following:</span></span>

[!code-html[Main](overview/samples/sample82.html)]

<span data-ttu-id="667fc-790">Étant donné que ces contrôles contiennent des listes d’éléments, pour restituer du code HTML sémantiquement correct, ils doivent restituer leur contenu à l’aide d’éléments de liste HTML (*Li*).</span><span class="sxs-lookup"><span data-stu-id="667fc-790">Because these controls contain lists of items, to render semantically correct HTML, they should render their contents using HTML list (*li*) elements.</span></span> <span data-ttu-id="667fc-791">Cela facilite la lecture des pages Web à l’aide de la technologie d’assistance par les utilisateurs et facilite le style des contrôles à l’aide de CSS.</span><span class="sxs-lookup"><span data-stu-id="667fc-791">This makes it easier for users who read Web pages using assistive technology, and makes the controls easier to style using CSS.</span></span>

<span data-ttu-id="667fc-792">Dans ASP.NET 4, les contrôles *CheckBoxList* et *RadioButtonList* prennent en charge les nouvelles valeurs suivantes pour la propriété *RepeatLayout* :</span><span class="sxs-lookup"><span data-stu-id="667fc-792">In ASP.NET 4, the *CheckBoxList* and *RadioButtonList* controls support the following new values for the *RepeatLayout* property:</span></span>

- <span data-ttu-id="667fc-793">*OrderedList* : le contenu est rendu sous la forme d’éléments *Li* dans un élément *ol* .</span><span class="sxs-lookup"><span data-stu-id="667fc-793">*OrderedList* – The content is rendered as *li* elements within an *ol* element.</span></span>
- <span data-ttu-id="667fc-794">*Dispositions UnorderedList* : le contenu est rendu sous la forme d’éléments *Li* dans un élément *UL* .</span><span class="sxs-lookup"><span data-stu-id="667fc-794">*UnorderedList* – The content is rendered as *li* elements within a *ul* element.</span></span>

<span data-ttu-id="667fc-795">L’exemple suivant montre comment utiliser ces nouvelles valeurs.</span><span class="sxs-lookup"><span data-stu-id="667fc-795">The following example shows how to use these new values.</span></span>

[!code-aspx[Main](overview/samples/sample83.aspx)]

<span data-ttu-id="667fc-796">Le balisage ci-dessus génère le code HTML suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-796">The preceding markup generates the following HTML:</span></span>

[!code-html[Main](overview/samples/sample84.html)]

> [!NOTE]
> <span data-ttu-id="667fc-797">Remarque Si vous affectez à *RepeatLayout* la valeur *OrderedList* ou *dispositions UnorderedList*, la propriété *RepeatDirection* ne peut plus être utilisée et lèvera une exception au moment de l’exécution si la propriété a été définie dans votre balise ou votre code.</span><span class="sxs-lookup"><span data-stu-id="667fc-797">Note If you set *RepeatLayout* to *OrderedList* or *UnorderedList*, the *RepeatDirection* property can no longer be used and will throw an exception at run time if the property has been set within your markup or code.</span></span> <span data-ttu-id="667fc-798">La propriété n’aurait aucune valeur, car la disposition visuelle de ces contrôles est définie à l’aide de CSS.</span><span class="sxs-lookup"><span data-stu-id="667fc-798">The property would have no value because the visual layout of these controls is defined using CSS instead.</span></span>

<a id="0.2__Toc253429272"></a><a id="0.2__Toc243304646"></a>

### <a name="menu-control-improvements"></a><span data-ttu-id="667fc-799">Améliorations du contrôle Menu</span><span class="sxs-lookup"><span data-stu-id="667fc-799">Menu Control Improvements</span></span>

<span data-ttu-id="667fc-800">Avant le ASP.NET 4, le contrôle *menu* affichait une série de tableaux html.</span><span class="sxs-lookup"><span data-stu-id="667fc-800">Before ASP.NET 4, the *Menu* control rendered a series of HTML tables.</span></span> <span data-ttu-id="667fc-801">Cela rendait plus difficile l’application de styles CSS en dehors du paramétrage des propriétés inline et n’était pas non plus conforme aux normes d’accessibilité.</span><span class="sxs-lookup"><span data-stu-id="667fc-801">This made it more difficult to apply CSS styles outside of setting inline properties and was also not compliant with accessibility standards.</span></span>

<span data-ttu-id="667fc-802">Dans ASP.NET 4, le contrôle restitue désormais du code HTML à l’aide du balisage sémantique qui se compose d’éléments de liste et de liste non triés.</span><span class="sxs-lookup"><span data-stu-id="667fc-802">In ASP.NET 4, the control now renders HTML using semantic markup that consists of an unordered list and list elements.</span></span> <span data-ttu-id="667fc-803">L’exemple suivant illustre le balisage dans une page ASP.NET pour le contrôle *menu* .</span><span class="sxs-lookup"><span data-stu-id="667fc-803">The following example shows markup in an ASP.NET page for the *Menu* control.</span></span>

[!code-aspx[Main](overview/samples/sample85.aspx)]

<span data-ttu-id="667fc-804">Lorsque la page est rendue, le contrôle produit le code HTML suivant (le code *OnClick* a été omis par souci de clarté) :</span><span class="sxs-lookup"><span data-stu-id="667fc-804">When the page renders, the control produces the following HTML (the *onclick* code has been omitted for clarity):</span></span>

[!code-html[Main](overview/samples/sample86.html)]

<span data-ttu-id="667fc-805">En plus des améliorations du rendu, la navigation au clavier du menu a été améliorée grâce à la gestion du focus.</span><span class="sxs-lookup"><span data-stu-id="667fc-805">In addition to rendering improvements, keyboard navigation of the menu has been improved using focus management.</span></span> <span data-ttu-id="667fc-806">Quand le contrôle de *menu* reçoit le focus, vous pouvez utiliser les touches de direction pour naviguer parmi les éléments.</span><span class="sxs-lookup"><span data-stu-id="667fc-806">When the *Menu* control gets focus, you can use the arrow keys to navigate elements.</span></span> <span data-ttu-id="667fc-807">Le contrôle *menu* attache désormais également des rôles et des attributs Aria (Rich Internet applications) accessibles Vale aile pour améliorer[l'](http://www.w3.org/TR/wai-aria-practices/#menu "Instructions du menu ARIA")accessibilité.</span><span class="sxs-lookup"><span data-stu-id="667fc-807">The *Menu* control also now attaches accessible rich internet applications (ARIA) roles and attributes follo[wing the](http://www.w3.org/TR/wai-aria-practices/#menu "Menu ARIA guidelines")for improved accessibility.</span></span>

<span data-ttu-id="667fc-808">Les styles pour le contrôle de menu sont rendus dans un bloc de style en haut de la page, plutôt qu’en ligne avec les éléments HTML rendus.</span><span class="sxs-lookup"><span data-stu-id="667fc-808">Styles for the menu control are rendered in a style block at the top of the page, rather than in line with the rendered HTML elements.</span></span> <span data-ttu-id="667fc-809">Si vous souhaitez prendre le contrôle total sur le style du contrôle, vous pouvez affecter à la nouvelle propriété *IncludeStyleBlock* la *valeur false*, auquel cas le bloc de style n’est pas émis.</span><span class="sxs-lookup"><span data-stu-id="667fc-809">If you want to take full control over the styling for the control, you can set the new *IncludeStyleBlock* property to *false*, in which case the style block is not emitted.</span></span> <span data-ttu-id="667fc-810">Une façon d’utiliser cette propriété consiste à utiliser la fonctionnalité de mise en forme automatique dans le concepteur Visual Studio pour définir l’apparence du menu.</span><span class="sxs-lookup"><span data-stu-id="667fc-810">One way to use this property is to use the auto-format feature in the Visual Studio designer to set the appearance of the menu.</span></span> <span data-ttu-id="667fc-811">Vous pouvez ensuite exécuter la page, ouvrir la page source, puis copier le bloc de style rendu dans un fichier CSS externe.</span><span class="sxs-lookup"><span data-stu-id="667fc-811">You can then run the page, open the page source, and then copy the rendered style block to an external CSS file.</span></span> <span data-ttu-id="667fc-812">Dans Visual Studio, annulez le style et définissez *IncludeStyleBlock* sur *false*.</span><span class="sxs-lookup"><span data-stu-id="667fc-812">In Visual Studio, undo the styling and set *IncludeStyleBlock* to *false*.</span></span> <span data-ttu-id="667fc-813">Le résultat est que l’apparence du menu est définie à l’aide de styles dans une feuille de style externe.</span><span class="sxs-lookup"><span data-stu-id="667fc-813">The result is that the menu appearance is defined using styles in an external style sheet.</span></span>

<a id="0.2__Toc253429273"></a><a id="0.2__Toc243304647"></a>

### <a name="wizard-and-createuserwizard-controls"></a><span data-ttu-id="667fc-814">Assistant et contrôles CreateUserWizard</span><span class="sxs-lookup"><span data-stu-id="667fc-814">Wizard and CreateUserWizard Controls</span></span>

<span data-ttu-id="667fc-815">L' *assistant* ASP.net et les contrôles *CreateUserWizard* prennent en charge les modèles qui vous permettent de définir le code html qu’ils restituent.</span><span class="sxs-lookup"><span data-stu-id="667fc-815">The ASP.NET *Wizard* and *CreateUserWizard* controls support templates that let you define the HTML that they render.</span></span> <span data-ttu-id="667fc-816">(*CreateUserWizard* dérive de l' *Assistant*.) L’exemple suivant illustre le balisage pour un contrôle *CreateUserWizard* entièrement basé sur un modèle :</span><span class="sxs-lookup"><span data-stu-id="667fc-816">(*CreateUserWizard* derives from *Wizard*.) The following example shows the markup for a fully templated *CreateUserWizard* control:</span></span>

[!code-aspx[Main](overview/samples/sample87.aspx)]

<span data-ttu-id="667fc-817">Le contrôle restitue le code HTML similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-817">The control renders HTML similar to the following:</span></span>

[!code-html[Main](overview/samples/sample88.html)]

<span data-ttu-id="667fc-818">Dans ASP.NET 3,5 SP1, bien que vous puissiez modifier le contenu du modèle, vous disposez toujours d’un contrôle limité sur la sortie du contrôle de l' *Assistant* .</span><span class="sxs-lookup"><span data-stu-id="667fc-818">In ASP.NET 3.5 SP1, although you can change the template contents, you still have limited control over the output of the *Wizard* control.</span></span> <span data-ttu-id="667fc-819">Dans ASP.NET 4, vous pouvez créer un modèle *LayoutTemplate* et insérer des contrôles d' *espace réservé* (à l’aide de noms réservés) pour spécifier la façon dont vous souhaitez que le contrôle de l' *Assistant* s’affiche.</span><span class="sxs-lookup"><span data-stu-id="667fc-819">In ASP.NET 4, you can create a *LayoutTemplate* template and insert *PlaceHolder* controls (using reserved names) to specify how you want the *Wizard control* to render.</span></span> <span data-ttu-id="667fc-820">L’exemple suivant illustre ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="667fc-820">The following example shows this:</span></span>

[!code-aspx[Main](overview/samples/sample89.aspx)]

<span data-ttu-id="667fc-821">L’exemple contient les espaces réservés nommés suivants dans l’élément *LayoutTemplate* :</span><span class="sxs-lookup"><span data-stu-id="667fc-821">The example contains the following named placeholders in the *LayoutTemplate* element:</span></span>

- <span data-ttu-id="667fc-822">*headerPlaceholder* : au moment de l’exécution, cette valeur est remplacée par le contenu de l’élément *HeaderTemplate* .</span><span class="sxs-lookup"><span data-stu-id="667fc-822">*headerPlaceholder* – At run time, this is replaced by the contents of the *HeaderTemplate* element.</span></span>
- <span data-ttu-id="667fc-823">*sideBarPlaceholder* : au moment de l’exécution, cette valeur est remplacée par le contenu de l’élément *SideBarTemplate* .</span><span class="sxs-lookup"><span data-stu-id="667fc-823">*sideBarPlaceholder* – At run time, this is replaced by the contents of the *SideBarTemplate* element.</span></span>
- <span data-ttu-id="667fc-824">*wizardStepPlaceHolder* : au moment de l’exécution, cette valeur est remplacée par le contenu de l’élément *WizardStepTemplate* .</span><span class="sxs-lookup"><span data-stu-id="667fc-824">*wizardStepPlaceHolder* – At run time, this is replaced by the contents of the *WizardStepTemplate* element.</span></span>
- <span data-ttu-id="667fc-825">*navigationPlaceholder* : au moment de l’exécution, elle est remplacée par tous les modèles de navigation que vous avez définis.</span><span class="sxs-lookup"><span data-stu-id="667fc-825">*navigationPlaceholder* – At run time, this is replaced by any navigation templates that you have defined.</span></span>

<span data-ttu-id="667fc-826">Le balisage de l’exemple qui utilise des espaces réservés restitue le code HTML suivant (sans le contenu réellement défini dans les modèles) :</span><span class="sxs-lookup"><span data-stu-id="667fc-826">The markup in the example that uses placeholders renders the following HTML (without the content actually defined in the templates):</span></span>

[!code-html[Main](overview/samples/sample90.html)]

<span data-ttu-id="667fc-827">Le seul code HTML qui n’est pas défini par l’utilisateur est un élément *span* .</span><span class="sxs-lookup"><span data-stu-id="667fc-827">The only HTML that is now not user-defined is a *span* element.</span></span> <span data-ttu-id="667fc-828">(Nous pensons que dans les versions ultérieures, même l’élément *span* ne sera pas rendu.) Cela vous donne maintenant un contrôle total sur pratiquement tout le contenu généré par le contrôle de l' *Assistant* .</span><span class="sxs-lookup"><span data-stu-id="667fc-828">(We anticipate that in future releases, even the *span* element will not be rendered.) This now gives you full control over virtually all the content that is generated by the *Wizard* control.</span></span>

<a id="0.2_dyndata"></a><a id="0.2__Toc253429274"></a><a id="0.2__Toc243304648"></a><a id="0.2__Toc224729042"></a>

## <a name="aspnet-mvc"></a><span data-ttu-id="667fc-829">ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="667fc-829">ASP.NET MVC</span></span>

<span data-ttu-id="667fc-830">ASP.NET MVC a été introduit comme Framework complémentaire pour ASP.NET 3,5 SP1 en mars 2009.</span><span class="sxs-lookup"><span data-stu-id="667fc-830">ASP.NET MVC was introduced as an add-on framework to ASP.NET 3.5 SP1 in March 2009.</span></span> <span data-ttu-id="667fc-831">Visual Studio 2010 comprend ASP.NET MVC 2, qui comprend de nouvelles fonctionnalités et fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="667fc-831">Visual Studio 2010 includes ASP.NET MVC 2, which includes new features and capabilities.</span></span>

<a id="0.2__Toc253429275"></a>

### <a name="areas-support"></a><span data-ttu-id="667fc-832">Prise en charge des zones</span><span class="sxs-lookup"><span data-stu-id="667fc-832">Areas Support</span></span>

<span data-ttu-id="667fc-833">Les zones vous permettent de regrouper des contrôleurs et des vues dans des sections d’une grande application dans un isolement relatif à partir d’autres sections.</span><span class="sxs-lookup"><span data-stu-id="667fc-833">Areas let you group controllers and views into sections of a large application in relative isolation from other sections.</span></span> <span data-ttu-id="667fc-834">Chaque zone peut être implémentée en tant que projet MVC ASP.NET distinct qui peut ensuite être référencé par l’application principale.</span><span class="sxs-lookup"><span data-stu-id="667fc-834">Each area can be implemented as a separate ASP.NET MVC project that can then be referenced by the main application.</span></span> <span data-ttu-id="667fc-835">Cela permet de gérer la complexité lorsque vous générez une grande application et facilite la collaboration de plusieurs équipes sur une même application.</span><span class="sxs-lookup"><span data-stu-id="667fc-835">This helps manage complexity when you build a large application and makes it easier for multiple teams to work together on a single application.</span></span>

<a id="0.2__Toc253429276"></a>

### <a name="data-annotation-attribute-validation-support"></a><span data-ttu-id="667fc-836">Prise en charge de la validation des attributs d’annotation de données</span><span class="sxs-lookup"><span data-stu-id="667fc-836">Data-Annotation Attribute Validation Support</span></span>

<span data-ttu-id="667fc-837">Les attributs *DataAnnotations* vous permettent d’attacher une logique de validation à un modèle à l’aide des attributs de métadonnées.</span><span class="sxs-lookup"><span data-stu-id="667fc-837">*DataAnnotations* attributes let you attach validation logic to a model by using metadata attributes.</span></span> <span data-ttu-id="667fc-838">Les attributs *DataAnnotations* ont été introduits dans ASP.NET Dynamic Data dans ASP.net 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="667fc-838">*DataAnnotations* attributes were introduced in ASP.NET Dynamic Data in ASP.NET 3.5 SP1.</span></span> <span data-ttu-id="667fc-839">Ces attributs ont été intégrés dans le classeur de modèles par défaut et fournissent un moyen piloté par les métadonnées pour valider l’entrée d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="667fc-839">These attributes have been integrated into the default model binder and provide a metadata-driven means to validate user input.</span></span>

<a id="0.2__Toc253429277"></a>

### <a name="templated-helpers"></a><span data-ttu-id="667fc-840">Assistances basées sur un modèle</span><span class="sxs-lookup"><span data-stu-id="667fc-840">Templated Helpers</span></span>

<span data-ttu-id="667fc-841">Les applications auxiliaires basées sur un modèle vous permettent d’associer automatiquement des modèles de modification et d’affichage avec des types de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-841">Templated helpers let you automatically associate edit and display templates with data types.</span></span> <span data-ttu-id="667fc-842">Par exemple, vous pouvez utiliser un programme d’assistance de modèle pour spécifier qu’un élément d’interface utilisateur de sélecteur de dates est automatiquement restitué pour une valeur *System. DateTime* .</span><span class="sxs-lookup"><span data-stu-id="667fc-842">For example, you can use a template helper to specify that a date-picker UI element is automatically rendered for a *System.DateTime* value.</span></span> <span data-ttu-id="667fc-843">Cela est similaire aux modèles de champ dans ASP.NET Dynamic Data.</span><span class="sxs-lookup"><span data-stu-id="667fc-843">This is similar to field templates in ASP.NET Dynamic Data.</span></span>

<span data-ttu-id="667fc-844">Les méthodes d’assistance *html. EditorFor* et *html. DisplayFor* offrent une prise en charge intégrée du rendu des types de données standard, ainsi que des objets complexes avec plusieurs propriétés.</span><span class="sxs-lookup"><span data-stu-id="667fc-844">The *Html.EditorFor* and *Html.DisplayFor* helper methods have built-in support for rendering standard data types as well as complex objects with multiple properties.</span></span> <span data-ttu-id="667fc-845">Ils personnalisent également le rendu en vous permettant d’appliquer des attributs d’annotation de données tels que *DisplayName* et *ScaffoldColumn* à l’objet *ViewModel* .</span><span class="sxs-lookup"><span data-stu-id="667fc-845">They also customize rendering by letting you apply data-annotation attributes like *DisplayName* and *ScaffoldColumn* to the *ViewModel* object.</span></span>

<span data-ttu-id="667fc-846">Souvent, vous souhaitez personnaliser la sortie des applications auxiliaires de l’interface utilisateur et avoir un contrôle total sur ce qui est généré.</span><span class="sxs-lookup"><span data-stu-id="667fc-846">Often you want to customize the output from UI helpers even further and have complete control over what is generated.</span></span> <span data-ttu-id="667fc-847">Les méthodes d’assistance *html. EditorFor* et *html. DisplayFor* prennent en charge cette méthode à l’aide d’un mécanisme de création de modèles qui vous permet de définir des modèles externes qui peuvent substituer et contrôler la sortie rendue.</span><span class="sxs-lookup"><span data-stu-id="667fc-847">The *Html.EditorFor* and *Html.DisplayFor* helper methods support this using a templating mechanism that lets you define external templates that can override and control the output rendered.</span></span> <span data-ttu-id="667fc-848">Les modèles peuvent être rendus individuellement pour une classe.</span><span class="sxs-lookup"><span data-stu-id="667fc-848">The templates can be rendered individually for a class.</span></span>

<a id="0.2__Toc253429278"></a><a id="0.2__Toc243304649"></a>

## <a name="dynamic-data"></a><span data-ttu-id="667fc-849">Dynamic Data</span><span class="sxs-lookup"><span data-stu-id="667fc-849">Dynamic Data</span></span>

<span data-ttu-id="667fc-850">Dynamic Data a été introduite dans la version .NET Framework 3,5 SP1 à mi-2008.</span><span class="sxs-lookup"><span data-stu-id="667fc-850">Dynamic Data was introduced in the .NET Framework 3.5 SP1 release in mid-2008.</span></span> <span data-ttu-id="667fc-851">Cette fonctionnalité offre de nombreuses améliorations pour créer des applications pilotées par les données, notamment les suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-851">This feature provides many enhancements for creating data-driven applications, including the following:</span></span>

- <span data-ttu-id="667fc-852">Une expérience RAD pour créer rapidement un site Web piloté par les données.</span><span class="sxs-lookup"><span data-stu-id="667fc-852">A RAD experience for quickly building a data-driven Web site.</span></span>
- <span data-ttu-id="667fc-853">Validation automatique basée sur les contraintes définies dans le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-853">Automatic validation that is based on constraints defined in the data model.</span></span>
- <span data-ttu-id="667fc-854">La possibilité de modifier facilement le balisage généré pour les champs dans les contrôles *GridView* et *DetailsView* à l’aide des modèles de champ qui font partie de votre projet Dynamic Data.</span><span class="sxs-lookup"><span data-stu-id="667fc-854">The ability to easily change the markup that is generated for fields in the *GridView* and *DetailsView* controls by using field templates that are part of your Dynamic Data project.</span></span>

> [!NOTE]
> <span data-ttu-id="667fc-855">Remarque pour plus d’informations, consultez la [documentation Dynamic Data](https://msdn.microsoft.com/library/cc488545.aspx) dans MSDN Library.</span><span class="sxs-lookup"><span data-stu-id="667fc-855">Note For more information, see the [Dynamic Data documentation](https://msdn.microsoft.com/library/cc488545.aspx) in the MSDN Library.</span></span>

<span data-ttu-id="667fc-856">Pour ASP.NET 4, Dynamic Data a été amélioré pour offrir aux développeurs encore plus de puissance pour créer rapidement des sites Web pilotés par les données.</span><span class="sxs-lookup"><span data-stu-id="667fc-856">For ASP.NET 4, Dynamic Data has been enhanced to give developers even more power for quickly building data-driven Web sites.</span></span>

<a id="0.2__Toc253429279"></a><a id="0.2__Toc243304650"></a>

### <a name="enabling-dynamic-data-for-existing-projects"></a><span data-ttu-id="667fc-857">Activation d’Dynamic Data pour les projets existants</span><span class="sxs-lookup"><span data-stu-id="667fc-857">Enabling Dynamic Data for Existing Projects</span></span>

<span data-ttu-id="667fc-858">Dynamic Data fonctionnalités fournies dans le .NET Framework 3,5 SP1 ont introduit de nouvelles fonctionnalités telles que les suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-858">Dynamic Data features that shipped in the .NET Framework 3.5 SP1 brought new features such as the following:</span></span>

- <span data-ttu-id="667fc-859">Modèles de champ : ils fournissent des modèles basés sur les types de données pour les contrôles liés aux données.</span><span class="sxs-lookup"><span data-stu-id="667fc-859">Field templates – These provide data-type-based templates for data-bound controls.</span></span> <span data-ttu-id="667fc-860">Les modèles de champs offrent un moyen plus simple de personnaliser l’apparence des contrôles de données que d’utiliser des champs de modèle pour chaque champ.</span><span class="sxs-lookup"><span data-stu-id="667fc-860">Field templates provide a simpler way to customize the look of data controls than using template fields for each field.</span></span>
- <span data-ttu-id="667fc-861">Validation : Dynamic Data vous permet d’utiliser des attributs sur des classes de données pour spécifier la validation pour les scénarios courants, tels que les champs obligatoires, la vérification de la plage, la vérification des types, les critères spéciaux à l’aide d’expressions régulières et la validation personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-861">Validation – Dynamic Data lets you use attributes on data classes to specify validation for common scenarios like required fields, range checking, type checking, pattern matching using regular expressions, and custom validation.</span></span> <span data-ttu-id="667fc-862">La validation est appliquée par les contrôles de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-862">Validation is enforced by the data controls.</span></span>

<span data-ttu-id="667fc-863">Toutefois, ces fonctionnalités ont les exigences suivantes :</span><span class="sxs-lookup"><span data-stu-id="667fc-863">However, these features had the following requirements:</span></span>

- <span data-ttu-id="667fc-864">La couche d’accès aux données devait reposer sur Entity Framework ou LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="667fc-864">The data-access layer had to be based on Entity Framework or LINQ to SQL.</span></span>
- <span data-ttu-id="667fc-865">Les seuls contrôles de source de données pris en charge pour ces fonctionnalités étaient les contrôles *EntityDataSource* ou *LinqDataSource* .</span><span class="sxs-lookup"><span data-stu-id="667fc-865">The only data source controls supported for these features were the *EntityDataSource* or *LinqDataSource* controls.</span></span>
- <span data-ttu-id="667fc-866">Les fonctionnalités nécessitaient un projet Web qui avait été créé à l’aide des modèles d’entités Dynamic Data ou Dynamic Data afin que tous les fichiers nécessaires à la prise en charge de la fonctionnalité soient disponibles.</span><span class="sxs-lookup"><span data-stu-id="667fc-866">The features required a Web project that had been created using the Dynamic Data or Dynamic Data Entities templates in order to have all the files that were required to support the feature.</span></span>

<span data-ttu-id="667fc-867">L’un des principaux objectifs de la prise en charge de Dynamic Data dans ASP.NET 4 consiste à activer la nouvelle fonctionnalité de Dynamic Data pour n’importe quelle application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="667fc-867">A major goal of Dynamic Data support in ASP.NET 4 is to enable the new functionality of Dynamic Data for any ASP.NET application.</span></span> <span data-ttu-id="667fc-868">L’exemple suivant montre un balisage pour les contrôles qui peuvent tirer parti des fonctionnalités de Dynamic Data dans une page existante.</span><span class="sxs-lookup"><span data-stu-id="667fc-868">The following example shows markup for controls that can take advantage of Dynamic Data functionality in an existing page.</span></span>

[!code-aspx[Main](overview/samples/sample91.aspx)]

<span data-ttu-id="667fc-869">Dans le code de la page, le code suivant doit être ajouté pour permettre Dynamic Data la prise en charge de ces contrôles :</span><span class="sxs-lookup"><span data-stu-id="667fc-869">In the code for the page, the following code must be added in order to enable Dynamic Data support for these controls:</span></span>

[!code-csharp[Main](overview/samples/sample92.cs)]

<span data-ttu-id="667fc-870">Quand le contrôle *GridView* est en mode édition, Dynamic Data valide automatiquement que les données entrées sont au format approprié.</span><span class="sxs-lookup"><span data-stu-id="667fc-870">When the *GridView* control is in edit mode, Dynamic Data automatically validates that the data entered is in the proper format.</span></span> <span data-ttu-id="667fc-871">Si ce n’est pas le cas, un message d’erreur s’affiche.</span><span class="sxs-lookup"><span data-stu-id="667fc-871">If it is not, an error message is displayed.</span></span>

<span data-ttu-id="667fc-872">Cette fonctionnalité offre également d’autres avantages, tels que la possibilité de spécifier des valeurs par défaut pour le mode insertion.</span><span class="sxs-lookup"><span data-stu-id="667fc-872">This functionality also provides other benefits, such as being able to specify default values for insert mode.</span></span> <span data-ttu-id="667fc-873">Sans Dynamic Data, pour implémenter une valeur par défaut pour un champ, vous devez effectuer un attachement à un événement, localiser le contrôle (à l’aide de *FindControl*) et définir sa valeur.</span><span class="sxs-lookup"><span data-stu-id="667fc-873">Without Dynamic Data, to implement a default value for a field, you must attach to an event, locate the control (using *FindControl*), and set its value.</span></span> <span data-ttu-id="667fc-874">Dans ASP.NET 4, l’appel *EnableDynamicData* prend en charge un deuxième paramètre qui vous permet de passer des valeurs par défaut pour n’importe quel champ de l’objet, comme illustré dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="667fc-874">In ASP.NET 4, the *EnableDynamicData* call supports a second parameter that lets you pass default values for any field on the object, as shown in this example:</span></span>

[!code-csharp[Main](overview/samples/sample93.cs)]

<a id="0.2__Toc224729043"></a><a id="0.2__Toc253429280"></a><a id="0.2__Toc243304651"></a>

### <a name="declarative-dynamicdatamanager-control-syntax"></a><span data-ttu-id="667fc-875">Syntaxe déclarative du contrôle DynamicDataManager</span><span class="sxs-lookup"><span data-stu-id="667fc-875">Declarative DynamicDataManager Control Syntax</span></span>

<span data-ttu-id="667fc-876">Le contrôle *DynamicDataManager* a été amélioré afin que vous puissiez le configurer de façon déclarative, comme avec la plupart des contrôles dans ASP.net, et non uniquement dans le code.</span><span class="sxs-lookup"><span data-stu-id="667fc-876">The *DynamicDataManager* control has been enhanced so that you can configure it declaratively, as with most controls in ASP.NET, instead of only in code.</span></span> <span data-ttu-id="667fc-877">Le balisage du contrôle *DynamicDataManager* se présente comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-877">The markup for the *DynamicDataManager* control looks like the following example:</span></span>

[!code-aspx[Main](overview/samples/sample94.aspx)]

<span data-ttu-id="667fc-878">Ce balisage Active Dynamic Data comportement pour le contrôle GridView1 référencé dans la section *DataControls* du contrôle *DynamicDataManager* .</span><span class="sxs-lookup"><span data-stu-id="667fc-878">This markup enables Dynamic Data behavior for the GridView1 control that is referenced in the *DataControls* section of the *DynamicDataManager* control.</span></span>

<a id="0.2__Toc224729044"></a><a id="0.2__Toc253429281"></a><a id="0.2__Toc243304652"></a>

### <a name="entity-templates"></a><span data-ttu-id="667fc-879">Modèles d’entité</span><span class="sxs-lookup"><span data-stu-id="667fc-879">Entity Templates</span></span>

<span data-ttu-id="667fc-880">Les modèles d’entité offrent un nouveau moyen de personnaliser la disposition des données sans avoir à créer une page personnalisée.</span><span class="sxs-lookup"><span data-stu-id="667fc-880">Entity templates offer a new way to customize the layout of data without requiring you to create a custom page.</span></span> <span data-ttu-id="667fc-881">Les modèles de page utilisent le contrôle *FormView* (au lieu du contrôle *DetailsView* , tel qu’il est utilisé dans les modèles de page dans les versions antérieures de Dynamic Data) et le contrôle *DynamicEntity* pour afficher les modèles d’entité.</span><span class="sxs-lookup"><span data-stu-id="667fc-881">Page templates use the *FormView* control (instead of the *DetailsView* control, as used in page templates in earlier versions of Dynamic Data) and the *DynamicEntity* control to render Entity templates.</span></span> <span data-ttu-id="667fc-882">Cela vous donne davantage de contrôle sur le balisage rendu par Dynamic Data.</span><span class="sxs-lookup"><span data-stu-id="667fc-882">This gives you more control over the markup that is rendered by Dynamic Data.</span></span>

<span data-ttu-id="667fc-883">La liste suivante affiche la nouvelle disposition de répertoire du projet qui contient des modèles d’entité :</span><span class="sxs-lookup"><span data-stu-id="667fc-883">The following list shows the new project directory layout that contains entity templates:</span></span>

[!code-console[Main](overview/samples/sample95.cmd)]

<span data-ttu-id="667fc-884">Le répertoire `EntityTemplate` contient des modèles permettant d’afficher des objets de modèle de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-884">The `EntityTemplate` directory contains templates for how to display data model objects.</span></span> <span data-ttu-id="667fc-885">Par défaut, les objets sont rendus à l’aide du modèle `Default.ascx`, qui fournit le balisage qui ressemble exactement au balisage créé par le contrôle *DetailsView* utilisé par Dynamic Data dans ASP.net 3,5 SP1.</span><span class="sxs-lookup"><span data-stu-id="667fc-885">By default, objects are rendered by using the `Default.ascx` template, which provides markup that looks just like the markup created by the *DetailsView* control used by Dynamic Data in ASP.NET 3.5 SP1.</span></span> <span data-ttu-id="667fc-886">L’exemple suivant illustre le balisage pour le contrôle `Default.ascx` :</span><span class="sxs-lookup"><span data-stu-id="667fc-886">The following example shows the markup for the `Default.ascx` control:</span></span>

[!code-aspx[Main](overview/samples/sample96.aspx)]

<span data-ttu-id="667fc-887">Les modèles par défaut peuvent être modifiés pour modifier l’apparence de l’ensemble du site.</span><span class="sxs-lookup"><span data-stu-id="667fc-887">The default templates can be edited to change the look and feel for the entire site.</span></span> <span data-ttu-id="667fc-888">Il existe des modèles pour les opérations d’affichage, de modification et d’insertion.</span><span class="sxs-lookup"><span data-stu-id="667fc-888">There are templates for display, edit, and insert operations.</span></span> <span data-ttu-id="667fc-889">De nouveaux modèles peuvent être ajoutés en fonction du nom de l’objet de données afin de modifier l’apparence d’un seul type d’objet.</span><span class="sxs-lookup"><span data-stu-id="667fc-889">New templates can be added based on the name of the data object in order to change the look and feel of just one type of object.</span></span> <span data-ttu-id="667fc-890">Par exemple, vous pouvez ajouter le modèle suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-890">For example, you can add the following template:</span></span>

[!code-console[Main](overview/samples/sample97.cmd)]

<span data-ttu-id="667fc-891">Le modèle peut contenir le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-891">The template might contain the following markup:</span></span>

[!code-aspx[Main](overview/samples/sample98.aspx)]

<span data-ttu-id="667fc-892">Les nouveaux modèles d’entité s’affichent sur une page à l’aide du nouveau contrôle *DynamicEntity* .</span><span class="sxs-lookup"><span data-stu-id="667fc-892">The new entity templates are displayed on a page by using the new *DynamicEntity* control.</span></span> <span data-ttu-id="667fc-893">Au moment de l’exécution, ce contrôle est remplacé par le contenu du modèle d’entité.</span><span class="sxs-lookup"><span data-stu-id="667fc-893">At run time, this control is replaced with the contents of the entity template.</span></span> <span data-ttu-id="667fc-894">Le balisage suivant montre le contrôle *FormView* dans le modèle de page `Detail.aspx` qui utilise le modèle d’entité.</span><span class="sxs-lookup"><span data-stu-id="667fc-894">The following markup shows the *FormView* control in the `Detail.aspx` page template that uses the entity template.</span></span> <span data-ttu-id="667fc-895">Notez l’élément *DynamicEntity* dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="667fc-895">Notice the *DynamicEntity* element in the markup.</span></span>

[!code-aspx[Main](overview/samples/sample99.aspx)]

<a id="0.2__Toc224729045"></a><a id="0.2__Toc253429282"></a><a id="0.2__Toc243304653"></a>

### <a name="new-field-templates-for-urls-and-email-addresses"></a><span data-ttu-id="667fc-896">Nouveaux modèles de champ pour les URL et les adresses de messagerie</span><span class="sxs-lookup"><span data-stu-id="667fc-896">New Field Templates for URLs and Email Addresses</span></span>

<span data-ttu-id="667fc-897">ASP.NET 4 introduit deux nouveaux modèles de champs prédéfinis, `EmailAddress.ascx` et `Url.ascx`.</span><span class="sxs-lookup"><span data-stu-id="667fc-897">ASP.NET 4 introduces two new built-in field templates, `EmailAddress.ascx` and `Url.ascx`.</span></span> <span data-ttu-id="667fc-898">Ces modèles sont utilisés pour les champs marqués comme *EmailAddress* ou *URL* avec l’attribut *DataType* .</span><span class="sxs-lookup"><span data-stu-id="667fc-898">These templates are used for fields that are marked as *EmailAddress* or *Url* with the *DataType* attribute.</span></span> <span data-ttu-id="667fc-899">Pour les objets *EmailAddress* , le champ est affiché sous la forme d’un lien hypertexte créé à l’aide du protocole *mailto :* .</span><span class="sxs-lookup"><span data-stu-id="667fc-899">For *EmailAddress* objects, the field is displayed as a hyperlink that is created by using the *mailto:* protocol.</span></span> <span data-ttu-id="667fc-900">Lorsque les utilisateurs cliquent sur le lien, il ouvre le client de messagerie de l’utilisateur et crée un message squelette.</span><span class="sxs-lookup"><span data-stu-id="667fc-900">When users click the link, it opens the user's email client and creates a skeleton message.</span></span> <span data-ttu-id="667fc-901">Les objets de type *URL* sont affichés sous forme de liens hypertexte ordinaires.</span><span class="sxs-lookup"><span data-stu-id="667fc-901">Objects typed as *Url* are displayed as ordinary hyperlinks.</span></span>

<span data-ttu-id="667fc-902">L’exemple suivant montre comment les champs sont marqués.</span><span class="sxs-lookup"><span data-stu-id="667fc-902">The following example shows how fields would be marked.</span></span>

[!code-csharp[Main](overview/samples/sample100.cs)]

<a id="0.2__Toc224729046"></a><a id="0.2__Toc253429283"></a><a id="0.2__Toc243304654"></a>

### <a name="creating-links-with-the-dynamichyperlink-control"></a><span data-ttu-id="667fc-903">Création de liens avec le contrôle DynamicHyperLink</span><span class="sxs-lookup"><span data-stu-id="667fc-903">Creating Links with the DynamicHyperLink Control</span></span>

<span data-ttu-id="667fc-904">Dynamic Data utilise la nouvelle fonctionnalité de routage qui a été ajoutée dans le .NET Framework 3,5 SP1 pour contrôler les URL que les utilisateurs finaux voient quand ils accèdent au site Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-904">Dynamic Data uses the new routing feature that was added in the .NET Framework 3.5 SP1 to control the URLs that end users see when they access the Web site.</span></span> <span data-ttu-id="667fc-905">Le nouveau contrôle *DynamicHyperLink* facilite la création de liens vers les pages d’un site Dynamic Data.</span><span class="sxs-lookup"><span data-stu-id="667fc-905">The new *DynamicHyperLink* control makes it easy to build links to pages in a Dynamic Data site.</span></span> <span data-ttu-id="667fc-906">L’exemple suivant montre comment utiliser le contrôle *DynamicHyperLink* :</span><span class="sxs-lookup"><span data-stu-id="667fc-906">The following example shows how to use the *DynamicHyperLink* control:</span></span>

[!code-aspx[Main](overview/samples/sample101.aspx)]

<span data-ttu-id="667fc-907">Ce balisage crée un lien qui pointe vers la page de liste pour la table `Products` en fonction des itinéraires définis dans le fichier `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="667fc-907">This markup creates a link that points to the List page for the `Products` table based on routes that are defined in the `Global.asax` file.</span></span> <span data-ttu-id="667fc-908">Le contrôle utilise automatiquement le nom de la table par défaut sur lequel est basée la page Dynamic Data.</span><span class="sxs-lookup"><span data-stu-id="667fc-908">The control automatically uses the default table name that the Dynamic Data page is based on.</span></span>

<a id="0.2__Toc224729047"></a><a id="0.2__Toc253429284"></a><a id="0.2__Toc243304655"></a>

### <a name="support-for-inheritance-in-the-data-model"></a><span data-ttu-id="667fc-909">Prise en charge de l’héritage dans le modèle de données</span><span class="sxs-lookup"><span data-stu-id="667fc-909">Support for Inheritance in the Data Model</span></span>

<span data-ttu-id="667fc-910">Le Entity Framework et le LINQ to SQL prennent en charge l’héritage dans leurs modèles de données.</span><span class="sxs-lookup"><span data-stu-id="667fc-910">Both the Entity Framework and LINQ to SQL support inheritance in their data models.</span></span> <span data-ttu-id="667fc-911">Il peut s’agir, par exemple, d’une base de données qui contient une table `InsurancePolicy`.</span><span class="sxs-lookup"><span data-stu-id="667fc-911">An example of this might be a database that has an `InsurancePolicy` table.</span></span> <span data-ttu-id="667fc-912">Il peut également contenir des tables `CarPolicy` et `HousePolicy` qui ont les mêmes champs que `InsurancePolicy`, puis ajouter d’autres champs.</span><span class="sxs-lookup"><span data-stu-id="667fc-912">It might also contain `CarPolicy` and `HousePolicy` tables that have the same fields as `InsurancePolicy` and then add more fields.</span></span> <span data-ttu-id="667fc-913">Dynamic Data a été modifiée pour comprendre les objets hérités dans le modèle de données et pour prendre en charge la génération de modèles automatique pour les tables héritées.</span><span class="sxs-lookup"><span data-stu-id="667fc-913">Dynamic Data has been modified to understand inherited objects in the data model and to support scaffolding for the inherited tables.</span></span>

<a id="0.2__Toc224729048"></a><a id="0.2__Toc253429285"></a><a id="0.2__Toc243304656"></a>

### <a name="support-for-many-to-many-relationships-entity-framework-only"></a><span data-ttu-id="667fc-914">Prise en charge des relations plusieurs-à-plusieurs (Entity Framework uniquement)</span><span class="sxs-lookup"><span data-stu-id="667fc-914">Support for Many-to-Many Relationships (Entity Framework Only)</span></span>

<span data-ttu-id="667fc-915">La Entity Framework offre une prise en charge complète des relations plusieurs-à-plusieurs entre les tables, qui est implémentée en exposant la relation en tant que collection sur un objet d' *entité* .</span><span class="sxs-lookup"><span data-stu-id="667fc-915">The Entity Framework has rich support for many-to-many relationships between tables, which is implemented by exposing the relationship as a collection on an *Entity* object.</span></span> <span data-ttu-id="667fc-916">De nouveaux modèles de champs `ManyToMany.ascx` et `ManyToMany_Edit.ascx` ont été ajoutés pour prendre en charge l’affichage et la modification des données impliquées dans des relations plusieurs-à-plusieurs.</span><span class="sxs-lookup"><span data-stu-id="667fc-916">New `ManyToMany.ascx` and `ManyToMany_Edit.ascx` field templates have been added to provide support for displaying and editing data that is involved in many-to-many relationships.</span></span>

<a id="0.2__Toc224729049"></a><a id="0.2__Toc253429286"></a><a id="0.2__Toc243304657"></a>

### <a name="new-attributes-to-control-display-and-support-enumerations"></a><span data-ttu-id="667fc-917">Nouveaux attributs pour contrôler l’affichage et les énumérations de prise en charge</span><span class="sxs-lookup"><span data-stu-id="667fc-917">New Attributes to Control Display and Support Enumerations</span></span>

<span data-ttu-id="667fc-918">Le *DisplayAttribute* a été ajouté pour vous permettre de contrôler davantage la façon dont les champs sont affichés.</span><span class="sxs-lookup"><span data-stu-id="667fc-918">The *DisplayAttribute* has been added to give you additional control over how fields are displayed.</span></span> <span data-ttu-id="667fc-919">L’attribut *DisplayName* des versions antérieures de Dynamic Data vous permettait de modifier le nom utilisé comme légende pour un champ.</span><span class="sxs-lookup"><span data-stu-id="667fc-919">The *DisplayName* attribute in earlier versions of Dynamic Data allowed you to change the name that is used as a caption for a field.</span></span> <span data-ttu-id="667fc-920">La nouvelle classe *DisplayAttribute* vous permet de spécifier d’autres options pour l’affichage d’un champ, telles que l’ordre dans lequel un champ est affiché et si un champ sera utilisé comme filtre.</span><span class="sxs-lookup"><span data-stu-id="667fc-920">The new *DisplayAttribute* class lets you specify more options for displaying a field, such as the order in which a field is displayed and whether a field will be used as a filter.</span></span> <span data-ttu-id="667fc-921">L’attribut fournit également un contrôle indépendant du nom utilisé pour les étiquettes dans un contrôle *GridView* , du nom utilisé dans un contrôle *DetailsView* , du texte d’aide pour le champ et du filigrane utilisé pour le champ (si le champ accepte la saisie de texte).</span><span class="sxs-lookup"><span data-stu-id="667fc-921">The attribute also provides independent control of the name used for the labels in a *GridView* control, the name used in a *DetailsView* control, the help text for the field, and the watermark used for the field (if the field accepts text input).</span></span>

<span data-ttu-id="667fc-922">La classe *EnumDataTypeAttribute* a été ajoutée pour vous permettre de mapper les champs aux énumérations.</span><span class="sxs-lookup"><span data-stu-id="667fc-922">The *EnumDataTypeAttribute* class has been added to let you map fields to enumerations.</span></span> <span data-ttu-id="667fc-923">Lorsque vous appliquez cet attribut à un champ, vous spécifiez un type d’énumération.</span><span class="sxs-lookup"><span data-stu-id="667fc-923">When you apply this attribute to a field, you specify an enumeration type.</span></span> <span data-ttu-id="667fc-924">Dynamic Data utilise le nouveau modèle de champ `Enumeration.ascx` pour créer l’interface utilisateur permettant d’afficher et de modifier les valeurs d’énumération.</span><span class="sxs-lookup"><span data-stu-id="667fc-924">Dynamic Data uses the new `Enumeration.ascx` field template to create UI for displaying and editing enumeration values.</span></span> <span data-ttu-id="667fc-925">Le modèle mappe les valeurs de la base de données aux noms de l’énumération.</span><span class="sxs-lookup"><span data-stu-id="667fc-925">The template maps the values from the database to the names in the enumeration.</span></span>

<a id="0.2__Toc224729050"></a><a id="0.2__Toc253429287"></a><a id="0.2__Toc243304658"></a>

### <a name="enhanced-support-for-filters"></a><span data-ttu-id="667fc-926">Prise en charge améliorée des filtres</span><span class="sxs-lookup"><span data-stu-id="667fc-926">Enhanced Support for Filters</span></span>

<span data-ttu-id="667fc-927">Dynamic Data 1,0 fourni avec des filtres intégrés pour les colonnes booléennes et les colonnes de clé étrangère.</span><span class="sxs-lookup"><span data-stu-id="667fc-927">Dynamic Data 1.0 shipped with built-in filters for Boolean columns and foreign-key columns.</span></span> <span data-ttu-id="667fc-928">Les filtres ne vous permettaient pas de spécifier s’ils étaient affichés ou dans l’ordre dans lequel ils ont été affichés.</span><span class="sxs-lookup"><span data-stu-id="667fc-928">The filters did not allow you to specify whether they were displayed or in what order they were displayed.</span></span> <span data-ttu-id="667fc-929">Le nouvel attribut *DisplayAttribute* résout ces deux problèmes en vous donnant la possibilité de contrôler si une colonne est affichée en tant que filtre et dans quel ordre il sera affiché.</span><span class="sxs-lookup"><span data-stu-id="667fc-929">The new *DisplayAttribute* attribute addresses both of these issues by giving you control over whether a column is displayed as a filter and in what order it will be displayed.</span></span>

<span data-ttu-id="667fc-930">Une amélioration supplémentaire est que la prise en charge du filtrage a été[réécrite pour utiliser la nouvelle](#0.2__QueryExtender "_QueryExtender") fonctionnalité de Web Forms.</span><span class="sxs-lookup"><span data-stu-id="667fc-930">An additional enhancement is that filtering support has been re[written to use the new](#0.2__QueryExtender "_QueryExtender") feature of Web Forms.</span></span> <span data-ttu-id="667fc-931">Cela vous permet de créer des filtres sans avoir besoin de connaître le contrôle de source de données avec lequel les filtres seront utilisés.</span><span class="sxs-lookup"><span data-stu-id="667fc-931">This lets you create filters without requiring knowledge of the data source control that the filters will be used with.</span></span> <span data-ttu-id="667fc-932">Avec ces extensions, les filtres ont également été convertis en contrôles de modèle, ce qui vous permet d’en ajouter de nouveaux.</span><span class="sxs-lookup"><span data-stu-id="667fc-932">Along with these extensions, filters have also been turned into template controls, which allows you to add new ones.</span></span> <span data-ttu-id="667fc-933">Enfin, la classe *DisplayAttribute* mentionnée précédemment permet le remplacement du filtre par défaut, de la même façon que la procédure *UIHint* autorise le remplacement du modèle de champ par défaut pour une colonne.</span><span class="sxs-lookup"><span data-stu-id="667fc-933">Finally, the *DisplayAttribute* class mentioned earlier allows the default filter to be overridden, in the same way that *UIHint* allows the default field template for a column to be overridden.</span></span>

<a id="0.2__Toc224729051"></a><a id="0.2__Toc253429288"></a><a id="0.2__Toc243304659"></a>

## <a name="visual-studio-2010-web-development-improvements"></a><span data-ttu-id="667fc-934">Améliorations du développement Web dans Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="667fc-934">Visual Studio 2010 Web Development Improvements</span></span>

<span data-ttu-id="667fc-935">Le développement Web dans Visual Studio 2010 a été amélioré pour une plus grande compatibilité CSS, une productivité accrue grâce à des extraits de code HTML et ASP.NET et de nouveaux JavaScript IntelliSense dynamiques.</span><span class="sxs-lookup"><span data-stu-id="667fc-935">Web development in Visual Studio 2010 has been enhanced for greater CSS compatibility, increased productivity through HTML and ASP.NET markup snippets and new dynamic IntelliSense JavaScript.</span></span>

<a id="0.2__Toc224729052"></a><a id="0.2__Toc253429289"></a><a id="0.2__Toc243304660"></a>

### <a name="improved-css-compatibility"></a><span data-ttu-id="667fc-936">Compatibilité CSS améliorée</span><span class="sxs-lookup"><span data-stu-id="667fc-936">Improved CSS Compatibility</span></span>

<span data-ttu-id="667fc-937">Le concepteur Visual Web Developer dans Visual Studio 2010 a été mis à jour pour améliorer la conformité aux normes CSS 2,1.</span><span class="sxs-lookup"><span data-stu-id="667fc-937">The Visual Web Developer designer in Visual Studio 2010 has been updated to improve CSS 2.1 standards compliance.</span></span> <span data-ttu-id="667fc-938">Le concepteur conserve mieux l’intégrité de la source HTML et est plus fiable que dans les versions précédentes de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="667fc-938">The designer better preserves integrity of the HTML source and is more robust than in previous versions of Visual Studio.</span></span> <span data-ttu-id="667fc-939">Dans le cadre des coulisses, des améliorations architecturales ont également été apportées pour améliorer les futures améliorations du rendu, de la mise en page et de la facilité de maintenance.</span><span class="sxs-lookup"><span data-stu-id="667fc-939">Under the hood, architectural improvements have also been made that will better enable future enhancements in rendering, layout, and serviceability.</span></span>

<a id="0.2__Toc224729053"></a><a id="0.2__Toc253429290"></a><a id="0.2__Toc243304661"></a>

### <a name="html-and-javascript-snippets"></a><span data-ttu-id="667fc-940">Extraits de code HTML et JavaScript</span><span class="sxs-lookup"><span data-stu-id="667fc-940">HTML and JavaScript Snippets</span></span>

<span data-ttu-id="667fc-941">Dans l’éditeur HTML, IntelliSense complète automatiquement les noms de balises.</span><span class="sxs-lookup"><span data-stu-id="667fc-941">In the HTML editor, IntelliSense auto-completes tag names.</span></span> <span data-ttu-id="667fc-942">La fonctionnalité d’extraits de code IntelliSense complète automatiquement les balises entières, et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="667fc-942">The IntelliSense Snippets feature auto-completes entire tags and more.</span></span> <span data-ttu-id="667fc-943">Dans Visual Studio 2010, les extraits de code IntelliSense sont pris en charge C# pour JavaScript, en parallèle et Visual Basic, qui étaient pris en charge dans les versions antérieures de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="667fc-943">In Visual Studio 2010, IntelliSense snippets are supported for JavaScript, alongside C# and Visual Basic, which were supported in earlier versions of Visual Studio.</span></span>

<span data-ttu-id="667fc-944">Visual Studio 2010 inclut plus de 200 extraits de code qui vous aident à compléter automatiquement les balises ASP.NET et HTML courantes, y compris les attributs requis (tels que runat = "Server") et les attributs communs spécifiques à une balise (par exemple, *ID*, *DataSourceID*, *ControlToValidate*et *Text*).</span><span class="sxs-lookup"><span data-stu-id="667fc-944">Visual Studio 2010 includes over 200 snippets that help you auto-complete common ASP.NET and HTML tags, including required attributes (such as runat="server") and common attributes specific to a tag (such as *ID*, *DataSourceID*, *ControlToValidate*, and *Text*).</span></span>

<span data-ttu-id="667fc-945">Vous pouvez télécharger des extraits de code supplémentaires, ou vous pouvez écrire vos propres extraits de code qui encapsulent les blocs de balisage que vous ou votre équipe utilisez pour les tâches courantes.</span><span class="sxs-lookup"><span data-stu-id="667fc-945">You can download additional snippets, or you can write your own snippets that encapsulate the blocks of markup that you or your team use for common tasks.</span></span>

<a id="0.2__Toc224729054"></a><a id="0.2__Toc253429291"></a><a id="0.2__Toc243304662"></a>

### <a name="javascript-intellisense-enhancements"></a><span data-ttu-id="667fc-946">Améliorations de JavaScript IntelliSense</span><span class="sxs-lookup"><span data-stu-id="667fc-946">JavaScript IntelliSense Enhancements</span></span>

<span data-ttu-id="667fc-947">Dans Visual 2010, JavaScript IntelliSense a été repensé pour offrir une expérience d’édition encore plus riche.</span><span class="sxs-lookup"><span data-stu-id="667fc-947">In Visual 2010, JavaScript IntelliSense has been redesigned to provide an even richer editing experience.</span></span> <span data-ttu-id="667fc-948">IntelliSense reconnaît désormais les objets qui ont été générés dynamiquement par des méthodes telles que *registerNamespace* et par des techniques similaires utilisées par d’autres infrastructures JavaScript.</span><span class="sxs-lookup"><span data-stu-id="667fc-948">IntelliSense now recognizes objects that have been dynamically generated by methods such as *registerNamespace* and by similar techniques used by other JavaScript frameworks.</span></span> <span data-ttu-id="667fc-949">Les performances ont été améliorées pour analyser les grandes bibliothèques de scripts et pour afficher IntelliSense avec peu ou pas de délai de traitement.</span><span class="sxs-lookup"><span data-stu-id="667fc-949">Performance has been improved to analyze large libraries of script and to display IntelliSense with little or no processing delay.</span></span> <span data-ttu-id="667fc-950">La compatibilité a été considérablement augmentée pour prendre en charge presque toutes les bibliothèques tierces et pour prendre en charge divers styles de codage.</span><span class="sxs-lookup"><span data-stu-id="667fc-950">Compatibility has been dramatically increased to support nearly all third-party libraries and to support diverse coding styles.</span></span> <span data-ttu-id="667fc-951">Les commentaires de documentation sont maintenant analysés au fur et à mesure que vous tapez et sont immédiatement exploités par IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="667fc-951">Documentation comments are now parsed as you type and are immediately leveraged by IntelliSense.</span></span>

<a id="0.2__Toc224729055"></a><a id="0.2__Toc253429292"></a><a id="0.2__Toc243304663"></a>

## <a name="web-application-deployment-with-visual-studio-2010"></a><span data-ttu-id="667fc-952">Déploiement d’applications Web avec Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="667fc-952">Web Application Deployment with Visual Studio 2010</span></span>

<span data-ttu-id="667fc-953">Lorsque les développeurs ASP.NET déploient une application Web, ils découvrent souvent qu’ils rencontrent des problèmes tels que les suivants :</span><span class="sxs-lookup"><span data-stu-id="667fc-953">When ASP.NET developers deploy a Web application, they often find that they encounter issues such as the following:</span></span>

- <span data-ttu-id="667fc-954">Le déploiement sur un site d’hébergement partagé nécessite des technologies telles que FTP, qui peuvent être lentes.</span><span class="sxs-lookup"><span data-stu-id="667fc-954">Deploying to a shared hosting site requires technologies such as FTP, which can be slow.</span></span> <span data-ttu-id="667fc-955">En outre, vous devez effectuer manuellement des tâches telles que l’exécution de scripts SQL pour configurer une base de données et vous devez modifier les paramètres IIS, tels que la configuration d’un dossier de répertoire virtuel en tant qu’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-955">In addition, you must manually perform tasks such as running SQL scripts to configure a database and you must change IIS settings, such as configuring a virtual directory folder as an application.</span></span>
- <span data-ttu-id="667fc-956">Dans un environnement d’entreprise, en plus du déploiement des fichiers d’application Web, les administrateurs doivent souvent modifier les fichiers de configuration ASP.NET et les paramètres IIS.</span><span class="sxs-lookup"><span data-stu-id="667fc-956">In an enterprise environment, in addition to deploying the Web application files, administrators frequently must modify ASP.NET configuration files and IIS settings.</span></span> <span data-ttu-id="667fc-957">Les administrateurs de base de données doivent exécuter une série de scripts SQL pour obtenir l’exécution de la base de données d’application.</span><span class="sxs-lookup"><span data-stu-id="667fc-957">Database administrators must run a series of SQL scripts to get the application database running.</span></span> <span data-ttu-id="667fc-958">De telles installations sont gourmandes en main-d’œuvre, elles prennent souvent des heures à se terminer et doivent être soigneusement documentées.</span><span class="sxs-lookup"><span data-stu-id="667fc-958">Such installations are labor intensive, often take hours to complete, and must be carefully documented.</span></span>

<span data-ttu-id="667fc-959">Visual Studio 2010 comprend des technologies qui résolvent ces problèmes et qui vous permettent de déployer des applications Web en toute transparence.</span><span class="sxs-lookup"><span data-stu-id="667fc-959">Visual Studio 2010 includes technologies that address these issues and that let you seamlessly deploy Web applications.</span></span> <span data-ttu-id="667fc-960">L’une de ces technologies est l’outil de déploiement Web IIS (MsDeploy. exe).</span><span class="sxs-lookup"><span data-stu-id="667fc-960">One of these technologies is the IIS Web Deployment Tool (MsDeploy.exe).</span></span>

<span data-ttu-id="667fc-961">Les fonctionnalités de déploiement Web dans Visual Studio 2010 incluent les principaux éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="667fc-961">Web deployment features in Visual Studio 2010 include the following major areas:</span></span>

- <span data-ttu-id="667fc-962">Empaquetage Web</span><span class="sxs-lookup"><span data-stu-id="667fc-962">Web packaging</span></span>
- <span data-ttu-id="667fc-963">Transformation Web. config</span><span class="sxs-lookup"><span data-stu-id="667fc-963">Web.config transformation</span></span>
- <span data-ttu-id="667fc-964">Déploiement de base de données</span><span class="sxs-lookup"><span data-stu-id="667fc-964">Database deployment</span></span>
- <span data-ttu-id="667fc-965">Publication en un clic pour les applications Web</span><span class="sxs-lookup"><span data-stu-id="667fc-965">One-click publish for Web applications</span></span>

<span data-ttu-id="667fc-966">Les sections suivantes fournissent des détails sur ces fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="667fc-966">The following sections provide details about these features.</span></span>

<a id="0.2__Toc224729056"></a><a id="0.2__Toc253429293"></a><a id="0.2__Toc243304664"></a>

### <a name="web-packaging"></a><span data-ttu-id="667fc-967">Empaquetage Web</span><span class="sxs-lookup"><span data-stu-id="667fc-967">Web Packaging</span></span>

<span data-ttu-id="667fc-968">Visual Studio 2010 utilise l’outil MSDeploy pour créer un fichier compressé (. zip) pour votre application, appelé *Package Web*.</span><span class="sxs-lookup"><span data-stu-id="667fc-968">Visual Studio 2010 uses the MSDeploy tool to create a compressed (.zip) file for your application, which is referred to as a *Web package*.</span></span> <span data-ttu-id="667fc-969">Le fichier de package contient les métadonnées relatives à votre application plus le contenu suivant :</span><span class="sxs-lookup"><span data-stu-id="667fc-969">The package file contains metadata about your application plus the following content:</span></span>

- <span data-ttu-id="667fc-970">Les paramètres IIS, qui incluent les paramètres du pool d’applications, les paramètres de page d’erreur, etc.</span><span class="sxs-lookup"><span data-stu-id="667fc-970">IIS settings, which includes application pool settings, error page settings, and so on.</span></span>
- <span data-ttu-id="667fc-971">Le contenu Web réel, qui comprend des pages Web, des contrôles utilisateur, du contenu statique (images et fichiers HTML), et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="667fc-971">The actual Web content, which includes Web pages, user controls, static content (images and HTML files), and so on.</span></span>
- <span data-ttu-id="667fc-972">SQL Server les schémas de base de données et les données.</span><span class="sxs-lookup"><span data-stu-id="667fc-972">SQL Server database schemas and data.</span></span>
- <span data-ttu-id="667fc-973">Certificats de sécurité, composants à installer dans le GAC, paramètres du Registre, etc.</span><span class="sxs-lookup"><span data-stu-id="667fc-973">Security certificates, components to install in the GAC, registry settings, and so on.</span></span>

<span data-ttu-id="667fc-974">Vous pouvez copier un package Web sur n’importe quel serveur, puis l’installer manuellement à l’aide du gestionnaire des services Internet.</span><span class="sxs-lookup"><span data-stu-id="667fc-974">A Web package can be copied to any server and then installed manually by using IIS Manager.</span></span> <span data-ttu-id="667fc-975">Pour un déploiement automatisé, vous pouvez également installer le package à l’aide des commandes de ligne de commande ou à l’aide des API de déploiement.</span><span class="sxs-lookup"><span data-stu-id="667fc-975">Alternatively, for automated deployment, the package can be installed by using command-line commands or by using deployment APIs.</span></span>

<span data-ttu-id="667fc-976">Visual Studio 2010 fournit des tâches et des cibles MSBuild intégrées pour créer des packages Web.</span><span class="sxs-lookup"><span data-stu-id="667fc-976">Visual Studio 2010 provides built in MSBuild tasks and targets to create Web packages.</span></span> <span data-ttu-id="667fc-977">Pour plus d’informations, consultez [vue d’ensemble du déploiement d’un projet d’application web ASP.net](https://msdn.microsoft.com/library/dd394698%28VS.100%29.aspx) sur le site Web MSDN et [10 + 20 raisons pour lesquelles vous devez créer un package Web](http://vishaljoshi.blogspot.com/2009/07/10-20-reasons-why-you-should-create-web.html) sur le blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="667fc-977">For more information, see [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698%28VS.100%29.aspx) on the MSDN Web site and [10 + 20 reasons why you should create a Web Package](http://vishaljoshi.blogspot.com/2009/07/10-20-reasons-why-you-should-create-web.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729057"></a><a id="0.2__Toc253429294"></a><a id="0.2__Toc243304665"></a>

### <a name="webconfig-transformation"></a><span data-ttu-id="667fc-978">Transformation Web. config</span><span class="sxs-lookup"><span data-stu-id="667fc-978">Web.config Transformation</span></span>

<span data-ttu-id="667fc-979">Pour le déploiement d’applications Web, Visual Studio 2010 introduit la [transformation de document XML (xdt)](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html), qui est une fonctionnalité qui vous permet de transformer un fichier `Web.config` des paramètres de développement en paramètres de production.</span><span class="sxs-lookup"><span data-stu-id="667fc-979">For Web application deployment, Visual Studio 2010 introduces [XML Document Transform (XDT)](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html), which is a feature that lets you transform a `Web.config` file from development settings to production settings.</span></span> <span data-ttu-id="667fc-980">Les paramètres de transformation sont spécifiés dans les fichiers de transformation nommés `web.debug.config`, `web.release.config`, etc.</span><span class="sxs-lookup"><span data-stu-id="667fc-980">Transformation settings are specified in transform files named `web.debug.config`, `web.release.config`, and so on.</span></span> <span data-ttu-id="667fc-981">(Les noms de ces fichiers correspondent aux configurations MSBuild.) Un fichier de transformation comprend uniquement les modifications que vous devez apporter à un fichier `Web.config` déployé.</span><span class="sxs-lookup"><span data-stu-id="667fc-981">(The names of these files match MSBuild configurations.) A transform file includes just the changes that you need to make to a deployed `Web.config` file.</span></span> <span data-ttu-id="667fc-982">Vous spécifiez les modifications à l’aide d’une syntaxe simple.</span><span class="sxs-lookup"><span data-stu-id="667fc-982">You specify the changes by using simple syntax.</span></span>

<span data-ttu-id="667fc-983">L’exemple suivant montre une partie d’un fichier `web.release.config` qui peut être produit pour le déploiement de votre configuration Release.</span><span class="sxs-lookup"><span data-stu-id="667fc-983">The following example shows a portion of a `web.release.config` file that might be produced for deployment of your release configuration.</span></span> <span data-ttu-id="667fc-984">Le mot clé replace dans l’exemple spécifie que, pendant le déploiement, le nœud *ConnectionString* dans le fichier `Web.config` est remplacé par les valeurs répertoriées dans l’exemple.</span><span class="sxs-lookup"><span data-stu-id="667fc-984">The Replace keyword in the example specifies that during deployment the *connectionString* node in the `Web.config` file will be replaced with the values that are listed in the example.</span></span>

[!code-xml[Main](overview/samples/sample102.xml)]

<span data-ttu-id="667fc-985">Pour plus d’informations, consultez [syntaxe de transformation Web. config pour le déploiement](https://msdn.microsoft.com/library/dd465326%28VS.100%29.aspx) d’un projet <a id="0.2_a"></a> d’application Web sur le site Web MSDN et[déploiement Web : transformation Web. config](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) sur le blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="667fc-985">For more information, see [Web.config Transformation Syntax for Web Application Project Deployment](https://msdn.microsoft.com/library/dd465326%28VS.100%29.aspx) on the MSDN <a id="0.2_a"></a> Web site and[Web Deployment: Web.Config Transformation](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729058"></a><a id="0.2__Toc253429295"></a><a id="0.2__Toc243304666"></a>

### <a name="database-deployment"></a><span data-ttu-id="667fc-986">Déploiement de base de données</span><span class="sxs-lookup"><span data-stu-id="667fc-986">Database Deployment</span></span>

<span data-ttu-id="667fc-987">Un package de déploiement Visual Studio 2010 peut inclure des dépendances sur les bases de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="667fc-987">A Visual Studio 2010 deployment package can include dependencies on SQL Server databases.</span></span> <span data-ttu-id="667fc-988">Dans le cadre de la définition du package, vous fournissez la chaîne de connexion pour votre base de données source.</span><span class="sxs-lookup"><span data-stu-id="667fc-988">As part of the package definition, you provide the connection string for your source database.</span></span> <span data-ttu-id="667fc-989">Lorsque vous créez le package Web, Visual Studio 2010 crée des scripts SQL pour le schéma de la base de données et éventuellement pour les données, puis les ajoute au package.</span><span class="sxs-lookup"><span data-stu-id="667fc-989">When you create the Web package, Visual Studio 2010 creates SQL scripts for the database schema and optionally for the data, and then adds these to the package.</span></span> <span data-ttu-id="667fc-990">Vous pouvez également fournir des scripts SQL personnalisés et spécifier l’ordre dans lequel ils doivent s’exécuter sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="667fc-990">You can also provide custom SQL scripts and specify the sequence in which they should run on the server.</span></span> <span data-ttu-id="667fc-991">Au moment du déploiement, vous fournissez une chaîne de connexion appropriée pour le serveur cible. le processus de déploiement utilise ensuite cette chaîne de connexion pour exécuter les scripts qui créent le schéma de la base de données et ajoutent les données.</span><span class="sxs-lookup"><span data-stu-id="667fc-991">At deployment time, you provide a connection string that is appropriate for the target server; the deployment process then uses this connection string to run the scripts that create the database schema and add the data.</span></span>

<span data-ttu-id="667fc-992">En outre, en utilisant la publication en un clic, vous pouvez configurer le déploiement pour publier votre base de données directement lorsque l’application est publiée sur un site d’hébergement partagé distant.</span><span class="sxs-lookup"><span data-stu-id="667fc-992">In addition, by using one-click publish, you can configure deployment to publish your database directly when the application is published to a remote shared hosting site.</span></span> <span data-ttu-id="667fc-993">Pour plus d’informations, consultez [Comment : déployer une base de données avec un projet d’application Web](https://msdn.microsoft.com/library/dd465343%28VS.100%29.aspx) sur le site Web MSDN et [déploiement de base de données avec vs 2010](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) sur le blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="667fc-993">For more information, see [How to: Deploy a Database With a Web Application Project](https://msdn.microsoft.com/library/dd465343%28VS.100%29.aspx) on the MSDN Web site and [Database Deployment with VS 2010](http://vishaljoshi.blogspot.com/2009/03/web-deployment-webconfig-transformation_23.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729059"></a><a id="0.2__Toc253429296"></a><a id="0.2__Toc243304667"></a>

### <a name="one-click-publish-for-web-applications"></a><span data-ttu-id="667fc-994">Publication en un clic pour les applications Web</span><span class="sxs-lookup"><span data-stu-id="667fc-994">One-Click Publish for Web Applications</span></span>

<span data-ttu-id="667fc-995">Visual Studio 2010 vous permet également d’utiliser le service de gestion à distance IIS pour publier une application Web sur un serveur distant.</span><span class="sxs-lookup"><span data-stu-id="667fc-995">Visual Studio 2010 also lets you use the IIS remote management service to publish a Web application to a remote server.</span></span> <span data-ttu-id="667fc-996">Vous pouvez créer un profil de publication pour votre compte d’hébergement ou pour tester des serveurs ou des serveurs de test.</span><span class="sxs-lookup"><span data-stu-id="667fc-996">You can create a publish profile for your hosting account or for testing servers or staging servers.</span></span> <span data-ttu-id="667fc-997">Chaque profil peut enregistrer les informations d’identification appropriées en toute sécurité.</span><span class="sxs-lookup"><span data-stu-id="667fc-997">Each profile can save appropriate credentials securely.</span></span> <span data-ttu-id="667fc-998">Vous pouvez ensuite effectuer un déploiement sur n’importe quel serveur cible en un clic à l’aide de la barre d’outils de publication Web en un clic.</span><span class="sxs-lookup"><span data-stu-id="667fc-998">You can then deploy to any of the target servers with one click by using the Web one-click publish toolbar.</span></span> <span data-ttu-id="667fc-999">Avec Visual Studio 2010, vous pouvez également publier à l’aide de la ligne de commande MSBuild.</span><span class="sxs-lookup"><span data-stu-id="667fc-999">With Visual Studio 2010, you can also publish by using the MSBuild command line.</span></span> <span data-ttu-id="667fc-1000">Cela vous permet de configurer votre environnement Team Build pour inclure la publication dans un modèle d’intégration continue.</span><span class="sxs-lookup"><span data-stu-id="667fc-1000">This lets you configure your team build environment to include publishing in a continuous-integration model.</span></span>

<span data-ttu-id="667fc-1001">Pour plus d’informations, consultez [Comment : déployer un projet d’application Web à l’aide de la publication en un clic et Web Deploy](https://msdn.microsoft.com/library/dd465337%28VS.100%29.aspx) sur le site Web MSDN et [Web 1-cliquez sur publier avec vs 2010](http://vishaljoshi.blogspot.com/2009/05/web-1-click-publish-with-vs-2010.html) sur le blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="667fc-1001">For more information, see [How to: Deploy a Web Application Project Using One-Click Publish and Web Deploy](https://msdn.microsoft.com/library/dd465337%28VS.100%29.aspx) on the MSDN Web site and [Web 1-Click Publish with VS 2010](http://vishaljoshi.blogspot.com/2009/05/web-1-click-publish-with-vs-2010.html) on Vishal Joshi's blog.</span></span> <span data-ttu-id="667fc-1002">Pour afficher des présentations vidéo sur le déploiement d’applications Web dans Visual Studio 2010, consultez [VS 2010 pour les aperçus de développeur Web](http://vishaljoshi.blogspot.com/2008/12/vs-2010-for-web-developer-previews.html) sur le blog de Vishal Joshi.</span><span class="sxs-lookup"><span data-stu-id="667fc-1002">To view video presentations about Web application deployment in Visual Studio 2010, see [VS 2010 for Web Developer Previews](http://vishaljoshi.blogspot.com/2008/12/vs-2010-for-web-developer-previews.html) on Vishal Joshi's blog.</span></span>

<a id="0.2__Toc224729060"></a><a id="0.2__Toc253429297"></a><a id="0.2__Toc243304668"></a>

### <a name="resources"></a><span data-ttu-id="667fc-1003">Ressources</span><span class="sxs-lookup"><span data-stu-id="667fc-1003">Resources</span></span>

<span data-ttu-id="667fc-1004">Les sites Web suivants fournissent des informations supplémentaires sur ASP.NET 4 et Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="667fc-1004">The following Web sites provide additional information about ASP.NET 4 and Visual Studio 2010.</span></span>

- <span data-ttu-id="667fc-1005">[ASP.net 4](https://msdn.microsoft.com/library/ee532866%28VS.100%29.aspx) : documentation officielle de ASP.net 4 sur le site Web MSDN.</span><span class="sxs-lookup"><span data-stu-id="667fc-1005">[ASP.NET 4](https://msdn.microsoft.com/library/ee532866%28VS.100%29.aspx) — The official documentation for ASP.NET 4 on the MSDN Web site.</span></span>
- <span data-ttu-id="667fc-1006">[https://www.asp.net/](https://www.asp.net/) : le site Web de l’équipe ASP.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-1006">[https://www.asp.net/](https://www.asp.net/) — The ASP.NET team's own Web site.</span></span>
- <span data-ttu-id="667fc-1007">[https://www.asp.net/dynamicdata/](https://msdn.microsoft.com/library/cc488545.aspx) et [ASP.NET Dynamic Data plan de contenu](https://msdn.microsoft.com/library/cc488545%28VS.100%29.aspx) : ressources en ligne sur le site d’équipe ASP.net et dans la documentation officielle de ASP.NET Dynamic Data.</span><span class="sxs-lookup"><span data-stu-id="667fc-1007">[https://www.asp.net/dynamicdata/](https://msdn.microsoft.com/library/cc488545.aspx) and [ASP.NET Dynamic Data Content Map](https://msdn.microsoft.com/library/cc488545%28VS.100%29.aspx) — Online resources on the ASP.NET team site and in the official documentation for ASP.NET Dynamic Data.</span></span>
- <span data-ttu-id="667fc-1008">[https://www.asp.net/ajax/](../../ajax/index.md) : ressource Web principale pour le développement ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="667fc-1008">[https://www.asp.net/ajax/](../../ajax/index.md) — The main Web resource for ASP.NET Ajax development.</span></span>
- <span data-ttu-id="667fc-1009">[https://blogs.msdn.com/webdevtools/](https://blogs.msdn.com/webdevtools/) : le blog de l’équipe Visual Web Developer, qui comprend des informations sur les fonctionnalités de visual studio 2010.</span><span class="sxs-lookup"><span data-stu-id="667fc-1009">[https://blogs.msdn.com/webdevtools/](https://blogs.msdn.com/webdevtools/) — The Visual Web Developer Team blog, which includes information about features in Visual Studio 2010.</span></span>
- <span data-ttu-id="667fc-1010">[ASP.net webstack](https://github.com/aspnet/AspNetWebStack) : ressource Web principale pour les versions préliminaires de ASP.net.</span><span class="sxs-lookup"><span data-stu-id="667fc-1010">[ASP.NET WebStack](https://github.com/aspnet/AspNetWebStack) — The main Web resource for preview releases of ASP.NET.</span></span>

<a id="0.2__Toc224729061"></a><a id="0.2__Toc253429298"></a><a id="0.2__Toc243304669"></a>

## <a name="disclaimer"></a><span data-ttu-id="667fc-1011">Exclusion de responsabilité</span><span class="sxs-lookup"><span data-stu-id="667fc-1011">Disclaimer</span></span>

<span data-ttu-id="667fc-1012">Ce document est une version préliminaire et peut être modifié substantiellement avant le lancement de la mise en production commerciale finale du logiciel qu’il décrit.</span><span class="sxs-lookup"><span data-stu-id="667fc-1012">This is a preliminary document and may be changed substantially prior to final commercial release of the software described herein.</span></span>

<span data-ttu-id="667fc-1013">Les informations contenues dans ce document représentent l'opinion actuelle de Microsoft Corporation sur les points cités à la date de publication.</span><span class="sxs-lookup"><span data-stu-id="667fc-1013">The information contained in this document represents the current view of Microsoft Corporation on the issues discussed as of the date of publication.</span></span> <span data-ttu-id="667fc-1014">Microsoft s’adapte aux conditions fluctuantes du marché et cette opinion ne doit pas être interprétée comme un engagement de la part de Microsoft ; de plus, Microsoft ne peut pas garantir la véracité de toute information présentée après la date de publication.</span><span class="sxs-lookup"><span data-stu-id="667fc-1014">Because Microsoft must respond to changing market conditions, it should not be interpreted to be a commitment on the part of Microsoft, and Microsoft cannot guarantee the accuracy of any information presented after the date of publication.</span></span>

<span data-ttu-id="667fc-1015">Ce livre blanc est fourni à titre d'information uniquement.</span><span class="sxs-lookup"><span data-stu-id="667fc-1015">This White Paper is for informational purposes only.</span></span> <span data-ttu-id="667fc-1016">MICROSOFT N’APPORTE AUCUNE GARANTIE, EXPRESSE OU IMPLICITE, À CE DOCUMENT.</span><span class="sxs-lookup"><span data-stu-id="667fc-1016">MICROSOFT MAKES NO WARRANTIES, EXPRESS, IMPLIED OR STATUTORY, AS TO THE INFORMATION IN THIS DOCUMENT.</span></span>

<span data-ttu-id="667fc-1017">L'utilisateur est tenu d'observer la réglementation relative aux droits d'auteur applicable dans son pays.</span><span class="sxs-lookup"><span data-stu-id="667fc-1017">Complying with all applicable copyright laws is the responsibility of the user.</span></span> <span data-ttu-id="667fc-1018">Aucune partie de ce document ne peut être reproduite, stockée ou introduite dans un système de restitution, ou transmise à quelque fin ou par quelque moyen que ce soit (électronique, mécanique, photocopie, enregistrement ou autre) sans la permission expresse et écrite de Microsoft Corporation.</span><span class="sxs-lookup"><span data-stu-id="667fc-1018">Without limiting the rights under copyright, no part of this document may be reproduced, stored in or introduced into a retrieval system, or transmitted in any form or by any means (electronic, mechanical, photocopying, recording, or otherwise), or for any purpose, without the express written permission of Microsoft Corporation.</span></span>

<span data-ttu-id="667fc-1019">Microsoft peut détenir des brevets, avoir déposé des demandes d'enregistrement de brevets ou être titulaire de marques, droits d'auteur ou autres droits de propriété intellectuelle portant sur tout ou partie des éléments qui font l'objet du présent document.</span><span class="sxs-lookup"><span data-stu-id="667fc-1019">Microsoft may have patents, patent applications, trademarks, copyrights, or other intellectual property rights covering subject matter in this document.</span></span> <span data-ttu-id="667fc-1020">Sauf si stipulation expresse contraire d'un contrat de licence écrit de Microsoft, la fourniture de ce document n'a pas pour effet de vous concéder une licence sur ces brevets, marques, droits d'auteur ou autres droits de propriété intellectuelle.</span><span class="sxs-lookup"><span data-stu-id="667fc-1020">Except as expressly provided in any written license agreement from Microsoft, the furnishing of this document does not give you any license to these patents, trademarks, copyrights, or other intellectual property.</span></span>

<span data-ttu-id="667fc-1021">Sauf mention contraire, les exemples de sociétés, d’organisations, de produits, de noms de domaine, d’adresses de messagerie, de logos, de personnes, de lieux et d’événements mentionnés dans le présent document sont fictifs et ne sont pas associés à une société, une organisation, un produit, un nom de domaine, une adresse de messagerie réels une adresse, un logo, une personne, un lieu ou un événement est intentionnel ou doit être déduit.</span><span class="sxs-lookup"><span data-stu-id="667fc-1021">Unless otherwise noted, the example companies, organizations, products, domain names, email addresses, logos, people, places and events depicted herein are fictitious, and no association with any real company, organization, product, domain name, email address, logo, person, place or event is intended or should be inferred.</span></span>

<span data-ttu-id="667fc-1022">© 2009 Microsoft Corporation.</span><span class="sxs-lookup"><span data-stu-id="667fc-1022">© 2009 Microsoft Corporation.</span></span> <span data-ttu-id="667fc-1023">Tous droits réservés.</span><span class="sxs-lookup"><span data-stu-id="667fc-1023">All rights reserved.</span></span>

<span data-ttu-id="667fc-1024">Microsoft et Windows sont soit des marques déposées de Microsoft Corporation, soit des marques de Microsoft Corporation aux États-Unis d'Amérique et/ou dans d'autres pays.</span><span class="sxs-lookup"><span data-stu-id="667fc-1024">Microsoft and Windows are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries.</span></span>

<span data-ttu-id="667fc-1025">Les noms de sociétés et de produits réels mentionnés dans la présente documentation peuvent être des marques de leurs propriétaires respectifs.</span><span class="sxs-lookup"><span data-stu-id="667fc-1025">The names of actual companies and products mentioned herein may be the trademarks of their respective owners.</span></span>
