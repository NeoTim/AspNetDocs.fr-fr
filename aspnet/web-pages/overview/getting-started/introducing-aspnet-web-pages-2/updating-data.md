---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
title: Présentation des Pages Web ASP.NET - mise à jour de la base de données | Microsoft Docs
author: Rick-Anderson
description: Ce didacticiel vous montre comment mettre à jour (modifier) une base de données entrée lorsque vous utilisez les Pages Web ASP.NET (Razor). Il part du principe que vous avez terminé la série e...
ms.author: riande
ms.date: 01/02/2018
ms.assetid: ac86ec9c-6b69-485b-b9e0-8b9127b13e6b
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/updating-data
msc.type: authoredcontent
ms.openlocfilehash: 4542ad3ac3e321629bb4de3cd4df12c22ff6cb20
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59414619"
---
# <a name="introducing-aspnet-web-pages---updating-database-data"></a><span data-ttu-id="c4a5f-104">Présentation des Pages Web ASP.NET - mise à jour de la base de données</span><span class="sxs-lookup"><span data-stu-id="c4a5f-104">Introducing ASP.NET Web Pages - Updating Database Data</span></span>

<span data-ttu-id="c4a5f-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="c4a5f-106">Ce didacticiel vous montre comment mettre à jour (modifier) une base de données entrée lorsque vous utilisez les Pages Web ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-106">This tutorial shows you how to update (change) an existing database entry when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="c4a5f-107">Il part du principe que vous avez terminé la série via [saisie de données par à l’aide de formulaires à l’aide des Pages Web ASP.NET](entering-data.md).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-107">It assumes you have completed the series through [Entering Data by Using Forms Using ASP.NET Web Pages](entering-data.md).</span></span>
> 
> <span data-ttu-id="c4a5f-108">Ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="c4a5f-109">Comment sélectionner un enregistrement individuel dans le `WebGrid` helper.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-109">How to select an individual record in the `WebGrid` helper.</span></span>
> - <span data-ttu-id="c4a5f-110">Guide pratique pour lire un enregistrement unique à partir d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-110">How to read a single record from a database.</span></span>
> - <span data-ttu-id="c4a5f-111">Découvrez comment précharger un formulaire avec les valeurs de l’enregistrement de base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-111">How to preload a form with values from the database record.</span></span>
> - <span data-ttu-id="c4a5f-112">Comment mettre à jour un enregistrement existant dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-112">How to update an existing record in a database.</span></span>
> - <span data-ttu-id="c4a5f-113">Guide pratique pour stocker les informations dans la page sans l’afficher.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-113">How to store information in the page without displaying it.</span></span>
> - <span data-ttu-id="c4a5f-114">Comment utiliser un champ masqué pour stocker des informations.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-114">How to use a hidden field to store information.</span></span>
>   
> 
> <span data-ttu-id="c4a5f-115">Fonctionnalités technologies abordées :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-115">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="c4a5f-116">Le `WebGrid` helper.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-116">The `WebGrid` helper.</span></span>
> - <span data-ttu-id="c4a5f-117">Le code SQL `Update` commande.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-117">The SQL `Update` command.</span></span>
> - <span data-ttu-id="c4a5f-118">Méthode `Database.Execute`</span><span class="sxs-lookup"><span data-stu-id="c4a5f-118">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="c4a5f-119">Champs masqués (`<input type="hidden">`).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-119">Hidden fields (`<input type="hidden">`).</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="c4a5f-120">Ce que vous allez générer</span><span class="sxs-lookup"><span data-stu-id="c4a5f-120">What You'll Build</span></span>

<span data-ttu-id="c4a5f-121">Dans le didacticiel précédent, vous avez appris comment ajouter un enregistrement à une base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-121">In the previous tutorial, you learned how to add a record to a database.</span></span> <span data-ttu-id="c4a5f-122">Ici, vous allez apprendre à afficher un enregistrement pour la modification.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-122">Here, you'll learn how to display a record for editing.</span></span> <span data-ttu-id="c4a5f-123">Dans le *films* page, vous allez mettre à jour le `WebGrid` helper afin qu’elle affiche un **modifier** lien en regard de chaque film :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-123">In the *Movies* page, you'll update the `WebGrid` helper so that it displays an **Edit** link next to each movie:</span></span>

![WebGrid affiche notamment un lien « Modifier » pour chaque film](updating-data/_static/image1.png)

<span data-ttu-id="c4a5f-125">Lorsque vous cliquez sur le **modifier** lien, il permet d’accéder à une autre page, où les informations de film sont déjà dans un formulaire :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-125">When you click the **Edit** link, it takes you to a different page, where the movie information is already in a form:</span></span>

![Modifier la page de film montrant le film à modifier](updating-data/_static/image2.png)

<span data-ttu-id="c4a5f-127">Vous pouvez modifier les valeurs.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-127">You can change any of the values.</span></span> <span data-ttu-id="c4a5f-128">Lorsque vous envoyez les modifications, le code dans la page mises à jour de la base de données et vous ramène à la liste de films.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-128">When you submit the changes, the code in the page updates the database and takes you back to the movie listing.</span></span>

<span data-ttu-id="c4a5f-129">Cette partie du processus fonctionne presque exactement comme le *AddMovie.cshtml* page que vous avez créé dans le didacticiel précédent, par conséquent, une grande partie de ce didacticiel vous seront familier.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-129">This part of the process works almost exactly like the *AddMovie.cshtml* page you created in the previous tutorial, so much of this tutorial will be familiar.</span></span>

<span data-ttu-id="c4a5f-130">Il existe plusieurs façons vous pouvez implémenter un moyen de modifier un film individuel.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-130">There are several ways you could implement a way to edit an individual movie.</span></span> <span data-ttu-id="c4a5f-131">L’approche illustrée a été choisie, car il est facile à implémenter et facile à comprendre.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-131">The approach shown was chosen because it's easy to implement and easy to understand.</span></span>

## <a name="adding-an-edit-link-to-the-movie-listing"></a><span data-ttu-id="c4a5f-132">Ajout d’un lien de modification à la liste de films</span><span class="sxs-lookup"><span data-stu-id="c4a5f-132">Adding an Edit Link to the Movie Listing</span></span>

<span data-ttu-id="c4a5f-133">Pour commencer, vous allez mettre à jour le *films* page afin que chaque film répertoriant également contient un **modifier** lien.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-133">To begin, you'll update the *Movies* page so that each movie listing also contains an **Edit** link.</span></span>

<span data-ttu-id="c4a5f-134">Ouvrez le *Movies.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-134">Open the *Movies.cshtml* file.</span></span>

<span data-ttu-id="c4a5f-135">Dans le corps de la page, modifiez le `WebGrid` balisage en ajoutant une colonne.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-135">In the body of the page, change the `WebGrid` markup by adding a column.</span></span> <span data-ttu-id="c4a5f-136">Voici le balisage modifié :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-136">Here's the modified markup:</span></span>

[!code-html[Main](updating-data/samples/sample1.html?highlight=6)]

<span data-ttu-id="c4a5f-137">La nouvelle colonne est celle-ci :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-137">The new column is this one:</span></span>

[!code-html[Main](updating-data/samples/sample2.html)]

<span data-ttu-id="c4a5f-138">Le point de cette colonne est de montrer un lien (`<a>` élément) dont le texte indique « Modifier ».</span><span class="sxs-lookup"><span data-stu-id="c4a5f-138">The point of this column is to show a link (`<a>` element) whose text says "Edit".</span></span> <span data-ttu-id="c4a5f-139">Qui nous intéresse à consiste à créer un lien qui ressemble à ceci lorsque la page s’exécute, avec la `id` valeur différente pour chaque film :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-139">What we're after is to create a link that looks like the following when the page runs, with the `id` value different for each movie:</span></span>

[!code-css[Main](updating-data/samples/sample3.css)]

<span data-ttu-id="c4a5f-140">Ce lien appellera une page nommée *EditMovie*, et il passe la chaîne de requête `?id=7` à cette page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-140">This link will invoke a page named *EditMovie*, and it will pass the query string `?id=7` to that page.</span></span>

<span data-ttu-id="c4a5f-141">La syntaxe pour la nouvelle colonne peut sembler un peu complexe, mais qui est uniquement, car elle réunit plusieurs éléments.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-141">The syntax for the new column might look a bit complex, but that's only because it puts together several elements.</span></span> <span data-ttu-id="c4a5f-142">Chaque élément individuel est simple.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-142">Each individual element is straightforward.</span></span> <span data-ttu-id="c4a5f-143">Si vous vous concentrer sur uniquement le `<a>` élément, vous voyez ce balisage :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-143">If you concentrate on just the `<a>` element, you see this markup:</span></span>

[!code-html[Main](updating-data/samples/sample4.html)]

<span data-ttu-id="c4a5f-144">Certaines notions concernant le fonctionnement de la grille : la grille affiche les lignes, une pour chaque enregistrement de la base de données, et il affiche les colonnes pour chaque champ dans l’enregistrement de base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-144">Some background about how the grid works: the grid displays rows, one for each database record, and it displays columns for each field in the database record.</span></span> <span data-ttu-id="c4a5f-145">Bien que chaque ligne de la grille est en cours de construction, le `item` objet contient l’enregistrement de base de données (élément) pour cette ligne.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-145">While each grid row is being constructed, the `item` object contains the database record (item) for that row.</span></span> <span data-ttu-id="c4a5f-146">Ceci vous donne un moyen dans le code pour accéder à des données pour cette ligne.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-146">This arrangement gives you a way in code to get at the data for that row.</span></span> <span data-ttu-id="c4a5f-147">C’est ce que vous voyez ici : l’expression `item.ID` reçoit la valeur d’ID de l’élément actuel de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-147">That's what you see here: the expression `item.ID` is getting the ID value of the current database item.</span></span> <span data-ttu-id="c4a5f-148">Vous pouvez obtenir les valeurs de base de données (titre, genre et année) de la même façon en utilisant `item.Title`, `item.Genre`, ou `item.Year`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-148">You could get any of the database values (title, genre, or year) the same way by using `item.Title`, `item.Genre`, or `item.Year`.</span></span>

<span data-ttu-id="c4a5f-149">L’expression `"~/EditMovie?id=@item.ID` combine la partie codée en dur de l’URL cible (`~/EditMovie?id=`) avec l’ID dynamiquement dérivé.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-149">The expression `"~/EditMovie?id=@item.ID` combines the hard-coded part of the target URL (`~/EditMovie?id=`) with this dynamically derived ID.</span></span> <span data-ttu-id="c4a5f-150">(Vous l’avez vu le `~` opérateur dans le didacticiel précédent ; il s’agit un opérateur d’ASP.NET qui représente la racine du site Web en cours.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-150">(You saw the `~` operator in the previous tutorial; it's an ASP.NET operator that represents the current website root.)</span></span>

<span data-ttu-id="c4a5f-151">Le résultat est que cette partie du balisage dans la colonne génère simplement quelque chose comme le balisage suivant au moment de l’exécution :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-151">The result is that this part of the markup in the column simply produces something like the following markup at run time:</span></span>

[!code-xml[Main](updating-data/samples/sample5.xml)]

<span data-ttu-id="c4a5f-152">Naturellement, la valeur réelle de `id` sera différente pour chaque ligne.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-152">Naturally, the actual value of `id` will be different for each row.</span></span>

## <a name="creating-a-custom-display-for-a-grid-column"></a><span data-ttu-id="c4a5f-153">Création d’un affichage personnalisé pour une colonne de grille</span><span class="sxs-lookup"><span data-stu-id="c4a5f-153">Creating a Custom Display for a Grid Column</span></span>

<span data-ttu-id="c4a5f-154">Maintenant, retournons à la colonne de grille.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-154">Now back to the grid column.</span></span> <span data-ttu-id="c4a5f-155">Les trois colonnes vous aviez dans les grille affichée seules valeurs de données (titre, genre et année).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-155">The three columns you originally had in the grid displayed only data values (title, genre, and year).</span></span> <span data-ttu-id="c4a5f-156">Vous avez spécifié cet affichage en passant le nom de la colonne de base de données &mdash; , par exemple, `grid.Column("Title")`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-156">You specified this display by passing the name of the database column &mdash; for example, `grid.Column("Title")`.</span></span>

<span data-ttu-id="c4a5f-157">Cette nouvelle **modifier** colonne de lien est différent.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-157">This new **Edit** link column is different.</span></span> <span data-ttu-id="c4a5f-158">Au lieu de spécifier un nom de colonne, vous transmettez un `format` paramètre.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-158">Instead of specifying a column name, you're passing a `format` parameter.</span></span> <span data-ttu-id="c4a5f-159">Ce paramètre vous permet de définir le balisage qui le `WebGrid` helper affichera avec le `item` valeur à afficher les données de colonne en caractères gras ou vert ou dans le format que vous souhaitez.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-159">This parameter lets you define markup that the `WebGrid` helper will render along with the `item` value to display the column data as bold or green or in whatever format that you want.</span></span> <span data-ttu-id="c4a5f-160">Par exemple, si vous souhaitiez le titre à afficher en gras, vous pouvez créer une colonne comme dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-160">For example, if you wanted the title to appear bold, you could create a column like this example:</span></span>

[!code-html[Main](updating-data/samples/sample6.html)]

<span data-ttu-id="c4a5f-161">(Les différents `@` caractères qui s’affichent dans le `format` propriété marquer la transition entre le balisage et une valeur de code.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-161">(The various `@` characters you see in the `format` property mark the transition between markup and a code value.)</span></span>

<span data-ttu-id="c4a5f-162">Une fois que vous connaissez le `format` propriété, il est plus facile à comprendre comment la nouvelle **modifier** colonne de lien est mis en place :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-162">Once you know about the `format` property, it's easier to understand how the new **Edit** link column is put together:</span></span>

[!code-html[Main](updating-data/samples/sample7.html)]

<span data-ttu-id="c4a5f-163">La colonne se compose *uniquement* du balisage qui restitue le lien, ainsi que certaines informations (ID) qui est extrait à partir de l’enregistrement de base de données pour la ligne.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-163">The column consists *only* of the markup that renders the link, plus some information (the ID) that's extracted from the database record for the row.</span></span>

> [!TIP]
> 
> **<span data-ttu-id="c4a5f-164">Paramètres nommés et les paramètres positionnels d’une méthode</span><span class="sxs-lookup"><span data-stu-id="c4a5f-164">Named Parameters and Positional Parameters for a Method</span></span>**
> 
> <span data-ttu-id="c4a5f-165">Nombre de fois où lorsque vous avez appelé une méthode et des paramètres passés à ce dernier, vous avez répertoriées simplement les valeurs de paramètres séparés par des virgules.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-165">Many times when you've called a method and passed parameters to it, you've simply listed the parameter values separated by commas.</span></span> <span data-ttu-id="c4a5f-166">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-166">Here are a couple of examples:</span></span>
> 
> `db.Execute(insertCommand, title, genre, year)`
> 
> `Validation.RequireField("title", "You must enter a title")`
> 
> <span data-ttu-id="c4a5f-167">Nous n’avez pas signaler le problème lorsque vous l’avez vu tout d’abord ce code, mais dans chaque cas, vous êtes passage de paramètres aux méthodes dans un ordre spécifique &mdash; à savoir, l’ordre dans lequel les paramètres sont définis dans cette méthode.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-167">We didn't mention the issue when you first saw this code, but in each case, you're passing parameters to the methods in a specific order &mdash; namely, the order in which the parameters are defined in that method.</span></span> <span data-ttu-id="c4a5f-168">Pour `db.Execute` et `Validation.RequireFields`, si une combinaison de l’ordre des valeurs que vous passez, vous obtiendriez un message d’erreur lorsque la page s’exécute, ou au moins des résultats inattendus.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-168">For `db.Execute` and `Validation.RequireFields`, if you mixed up the order of the values you pass, you'd get an error message when the page runs, or at least some strange results.</span></span> <span data-ttu-id="c4a5f-169">Clairement, vous devez connaître l’ordre pour passer les paramètres dans.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-169">Clearly, you have to know the order to pass the parameters in.</span></span> <span data-ttu-id="c4a5f-170">(Dans WebMatrix, IntelliSense peut vous aider à apprendre figure le nom, le type et l’ordre des paramètres.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-170">(In WebMatrix, IntelliSense can help you learn figure out the name, type, and order of the parameters.)</span></span>
> 
> <span data-ttu-id="c4a5f-171">Comme alternative à la transmission de valeurs dans l’ordre, vous pouvez utiliser *des paramètres nommés*.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-171">As an alternative to passing values in order, you can use *named parameters*.</span></span> <span data-ttu-id="c4a5f-172">(Passage de paramètres dans l’ordre est appelé à l’aide de *paramètres positionnels*.) Pour les paramètres nommés, vous incluez explicitement le nom du paramètre lors du passage de sa valeur.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-172">(Passing parameters in order is known as using *positional parameters*.) For named parameters, you explicitly include the name of the parameter when passing its value.</span></span> <span data-ttu-id="c4a5f-173">Vous avez utilisé les paramètres nommés déjà un nombre de fois dans ces didacticiels.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-173">You've used named parameters already a number of times in these tutorials.</span></span> <span data-ttu-id="c4a5f-174">Exemple :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-174">For example:</span></span>
> 
> [!code-csharp[Main](updating-data/samples/sample8.cs)]
> 
> <span data-ttu-id="c4a5f-175">et</span><span class="sxs-lookup"><span data-stu-id="c4a5f-175">and</span></span>
> 
> [!code-css[Main](updating-data/samples/sample9.css)]
> 
> <span data-ttu-id="c4a5f-176">Paramètres nommés sont pratiques pour deux situations, surtout quand une méthode accepte un nombre de paramètres.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-176">Named parameters are handy for a couple of situations, especially when a method takes many parameters.</span></span> <span data-ttu-id="c4a5f-177">Un est lorsque vous souhaitez transmettre uniquement un ou deux paramètres, mais les valeurs que vous souhaitez transmettre ne sont pas entre les positions de premier dans la liste de paramètres.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-177">One is when you want to pass only one or two parameters, but the values you want to pass are not among the first positions in the parameter list.</span></span> <span data-ttu-id="c4a5f-178">Une autre situation est lorsque vous souhaitez rendre votre code plus lisible en transmettant les paramètres dans l’ordre correspondant le mieux pour vous.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-178">Another situation is when you want to make your code more readable by passing the parameters in the order that makes the most sense to you.</span></span>
> 
> <span data-ttu-id="c4a5f-179">Bien sûr, pour utiliser des paramètres nommés, vous devez connaître les noms des paramètres.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-179">Obviously, to use named parameters, you have to know the names of the parameters.</span></span> <span data-ttu-id="c4a5f-180">WebMatrix IntelliSense peut *afficher* vous les noms, mais il ne peut pas actuellement les remplir pour vous.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-180">WebMatrix IntelliSense can *show* you the names, but it cannot currently fill them in for you.</span></span>


## <a name="creating-the-edit-page"></a><span data-ttu-id="c4a5f-181">Création de la Page de modification</span><span class="sxs-lookup"><span data-stu-id="c4a5f-181">Creating the Edit Page</span></span>

<span data-ttu-id="c4a5f-182">Vous pouvez désormais créer le *EditMovie* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-182">Now you can create the *EditMovie* page.</span></span> <span data-ttu-id="c4a5f-183">Lorsque les utilisateurs cliquent sur le **modifier** lien, ils vais me retrouver sur cette page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-183">When users click the **Edit** link, they'll end up on this page.</span></span>

<span data-ttu-id="c4a5f-184">Créez une page nommée *EditMovie.cshtml* et remplacer celui qui figure dans le fichier avec le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-184">Create a page named *EditMovie.cshtml* and replace what's in the file with the following markup:</span></span>

[!code-cshtml[Main](updating-data/samples/sample10.cshtml)]

<span data-ttu-id="c4a5f-185">Ce balisage et le code est similaire à ce que vous avez dans le *AddMovie* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-185">This markup and code is similar to what you have in the *AddMovie* page.</span></span> <span data-ttu-id="c4a5f-186">Il existe une légère différence dans le texte du bouton Envoyer.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-186">There's a small difference in the text for the submit button.</span></span> <span data-ttu-id="c4a5f-187">Comme avec la *AddMovie* page, il existe un `Html.ValidationSummary` appel qui affiche les erreurs de validation, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-187">As with the *AddMovie* page, there's an `Html.ValidationSummary` call that will display validation errors if there are any.</span></span> <span data-ttu-id="c4a5f-188">Cette fois-ci, nous allons en omettant les appels à `Validation.Message`, dans la mesure où les erreurs sont affichées dans le résumé des validations.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-188">This time we're leaving out calls to `Validation.Message`, since errors will be displayed in the validation summary.</span></span> <span data-ttu-id="c4a5f-189">Comme indiqué dans le didacticiel précédent, vous pouvez utiliser le résumé des validations et les messages d’erreur individuels dans différentes combinaisons.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-189">As noted in the previous tutorial, you can use the validation summary and the individual error messages in various combinations.</span></span>

<span data-ttu-id="c4a5f-190">Notez à nouveau que le `method` attribut de la `<form>` élément est défini sur `post`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-190">Notice again that the `method` attribute of the `<form>` element is set to `post`.</span></span> <span data-ttu-id="c4a5f-191">Comme avec la *AddMovie.cshtml* page, cette page apporte des modifications à la base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-191">As with the *AddMovie.cshtml* page, this page makes changes to the database.</span></span> <span data-ttu-id="c4a5f-192">Par conséquent, ce formulaire doit effectuer une `POST` opération.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-192">Therefore, this form should perform a `POST` operation.</span></span> <span data-ttu-id="c4a5f-193">(Pour plus d’informations sur la différence entre `GET` et `POST` opérations, consultez le [GET, POST et sécurité du verbe HTTP](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) encadré dans le didacticiel sur les formulaires HTML.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-193">(For more about the difference between `GET` and `POST` operations, see the [GET, POST, and HTTP Verb Safety](form-basics.md#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the tutorial on HTML forms.)</span></span>

<span data-ttu-id="c4a5f-194">Comme vous l’avez vu dans un tutoriel précédent, le `value` attributs des zones de texte sont définies avec le code Razor pour précharger les.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-194">As you saw in an earlier tutorial, the `value` attributes of the text boxes are being set with Razor code in order to preload them.</span></span> <span data-ttu-id="c4a5f-195">Cette fois, cependant, vous utilisez les variables comme `title` et `genre` pour cette tâche au lieu de `Request.Form["title"]`:</span><span class="sxs-lookup"><span data-stu-id="c4a5f-195">This time, though, you're using variables like `title` and `genre` for that task instead of `Request.Form["title"]`:</span></span>

`<input type="text" name="title" value="@title" />`

<span data-ttu-id="c4a5f-196">Comme avant, ce balisage sera précharger les valeurs de zone de texte avec les valeurs de film.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-196">As before, this markup will preload the text box values with the movie values.</span></span> <span data-ttu-id="c4a5f-197">Vous verrez dans un moment pourquoi il est utile d’utiliser des variables instant au lieu d’utiliser le `Request` objet.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-197">You'll see in a moment why it's handy to use variables this time instead of using the `Request` object.</span></span>

<span data-ttu-id="c4a5f-198">Il existe également un `<input type="hidden">` élément sur cette page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-198">There's also a `<input type="hidden">` element on this page.</span></span> <span data-ttu-id="c4a5f-199">Cet élément enregistre l’ID de film sans le rendre visible sur la page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-199">This element stores the movie ID without making it visible on the page.</span></span> <span data-ttu-id="c4a5f-200">L’ID est initialement passée à la page en utilisant une valeur de chaîne de requête (`?id=7` ou similaire dans l’URL).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-200">The ID is initially passed to the page by using a query string value (`?id=7` or similar in the URL).</span></span> <span data-ttu-id="c4a5f-201">En plaçant la valeur d’ID dans un champ masqué, vous assurer qu’il est disponible lorsque le formulaire est envoyé, même si vous n’avez plus accès à l’URL d’origine que la page a été appelée avec.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-201">By putting the ID value into a hidden field, you can make sure that it's available when the form is submitted, even if you no longer have access to the original URL that the page was invoked with.</span></span>

<span data-ttu-id="c4a5f-202">Contrairement à la *AddMovie* page, le code pour le *EditMovie* page a deux fonctions distinctes.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-202">Unlike the *AddMovie* page, the code for the *EditMovie* page has two distinct functions.</span></span> <span data-ttu-id="c4a5f-203">La première fonction est que lorsque la page s’affiche pour la première fois (et *uniquement* puis), le code obtient l’ID de film à partir de la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-203">The first function is that when the page is displayed for the first time (and *only* then), the code gets the movie ID from the query string.</span></span> <span data-ttu-id="c4a5f-204">Le code, puis utilise l’ID pour lire le film correspondant en dehors de la base de données et afficher (précharge) il dans les zones de texte.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-204">The code then uses the ID to read the corresponding movie out of the database and display (preload) it in the text boxes.</span></span>

<span data-ttu-id="c4a5f-205">La deuxième fonction est que lorsque l’utilisateur clique sur le **soumettre les modifications** bouton, le code doit lire les valeurs des zones de texte et de les valider.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-205">The second function is that when the user clicks the **Submit Changes** button, the code has to read the values of the text boxes and validate them.</span></span> <span data-ttu-id="c4a5f-206">Le code a également mettre à jour l’élément de base de données avec les nouvelles valeurs.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-206">The code also has to update the database item with the new values.</span></span> <span data-ttu-id="c4a5f-207">Cette technique est similaire à l’ajout d’un enregistrement, comme vous l’avez vu dans *AddMovie*.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-207">This technique is similar to adding a record, as you saw in *AddMovie*.</span></span>

## <a name="adding-code-to-read-a-single-movie"></a><span data-ttu-id="c4a5f-208">Ajout de Code pour lire un film</span><span class="sxs-lookup"><span data-stu-id="c4a5f-208">Adding Code to Read a Single Movie</span></span>

<span data-ttu-id="c4a5f-209">Pour effectuer la première fonction, ajoutez ce code vers le haut de la page :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-209">To perform the first function, add this code to the top of the page:</span></span>

[!code-cshtml[Main](updating-data/samples/sample11.cshtml)]

<span data-ttu-id="c4a5f-210">La majeure partie de ce code est dans un bloc qui commence `if(!IsPost)`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-210">Most of this code is inside a block that starts `if(!IsPost)`.</span></span> <span data-ttu-id="c4a5f-211">Le `!` opérateur signifie « not », l’expression signifie *si cette demande n’est pas une soumission post*, qui est un moyen indirect de dire *si cette demande est la première fois que cette page a été exécutée*.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-211">The `!` operator means "not," so the expression means *if this request is not a post submission*, which is an indirect way of saying *if this request is the first time that this page has been run*.</span></span> <span data-ttu-id="c4a5f-212">Comme indiqué précédemment, ce code doit s’exécuter *uniquement* lors de la première exécution de la page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-212">As noted earlier, this code should run *only* the first time the page runs.</span></span> <span data-ttu-id="c4a5f-213">Si vous n’avez pas placer le code dans `if(!IsPost)`, elle est exécutée chaque fois que la page est appelée, si la première fois ou en réponse à un bouton, cliquez sur.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-213">If you didn't enclose the code in `if(!IsPost)`, it would run every time the page is invoked, whether the first time or in response to a button click.</span></span>

<span data-ttu-id="c4a5f-214">Notez que le code inclut un `else` bloquer cette fois-ci.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-214">Notice that the code includes an `else` block this time.</span></span> <span data-ttu-id="c4a5f-215">Comme nous l’avons dit lorsque nous avons introduit `if` blocs, parfois vous souhaitez exécuter le code de remplacement si la condition que vous testez n’est pas vrai.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-215">As we said when we introduced `if` blocks, sometimes you want to run alternative code if the condition you're testing isn't true.</span></span> <span data-ttu-id="c4a5f-216">Qui est le cas ici.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-216">That's the case here.</span></span> <span data-ttu-id="c4a5f-217">Si la condition est transmise (autrement dit, si l’ID transmise à la page est OK), vous avez lu une ligne à partir de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-217">If the condition passes (that is, if the ID passed to the page is ok), you read a row from the database.</span></span> <span data-ttu-id="c4a5f-218">Toutefois, si la condition ne remplit pas la `else` bloc s’exécute et le code définit un message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-218">However, if the condition doesn't pass, the `else` block runs and the code sets an error message.</span></span>

## <a name="validating-a-value-passed-to-the-page"></a><span data-ttu-id="c4a5f-219">Validation d’une valeur passée à la Page</span><span class="sxs-lookup"><span data-stu-id="c4a5f-219">Validating a Value Passed to the Page</span></span>

<span data-ttu-id="c4a5f-220">Le code utilise `Request.QueryString["id"]` pour obtenir l’ID qui est passé à la page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-220">The code uses `Request.QueryString["id"]` to get the ID that's passed to the page.</span></span> <span data-ttu-id="c4a5f-221">Le code permet de s’assurer qu’une valeur a été réellement passée pour le code.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-221">The code makes sure that a value was actually passed for the ID.</span></span> <span data-ttu-id="c4a5f-222">Si aucune valeur n’a été passée, le code définit une erreur de validation.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-222">If no value was passed, the code sets a validation error.</span></span>

<span data-ttu-id="c4a5f-223">Ce code montre une manière différente pour valider les informations.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-223">This code shows a different way to validate information.</span></span> <span data-ttu-id="c4a5f-224">Dans le didacticiel précédent, vous déjà travaillé avec le `Validation` helper.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-224">In the previous tutorial, you worked with the `Validation` helper.</span></span> <span data-ttu-id="c4a5f-225">Vous avez inscrit des champs à valider, et ASP.NET fait la validation automatiquement et affiche les erreurs à l’aide de `Html.ValidationMessage` et `Html.ValidationSummary`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-225">You registered fields to validate, and ASP.NET automatically did the validation and displayed errors by using `Html.ValidationMessage` and `Html.ValidationSummary`.</span></span> <span data-ttu-id="c4a5f-226">Dans ce cas, toutefois, vous n'êtes pas vraiment validation des entrées utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-226">In this case, however, you're not really validating user input.</span></span> <span data-ttu-id="c4a5f-227">Au lieu de cela, vous êtes validation d’une valeur qui a été passée à la page depuis un autre emplacement.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-227">Instead, you're validating a value that was passed to the page from elsewhere.</span></span> <span data-ttu-id="c4a5f-228">Le `Validation` helper ne fait pas pour vous.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-228">The `Validation` helper doesn't do that for you.</span></span>

<span data-ttu-id="c4a5f-229">Par conséquent, vous vérifiez la valeur vous-même, en le testant avec `if(!Request.QueryString["ID"].IsEmpty()`).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-229">Therefore, you check the value yourself, by testing it with `if(!Request.QueryString["ID"].IsEmpty()`).</span></span> <span data-ttu-id="c4a5f-230">S’il existe un problème, vous pouvez afficher l’erreur à l’aide de `Html.ValidationSummary`, comme vous l’avez fait avec le `Validation` helper.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-230">If there's a problem, you can display the error by using `Html.ValidationSummary`, as you did with the `Validation` helper.</span></span> <span data-ttu-id="c4a5f-231">Pour ce faire, vous appelez `Validation.AddFormError` et passez-lui un message à afficher.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-231">To do that, you call `Validation.AddFormError` and pass it a message to display.</span></span> `Validation.AddFormError` <span data-ttu-id="c4a5f-232">est une méthode intégrée qui vous permet de définir des messages personnalisés lier avec le système de validation que vous connaissez déjà.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-232">is a built-in method that lets you define custom messages that tie in with the validation system you're already familiar with.</span></span> <span data-ttu-id="c4a5f-233">(Plus loin dans ce didacticiel nous allons parler comment rendre ce processus de validation un peu plus robuste.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-233">(Later in this tutorial we'll talk about how to make this validation process a little more robust.)</span></span>

<span data-ttu-id="c4a5f-234">Après avoir vérifié qu’il existe un ID pour le film, le code lit la base de données, vous recherchez uniquement un élément de la base de données unique.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-234">After making sure that there's an ID for the movie, the code reads the database, looking for only a single database item.</span></span> <span data-ttu-id="c4a5f-235">(Vous avez probablement remarqué le modèle général pour les opérations de base de données : ouvrir la base de données, définissez une instruction SQL, et exécutez l’instruction.) Cette fois-ci, le code SQL `Select` instruction inclut `WHERE ID = @0`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-235">(You probably have noticed the general pattern for database operations: open the database, define a SQL statement, and run the statement.) This time, the SQL `Select` statement includes `WHERE ID = @0`.</span></span> <span data-ttu-id="c4a5f-236">Étant donné que l’ID est unique, un seul enregistrement peut être retourné.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-236">Because the ID is unique, only one record can be returned.</span></span>

<span data-ttu-id="c4a5f-237">La requête est exécutée à l’aide de `db.QuerySingle` (pas `db.Query`, comme vous avez utilisé pour obtenir la liste de films), et le code place le résultat dans le `row` variable.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-237">The query is performed by using `db.QuerySingle` (not `db.Query`, as you used for the movie listing), and the code puts the result into the `row` variable.</span></span> <span data-ttu-id="c4a5f-238">Le nom `row` est arbitraire ; vous pouvez nommer les variables comme vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-238">The name `row` is arbitrary; you can name the variables anything you like.</span></span> <span data-ttu-id="c4a5f-239">Les variables initialisées en haut sont ensuite remplis avec les détails de films afin que ces valeurs peuvent être affichées dans les zones de texte.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-239">The variables initialized at the top are then filled with the movie details so that these values can be displayed in the text boxes.</span></span>

## <a name="testing-the-edit-page-so-far"></a><span data-ttu-id="c4a5f-240">Test de la Page de modification (jusqu'à présent)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-240">Testing the Edit Page (So Far)</span></span>

<span data-ttu-id="c4a5f-241">Si vous souhaitez tester votre page, exécutez le *films* page maintenant, cliquez sur un **modifier** lien en regard de n’importe quel film.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-241">If you'd like to test your page, run the *Movies* page now and click an **Edit** link next to any movie.</span></span> <span data-ttu-id="c4a5f-242">Vous verrez la *EditMovie* page présentant les informations remplies pour le film que vous avez sélectionné :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-242">You'll see the *EditMovie* page with the details filled in for the movie you selected:</span></span>

![Modifier la page de film montrant le film à modifier](updating-data/_static/image3.png)

<span data-ttu-id="c4a5f-244">Notez que l’URL de la page inclut quelque chose comme `?id=10` (ou tout autre numéro).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-244">Notice that the URL of the page includes something like `?id=10` (or some other number).</span></span> <span data-ttu-id="c4a5f-245">Jusqu'à présent, vous avez testé qui **modifier** des liens dans le *film* page travail, que votre page lit l’ID de la chaîne de requête, et que la base de données une requête pour obtenir un enregistrement vidéo unique fonctionne.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-245">So far you've tested that **Edit** links in the *Movie* page work, that your page is reading the ID from the query string, and that the database query to get a single movie record is working.</span></span>

<span data-ttu-id="c4a5f-246">Vous pouvez modifier les informations sur les films, mais rien ne se produit lorsque vous cliquez sur **soumettre les modifications**.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-246">You can change the movie information, but nothing happens when you click **Submit Changes**.</span></span>

## <a name="adding-code-to-update-the-movie-with-the-users-changes"></a><span data-ttu-id="c4a5f-247">Ajout de Code pour mettre à jour le film avec les modifications apportées par l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="c4a5f-247">Adding Code to Update the Movie with the User's Changes</span></span>

<span data-ttu-id="c4a5f-248">Dans le *EditMovie.cshtml* de fichier, pour implémenter la deuxième fonction (enregistrer les modifications), ajoutez le code suivant à l’intérieur de l’accolade fermante de la `@` bloc.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-248">In the *EditMovie.cshtml* file, to implement the second function (saving changes), add the following code just inside the closing brace of the `@` block.</span></span> <span data-ttu-id="c4a5f-249">(Si vous n’êtes pas sûr de savoir exactement où placer le code, vous pouvez examiner le [l’intégralité du code pour la page Modifier le film](#Complete_Page_Listing_for_EditMovie) qui s’affiche à la fin de ce didacticiel.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-249">(If you're not sure exactly where to put the code, you can look at the [complete code listing for the Edit Movie page](#Complete_Page_Listing_for_EditMovie) that appears at the end of this tutorial.)</span></span>

[!code-csharp[Main](updating-data/samples/sample12.cs)]

<span data-ttu-id="c4a5f-250">Là encore, ce balisage et le code est similaire au code dans *AddMovie*.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-250">Again, this markup and code is similar to the code in *AddMovie*.</span></span> <span data-ttu-id="c4a5f-251">Le code se trouve dans un `if(IsPost)` bloquer, étant donné que ce code s’exécute uniquement lorsque l’utilisateur clique sur le **soumettre les modifications** bouton &mdash; , autrement dit, si (et seulement si) le formulaire a été publié.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-251">The code is in an `if(IsPost)` block, because this code runs only when the user clicks the **Submit Changes** button &mdash; that is, when (and only when) the form has been posted.</span></span> <span data-ttu-id="c4a5f-252">Dans ce cas, vous n’utilisez pas un test comme `if(IsPost && Validation.IsValid())`, autrement dit, vous combinez pas les deux tests à l’aide d’and.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-252">In this case, you're not using a test like `if(IsPost && Validation.IsValid())`— that is, you're not combining both tests by using AND.</span></span> <span data-ttu-id="c4a5f-253">Dans cette page, vous d’abord déterminer s’il existe une soumission de formulaire (`if(IsPost)`) et alors seulement inscrire les champs pour la validation.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-253">In this page, you first determine whether there's a form submission (`if(IsPost)`), and only then register the fields for validation.</span></span> <span data-ttu-id="c4a5f-254">Puis vous pouvez tester les résultats de validation (`if(Validation.IsValid()`).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-254">Then you can test the validation results (`if(Validation.IsValid()`).</span></span> <span data-ttu-id="c4a5f-255">Le flux est légèrement différent de celle dans le *AddMovie.cshtml* page, mais l’effet est le même.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-255">The flow is slightly different than in the *AddMovie.cshtml* page, but the effect is the same.</span></span>

<span data-ttu-id="c4a5f-256">Vous obtenez les valeurs des zones de texte à l’aide de `Request.Form["title"]` et un code similaire pour les autres `<input>` éléments.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-256">You get the values of the text boxes by using `Request.Form["title"]` and similar code for the other `<input>` elements.</span></span> <span data-ttu-id="c4a5f-257">Notez que cette fois, le code obtient l’ID de film hors du champ masqué (`<input type="hidden">`).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-257">Notice that this time, the code gets the movie ID out of the hidden field (`<input type="hidden">`).</span></span> <span data-ttu-id="c4a5f-258">Lorsque la page a exécuté la première fois, le code obtenu l’ID de la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-258">When the page ran the first time, the code got the ID out of the query string.</span></span> <span data-ttu-id="c4a5f-259">Vous obtenez la valeur du champ masqué pour vous assurer que vous obtenez l’ID de la vidéo qui a été affichée à l’origine, au cas où la chaîne de requête a été modifiée depuis.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-259">You get the value from the hidden field to make sure that you're getting the ID of the movie that was originally displayed, in case the query string was somehow altered since then.</span></span>

<span data-ttu-id="c4a5f-260">La différence très importante entre le *AddMovie* code et ce code est d’utiliser le code SQL dans ce code `Update` instruction au lieu du `Insert Into` instruction.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-260">The really important difference between the *AddMovie* code and this code is that in this code you use the SQL `Update` statement instead of the `Insert Into` statement.</span></span> <span data-ttu-id="c4a5f-261">L’exemple suivant montre la syntaxe de l’instruction SQL `Update` instruction :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-261">The following example shows the syntax of the SQL `Update` statement:</span></span>

`UPDATE table SET col1="value", col2="value", col3="value" ... WHERE ID = value`

<span data-ttu-id="c4a5f-262">Vous pouvez spécifier toutes les colonnes dans n’importe quel ordre, et vous n’avez plus à mettre à jour chaque colonne pendant une `Update` opération.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-262">You can specify any columns in any order, and you don't necessarily have to update every column during an `Update` operation.</span></span> <span data-ttu-id="c4a5f-263">(Vous ne peut pas mettre à jour l’ID lui-même, car cela permet d’économiser en vigueur l’enregistrement en tant qu’un nouvel enregistrement, et qui n’est pas autorisée pour un `Update` opération.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-263">(You cannot update the ID itself, because that would in effect save the record as a new record, and that's not allowed for an `Update` operation.)</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="c4a5f-264">**Important** le `Where` clause avec l’ID est très important, parce que c’est la façon dont la base de données sait quelle base de données enregistrement que vous souhaitez mettre à jour.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-264">**Important** The `Where` clause with the ID is very important, because that's how the database knows which database record you want to update.</span></span> <span data-ttu-id="c4a5f-265">Si vous vous étiez arrêté le `Where` clause, la base de données est mise à jour *chaque* enregistrements dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-265">If you left off the `Where` clause, the database would update *every* record in the database.</span></span> <span data-ttu-id="c4a5f-266">Dans la plupart des cas, qui serait un incident.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-266">In most cases, that would be a disaster.</span></span>


<span data-ttu-id="c4a5f-267">Dans le code, les valeurs à mettre à jour sont passés à l’instruction SQL à l’aide des espaces réservés.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-267">In the code, the values to update are passed to the SQL statement by using placeholders.</span></span> <span data-ttu-id="c4a5f-268">Répéter ce que nous avons dit avant : pour des raisons de sécurité, *uniquement* utiliser des espaces réservés pour transmettre des valeurs à une instruction SQL.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-268">To repeat what we've said before: for security reasons, *only* use placeholders to pass values to a SQL statement.</span></span>

<span data-ttu-id="c4a5f-269">Une fois que le code utilise `db.Execute` pour exécuter le `Update` instruction, il redirige vers la page de liste, où vous pouvez voir les modifications.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-269">After the code uses `db.Execute` to run the `Update` statement, it redirects back to the listing page, where you can see the changes.</span></span>

> [!TIP] 
> 
> **<span data-ttu-id="c4a5f-270">Instructions SQL différente, différentes méthodes</span><span class="sxs-lookup"><span data-stu-id="c4a5f-270">Different SQL Statements, Different Methods</span></span>**
> 
> <span data-ttu-id="c4a5f-271">Vous avez peut-être remarqué que vous utiliser des méthodes légèrement différentes pour exécuter des instructions SQL différentes.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-271">You might have noticed that you use slightly different methods to run different SQL statements.</span></span> <span data-ttu-id="c4a5f-272">Pour exécuter un `Select` requête potentiellement renvoie plusieurs enregistrements, vous utilisez le `Query` (méthode).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-272">To run a `Select` query that potentially returns multiple records, you use the `Query` method.</span></span> <span data-ttu-id="c4a5f-273">Pour exécuter un `Select` requête qui retournera un seul élément de base de données, vous utilisez le `QuerySingle` (méthode).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-273">To run a `Select` query that you know will return only one database item, you use the `QuerySingle` method.</span></span> <span data-ttu-id="c4a5f-274">Pour exécuter des commandes qui apporter des modifications, mais qui ne retournent pas les éléments de base de données, vous utilisez le `Execute` (méthode).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-274">To run commands that make changes but that don't return database items, you use the `Execute` method.</span></span>
> 
> <span data-ttu-id="c4a5f-275">Vous devez disposer de différentes méthodes, car chacun d’eux retourne des résultats différents, comme vous l’avez vu déjà la différence entre `Query` et `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-275">You have to have different methods because each of them returns different results, as you saw already in the difference between `Query` and `QuerySingle`.</span></span> <span data-ttu-id="c4a5f-276">(Le `Execute` méthode renvoie en fait une valeur également &mdash; à savoir, le nombre de lignes de base de données qui ont été affectés par la commande &mdash; , mais vous avez été en ignorant qui jusqu'à présent.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-276">(The `Execute` method actually returns a value also &mdash; namely, the number of database rows that were affected by the command &mdash; but you've been ignoring that so far.)</span></span>
> 
> <span data-ttu-id="c4a5f-277">Bien entendu, le `Query` méthode peut retourner qu’une seule ligne de base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-277">Of course, the `Query` method might return only one database row.</span></span> <span data-ttu-id="c4a5f-278">Toutefois, ASP.NET traite toujours les résultats de la `Query` méthode en tant que collection.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-278">However, ASP.NET always treats the results of the `Query` method as a collection.</span></span> <span data-ttu-id="c4a5f-279">Même si la méthode retourne une seule ligne, vous devez extraire cette ligne unique de la collection.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-279">Even if the method returns just one row, you have to extract that single row from the collection.</span></span> <span data-ttu-id="c4a5f-280">Par conséquent, dans les situations où vous *savoir* vous recevez qu’une seule ligne, c’est un peu plus pratique d’utiliser `QuerySingle`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-280">Therefore, in situations where you *know* you'll get back only one row, it's a bit more convenient to use `QuerySingle`.</span></span>
> 
> <span data-ttu-id="c4a5f-281">Il existe quelques autres méthodes qui effectuent des types spécifiques d’opérations de base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-281">There are a few other methods that perform specific types of database operations.</span></span> <span data-ttu-id="c4a5f-282">Vous trouverez une liste des méthodes de base de données dans le [référence rapide de l’API ASP.NET Web Pages](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-282">You can find a listing of database methods in the [ASP.NET Web Pages API Quick Reference](../../api-reference/asp-net-web-pages-api-reference.md#Data).</span></span>


## <a name="making-validation-for-the-id-more-robust"></a><span data-ttu-id="c4a5f-283">Effectue une Validation pour obtenir l’ID de plus robuste</span><span class="sxs-lookup"><span data-stu-id="c4a5f-283">Making Validation for the ID More Robust</span></span>

<span data-ttu-id="c4a5f-284">La première fois que la page s’exécute, vous obtenez l’ID de film à partir de la chaîne de requête pour que vous pouvez accéder à obtenir ce film à partir de la base de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-284">The first time that the page runs, you get the movie ID from the query string so that you can go get that movie from the database.</span></span> <span data-ttu-id="c4a5f-285">Vous être assuré qu’il était réellement une valeur à rechercher, qui vous l’avez fait à l’aide de ce code :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-285">You made sure that there actually was a value to go look for, which you did by using this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample13.cs)]

<span data-ttu-id="c4a5f-286">Vous avez utilisé ce code pour vous assurer que si un utilisateur obtient à la *EditMovies* page sans un film en sélectionnant d’abord le *films* page, la page affiche un message d’erreur convivial.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-286">You used this code to make sure that if a user gets to the *EditMovies* page without first selecting a movie in the *Movies* page, the page would display a user-friendly error message.</span></span> <span data-ttu-id="c4a5f-287">(Sinon, les utilisateurs verriez une erreur qui aurait probablement simplement les confondre.)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-287">(Otherwise, users would see an error that would probably just confuse them.)</span></span>

<span data-ttu-id="c4a5f-288">Toutefois, cette validation n’est pas très robuste.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-288">However, this validation isn't very robust.</span></span> <span data-ttu-id="c4a5f-289">La page peut également être appelée avec ces erreurs :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-289">The page might also be invoked with these errors:</span></span>

- <span data-ttu-id="c4a5f-290">L’ID n’est pas un nombre.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-290">The ID isn't a number.</span></span> <span data-ttu-id="c4a5f-291">Par exemple, la page peut être appelée avec une URL telle que `http://localhost:nnnnn/EditMovie?id=abc`.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-291">For example, the page could be invoked with a URL like `http://localhost:nnnnn/EditMovie?id=abc`.</span></span>
- <span data-ttu-id="c4a5f-292">L’ID est un nombre, mais elle fait référence à un film n’existe pas (par exemple, `http://localhost:nnnnn/EditMovie?id=100934`).</span><span class="sxs-lookup"><span data-stu-id="c4a5f-292">The ID is a number, but it references a movie that doesn't exist (for example, `http://localhost:nnnnn/EditMovie?id=100934`).</span></span>

<span data-ttu-id="c4a5f-293">Si vous êtes impatient de voir les erreurs qui résultent de ces URL, exécutez le *films* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-293">If you're curious to see the errors that result from these URLs, run the *Movies* page.</span></span> <span data-ttu-id="c4a5f-294">Sélectionnez un film à modifier, puis modifiez l’URL de la *EditMovie* page à une URL qui contient une liste alphabétique, ID ou l’ID d’un film inexistantes.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-294">Select a movie to edit, and then change the URL of the *EditMovie* page to a URL that contains an alphabetic ID or the ID of a non-existent movie.</span></span>

<span data-ttu-id="c4a5f-295">Par conséquent, que devez-vous faire ?</span><span class="sxs-lookup"><span data-stu-id="c4a5f-295">So what should you do?</span></span> <span data-ttu-id="c4a5f-296">La première solution consiste à s’assurer que non seulement est un ID transmis à la page, mais que l’ID est un entier.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-296">The first fix is to make sure that not only is an ID passed to the page, but that the ID is an integer.</span></span> <span data-ttu-id="c4a5f-297">Modifier le code pour le `!IsPost` test ressemble à cet exemple :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-297">Change the code for the `!IsPost` test to look like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample14.cs)]

<span data-ttu-id="c4a5f-298">Vous avez ajouté une deuxième condition à la `IsEmpty` test, lié à `&&` (AND logique) :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-298">You've added a second condition to the `IsEmpty` test, linked with `&&` (logical AND):</span></span>

[!code-csharp[Main](updating-data/samples/sample15.cs)]

<span data-ttu-id="c4a5f-299">Vous vous souvenez peut-être à partir de la [Introduction à la programmation de Pages Web ASP.NET](../introducing-razor-syntax-c.md) didacticiel méthodes telles que `AsBool` un `AsInt` convertir une chaîne de caractères en un autre type de données.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-299">You might remember from the [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md) tutorial that methods like `AsBool` an `AsInt` convert a character string to some other data type.</span></span> <span data-ttu-id="c4a5f-300">Le `IsInt` (méthode) (et d’autres, telles que `IsBool` et `IsDateTime`) sont similaires.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-300">The `IsInt` method (and others, like `IsBool` and `IsDateTime`) are similar.</span></span> <span data-ttu-id="c4a5f-301">Toutefois, ils testent uniquement si vous *pouvez* convertir la chaîne, sans réellement effectuer la conversion.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-301">However, they test only whether you *can* convert the string, without actually performing the conversion.</span></span> <span data-ttu-id="c4a5f-302">Je vais vous dites essentiellement *si la valeur de chaîne de requête peut être convertie en entier...* .</span><span class="sxs-lookup"><span data-stu-id="c4a5f-302">So here you're essentially saying *If the query string value can be converted to an integer ...*.</span></span>

<span data-ttu-id="c4a5f-303">L’autre problème potentiel recherche un film n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-303">The other potential problem is looking for a movie that doesn't exist.</span></span> <span data-ttu-id="c4a5f-304">Le code pour obtenir un film ressemble à ce code :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-304">The code to get a movie looks like this code:</span></span>

[!code-csharp[Main](updating-data/samples/sample16.cs)]

<span data-ttu-id="c4a5f-305">Si vous passez un `movieId` valeur pour le `QuerySingle` méthode qui ne correspond pas à un film réel, rien n’est retourné et les instructions qui suivent (par exemple, `title=row.Title`) entraîne des erreurs.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-305">If you pass a `movieId` value to the `QuerySingle` method that doesn't correspond to an actual movie, nothing is returned and the statements that follow (for example, `title=row.Title`) result in errors.</span></span>

<span data-ttu-id="c4a5f-306">Là encore il est facile à corriger.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-306">Again there's an easy fix.</span></span> <span data-ttu-id="c4a5f-307">Si le `db.QuerySingle` méthode ne retourne aucun résultat, le `row` variable sera null.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-307">If the `db.QuerySingle` method returns no results, the `row` variable will be null.</span></span> <span data-ttu-id="c4a5f-308">Par conséquent, vous pouvez vérifier si le `row` variable a la valeur null avant d’essayer d’obtenir des valeurs à partir de celui-ci.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-308">So you can check whether the `row` variable is null before you try to get values from it.</span></span> <span data-ttu-id="c4a5f-309">Le code suivant ajoute un `if` bloc autour des instructions permettant d’obtenir les valeurs de la `row` objet :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-309">The following code adds an `if` block around the statements that get the values out of the `row` object:</span></span>

[!code-csharp[Main](updating-data/samples/sample17.cs)]

<span data-ttu-id="c4a5f-310">Avec ces deux tests de validation supplémentaires, la page devient plus à toute épreuve.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-310">With these two additional validation tests, the page becomes more bullet-proof.</span></span> <span data-ttu-id="c4a5f-311">Le code complet pour le `!IsPost` branche se présente désormais comme dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-311">The complete code for the `!IsPost` branch now looks like this example:</span></span>

[!code-csharp[Main](updating-data/samples/sample18.cs)]

<span data-ttu-id="c4a5f-312">Nous allons Notez encore une fois que cette tâche est un bon usage pour un `else` bloc.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-312">We'll note once more that this task is a good use for an `else` block.</span></span> <span data-ttu-id="c4a5f-313">Si vous ne transmettez pas les tests, le `else` blocs définir des messages d’erreur.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-313">If the tests don't pass, the `else` blocks set error messages.</span></span>

## <a name="adding-a-link-to-return-to-the-movies-page"></a><span data-ttu-id="c4a5f-314">Ajout d’un lien pour revenir à la Page de films</span><span class="sxs-lookup"><span data-stu-id="c4a5f-314">Adding a Link to Return to the Movies Page</span></span>

<span data-ttu-id="c4a5f-315">Un détail final et utile consiste à ajouter un lien vers le *films* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-315">A final and helpful detail is to add a link back to the *Movies* page.</span></span> <span data-ttu-id="c4a5f-316">Dans le flux ordinaire d’événements, les utilisateurs commenceront à la *films* page et cliquez sur un **modifier** lien.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-316">In the ordinary flow of events, users will start at the *Movies* page and click an **Edit** link.</span></span> <span data-ttu-id="c4a5f-317">Ce qui amène la *EditMovie* page, où ils peuvent modifier la vidéo et cliquez sur le bouton.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-317">That brings them to the *EditMovie* page, where they can edit the movie and click the button.</span></span> <span data-ttu-id="c4a5f-318">Une fois que le code traité la modification, il redirige vers le *films* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-318">After the code processes the change, it redirects back to the *Movies* page.</span></span>

<span data-ttu-id="c4a5f-319">Cependant :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-319">However:</span></span>

- <span data-ttu-id="c4a5f-320">L’utilisateur peut ne pas modifier quoi que ce soit.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-320">The user might decide not to change anything.</span></span>
- <span data-ttu-id="c4a5f-321">Éventuelles de l’utilisateur à cette page sans cliquer d’abord sur un **modifier** lien dans le *films* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-321">The user might have gotten to this page without first clicking an **Edit** link in the *Movies* page.</span></span>

<span data-ttu-id="c4a5f-322">Dans les deux cas, que vous souhaitez faciliter pour les faire revenir à la liste principale.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-322">Either way, you want to make it easy for them to return to the main listing.</span></span> <span data-ttu-id="c4a5f-323">Il est facile à corriger &mdash; ajoutez le balisage suivant juste après la fermeture `</form>` balise dans le balisage :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-323">It's an easy fix &mdash; add the following markup just after the closing `</form>` tag in the markup:</span></span>

[!code-html[Main](updating-data/samples/sample19.html)]

<span data-ttu-id="c4a5f-324">Ce balisage utilise la même syntaxe pour une `<a>` élément que vous avez vu ailleurs.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-324">This markup uses the same syntax for an `<a>` element that you've seen elsewhere.</span></span> <span data-ttu-id="c4a5f-325">L’URL inclut `~` comme signifiant « racine du site Web ».</span><span class="sxs-lookup"><span data-stu-id="c4a5f-325">The URL includes `~` to mean "root of the website."</span></span>

## <a name="testing-the-movie-update-process"></a><span data-ttu-id="c4a5f-326">Tester le processus de mise à jour de film</span><span class="sxs-lookup"><span data-stu-id="c4a5f-326">Testing the Movie Update Process</span></span>

<span data-ttu-id="c4a5f-327">Vous pouvez maintenant tester.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-327">Now you can test.</span></span> <span data-ttu-id="c4a5f-328">Exécutez le *films* page, puis cliquez sur **modifier** en regard d’un film.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-328">Run the *Movies* page, and click **Edit** next to a movie.</span></span> <span data-ttu-id="c4a5f-329">Lorsque le *EditMovie* page s’affiche, apporter des modifications à la vidéo et cliquez sur **soumettre les modifications**.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-329">When the *EditMovie* page appears, make changes to the movie and click **Submit Changes**.</span></span> <span data-ttu-id="c4a5f-330">Lorsque la liste de films s’affiche, assurez-vous que vos modifications sont affichées.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-330">When the movie listing appears, make sure that your changes are shown.</span></span>

<span data-ttu-id="c4a5f-331">Pour vous assurer que la validation fonctionne, cliquez sur **modifier** pour un autre film.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-331">To make sure that validation is working, click **Edit** for another movie.</span></span> <span data-ttu-id="c4a5f-332">Lorsque vous arrivez à la *EditMovie* page, désactivez le **Genre** champ (ou **année** champ, ou les deux) et essayez d’envoyer vos modifications.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-332">When you get to the *EditMovie* page, clear the **Genre** field (or **Year** field, or both) and try to submit your changes.</span></span> <span data-ttu-id="c4a5f-333">Vous verrez une erreur, comme vous pouvez l’imaginer :</span><span class="sxs-lookup"><span data-stu-id="c4a5f-333">You'll see an error, as you'd expect:</span></span>

![Modifier la page de film montrant les erreurs de validation](updating-data/_static/image4.png)

<span data-ttu-id="c4a5f-335">Cliquez sur le **revenir à la liste de films** lien pour abandonner vos modifications et revenir à la *films* page.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-335">Click the **Return to movie listing** link to abandon your changes and return to the *Movies* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="c4a5f-336">Prochaine</span><span class="sxs-lookup"><span data-stu-id="c4a5f-336">Coming Up Next</span></span>

<span data-ttu-id="c4a5f-337">Dans le didacticiel suivant, vous verrez comment supprimer un enregistrement de film.</span><span class="sxs-lookup"><span data-stu-id="c4a5f-337">In the next tutorial, you'll see how to delete a movie record.</span></span>

## <a name="complete-listing-for-movie-page-updated-with-edit-links"></a><span data-ttu-id="c4a5f-338">Intégralité de la Page de film (mis à jour avec les liens d’édition)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-338">Complete Listing for Movie Page (Updated with Edit Links)</span></span>

[!code-cshtml[Main](updating-data/samples/sample20.cshtml)]

<a id="Complete_Page_Listing_for_EditMovie"></a>
## <a name="complete-page-listing-for-edit-movie-page"></a><span data-ttu-id="c4a5f-339">Terminer l’annonce de Page pour la Page de modification du film</span><span class="sxs-lookup"><span data-stu-id="c4a5f-339">Complete Page Listing for Edit Movie Page</span></span>

[!code-cshtml[Main](updating-data/samples/sample21.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="c4a5f-340">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="c4a5f-340">Additional Resources</span></span>

- [<span data-ttu-id="c4a5f-341">Introduction à la programmation Web ASP.NET en utilisant la syntaxe Razor</span><span class="sxs-lookup"><span data-stu-id="c4a5f-341">Introduction to ASP.NET Web Programming by Using the Razor Syntax</span></span>](../../getting-started/introducing-razor-syntax-c.md)
- <span data-ttu-id="c4a5f-342">[Instruction de mise à jour SQL](http://www.w3schools.com/sql/sql_update.asp) sur le site W3Schools</span><span class="sxs-lookup"><span data-stu-id="c4a5f-342">[SQL UPDATE Statement](http://www.w3schools.com/sql/sql_update.asp) on the W3Schools site</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c4a5f-343">[Précédent](entering-data.md)
> [Suivant](deleting-data.md)</span><span class="sxs-lookup"><span data-stu-id="c4a5f-343">[Previous](entering-data.md)
[Next](deleting-data.md)</span></span>
