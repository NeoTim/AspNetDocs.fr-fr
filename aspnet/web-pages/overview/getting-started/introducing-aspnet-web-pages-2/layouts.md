---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/layouts
title: Présentation de la pages Web ASP.NET de la création d’une disposition cohérente | Microsoft Docs
author: Rick-Anderson
description: Ce didacticiel vous montre comment utiliser les dispositions pour créer un aspect cohérent des pages sur un site qui utilise pages Web ASP.NET. Il part du principe que vous avez terminé...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: c85ec591-f8d7-4882-b763-de6ab9f3df7a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/layouts
msc.type: authoredcontent
ms.openlocfilehash: 678eb7089e95e3d221d6b2d82034a62aefa75757
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78526690"
---
# <a name="introducing-aspnet-web-pages---creating-a-consistent-layout"></a><span data-ttu-id="b16bc-104">Présentation de la pages Web ASP.NET de la création d’une disposition cohérente</span><span class="sxs-lookup"><span data-stu-id="b16bc-104">Introducing ASP.NET Web Pages - Creating a Consistent Layout</span></span>

<span data-ttu-id="b16bc-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="b16bc-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="b16bc-106">Ce didacticiel vous montre comment utiliser les *dispositions* pour créer un aspect cohérent des pages sur un site qui utilise pages Web ASP.net.</span><span class="sxs-lookup"><span data-stu-id="b16bc-106">This tutorial shows you how to use *layouts* to create a consistent look for the pages on a site that uses ASP.NET Web Pages.</span></span> <span data-ttu-id="b16bc-107">Elle suppose que vous avez terminé la série [en supprimant les données de la base de données dans pages Web ASP.net](https://go.microsoft.com/fwlink/?LinkId=251584).</span><span class="sxs-lookup"><span data-stu-id="b16bc-107">It assumes you have completed the series through [Deleting Database Data in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251584).</span></span>
> 
> <span data-ttu-id="b16bc-108">Ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="b16bc-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="b16bc-109">Ce qu’est une page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-109">What a layout page is.</span></span>
> - <span data-ttu-id="b16bc-110">Comment combiner des pages de disposition avec du contenu dynamique.</span><span class="sxs-lookup"><span data-stu-id="b16bc-110">How to combine layout pages with dynamic content.</span></span>
> - <span data-ttu-id="b16bc-111">Comment passer des valeurs à une page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-111">How to pass values to a layout page.</span></span>

## <a name="about-layouts"></a><span data-ttu-id="b16bc-112">À propos des dispositions</span><span class="sxs-lookup"><span data-stu-id="b16bc-112">About Layouts</span></span>

<span data-ttu-id="b16bc-113">Les pages que vous avez créées jusqu’à présent ont toutes été des pages autonomes.</span><span class="sxs-lookup"><span data-stu-id="b16bc-113">The pages you've created so far have all been complete, standalone pages.</span></span> <span data-ttu-id="b16bc-114">Ils appartiennent tous au même site, mais ils n’ont pas d’éléments communs ou de présentation standard.</span><span class="sxs-lookup"><span data-stu-id="b16bc-114">They all belong to the same site, but they don't have any common elements or a standard look.</span></span>

<span data-ttu-id="b16bc-115">La plupart des sites ont une apparence et une disposition cohérentes.</span><span class="sxs-lookup"><span data-stu-id="b16bc-115">Most sites do have a consistent look and layout.</span></span> <span data-ttu-id="b16bc-116">Par exemple, si vous accédez au site [Microsoft.com/Web](https://www.microsoft.com/web/) et que vous recherchez, vous constatez que les pages adhèrent à une disposition générale et à un thème visuel :</span><span class="sxs-lookup"><span data-stu-id="b16bc-116">For example, if you go to the [Microsoft.com/web](https://www.microsoft.com/web/) site and look around, you see that the pages all adhere to an overall layout and to a visual theme:</span></span>

![Page de site Microsoft.com/web qui indique la disposition de l’en-tête, de la zone de navigation, de la zone de contenu et du pied de page](layouts/_static/image1.png)

<span data-ttu-id="b16bc-118">Une méthode *inefficace* pour créer cette disposition consiste à définir séparément un en-tête, une barre de navigation et un pied de page sur chacune de vos pages.</span><span class="sxs-lookup"><span data-stu-id="b16bc-118">An *inefficient* way to create this layout would be to define a header, navigation bar, and footer separately on each of your pages.</span></span> <span data-ttu-id="b16bc-119">Vous devez dupliquer chaque fois le même balisage.</span><span class="sxs-lookup"><span data-stu-id="b16bc-119">You'd be duplicating the same markup each time.</span></span> <span data-ttu-id="b16bc-120">Si vous souhaitez modifier une valeur (par exemple, mettre à jour le pied de page), vous devez modifier chaque page séparément.</span><span class="sxs-lookup"><span data-stu-id="b16bc-120">If you wanted to change something (for example, update the footer), you'd have to change each page separately.</span></span>

<span data-ttu-id="b16bc-121">C’est là qu’interviennent les *pages de disposition* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-121">That's where *layout pages* come in.</span></span> <span data-ttu-id="b16bc-122">Dans pages Web ASP.NET, vous pouvez définir une page de disposition qui fournit un conteneur global pour les pages de votre site.</span><span class="sxs-lookup"><span data-stu-id="b16bc-122">In ASP.NET Web Pages, you can define a layout page that provides an overall container for pages on your site.</span></span> <span data-ttu-id="b16bc-123">Par exemple, la page de disposition peut contenir l’en-tête, la zone de navigation et le pied de page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-123">For example, the layout page can contain the header, navigation area, and footer.</span></span> <span data-ttu-id="b16bc-124">La page de disposition comprend un espace réservé dans lequel se trouve le contenu principal.</span><span class="sxs-lookup"><span data-stu-id="b16bc-124">The layout page includes a placeholder where the main content goes.</span></span>

<span data-ttu-id="b16bc-125">Vous pouvez ensuite définir des pages de contenu individuelles qui contiennent le balisage et le code uniquement pour cette page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-125">You can then define individual content pages that contain the markup and the code for only that page.</span></span> <span data-ttu-id="b16bc-126">Les pages de contenu n’ont pas besoin d’être des pages HTML complètes ; ils n’ont même pas besoin d’un élément `<body>`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-126">Content pages don't have to be complete HTML pages; they don't even have to have a `<body>` element.</span></span> <span data-ttu-id="b16bc-127">Ils ont également une ligne de code qui indique à ASP.NET la page de disposition dans laquelle vous souhaitez afficher le contenu.</span><span class="sxs-lookup"><span data-stu-id="b16bc-127">They also have a line of code that tells ASP.NET what layout page you want to display the content in.</span></span> <span data-ttu-id="b16bc-128">Voici une image qui montre le fonctionnement de cette relation de manière approximative :</span><span class="sxs-lookup"><span data-stu-id="b16bc-128">Here's a picture that shows roughly how this relationship works:</span></span>

![Diagramme conceptuel qui affiche deux pages de contenu et une page de disposition dans laquelle elles s’ajustent](layouts/_static/image2.png)

<span data-ttu-id="b16bc-130">Cette interaction est facile à comprendre lorsque vous la voyez en action.</span><span class="sxs-lookup"><span data-stu-id="b16bc-130">This interaction is easy to understand when you see it in action.</span></span> <span data-ttu-id="b16bc-131">Dans ce didacticiel, vous allez modifier vos pages de films pour utiliser une disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-131">In this tutorial, you'll change your movies pages to use a layout.</span></span>

## <a name="adding-a-layout-page"></a><span data-ttu-id="b16bc-132">Ajout d’une page de disposition</span><span class="sxs-lookup"><span data-stu-id="b16bc-132">Adding a Layout Page</span></span>

<span data-ttu-id="b16bc-133">Vous allez commencer par créer une page de disposition qui définit une mise en page classique avec un en-tête, un pied de page et une zone pour le contenu principal.</span><span class="sxs-lookup"><span data-stu-id="b16bc-133">You'll start by creating a layout page that defines a typical page layout with a header, footer, and an area for the main content.</span></span> <span data-ttu-id="b16bc-134">Sur le site WebPagesMovies, ajoutez une page CSHTML nommée *\_Layout. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="b16bc-134">In the WebPagesMovies site, add a CSHTML page named *\_Layout.cshtml*.</span></span>

<span data-ttu-id="b16bc-135">Le caractère de trait de soulignement de début (`_`) est significatif.</span><span class="sxs-lookup"><span data-stu-id="b16bc-135">The leading underscore ( `_` ) character is significant.</span></span> <span data-ttu-id="b16bc-136">Si le nom d’une page commence par un trait de soulignement, ASP.NET n’envoie pas directement cette page au navigateur.</span><span class="sxs-lookup"><span data-stu-id="b16bc-136">If a page's name starts with an underscore, ASP.NET won't directly send that page to the browser.</span></span> <span data-ttu-id="b16bc-137">Cette Convention vous permet de définir les pages requises pour votre site, mais que les utilisateurs ne doivent pas être en mesure de demander directement.</span><span class="sxs-lookup"><span data-stu-id="b16bc-137">This convention lets you define pages that are required for your site but that users shouldn't be able to request directly.</span></span>

<span data-ttu-id="b16bc-138">Remplacez le contenu de la page par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b16bc-138">Replace the content in the page with the following:</span></span>

[!code-html[Main](layouts/samples/sample1.html)]

<span data-ttu-id="b16bc-139">Comme vous pouvez le voir, ce balisage est simplement du code HTML qui utilise `<div>` éléments pour définir trois sections dans la page plus un élément `<div>` pour contenir les trois sections.</span><span class="sxs-lookup"><span data-stu-id="b16bc-139">As you can see, this markup is just HTML that uses `<div>` elements to define three sections in the page plus one more `<div>` element to hold the three sections.</span></span> <span data-ttu-id="b16bc-140">Le pied de page contient un peu de code Razor : `@DateTime.Now.Year`, qui affiche l’année en cours à cet emplacement dans la page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-140">The footer contains a bit of Razor code: `@DateTime.Now.Year`, which will render the current year at that location in the page.</span></span>

<span data-ttu-id="b16bc-141">Notez qu’il existe un lien vers une feuille de style nommée *movies. CSS*.</span><span class="sxs-lookup"><span data-stu-id="b16bc-141">Notice that there's a link to a style sheet named *Movies.css*.</span></span> <span data-ttu-id="b16bc-142">La feuille de style est l’endroit où les détails de la disposition physique des éléments seront définis.</span><span class="sxs-lookup"><span data-stu-id="b16bc-142">The style sheet is where the details of the physical layout of the elements will be defined.</span></span> <span data-ttu-id="b16bc-143">Vous allez le créer dans un moment.</span><span class="sxs-lookup"><span data-stu-id="b16bc-143">You'll create that in a moment.</span></span>

<span data-ttu-id="b16bc-144">La seule fonctionnalité inhabituelle de cette page *\_Layout. cshtml* est la `@Render.Body()` ligne.</span><span class="sxs-lookup"><span data-stu-id="b16bc-144">The only unusual feature in this *\_Layout.cshtml* page is the `@Render.Body()` line.</span></span> <span data-ttu-id="b16bc-145">Il s’agit de l’espace réservé où le contenu sera placé lorsque cette disposition sera fusionnée avec une autre page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-145">That's the placeholder where the content will go when this layout is merged with another page.</span></span>

## <a name="adding-a-css-file"></a><span data-ttu-id="b16bc-146">Ajout d’un fichier. CSS</span><span class="sxs-lookup"><span data-stu-id="b16bc-146">Adding a .css File</span></span>

<span data-ttu-id="b16bc-147">La meilleure façon de définir la disposition réelle (c’est-à-dire, l’apparence) des éléments sur la page consiste à utiliser des règles de feuille de style en cascade (CSS).</span><span class="sxs-lookup"><span data-stu-id="b16bc-147">The preferred way to define the actual arrangement (that is, appearance) of elements on the page is to use cascading style sheet (CSS) rules.</span></span> <span data-ttu-id="b16bc-148">Vous allez donc créer un fichier *. CSS* contenant les règles de votre nouvelle disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-148">So you'll create a *.css* file that has the rules for your new layout.</span></span>

<span data-ttu-id="b16bc-149">Dans WebMatrix, sélectionnez la racine de votre site.</span><span class="sxs-lookup"><span data-stu-id="b16bc-149">In WebMatrix, select the root of your site.</span></span> <span data-ttu-id="b16bc-150">Ensuite, sous l’onglet **fichiers** du ruban, cliquez sur la flèche sous le bouton **nouveau** , puis cliquez sur **nouveau dossier**.</span><span class="sxs-lookup"><span data-stu-id="b16bc-150">Then in the **Files** tab of the ribbon, click the arrow under the **New** button and then click **New Folder**.</span></span>

![L’option « nouveau dossier » sous nouveau dans le ruban.](layouts/_static/image3.png)

<span data-ttu-id="b16bc-152">Nommez les nouveaux *styles*de dossiers.</span><span class="sxs-lookup"><span data-stu-id="b16bc-152">Name the new folder *Styles*.</span></span>

![Attribution d’un nom au nouveau dossier « styles »](layouts/_static/image4.png)

<span data-ttu-id="b16bc-154">Dans le nouveau dossier *styles* , créez un fichier nommé *movies. CSS*.</span><span class="sxs-lookup"><span data-stu-id="b16bc-154">Inside the new *Styles* folder, create a file named *Movies.css*.</span></span>

![Création d’un nouveau fichier movies. CSS](layouts/_static/image5.png)

<span data-ttu-id="b16bc-156">Remplacez le contenu du nouveau fichier *. CSS* par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b16bc-156">Replace the contents of the new *.css* file with the following:</span></span>

[!code-css[Main](layouts/samples/sample2.css)]

<span data-ttu-id="b16bc-157">Nous n’indiquons pas en grande partie ces règles CSS, sauf pour noter deux choses.</span><span class="sxs-lookup"><span data-stu-id="b16bc-157">We won't say much about these CSS rules, except to note two things.</span></span> <span data-ttu-id="b16bc-158">L’un est qu’en plus de la définition des polices et des tailles, les règles utilisent le positionnement absolu pour établir l’emplacement de l’en-tête, du pied de page et de la zone de contenu principale.</span><span class="sxs-lookup"><span data-stu-id="b16bc-158">One is that in addition to setting fonts and sizes, the rules use absolute positioning to establish the location of the header, footer, and main content area.</span></span> <span data-ttu-id="b16bc-159">Si vous ne connaissez pas le positionnement en CSS, vous pouvez lire le didacticiel sur le [positionnement CSS](http://www.w3schools.com/css/css_positioning.asp) sur le site W3Schools.</span><span class="sxs-lookup"><span data-stu-id="b16bc-159">If you're new to positioning in CSS, you can read the [CSS Positioning](http://www.w3schools.com/css/css_positioning.asp) tutorial at the W3Schools site.</span></span>

<span data-ttu-id="b16bc-160">L’autre chose à noter est que, en bas, nous avons copié les règles de style qui ont été initialement définies individuellement dans le fichier *movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-160">The other thing to note is that at the bottom, we've copied the style rules that were originally defined individually in the *Movies.cshtml* file.</span></span> <span data-ttu-id="b16bc-161">Ces règles ont été utilisées dans l' [Introduction à l’affichage de données à l’aide d’pages Web ASP.net](https://go.microsoft.com/fwlink/?LinkId=251580) didacticiel permettant de rendre le balisage d' `WebGrid` qui a ajouté des bandes à la table.</span><span class="sxs-lookup"><span data-stu-id="b16bc-161">These rules were used in the [Introduction to Displaying Data by Using ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251580) tutorial to make the `WebGrid` helper render markup that added stripes to the table.</span></span> <span data-ttu-id="b16bc-162">(Si vous envisagez d’utiliser un fichier *. CSS* pour les définitions de style, vous pouvez également placer les règles de style pour l’ensemble du site.)</span><span class="sxs-lookup"><span data-stu-id="b16bc-162">(If you're going to use a *.css* file for style definitions, you might as well put the style rules for the whole site in it.)</span></span>

## <a name="updating-the-movies-file-to-use-the-layout"></a><span data-ttu-id="b16bc-163">Mise à jour du fichier movies pour utiliser la mise en page</span><span class="sxs-lookup"><span data-stu-id="b16bc-163">Updating the Movies File to Use the Layout</span></span>

<span data-ttu-id="b16bc-164">Vous pouvez maintenant mettre à jour les fichiers existants de votre site pour utiliser la nouvelle disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-164">Now you can update the existing files in your site to use the new layout.</span></span> <span data-ttu-id="b16bc-165">Ouvrez le fichier *movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-165">Open the *Movies.cshtml* file.</span></span> <span data-ttu-id="b16bc-166">En haut, comme première ligne de code, ajoutez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b16bc-166">At the top, as the first line of code, add the following:</span></span>

[!code-csharp[Main](layouts/samples/sample3.cs)]

<span data-ttu-id="b16bc-167">La page commence maintenant de la façon suivante :</span><span class="sxs-lookup"><span data-stu-id="b16bc-167">The page now starts out this way:</span></span>

[!code-cshtml[Main](layouts/samples/sample4.cshtml?highlight=2)]

<span data-ttu-id="b16bc-168">Cette ligne de code indique à ASP.NET que lorsque la page *movies* s’exécute, elle doit être fusionnée avec le fichier *\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-168">This one line of code tells ASP.NET that when the *Movies* page runs, it should be merged with the *\_Layout.cshtml* file.</span></span>

<span data-ttu-id="b16bc-169">Étant donné que le fichier *movies. cshtml* utilise désormais une page de disposition, vous pouvez supprimer le balisage de la page *movies. cshtml* qui est pris en charge par le fichier *\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-169">Since the *Movies.cshtml* file now uses a layout page, you can remove the markup from the *Movies.cshtml* page that's taken care of by the *\_Layout.cshtml* file.</span></span> <span data-ttu-id="b16bc-170">Prenez le `<!DOCTYPE>`, `<html>`et `<body>` balises d’ouverture et de fermeture.</span><span class="sxs-lookup"><span data-stu-id="b16bc-170">Take out the `<!DOCTYPE>`, `<html>`, and `<body>` opening and closing tags.</span></span> <span data-ttu-id="b16bc-171">Prenez la totalité de l’élément `<head>` et son contenu, qui comprend les règles de style pour la grille, puisque vous disposez désormais de ces règles dans un fichier *. CSS* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-171">Take out the entire `<head>` element and its contents, which includes the style rules for the grid, since you've now got those rules in a *.css* file.</span></span> <span data-ttu-id="b16bc-172">Lorsque vous y êtes, remplacez l’élément `<h1>` existant par un élément `<h2>` ; vous avez déjà un élément `<h1>` dans la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-172">While you're at it, change the existing `<h1>` element to an `<h2>` element; you have an `<h1>` element in the layout page already.</span></span> <span data-ttu-id="b16bc-173">Remplacez le texte `<h2>` par « liste des films ».</span><span class="sxs-lookup"><span data-stu-id="b16bc-173">Change the `<h2>` text to "List Movies".</span></span>

<span data-ttu-id="b16bc-174">Normalement, vous n’auriez pas à effectuer ces types de modifications dans une page de contenu.</span><span class="sxs-lookup"><span data-stu-id="b16bc-174">Normally you wouldn't have to make these sorts of changes in a content page.</span></span> <span data-ttu-id="b16bc-175">Lorsque vous démarrez votre site à l’aide d’une page de disposition, vous créez des pages de contenu sans que ces éléments commencent par.</span><span class="sxs-lookup"><span data-stu-id="b16bc-175">When you start your site out with a layout page, you create content pages without all these elements to begin with.</span></span> <span data-ttu-id="b16bc-176">Dans ce cas, toutefois, vous convertissez une page autonome en une page qui utilise une disposition, ce qui signifie qu’il y a un peu de nettoyage.</span><span class="sxs-lookup"><span data-stu-id="b16bc-176">In this case, though, you're converting a standalone page to one that uses a layout, so there's a bit of cleanup.</span></span>

<span data-ttu-id="b16bc-177">Lorsque vous avez terminé, la page *movies. cshtml* ressemble à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b16bc-177">When you're finished, the *Movies.cshtml* page will look like the following:</span></span>

[!code-cshtml[Main](layouts/samples/sample5.cshtml)]

### <a name="testing-the-layout"></a><span data-ttu-id="b16bc-178">Test de la disposition</span><span class="sxs-lookup"><span data-stu-id="b16bc-178">Testing the Layout</span></span>

<span data-ttu-id="b16bc-179">À présent, vous pouvez voir à quoi ressemble la disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-179">Now you can see what the layout looks like.</span></span> <span data-ttu-id="b16bc-180">Dans WebMatrix, cliquez avec le bouton droit sur la page *movies. cshtml* et sélectionnez **lancer dans le navigateur**.</span><span class="sxs-lookup"><span data-stu-id="b16bc-180">In WebMatrix, right-click the *Movies.cshtml* page and select **Launch in browser**.</span></span> <span data-ttu-id="b16bc-181">Lorsque le navigateur affiche la page, il ressemble à cette page :</span><span class="sxs-lookup"><span data-stu-id="b16bc-181">When the browser displays the page, it looks like this page:</span></span>

![Page films rendue à l’aide d’une disposition](layouts/_static/image6.png)

<span data-ttu-id="b16bc-183">ASP.NET a fusionné le contenu de la page movies. cshtml dans\_la page *Layout. cshtml* juste à l’emplacement où la méthode `RenderBody` est.</span><span class="sxs-lookup"><span data-stu-id="b16bc-183">ASP.NET has merged the content of the Movies.cshtml page into the *\_Layout.cshtml* page right where the `RenderBody` method is.</span></span> <span data-ttu-id="b16bc-184">Et bien sûr, la page *Layout. cshtml de\_* fait référence à un fichier *. CSS* qui définit l’apparence de la page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-184">And of course the *\_Layout.cshtml* page references a *.css* file that defines the look of the page.</span></span>

## <a name="updating-the-addmovie-page-to-use-the-layout"></a><span data-ttu-id="b16bc-185">Mise à jour de la page AddMovie pour utiliser la disposition</span><span class="sxs-lookup"><span data-stu-id="b16bc-185">Updating the AddMovie Page to Use the Layout</span></span>

<span data-ttu-id="b16bc-186">L’avantage réel des dispositions est que vous pouvez les utiliser pour toutes les pages de votre site.</span><span class="sxs-lookup"><span data-stu-id="b16bc-186">The real benefit of layouts is that you can use them for all the pages in your site.</span></span> <span data-ttu-id="b16bc-187">Ouvrez la page *AddMovie. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-187">Open the *AddMovie.cshtml* page.</span></span>

<span data-ttu-id="b16bc-188">Vous vous souvenez peut-être que la page *AddMovie. cshtml* contenait à l’origine des règles CSS pour définir l’apparence des messages d’erreur de validation.</span><span class="sxs-lookup"><span data-stu-id="b16bc-188">You might remember that the *AddMovie.cshtml* page originally had some CSS rules in it to define the look of validation error messages.</span></span> <span data-ttu-id="b16bc-189">Dans la mesure où vous disposez d’un fichier *. CSS* pour votre site, vous pouvez déplacer ces règles vers le fichier *. CSS* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-189">Since you have a *.css* file for your site now, you can move those rules to the *.css* file.</span></span> <span data-ttu-id="b16bc-190">Supprimez-les du fichier *AddMovie. cshtml* et ajoutez-les au bas du fichier *movies. CSS* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-190">Remove them from the *AddMovie.cshtml* file and add them to the bottom of the *Movies.css* file.</span></span> <span data-ttu-id="b16bc-191">Vous déplacez les règles suivantes :</span><span class="sxs-lookup"><span data-stu-id="b16bc-191">You are moving the following rules:</span></span>

[!code-css[Main](layouts/samples/sample6.css)]

<span data-ttu-id="b16bc-192">Effectuez maintenant les mêmes types de modifications dans *AddMovie. cshtml* que pour *movies. cshtml* : ajoutez `Layout="~/_Layout.cshtml;` et supprimez le balisage HTML qui est désormais superflu.</span><span class="sxs-lookup"><span data-stu-id="b16bc-192">Now make the same sorts of changes in *AddMovie.cshtml* that you did for *Movies.cshtml* — add `Layout="~/_Layout.cshtml;` and remove the HTML markup that's now extraneous.</span></span> <span data-ttu-id="b16bc-193">Remplacez l’élément `<h1>` par `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-193">Change the `<h1>` element to `<h2>`.</span></span> <span data-ttu-id="b16bc-194">Lorsque vous avez terminé, la page ressemblera à l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="b16bc-194">When you're done, the page will look like this example:</span></span>

[!code-cshtml[Main](layouts/samples/sample7.cshtml)]

<span data-ttu-id="b16bc-195">Exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-195">Run the page.</span></span> <span data-ttu-id="b16bc-196">À présent, il ressemble à l’illustration suivante :</span><span class="sxs-lookup"><span data-stu-id="b16bc-196">Now it looks like this illustration:</span></span>

![Page « Ajouter des films » rendue à l’aide d’une disposition](layouts/_static/image7.png)

<span data-ttu-id="b16bc-198">Vous souhaitez apporter des modifications similaires aux pages du site, *EditMovie. cshtml* et *DeleteMovie. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="b16bc-198">You want to make similar changes to the pages in the site — *EditMovie.cshtml* and *DeleteMovie.cshtml*.</span></span> <span data-ttu-id="b16bc-199">Toutefois, avant de procéder à cette opération, vous pouvez apporter une autre modification à la disposition qui le rend un peu plus flexible.</span><span class="sxs-lookup"><span data-stu-id="b16bc-199">However, before you do, you can make another change to the layout that makes it a little more flexible.</span></span>

## <a name="passing-title-information-to-the-layout-page"></a><span data-ttu-id="b16bc-200">Passage des informations de titre à la page de disposition</span><span class="sxs-lookup"><span data-stu-id="b16bc-200">Passing Title Information to the Layout Page</span></span>

<span data-ttu-id="b16bc-201">\_la page *Layout. cshtml* que vous avez créée a un élément `<title>` défini sur « mon site de film ».</span><span class="sxs-lookup"><span data-stu-id="b16bc-201">The *\_Layout.cshtml* page that you created has a `<title>` element that's set to "My Movie Site".</span></span> <span data-ttu-id="b16bc-202">La plupart des navigateurs affichent le contenu de cet élément sous forme de texte sur un onglet :</span><span class="sxs-lookup"><span data-stu-id="b16bc-202">Most browsers display the content of this element as the text on a tab:</span></span>

![Élément de&gt; de titre &lt;de la page affiché dans un onglet de navigateur](layouts/_static/image8.png)

<span data-ttu-id="b16bc-204">Ces informations de titre sont génériques.</span><span class="sxs-lookup"><span data-stu-id="b16bc-204">This title information is generic.</span></span> <span data-ttu-id="b16bc-205">Supposons que vous souhaitiez que le texte du titre soit plus spécifique à la page actuelle.</span><span class="sxs-lookup"><span data-stu-id="b16bc-205">Suppose that you want the title text to be more specific to the current page.</span></span> <span data-ttu-id="b16bc-206">(Le texte du titre est également utilisé par les moteurs de recherche pour déterminer l’objet de votre page.) Vous pouvez transmettre des informations à partir d’une page de contenu comme *movies. cshtml* ou *AddMovie. cshtml* à la page de disposition, puis utiliser ces informations pour personnaliser ce que la page de disposition rend.</span><span class="sxs-lookup"><span data-stu-id="b16bc-206">(The title text is also used by search engines to determine what your page is about.) You can pass information from a content page like *Movies.cshtml* or *AddMovie.cshtml* to the layout page, and then use that information to customize what the layout page renders.</span></span>

<span data-ttu-id="b16bc-207">Ouvrez de nouveau la page *movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-207">Open the *Movies.cshtml* page again.</span></span> <span data-ttu-id="b16bc-208">Dans le code en haut, ajoutez la ligne suivante :</span><span class="sxs-lookup"><span data-stu-id="b16bc-208">In the code at the top, add the following line:</span></span>

[!code-csharp[Main](layouts/samples/sample8.cs)]

<span data-ttu-id="b16bc-209">L’objet `Page` est disponible sur toutes les pages *. cshtml* et est à cet effet, à savoir, pour partager des informations entre une page et sa disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-209">The `Page` object is available on all *.cshtml* pages and is for this purpose, namely to share information between a page and its layout.</span></span>

<span data-ttu-id="b16bc-210">Ouvrez la page *Layout. cshtml\_* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-210">Open the *\_Layout.cshtml* page.</span></span> <span data-ttu-id="b16bc-211">Modifiez l’élément `<title>` afin qu’il ressemble à ce balisage :</span><span class="sxs-lookup"><span data-stu-id="b16bc-211">Change the `<title>` element so that it looks like this markup:</span></span>

[!code-html[Main](layouts/samples/sample9.html)]

<span data-ttu-id="b16bc-212">Ce code affiche tout ce qui se trouve dans la propriété `Page.Title` directement à cet emplacement dans la page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-212">This code renders whatever is in the `Page.Title` property right at that location in the page.</span></span>

<span data-ttu-id="b16bc-213">Exécutez la page *movies. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-213">Run the *Movies.cshtml* page.</span></span> <span data-ttu-id="b16bc-214">Cette fois, l’onglet Browser affiche ce que vous avez passé comme valeur de `Page.Title`:</span><span class="sxs-lookup"><span data-stu-id="b16bc-214">This time the browser tab shows what you passed as the value of `Page.Title`:</span></span>

![Onglet de navigateur qui indique le titre créé dynamiquement](layouts/_static/image9.png)

<span data-ttu-id="b16bc-216">Si vous le souhaitez, affichez la page source dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="b16bc-216">If you want, view the page source in the browser.</span></span> <span data-ttu-id="b16bc-217">Vous pouvez voir que l’élément `<title>` est restitué en tant que `<title>List Movies</title>`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-217">You can see that the `<title>` element is rendered as `<title>List Movies</title>`.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="b16bc-218">**Objet page**</span><span class="sxs-lookup"><span data-stu-id="b16bc-218">**The Page Object**</span></span>
> 
> <span data-ttu-id="b16bc-219">Une fonctionnalité utile de `Page` est qu’il s’agit d’un objet dynamique : la propriété `Title` n’est pas un nom fixe ou réservé.</span><span class="sxs-lookup"><span data-stu-id="b16bc-219">A useful feature of `Page` is that it's a dynamic object — the `Title` property is not a fixed or reserved name.</span></span> <span data-ttu-id="b16bc-220">Vous pouvez utiliser *n’importe quel* nom pour une valeur de l’objet `Page`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-220">You can use *any* name for a value of the `Page` object.</span></span> <span data-ttu-id="b16bc-221">Par exemple, vous pouvez aussi facilement avoir passé le titre à l’aide d’une propriété nommée `Page.CurrentName` ou `Page.MyPage`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-221">For example, you could as easily have passed the title by using a property named `Page.CurrentName` or `Page.MyPage`.</span></span> <span data-ttu-id="b16bc-222">La seule restriction est que le nom doit respecter les règles normales pour les propriétés qui peuvent être nommées.</span><span class="sxs-lookup"><span data-stu-id="b16bc-222">The only restriction is that the name has to follow the normal rules for what properties can be named.</span></span> <span data-ttu-id="b16bc-223">(Par exemple, le nom ne peut pas contenir d’espace.)</span><span class="sxs-lookup"><span data-stu-id="b16bc-223">(For example, the name can't contain a space.)</span></span>
> 
> <span data-ttu-id="b16bc-224">Vous pouvez passer n’importe quel nombre de valeurs à l’aide de l’objet `Page`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-224">You can pass any number of values by using the `Page` object.</span></span> <span data-ttu-id="b16bc-225">Si vous souhaitez transmettre des informations de film à la page de disposition, vous pouvez passer des valeurs à l’aide d’un `Page.MovieTitle` et `Page.Genre` et `Page.MovieYear`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-225">If you wanted to pass movie information to the layout page, you could pass values by using something like `Page.MovieTitle` and `Page.Genre` and `Page.MovieYear`.</span></span> <span data-ttu-id="b16bc-226">(Ou tout autre nom que vous avez inventé pour stocker les informations.) La seule exigence, ce qui est probablement évidente, est que vous devez utiliser les mêmes noms dans la page de contenu et la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-226">(Or any other names that you invented to store the information.) The only requirement — which is probably obvious — is that you have to use the same names in the content page and the layout page.</span></span>
> 
> <span data-ttu-id="b16bc-227">Les informations que vous transmettez à l’aide de l’objet `Page` ne sont pas limitées au simple texte à afficher sur la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-227">The information you pass by using the `Page` object isn't limited to just text to display on the layout page.</span></span> <span data-ttu-id="b16bc-228">Vous pouvez passer une valeur à la page de disposition, puis le code dans la page de disposition peut utiliser la valeur pour décider s’il faut afficher une section de la page, le fichier *. CSS* à utiliser, etc.</span><span class="sxs-lookup"><span data-stu-id="b16bc-228">You can pass a value to the layout page, and then code in the layout page can use the value to decide whether to display a section of the page, what *.css* file to use, and so on.</span></span> <span data-ttu-id="b16bc-229">Les valeurs que vous transmettez dans l’objet `Page` ressemblent à toutes les autres valeurs que vous utilisez dans le code.</span><span class="sxs-lookup"><span data-stu-id="b16bc-229">The values you pass in the `Page` object are like any other values that you use in code.</span></span> <span data-ttu-id="b16bc-230">Il s’agit simplement de faire en sorte que les valeurs proviennent de la page de contenu et soient passées à la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-230">It's just that the values originate in the content page and are passed to the layout page.</span></span>

<span data-ttu-id="b16bc-231">Ouvrez la page *AddMovie. cshtml* et ajoutez une ligne en haut du code qui fournit un titre pour la page *AddMovie. cshtml* :</span><span class="sxs-lookup"><span data-stu-id="b16bc-231">Open the *AddMovie.cshtml* page and add a line to the top of the code that provides a title for the *AddMovie.cshtml* page:</span></span>

[!code-csharp[Main](layouts/samples/sample10.cs)]

<span data-ttu-id="b16bc-232">Exécutez la page *AddMovie. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="b16bc-232">Run the *AddMovie.cshtml* page.</span></span> <span data-ttu-id="b16bc-233">Vous voyez ici le nouveau titre :</span><span class="sxs-lookup"><span data-stu-id="b16bc-233">You see the new title there:</span></span>

![Onglet de navigateur présentant le titre « ajouter des films » créé dynamiquement](layouts/_static/image10.png)

## <a name="updating-the-remaining-pages-to-use-the-layout"></a><span data-ttu-id="b16bc-235">Mise à jour des pages restantes pour utiliser la disposition</span><span class="sxs-lookup"><span data-stu-id="b16bc-235">Updating the Remaining Pages to Use the Layout</span></span>

<span data-ttu-id="b16bc-236">Vous pouvez maintenant terminer les pages restantes de votre site afin qu’elles utilisent la nouvelle disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-236">Now you can finish the remaining pages in your site so that they use the new layout.</span></span> <span data-ttu-id="b16bc-237">Ouvrez *EditMovie. cshtml* et *DeleteMovie. cshtml* à tour de main et apportez les mêmes modifications dans chacun d’entre eux.</span><span class="sxs-lookup"><span data-stu-id="b16bc-237">Open *EditMovie.cshtml* and *DeleteMovie.cshtml* in turn and make the same changes in each.</span></span>

<span data-ttu-id="b16bc-238">Ajoutez la ligne de code qui établit un lien vers la page de disposition :</span><span class="sxs-lookup"><span data-stu-id="b16bc-238">Add the line of code that links to the layout page:</span></span>

[!code-csharp[Main](layouts/samples/sample11.cs)]

<span data-ttu-id="b16bc-239">Ajoutez une ligne pour définir le titre de la page :</span><span class="sxs-lookup"><span data-stu-id="b16bc-239">Add a line to set the title of the page:</span></span>

[!code-csharp[Main](layouts/samples/sample12.cs)]

<span data-ttu-id="b16bc-240">ou :</span><span class="sxs-lookup"><span data-stu-id="b16bc-240">or:</span></span>

[!code-csharp[Main](layouts/samples/sample13.cs)]

<span data-ttu-id="b16bc-241">Supprimez tout le balisage HTML superflu, en fait, laissez uniquement les bits qui se trouvent à l’intérieur de l’élément `<body>` (plus le bloc de code en haut).</span><span class="sxs-lookup"><span data-stu-id="b16bc-241">Remove all the extraneous HTML markup — basically, leave only the bits that are inside the `<body>` element (plus the code block at the top).</span></span>

<span data-ttu-id="b16bc-242">Remplacez l’élément `<h1>` par un élément `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="b16bc-242">Change the `<h1>` element to be an `<h2>` element.</span></span>

<span data-ttu-id="b16bc-243">Une fois ces modifications effectuées, testez chacune d’elles et assurez-vous qu’elles s’affichent correctement et que le titre est correct.</span><span class="sxs-lookup"><span data-stu-id="b16bc-243">When you've made these changes, test each and make sure that it's displaying properly and that the title is correct.</span></span>

## <a name="parting-thoughts-about-layout-pages"></a><span data-ttu-id="b16bc-244">Commentaires sur les pages de disposition</span><span class="sxs-lookup"><span data-stu-id="b16bc-244">Parting Thoughts About Layout Pages</span></span>

<span data-ttu-id="b16bc-245">Dans ce didacticiel, vous avez créé une page *Layout. cshtml\_* et utilisé la méthode `RenderBody` pour fusionner le contenu d’une autre page.</span><span class="sxs-lookup"><span data-stu-id="b16bc-245">In this tutorial you created a *\_Layout.cshtml* page and used the `RenderBody` method to merge content from another page.</span></span> <span data-ttu-id="b16bc-246">Il s’agit du modèle de base pour l’utilisation de dispositions dans des pages Web.</span><span class="sxs-lookup"><span data-stu-id="b16bc-246">That's the basic pattern for using layouts in Web Pages.</span></span>

<span data-ttu-id="b16bc-247">Les pages de disposition ont des fonctionnalités supplémentaires que nous n’avions pas abordées ici.</span><span class="sxs-lookup"><span data-stu-id="b16bc-247">Layout pages have additional features that we didn't cover here.</span></span> <span data-ttu-id="b16bc-248">Par exemple, vous pouvez imbriquer des pages de disposition ; une page de disposition peut à son tour faire référence à une autre.</span><span class="sxs-lookup"><span data-stu-id="b16bc-248">For example, you can nest layout pages — one layout page can in turn reference another.</span></span> <span data-ttu-id="b16bc-249">Les dispositions imbriquées peuvent être utiles si vous utilisez des sous-sections d’un site qui nécessitent des dispositions différentes.</span><span class="sxs-lookup"><span data-stu-id="b16bc-249">Nested layouts can be useful if you're working with subsections of a site that require different layouts.</span></span> <span data-ttu-id="b16bc-250">Vous pouvez également utiliser des méthodes supplémentaires (par exemple, `RenderSection`) pour configurer des sections nommées dans la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-250">You can also use additional methods (for example, `RenderSection`) to set up named sections in the layout page.</span></span>

<span data-ttu-id="b16bc-251">La combinaison des pages de disposition et des fichiers *. CSS* est puissante.</span><span class="sxs-lookup"><span data-stu-id="b16bc-251">The combination of layout pages and *.css* files is powerful.</span></span> <span data-ttu-id="b16bc-252">Comme vous le verrez dans la série de didacticiels suivante, dans WebMatrix, vous pouvez créer un site basé sur un *modèle*, ce qui vous donne un site avec des fonctionnalités prédéfinies.</span><span class="sxs-lookup"><span data-stu-id="b16bc-252">As you'll see in the next tutorial series, in WebMatrix you can create a site based on a *template*, which gives you a site that has prebuilt functionality in it.</span></span> <span data-ttu-id="b16bc-253">Les modèles utilisent correctement les pages de disposition et CSS pour créer des sites qui s’affichent parfaitement et qui possèdent des fonctionnalités telles que des menus.</span><span class="sxs-lookup"><span data-stu-id="b16bc-253">The templates make good use of layout pages and CSS to create sites that look great and that have features like menus.</span></span> <span data-ttu-id="b16bc-254">Voici une capture d’écran de la page d’hébergement d’un site basé sur un modèle, montrant des fonctionnalités qui utilisent des pages de disposition et CSS :</span><span class="sxs-lookup"><span data-stu-id="b16bc-254">Here's a screenshot of the home page from a site based on a template, showing features that use layout pages and CSS:</span></span>

![Disposition créée par le modèle de site WebMatrix, avec l’en-tête, la zone de navigation, la zone de contenu, la section facultative et les liens de connexion](layouts/_static/image11.png)

## <a name="complete-listing-for-movie-page-updated-to-use-a-layout-page"></a><span data-ttu-id="b16bc-256">Liste complète des pages de films (mise à jour pour utiliser une page de disposition)</span><span class="sxs-lookup"><span data-stu-id="b16bc-256">Complete Listing for Movie Page (Updated to Use a Layout Page)</span></span>

[!code-cshtml[Main](layouts/samples/sample14.cshtml)]

## <a name="complete-page-listing-for-add-movie-page-updated-for-layout"></a><span data-ttu-id="b16bc-257">Liste complète des pages pour la page Ajouter un film (mise à jour de la disposition)</span><span class="sxs-lookup"><span data-stu-id="b16bc-257">Complete Page Listing for Add Movie Page (Updated for Layout)</span></span>

[!code-cshtml[Main](layouts/samples/sample15.cshtml)]

## <a name="complete-page-listing-for-delete-movie-page-updated-for-layout"></a><span data-ttu-id="b16bc-258">Liste complète des pages pour la page de suppression de la vidéo (mise à jour pour la disposition)</span><span class="sxs-lookup"><span data-stu-id="b16bc-258">Complete Page Listing for Delete Movie Page (Updated for Layout)</span></span>

[!code-cshtml[Main](layouts/samples/sample16.cshtml)]

## <a name="complete-page-listing-for-edit-movie-page-updated-for-layout"></a><span data-ttu-id="b16bc-259">Liste complète des pages pour la page de modification de la vidéo (mise à jour de la disposition)</span><span class="sxs-lookup"><span data-stu-id="b16bc-259">Complete Page Listing for Edit Movie Page (Updated for Layout)</span></span>

[!code-cshtml[Main](layouts/samples/sample17.cshtml)]

## <a name="coming-up-next"></a><span data-ttu-id="b16bc-260">À venir suivant</span><span class="sxs-lookup"><span data-stu-id="b16bc-260">Coming Up Next</span></span>

<span data-ttu-id="b16bc-261">Dans le didacticiel suivant, vous apprendrez à publier votre site sur Internet afin que tout le monde puisse le voir.</span><span class="sxs-lookup"><span data-stu-id="b16bc-261">In the next tutorial, you'll learn how to publish your site to the Internet so everyone can see it.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b16bc-262">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="b16bc-262">Additional Resources</span></span>

- <span data-ttu-id="b16bc-263">[Création d’une apparence cohérente](https://go.microsoft.com/fwlink/?LinkID=202891) : un article qui fournit plus de détails sur l’utilisation des dispositions.</span><span class="sxs-lookup"><span data-stu-id="b16bc-263">[Creating a Consistent Look](https://go.microsoft.com/fwlink/?LinkID=202891) — An article that provides some more detail on working with layouts.</span></span> <span data-ttu-id="b16bc-264">Elle explique également comment passer une valeur à une page de disposition qui affiche ou masque une partie du contenu.</span><span class="sxs-lookup"><span data-stu-id="b16bc-264">It also describes how to pass a value to a layout page that shows or hides some of the content.</span></span>
- <span data-ttu-id="b16bc-265">[Pages de disposition imbriquées avec Razor](http://www.mikesdotnetting.com/Article/164/Nested-Layout-Pages-with-Razor) — Mike saumured Blogs montre comment imbriquer des pages de disposition.</span><span class="sxs-lookup"><span data-stu-id="b16bc-265">[Nested Layout Pages with Razor](http://www.mikesdotnetting.com/Article/164/Nested-Layout-Pages-with-Razor) — Mike Brind blogs an example of how to nest layout pages.</span></span> <span data-ttu-id="b16bc-266">(Comprend un téléchargement des pages.)</span><span class="sxs-lookup"><span data-stu-id="b16bc-266">(Includes a download of the pages.)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="b16bc-267">[Précédent](deleting-data.md)
> [Suivant](publishing.md)</span><span class="sxs-lookup"><span data-stu-id="b16bc-267">[Previous](deleting-data.md)
[Next](publishing.md)</span></span>
