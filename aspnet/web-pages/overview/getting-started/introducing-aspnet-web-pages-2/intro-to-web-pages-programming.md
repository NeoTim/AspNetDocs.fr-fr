---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
title: Présentation de la pages Web ASP.NET de base de la programmation | Microsoft Docs
author: Rick-Anderson
description: 'Ce didacticiel vous donne une vue d’ensemble de la façon de programmer dans pages Web ASP.NET avec syntaxe Razor. Ce que vous allez apprendre : la syntaxe « Razor » de base que vous utilisez pour la PR...'
ms.author: riande
ms.date: 06/17/2015
ms.assetid: 7526ed45-a97d-4e8a-8301-01324ef0eff9
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/intro-to-web-pages-programming
msc.type: authoredcontent
ms.openlocfilehash: 474de7671ac2931e5ba9ff635d77385403644521
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78628477"
---
# <a name="introducing-aspnet-web-pages---programming-basics"></a><span data-ttu-id="b61c6-104">Présentation des notions de base de la programmation pages Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b61c6-104">Introducing ASP.NET Web Pages - Programming Basics</span></span>

<span data-ttu-id="b61c6-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="b61c6-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="b61c6-106">Ce didacticiel vous donne une vue d’ensemble de la façon de programmer dans pages Web ASP.NET avec syntaxe Razor.</span><span class="sxs-lookup"><span data-stu-id="b61c6-106">This tutorial gives you an overview of how to program in ASP.NET Web Pages with Razor syntax.</span></span>
> 
> <span data-ttu-id="b61c6-107">Ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="b61c6-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="b61c6-108">La syntaxe « Razor » de base que vous utilisez pour la programmation dans pages Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b61c6-108">The basic "Razor" syntax that you use for programming in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="b61c6-109">Une partie C#de base, qui est le langage de programmation que vous allez utiliser.</span><span class="sxs-lookup"><span data-stu-id="b61c6-109">Some basic C#, which is the programming language you'll use.</span></span>
> - <span data-ttu-id="b61c6-110">Certains concepts fondamentaux de la programmation pour les pages Web.</span><span class="sxs-lookup"><span data-stu-id="b61c6-110">Some fundamental programming concepts for Web Pages.</span></span>
> - <span data-ttu-id="b61c6-111">Comment installer des packages (des composants qui contiennent du code prédéfini) à utiliser avec votre site.</span><span class="sxs-lookup"><span data-stu-id="b61c6-111">How to install packages (components that contain prebuilt code) to use with your site.</span></span>
> - <span data-ttu-id="b61c6-112">Comment utiliser les *programmes d’assistance* pour effectuer des tâches de programmation courantes.</span><span class="sxs-lookup"><span data-stu-id="b61c6-112">How to use *helpers* to perform common programming tasks.</span></span>
>   
> 
> <span data-ttu-id="b61c6-113">Fonctionnalités/technologies présentées :</span><span class="sxs-lookup"><span data-stu-id="b61c6-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="b61c6-114">NuGet et le gestionnaire de package.</span><span class="sxs-lookup"><span data-stu-id="b61c6-114">NuGet and the package manager.</span></span>
> - <span data-ttu-id="b61c6-115">Le programme d’assistance `Gravatar`.</span><span class="sxs-lookup"><span data-stu-id="b61c6-115">The `Gravatar` helper.</span></span>

<span data-ttu-id="b61c6-116">Ce didacticiel est principalement un exercice de présentation de la syntaxe de programmation que vous allez utiliser pour pages Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b61c6-116">This tutorial is primarily an exercise in introducing you to the programming syntax that you'll use for ASP.NET Web Pages.</span></span> <span data-ttu-id="b61c6-117">Vous en apprendrez plus sur les *syntaxe Razor* et le code C# écrit dans le langage de programmation.</span><span class="sxs-lookup"><span data-stu-id="b61c6-117">You'll learn about *Razor syntax* and code that's written in the C# programming language.</span></span> <span data-ttu-id="b61c6-118">Vous avez obtenu un aperçu de cette syntaxe dans le didacticiel précédent. dans ce didacticiel, nous expliquerons plus en détail la syntaxe.</span><span class="sxs-lookup"><span data-stu-id="b61c6-118">You got a glimpse of this syntax in the previous tutorial; in this tutorial we'll explain the syntax more.</span></span>

<span data-ttu-id="b61c6-119">Nous garantissons que ce didacticiel implique la plus grande programmation que vous verrez dans un seul didacticiel et qu’il s’agit du seul didacticiel qui concerne *uniquement* la programmation.</span><span class="sxs-lookup"><span data-stu-id="b61c6-119">We promise that this tutorial involves the most programming that you'll see in a single tutorial, and that it's the only tutorial that is *only* about programming.</span></span> <span data-ttu-id="b61c6-120">Dans les autres didacticiels de cet ensemble, vous créerez en fait des pages qui sont intéressantes.</span><span class="sxs-lookup"><span data-stu-id="b61c6-120">In the remaining tutorials in this set, you'll actually create pages that do interesting things.</span></span>

<span data-ttu-id="b61c6-121">Vous en apprendrez également plus sur les *assistances*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-121">You'll also learn about *helpers*.</span></span> <span data-ttu-id="b61c6-122">Une application d’assistance est un composant, un morceau de code, que vous pouvez ajouter à une page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-122">A helper is a component — a packaged-up piece of code — that you can add to a page.</span></span> <span data-ttu-id="b61c6-123">Le programme d’assistance effectue des tâches qui, dans le cas contraire, peuvent être fastidieuses ou complexes.</span><span class="sxs-lookup"><span data-stu-id="b61c6-123">The helper performs work for you that otherwise might be tedious or complex to do by hand.</span></span>

## <a name="creating-a-page-to-play-with-razor"></a><span data-ttu-id="b61c6-124">Création d’une page à lire avec Razor</span><span class="sxs-lookup"><span data-stu-id="b61c6-124">Creating a Page to Play with Razor</span></span>

<span data-ttu-id="b61c6-125">Dans cette section, vous allez jouer un peu avec Razor afin d’avoir une idée de la syntaxe de base.</span><span class="sxs-lookup"><span data-stu-id="b61c6-125">In this section you'll play a bit with Razor so you can get a sense of the basic syntax.</span></span>

<span data-ttu-id="b61c6-126">Démarrez WebMatrix s’il n’est pas déjà en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="b61c6-126">Start WebMatrix if it's not already running.</span></span> <span data-ttu-id="b61c6-127">Vous utiliserez le site Web que vous avez créé dans le didacticiel précédent ([prise en main avec les pages Web](https://go.microsoft.com/fwlink/?LinkId=251578)).</span><span class="sxs-lookup"><span data-stu-id="b61c6-127">You'll use the website you created in the previous tutorial ([Getting Started With Web Pages](https://go.microsoft.com/fwlink/?LinkId=251578)).</span></span> <span data-ttu-id="b61c6-128">Pour le rouvrir, cliquez sur **mes sites** , puis choisissez **WebPageMovies**:</span><span class="sxs-lookup"><span data-stu-id="b61c6-128">To reopen it, click **My Sites** and choose **WebPageMovies**:</span></span>

![Écran de démarrage de WebMatrix avec les options ouvrir le site et mes sites mis en surbrillance](intro-to-web-pages-programming/_static/image1.png)

<span data-ttu-id="b61c6-130">Sélectionnez l’espace de travail **fichiers** .</span><span class="sxs-lookup"><span data-stu-id="b61c6-130">Select the **Files** workspace.</span></span>

<span data-ttu-id="b61c6-131">Dans le ruban, cliquez sur **nouveau** pour créer une page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-131">In the ribbon, click **New** to create a page.</span></span> <span data-ttu-id="b61c6-132">Sélectionnez **cshtml** et nommez la nouvelle page *TestRazor. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-132">Select **CSHTML** and name the new page *TestRazor.cshtml*.</span></span>

<span data-ttu-id="b61c6-133">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="b61c6-133">Click **OK**.</span></span>

<span data-ttu-id="b61c6-134">Copiez le code suivant dans le fichier, en remplaçant complètement ce qui existe déjà.</span><span class="sxs-lookup"><span data-stu-id="b61c6-134">Copy the following into the file, completely replacing what's there already.</span></span>

> [!NOTE]
> <span data-ttu-id="b61c6-135">Lorsque vous copiez le code ou le balisage des exemples dans une page, la mise en retrait et l’alignement peuvent ne pas être les mêmes que dans le didacticiel.</span><span class="sxs-lookup"><span data-stu-id="b61c6-135">When you copy code or markup from the examples into a page, the indentation and alignment might not be the same as in the tutorial.</span></span> <span data-ttu-id="b61c6-136">Toutefois, la mise en retrait et l’alignement n’affectent pas la manière dont le code s’exécute.</span><span class="sxs-lookup"><span data-stu-id="b61c6-136">Indentation and alignment don't affect how the code runs, though.</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample1.cshtml)]

## <a name="examining-the-example-page"></a><span data-ttu-id="b61c6-137">Examen de la page d’exemple</span><span class="sxs-lookup"><span data-stu-id="b61c6-137">Examining the Example Page</span></span>

<span data-ttu-id="b61c6-138">La plupart des éléments que vous voyez sont du code HTML ordinaire.</span><span class="sxs-lookup"><span data-stu-id="b61c6-138">Most of what you see is ordinary HTML.</span></span> <span data-ttu-id="b61c6-139">Toutefois, en haut, il y a ce bloc de code :</span><span class="sxs-lookup"><span data-stu-id="b61c6-139">However, at the top there's this code block:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample2.cshtml)]

<span data-ttu-id="b61c6-140">Notez les points suivants sur ce bloc de code :</span><span class="sxs-lookup"><span data-stu-id="b61c6-140">Notice the following things about this code block:</span></span>

- <span data-ttu-id="b61c6-141">Le caractère @ indique à ASP.NET que ce qui suit est le code Razor, et non le format HTML.</span><span class="sxs-lookup"><span data-stu-id="b61c6-141">The @ character tells ASP.NET that what follows is Razor code, not HTML.</span></span> <span data-ttu-id="b61c6-142">ASP.NET traite tout ce qui suit le caractère @ comme du code jusqu’à ce qu’il s’exécute à nouveau dans du code HTML.</span><span class="sxs-lookup"><span data-stu-id="b61c6-142">ASP.NET will treat everything after the @ character as code until it runs into some HTML again.</span></span> <span data-ttu-id="b61c6-143">(Dans ce cas, c’est le &lt;! Élément DOCTYPE&gt;.</span><span class="sxs-lookup"><span data-stu-id="b61c6-143">(In this case, that's the &lt;!DOCTYPE&gt; element.</span></span>
- <span data-ttu-id="b61c6-144">Les accolades ({et}) encadrent un bloc de code Razor si le code a plus d’une ligne.</span><span class="sxs-lookup"><span data-stu-id="b61c6-144">The braces ( { and } ) enclose a block of Razor code if the code has more than one line.</span></span> <span data-ttu-id="b61c6-145">Les accolades indiquent à ASP.NET où le code pour ce bloc démarre et se termine.</span><span class="sxs-lookup"><span data-stu-id="b61c6-145">The braces tell ASP.NET where the code for that block starts and ends.</span></span>
- <span data-ttu-id="b61c6-146">Les caractères//marquent un commentaire, c’est-à-dire une partie du code qui ne s’exécute pas.</span><span class="sxs-lookup"><span data-stu-id="b61c6-146">The // characters mark a comment — that is, a part of the code that won't execute.</span></span>
- <span data-ttu-id="b61c6-147">Chaque instruction doit se terminer par un point-virgule (;).</span><span class="sxs-lookup"><span data-stu-id="b61c6-147">Each statement has to end with a semicolon (;).</span></span> <span data-ttu-id="b61c6-148">(Mais pas les commentaires.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-148">(Not comments, though.)</span></span>
- <span data-ttu-id="b61c6-149">Vous pouvez stocker des valeurs dans des *variables*que vous créez (*Declare*) avec le mot clé var.</span><span class="sxs-lookup"><span data-stu-id="b61c6-149">You can store values in *variables*, which you create (*declare*) with the keyword var.</span></span> <span data-ttu-id="b61c6-150">Lorsque vous créez une variable, vous lui donnez un nom, qui peut inclure des lettres, des chiffres et un trait de soulignement (\_).</span><span class="sxs-lookup"><span data-stu-id="b61c6-150">When you create a variable, you give it a name, which can include letters, numbers, and underscore (\_).</span></span> <span data-ttu-id="b61c6-151">Les noms de variables ne peuvent pas commencer par un nombre et ne peuvent pas utiliser le nom d’un mot clé de programmation (comme var).</span><span class="sxs-lookup"><span data-stu-id="b61c6-151">Variable names can't start with a number and can't use the name of a programming keyword (like var).</span></span>
- <span data-ttu-id="b61c6-152">Vous placez les chaînes de caractères (telles que « ASP.NET » et « Web pages ») entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="b61c6-152">You enclose character strings (like "ASP.NET" and "Web Pages") in quotation marks.</span></span> <span data-ttu-id="b61c6-153">(Ils doivent être des guillemets doubles.) Les nombres ne sont pas entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="b61c6-153">(They must be double quotation marks.) Numbers are not in quotation marks.</span></span>
- <span data-ttu-id="b61c6-154">L’espace en dehors des guillemets n’a pas d’importance.</span><span class="sxs-lookup"><span data-stu-id="b61c6-154">Whitespace outside of quotation marks doesn't matter.</span></span> <span data-ttu-id="b61c6-155">Les sauts de ligne ne sont généralement pas importants ; l’exception est que vous ne pouvez pas fractionner une chaîne entre guillemets sur plusieurs lignes.</span><span class="sxs-lookup"><span data-stu-id="b61c6-155">Line breaks mostly don't matter; the exception is that you can't split a string in quotation marks across lines.</span></span> <span data-ttu-id="b61c6-156">La mise en retrait et l’alignement n’ont pas d’importance.</span><span class="sxs-lookup"><span data-stu-id="b61c6-156">Indentation and alignment don't matter.</span></span>

<span data-ttu-id="b61c6-157">Ce qui n’est pas évident dans cet exemple est que tout le code respecte la casse.</span><span class="sxs-lookup"><span data-stu-id="b61c6-157">Something that's not obvious from this example is that all code is case sensitive.</span></span> <span data-ttu-id="b61c6-158">Cela signifie que la variable somme est une variable différente des variables qui peuvent être nommées somme ou somme.</span><span class="sxs-lookup"><span data-stu-id="b61c6-158">This means that the variable TheSum is a different variable than variables that might be named theSum or thesum.</span></span> <span data-ttu-id="b61c6-159">De même, var est un mot clé, mais var ne l’est pas.</span><span class="sxs-lookup"><span data-stu-id="b61c6-159">Similarly, var is a keyword, but Var is not.</span></span>

### <a name="objects-and-properties-and-methods"></a><span data-ttu-id="b61c6-160">Objets et propriétés et méthodes</span><span class="sxs-lookup"><span data-stu-id="b61c6-160">Objects and properties and methods</span></span>

<span data-ttu-id="b61c6-161">Ensuite, il y a l’expression DateTime. Now.</span><span class="sxs-lookup"><span data-stu-id="b61c6-161">Then there's the expression DateTime.Now.</span></span> <span data-ttu-id="b61c6-162">En termes simples, DateTime est un *objet*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-162">In simple terms, DateTime is an *object*.</span></span> <span data-ttu-id="b61c6-163">Un objet est un élément que vous pouvez programmer : une page, une zone de texte, un fichier, une image, une demande Web, un e-mail, un enregistrement de client, etc. Les objets ont une ou plusieurs *Propriétés* qui décrivent leurs caractéristiques.</span><span class="sxs-lookup"><span data-stu-id="b61c6-163">An object is a thing that you can program with—a page, a text box, a file, an image, a web request, an email message, a customer record, etc. Objects have one or more *properties* that describe their characteristics.</span></span> <span data-ttu-id="b61c6-164">Un objet de zone de texte a une propriété de texte (entre autres), un objet de requête a une propriété URL (et d’autres), un message électronique a une propriété from et une propriété to, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="b61c6-164">A text box object has a Text property (among others), a request object has a Url property (and others), an email message has a From property and a To property, and so on.</span></span> <span data-ttu-id="b61c6-165">Les objets ont également des *méthodes* qui sont les « verbes » qu’ils peuvent effectuer.</span><span class="sxs-lookup"><span data-stu-id="b61c6-165">Objects also have *methods* that are the "verbs" they can perform.</span></span> <span data-ttu-id="b61c6-166">Vous allez travailler avec des objets beaucoup.</span><span class="sxs-lookup"><span data-stu-id="b61c6-166">You'll be working with objects a lot.</span></span>

<span data-ttu-id="b61c6-167">Comme vous pouvez le voir dans l’exemple, DateTime est un objet qui vous permet de programmer des dates et des heures.</span><span class="sxs-lookup"><span data-stu-id="b61c6-167">As you can see from the example, DateTime is an object that lets you program dates and times.</span></span> <span data-ttu-id="b61c6-168">Elle a une propriété nommée Now qui retourne la date et l’heure actuelles.</span><span class="sxs-lookup"><span data-stu-id="b61c6-168">It has a property named Now that returns the current date and time.</span></span>

### <a name="using-code-to-render-markup-in-the-page"></a><span data-ttu-id="b61c6-169">Utilisation du code pour restituer le balisage dans la page</span><span class="sxs-lookup"><span data-stu-id="b61c6-169">Using code to render markup in the page</span></span>

<span data-ttu-id="b61c6-170">Dans le corps de la page, notez les points suivants :</span><span class="sxs-lookup"><span data-stu-id="b61c6-170">In the body of the page, notice the following:</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample3.html)]

<span data-ttu-id="b61c6-171">Là encore, le caractère @ indique à ASP.NET que ce qui suit est le code, et non le format HTML.</span><span class="sxs-lookup"><span data-stu-id="b61c6-171">Again, the @ character tells ASP.NET that what follows is code, not HTML.</span></span> <span data-ttu-id="b61c6-172">Dans le balisage, vous pouvez ajouter @ suivi d’une expression de code, et ASP.NET affichera la valeur de cette expression à ce stade.</span><span class="sxs-lookup"><span data-stu-id="b61c6-172">In the markup you can add @ followed by a code expression, and ASP.NET will render the value of that expression right at that point.</span></span> <span data-ttu-id="b61c6-173">Dans l’exemple, @a restitue la valeur de la variable nommée a, @product affiche tout ce qui se trouve dans la variable nommée Product, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="b61c6-173">In the example, @a will render whatever the value is of the variable named a, @product renders whatever is in the variable named product, and so on.</span></span>

<span data-ttu-id="b61c6-174">Toutefois, vous n’êtes pas limité aux variables.</span><span class="sxs-lookup"><span data-stu-id="b61c6-174">You're not limited to variables, though.</span></span> <span data-ttu-id="b61c6-175">Dans quelques instances, le caractère @ précède une expression :</span><span class="sxs-lookup"><span data-stu-id="b61c6-175">In a few instances here, the @ character precedes an expression:</span></span>

- <span data-ttu-id="b61c6-176">@ (a\*b) restitue le produit de tout ce qui se trouve dans les variables a et b.</span><span class="sxs-lookup"><span data-stu-id="b61c6-176">@(a\*b) renders the product of whatever is in the variables a and b.</span></span> <span data-ttu-id="b61c6-177">(L’opérateur \* signifie la multiplication.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-177">(The \* operator means multiplication.)</span></span>
- <span data-ttu-id="b61c6-178">@ (technologie + «» + produit) restitue les valeurs dans la technologie et le produit variables après les avoir concaténées et ajouté un espace entre les deux.</span><span class="sxs-lookup"><span data-stu-id="b61c6-178">@(technology + " " + product) renders the values in the variables technology and product after concatenating them and adding a space in between.</span></span> <span data-ttu-id="b61c6-179">L’opérateur (+) pour concaténer des chaînes est le même que l’opérateur pour l’ajout de nombres.</span><span class="sxs-lookup"><span data-stu-id="b61c6-179">The operator (+) for concatenating strings is the same as the operator for adding numbers.</span></span> <span data-ttu-id="b61c6-180">ASP.NET peut généralement savoir si vous utilisez des nombres ou des chaînes et fait la bonne chose avec l’opérateur +.</span><span class="sxs-lookup"><span data-stu-id="b61c6-180">ASP.NET can usually tell whether you're working with numbers or with strings and does the right thing with the + operator.</span></span>
- <span data-ttu-id="b61c6-181">@Request.Url restitue la propriété URL de l’objet de requête.</span><span class="sxs-lookup"><span data-stu-id="b61c6-181">@Request.Url renders the Url property of the Request object.</span></span> <span data-ttu-id="b61c6-182">L’objet Request contient des informations sur la requête actuelle à partir du navigateur et, bien sûr, la propriété URL contient l’URL de cette requête actuelle.</span><span class="sxs-lookup"><span data-stu-id="b61c6-182">The Request object contains information about the current request from the browser, and of course the Url property contains the URL of that current request.</span></span>

<span data-ttu-id="b61c6-183">L’exemple est également conçu pour vous montrer que vous pouvez effectuer des tâches de différentes façons.</span><span class="sxs-lookup"><span data-stu-id="b61c6-183">The example is also designed to show you that you can do work in different ways.</span></span> <span data-ttu-id="b61c6-184">Vous pouvez effectuer des calculs dans le bloc de code en haut, placer les résultats dans une variable, puis restituer la variable dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="b61c6-184">You can do calculations in the code block at the top, put the results into a variable, and then render the variable in markup.</span></span> <span data-ttu-id="b61c6-185">Ou vous pouvez effectuer des calculs dans une expression directement dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="b61c6-185">Or you can do calculations in an expression right in the markup.</span></span> <span data-ttu-id="b61c6-186">L’approche que vous utilisez dépend de ce que vous faites et, dans une certaine mesure, de votre propre préférence.</span><span class="sxs-lookup"><span data-stu-id="b61c6-186">The approach you use depends on what you're doing and, to some extent, on your own preference.</span></span>

### <a name="seeing-the-code-in-action"></a><span data-ttu-id="b61c6-187">Affichage du code en action</span><span class="sxs-lookup"><span data-stu-id="b61c6-187">Seeing the code in action</span></span>

<span data-ttu-id="b61c6-188">Cliquez avec le bouton droit sur le nom du fichier, puis choisissez **lancer dans le navigateur**.</span><span class="sxs-lookup"><span data-stu-id="b61c6-188">Right-click the name of the file and then choose **Launch in browser**.</span></span> <span data-ttu-id="b61c6-189">La page s’affiche dans le navigateur avec toutes les valeurs et expressions résolues dans la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-189">You see the page in the browser with all the values and expressions resolved in the page.</span></span>

![Page « TestRazor » en cours d’exécution dans le navigateur](intro-to-web-pages-programming/_static/image2.png)

<span data-ttu-id="b61c6-191">Examinez la source dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="b61c6-191">Look at the source in the browser.</span></span>

![Source de la page « test Razor » dans le navigateur](intro-to-web-pages-programming/_static/image3.png)

<span data-ttu-id="b61c6-193">Comme prévu dans le didacticiel précédent, aucun code Razor n’est présent dans la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-193">As you expect from your experience in the previous tutorial, none of the Razor code is in the page.</span></span> <span data-ttu-id="b61c6-194">Tout ce que vous voyez est les valeurs d’affichage réelles.</span><span class="sxs-lookup"><span data-stu-id="b61c6-194">All you see are the actual display values.</span></span> <span data-ttu-id="b61c6-195">Lorsque vous exécutez une page, vous effectuez en fait une requête au serveur Web qui est intégré à WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="b61c6-195">When you run a page, you're actually making a request to the web server that's built into WebMatrix.</span></span> <span data-ttu-id="b61c6-196">Lorsque la demande est reçue, ASP.NET résout toutes les valeurs et expressions et restitue leurs valeurs dans la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-196">When the request is received, ASP.NET resolves all the values and expressions and renders their values into the page.</span></span> <span data-ttu-id="b61c6-197">Il envoie ensuite la page au navigateur.</span><span class="sxs-lookup"><span data-stu-id="b61c6-197">It then sends the page to the browser.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="b61c6-198">**Razor etC#**</span><span class="sxs-lookup"><span data-stu-id="b61c6-198">**Razor and C#**</span></span>
> 
> <span data-ttu-id="b61c6-199">Jusqu’à présent, nous avons dit que vous travaillez avec syntaxe Razor.</span><span class="sxs-lookup"><span data-stu-id="b61c6-199">Up to now we've said that you're working with Razor syntax.</span></span> <span data-ttu-id="b61c6-200">C’est vrai, mais ce n’est pas tout.</span><span class="sxs-lookup"><span data-stu-id="b61c6-200">That's true, but it's not the complete story.</span></span> <span data-ttu-id="b61c6-201">Le langage de programmation que vous utilisez est appelé *C#* .</span><span class="sxs-lookup"><span data-stu-id="b61c6-201">The actual programming language you're using is called *C#*.</span></span> <span data-ttu-id="b61c6-202">C#a été créé par Microsoft il y a plus de dix ans et est devenu l’un des principaux langages de programmation pour la création d’applications Windows.</span><span class="sxs-lookup"><span data-stu-id="b61c6-202">C# was created by Microsoft over a decade ago and has become one of the primary programming languages for creating Windows apps.</span></span> <span data-ttu-id="b61c6-203">Toutes les règles que vous avez vu sur la manière de nommer une variable et sur la manière de créer des instructions, etc., C# sont en fait toutes des règles du langage.</span><span class="sxs-lookup"><span data-stu-id="b61c6-203">All the rules you've seen about how to name a variable and how to create statements and so on are actually all rules of the C# language.</span></span>
> 
> <span data-ttu-id="b61c6-204">Razor fait plus spécifiquement référence au petit ensemble de conventions pour la façon dont vous incorporez ce code dans une page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-204">Razor refers more specifically to the small set of conventions for how you embed this code into a page.</span></span> <span data-ttu-id="b61c6-205">Par exemple, la Convention de l’utilisation de @ pour marquer le code dans la page et l’utilisation de @ {} pour incorporer un bloc de code est l’aspect Razor d’une page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-205">For example, the convention of using @ to mark code in the page and using @{ } to embed a code block is the Razor aspect of a page.</span></span> <span data-ttu-id="b61c6-206">Les applications auxiliaires sont également considérées comme faisant partie de Razor.</span><span class="sxs-lookup"><span data-stu-id="b61c6-206">Helpers are also considered to be part of Razor.</span></span> <span data-ttu-id="b61c6-207">Syntaxe Razor est utilisé à d’autres endroits que dans pages Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b61c6-207">Razor syntax is used in more places than just in ASP.NET Web Pages.</span></span> <span data-ttu-id="b61c6-208">(Par exemple, il est également utilisé dans les vues MVC ASP.NET.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-208">(For example, it's used in ASP.NET MVC views as well.)</span></span>
> 
> <span data-ttu-id="b61c6-209">Nous mentionnons cela, car si vous recherchez des informations sur la programmation pages Web ASP.NET, vous trouverez de nombreuses références à Razor.</span><span class="sxs-lookup"><span data-stu-id="b61c6-209">We mention this because if you look for information about programming ASP.NET Web Pages, you'll find lots of references to Razor.</span></span> <span data-ttu-id="b61c6-210">Toutefois, un grand nombre de ces références ne s’appliquent pas à ce que vous faites et peuvent donc prêter à confusion.</span><span class="sxs-lookup"><span data-stu-id="b61c6-210">However, a lot of those references don't apply to what you're doing and might therefore be confusing.</span></span> <span data-ttu-id="b61c6-211">Et en fait, la plupart de vos questions en matière de programmation vont vraiment utiliser C# ou travailler avec ASP.net.</span><span class="sxs-lookup"><span data-stu-id="b61c6-211">And in fact, many of your programming questions are really going to be about either working with C# or working with ASP.NET.</span></span> <span data-ttu-id="b61c6-212">Par conséquent, si vous recherchez des informations spécifiques sur Razor, vous ne trouverez peut-être pas les réponses dont vous avez besoin.</span><span class="sxs-lookup"><span data-stu-id="b61c6-212">So if you look specifically for information about Razor, you might not find the answers you need.</span></span>

## <a name="adding-some-conditional-logic"></a><span data-ttu-id="b61c6-213">Ajout d’une logique conditionnelle</span><span class="sxs-lookup"><span data-stu-id="b61c6-213">Adding Some Conditional Logic</span></span>

<span data-ttu-id="b61c6-214">L’une des fonctionnalités intéressantes de l’utilisation de code dans une page est que vous pouvez modifier ce qui se passe en fonction de différentes conditions.</span><span class="sxs-lookup"><span data-stu-id="b61c6-214">One of the great features about using code in a page is that you can change what happens based on various conditions.</span></span> <span data-ttu-id="b61c6-215">Dans cette partie du didacticiel, vous allez vous familiariser avec certaines méthodes pour modifier ce qui est affiché dans la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-215">In this part of the tutorial, you'll play around with some ways to change what's displayed in the page.</span></span>

<span data-ttu-id="b61c6-216">L’exemple sera simple et quelque peu fictif pour que nous puissions nous concentrer sur la logique conditionnelle.</span><span class="sxs-lookup"><span data-stu-id="b61c6-216">The example will be simple and somewhat contrived so that we can concentrate on the conditional logic.</span></span> <span data-ttu-id="b61c6-217">La page que vous allez créer effectuera cette opération :</span><span class="sxs-lookup"><span data-stu-id="b61c6-217">The page you'll create will do this:</span></span>

- <span data-ttu-id="b61c6-218">Affichez un texte différent sur la page selon qu’il s’agit de la première fois que la page est affichée ou si vous avez cliqué sur un bouton pour envoyer la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-218">Show different text on the page depending on whether it's the first time the page is displayed or whether you've clicked a button to submit the page.</span></span> <span data-ttu-id="b61c6-219">Il s’agit du premier test conditionnel.</span><span class="sxs-lookup"><span data-stu-id="b61c6-219">That will be the first conditional test.</span></span>
- <span data-ttu-id="b61c6-220">Affichez le message uniquement si une certaine valeur est transmise dans la chaîne de requête de l’URL (http://... ? Show = true).</span><span class="sxs-lookup"><span data-stu-id="b61c6-220">Display the message only if a certain value is passed in the query string of the URL (http://...?show=true).</span></span> <span data-ttu-id="b61c6-221">Il s’agit du deuxième test conditionnel.</span><span class="sxs-lookup"><span data-stu-id="b61c6-221">That will be the second conditional test.</span></span>

<span data-ttu-id="b61c6-222">Dans WebMatrix, créez une page et nommez-la *TestRazorPart2. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-222">In WebMatrix, create a page and name it *TestRazorPart2.cshtml*.</span></span> <span data-ttu-id="b61c6-223">(Dans le ruban, cliquez sur **nouveau**, choisissez **cshtml**, nommez le fichier, puis cliquez sur **OK**.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-223">(In the ribbon, click **New**, choose **CSHTML**, name the file, and then click **OK**.)</span></span>

<span data-ttu-id="b61c6-224">Remplacez le contenu de cette page par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b61c6-224">Replace the contents of that page with the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample4.cshtml)]

<span data-ttu-id="b61c6-225">Le bloc de code en haut Initialise une variable nommée message avec du texte.</span><span class="sxs-lookup"><span data-stu-id="b61c6-225">The code block at the top initializes a variable named message with some text.</span></span> <span data-ttu-id="b61c6-226">Dans le corps de la page, le contenu de la variable de message s’affiche à l’intérieur d’un élément &lt;p&gt;.</span><span class="sxs-lookup"><span data-stu-id="b61c6-226">In the body of the page, the contents of the message variable are displayed inside a &lt;p&gt; element.</span></span> <span data-ttu-id="b61c6-227">Le balisage contient également un élément de&gt; d’entrée &lt;pour créer un bouton **Envoyer** .</span><span class="sxs-lookup"><span data-stu-id="b61c6-227">The markup also contains an &lt;input&gt; element to create a **Submit** button.</span></span>

<span data-ttu-id="b61c6-228">Exécutez la page pour voir comment elle fonctionne maintenant.</span><span class="sxs-lookup"><span data-stu-id="b61c6-228">Run the page to see how it works now.</span></span> <span data-ttu-id="b61c6-229">Pour le moment, il s’agit essentiellement d’une page statique, même si vous cliquez sur le bouton **Envoyer** .</span><span class="sxs-lookup"><span data-stu-id="b61c6-229">For now, it's basically a static page, even if you click the **Submit** button.</span></span>

<span data-ttu-id="b61c6-230">Revenez à WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="b61c6-230">Go back to WebMatrix.</span></span> <span data-ttu-id="b61c6-231">Dans le bloc de code, ajoutez le code en surbrillance suivant *après* la ligne qui initialise le message :</span><span class="sxs-lookup"><span data-stu-id="b61c6-231">Inside the code block, add the following highlighted code *after* the line that initializes message:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample5.cshtml?highlight=4-6)]

### <a name="the-if---block"></a><span data-ttu-id="b61c6-232">Bloc If {}</span><span class="sxs-lookup"><span data-stu-id="b61c6-232">The if { } block</span></span>

<span data-ttu-id="b61c6-233">Ce que vous venez d’ajouter était une condition if.</span><span class="sxs-lookup"><span data-stu-id="b61c6-233">What you just added was an if condition.</span></span> <span data-ttu-id="b61c6-234">Dans le code, la condition If a une structure semblable à celle-ci :</span><span class="sxs-lookup"><span data-stu-id="b61c6-234">In code, the if condition has a structure like this:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample6.cs)]

<span data-ttu-id="b61c6-235">La condition à tester est entre parenthèses.</span><span class="sxs-lookup"><span data-stu-id="b61c6-235">The condition to test is in parentheses.</span></span> <span data-ttu-id="b61c6-236">Il doit s’agir d’une valeur ou d’une expression qui retourne true ou false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-236">It has to be a value or an expression that returns true or false.</span></span> <span data-ttu-id="b61c6-237">Si la condition est true, ASP.NET exécute l’instruction ou les instructions qui se trouvent à l’intérieur des accolades.</span><span class="sxs-lookup"><span data-stu-id="b61c6-237">If the condition is true, ASP.NET runs the statement or statements that are inside the braces.</span></span> <span data-ttu-id="b61c6-238">(Il s’agit de la partie *Then* de la logique *si-Then* .) Si la condition est false, le bloc de code est ignoré.</span><span class="sxs-lookup"><span data-stu-id="b61c6-238">(Those are the *then* part of the *if-then* logic.) If the condition is false, the block of code is skipped.</span></span>

<span data-ttu-id="b61c6-239">Voici quelques exemples de conditions que vous pouvez tester dans une instruction if :</span><span class="sxs-lookup"><span data-stu-id="b61c6-239">Here are a few examples of conditions you can test in an if statement:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample7.cs)]

<span data-ttu-id="b61c6-240">Vous pouvez tester des variables par rapport à des valeurs ou par rapport à des expressions à l’aide d’un opérateur *logique* ou d’un *opérateur de comparaison*: égal à (= =), supérieur à (&gt;), inférieur à (&lt;), supérieur ou égal à (&gt;=) et inférieur ou égal à (&lt;=).</span><span class="sxs-lookup"><span data-stu-id="b61c6-240">You can test variables against values or against expressions by using a *logical operator* or *comparison operator*: equal to (==), greater than (&gt;), less than (&lt;), greater than or equal to (&gt;=), and less than or equal to (&lt;=).</span></span> <span data-ttu-id="b61c6-241">L’opérateur ! = signifie que n’est pas égal à (par exemple, si (a ! = 0) signifie *si n’est pas égal à 0*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-241">The != operator means not equal to — for example, if(a != 0) means *if a is not equal to 0*.</span></span>

> [!NOTE]
> <span data-ttu-id="b61c6-242">Veillez à noter que l’opérateur de comparaison pour égal à (= =) n’est pas le même que =.</span><span class="sxs-lookup"><span data-stu-id="b61c6-242">Make sure you notice that the comparison operator for equals to (==) is not the same as =.</span></span> <span data-ttu-id="b61c6-243">L’opérateur = est utilisé uniquement pour assigner des valeurs (var a = 2).</span><span class="sxs-lookup"><span data-stu-id="b61c6-243">The = operator is used only to assign values (var a=2).</span></span> <span data-ttu-id="b61c6-244">Si vous combinez ces opérateurs, vous obtenez une erreur ou vous obtenez des résultats étranges.</span><span class="sxs-lookup"><span data-stu-id="b61c6-244">If you mix these operators up, you'll either get an error or you'll get some strange results.</span></span>

<span data-ttu-id="b61c6-245">Pour déterminer si un événement est vrai, la syntaxe complète est si (IsDone = = true).</span><span class="sxs-lookup"><span data-stu-id="b61c6-245">To test whether something is true, the complete syntax is if(IsDone == true).</span></span> <span data-ttu-id="b61c6-246">Toutefois, vous pouvez également utiliser le raccourci if (IsDone).</span><span class="sxs-lookup"><span data-stu-id="b61c6-246">But you can also use the shortcut if(IsDone).</span></span> <span data-ttu-id="b61c6-247">S’il n’existe aucun opérateur de comparaison, ASP.NET suppose que vous testez la valeur true.</span><span class="sxs-lookup"><span data-stu-id="b61c6-247">If there's no comparison operator, ASP.NET assumes that you're testing for true.</span></span>

<span data-ttu-id="b61c6-248">L'opérateur « ! »</span><span class="sxs-lookup"><span data-stu-id="b61c6-248">The !</span></span> <span data-ttu-id="b61c6-249">l’opérateur seul signifie qu’il ne s’agit pas d’un NOT logique.</span><span class="sxs-lookup"><span data-stu-id="b61c6-249">operator by itself means a logical NOT.</span></span> <span data-ttu-id="b61c6-250">Par exemple, la condition si ( ! IsPost) signifie *si IsPost n’a pas la valeur true*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-250">For example, the condition if(!IsPost) means *if IsPost is not true*.</span></span>

<span data-ttu-id="b61c6-251">Vous pouvez combiner des conditions à l’aide d’un opérateur AND logique (&amp;&amp; opérateur) ou d’un opérateur OR logique (| | opérateur).</span><span class="sxs-lookup"><span data-stu-id="b61c6-251">You can combine conditions by using a logical AND (&amp;&amp; operator) or logical OR (|| operator).</span></span> <span data-ttu-id="b61c6-252">Par exemple, la dernière des conditions if dans les exemples précédents signifie *si FileProcessingIsDone n’a pas la valeur true et que l’exemple de jeu d’aide est défini sur false*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-252">For example, the last of the if conditions in the preceding examples means *if FileProcessingIsDone is not set to true AND displayMessage is set to false*.</span></span>

### <a name="the-else-block"></a><span data-ttu-id="b61c6-253">Le bloc Else</span><span class="sxs-lookup"><span data-stu-id="b61c6-253">The else block</span></span>

<span data-ttu-id="b61c6-254">Une dernière chose à propos des blocs if : un bloc If peut être suivi d’un bloc Else.</span><span class="sxs-lookup"><span data-stu-id="b61c6-254">One final thing about if blocks: an if block can be followed by an else block.</span></span> <span data-ttu-id="b61c6-255">Un bloc Else est utile si vous devez exécuter un code différent lorsque la condition est false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-255">An else block is useful is you have to execute different code when the condition is false.</span></span> <span data-ttu-id="b61c6-256">Voici un exemple simple :</span><span class="sxs-lookup"><span data-stu-id="b61c6-256">Here's a simple example:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample8.cs)]

<span data-ttu-id="b61c6-257">Vous verrez quelques exemples dans les didacticiels ultérieurs de cette série, où l’utilisation d’un bloc Else est utile.</span><span class="sxs-lookup"><span data-stu-id="b61c6-257">You'll see some examples in later tutorials in this series where using an else block is useful.</span></span>

### <a name="testing-whether-the-request-is-a-submit-post"></a><span data-ttu-id="b61c6-258">Test de l’envoi de la demande (publication)</span><span class="sxs-lookup"><span data-stu-id="b61c6-258">Testing whether the request is a submit (post)</span></span>

<span data-ttu-id="b61c6-259">Il y a d’autres, mais revenons à l’exemple, qui a la condition if (IsPost) {...}.</span><span class="sxs-lookup"><span data-stu-id="b61c6-259">There's more, but let's get back to the example, which has the condition if(IsPost){ ... }.</span></span> <span data-ttu-id="b61c6-260">IsPost est en fait une propriété de la page actuelle.</span><span class="sxs-lookup"><span data-stu-id="b61c6-260">IsPost is actually a property of the current page.</span></span> <span data-ttu-id="b61c6-261">La première fois que la page est demandée, IsPost retourne false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-261">The first time the page is requested, IsPost returns false.</span></span> <span data-ttu-id="b61c6-262">Toutefois, si vous cliquez sur un bouton ou que vous envoyez la page, autrement dit, vous la publiez, IsPost retourne la valeur true.</span><span class="sxs-lookup"><span data-stu-id="b61c6-262">However, if you click a button or otherwise submit the page — that is, you post it — IsPost returns true.</span></span> <span data-ttu-id="b61c6-263">IsPost vous permet de déterminer si vous êtes confronté à une soumission de formulaire.</span><span class="sxs-lookup"><span data-stu-id="b61c6-263">So IsPost lets you determine whether you're dealing with a form submission.</span></span> <span data-ttu-id="b61c6-264">(En termes de verbes HTTP, si la requête est une opération d’extraction, IsPost retourne false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-264">(In terms of HTTP verbs, if the request is a GET operation, IsPost returns false.</span></span> <span data-ttu-id="b61c6-265">Si la demande est une opération de publication, IsPost retourne true.) Dans un didacticiel ultérieur, vous travaillerez avec des formulaires d’entrée, où ce test devient particulièrement utile.</span><span class="sxs-lookup"><span data-stu-id="b61c6-265">If the request is a POST operation, IsPost returns true.) In a later tutorial you'll work with input forms, where this test becomes particularly useful.</span></span>

<span data-ttu-id="b61c6-266">Exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-266">Run the page.</span></span> <span data-ttu-id="b61c6-267">Comme c’est la première fois que vous demandez la page, vous voyez « c’est la première fois que vous avez demandé la page ».</span><span class="sxs-lookup"><span data-stu-id="b61c6-267">Because this is the first time you're requested the page, you see "This is the first time you've requested the page".</span></span> <span data-ttu-id="b61c6-268">Cette chaîne correspond à la valeur à laquelle vous avez initialisé la variable de message.</span><span class="sxs-lookup"><span data-stu-id="b61c6-268">That string is the value that you initialized the message variable to.</span></span> <span data-ttu-id="b61c6-269">Il y a un test if (IsPost), mais qui retourne false à ce moment-là, le code à l’intérieur du bloc If ne s’exécute pas.</span><span class="sxs-lookup"><span data-stu-id="b61c6-269">There's an if(IsPost) test, but that returns false at the moment, so the code inside the if block doesn't run.</span></span>

<span data-ttu-id="b61c6-270">Cliquez sur le bouton **Envoyer** .</span><span class="sxs-lookup"><span data-stu-id="b61c6-270">Click the **Submit** button.</span></span> <span data-ttu-id="b61c6-271">La page est de nouveau demandée.</span><span class="sxs-lookup"><span data-stu-id="b61c6-271">The page is requested again.</span></span> <span data-ttu-id="b61c6-272">Comme précédemment, la variable de message est définie sur « c’est la première fois... ».</span><span class="sxs-lookup"><span data-stu-id="b61c6-272">As before, the message variable is set to "This is the first time ...".</span></span> <span data-ttu-id="b61c6-273">Mais cette fois-ci, le test si (IsPost) retourne la valeur true, le code à l’intérieur du bloc If s’exécute.</span><span class="sxs-lookup"><span data-stu-id="b61c6-273">But this time, the test if(IsPost) returns true, so the code inside the if block runs.</span></span> <span data-ttu-id="b61c6-274">Le code remplace la valeur de la variable de message par une valeur différente, ce qui est rendu dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="b61c6-274">The code changes the value of the message variable to a different value, which is what's rendered in the markup.</span></span>

<span data-ttu-id="b61c6-275">Ajoutez maintenant une condition if dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="b61c6-275">Now add an if condition in the markup.</span></span> <span data-ttu-id="b61c6-276">Sous l’élément &lt;p&gt; qui contient le bouton **Envoyer** , ajoutez le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="b61c6-276">Below the &lt;p&gt; element that contains the **Submit** button, add the following markup:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample9.cshtml)]

<span data-ttu-id="b61c6-277">Vous ajoutez du code à l’intérieur du balisage, vous devez donc commencer par @.</span><span class="sxs-lookup"><span data-stu-id="b61c6-277">You're adding code inside the markup, so you have to start with @.</span></span> <span data-ttu-id="b61c6-278">Il y a ensuite un test IF similaire à celui que vous avez ajouté précédemment dans le bloc de code.</span><span class="sxs-lookup"><span data-stu-id="b61c6-278">Then there's an if test similar to the one you added earlier up in the code block.</span></span> <span data-ttu-id="b61c6-279">Toutefois, à l’intérieur des accolades, vous ajoutez du code HTML ordinaire (au moins, il est ordinaire jusqu’à ce qu’il soit @DateTime.Now.</span><span class="sxs-lookup"><span data-stu-id="b61c6-279">Inside the braces, though, you're adding ordinary HTML — at least, it's ordinary until it gets to @DateTime.Now.</span></span> <span data-ttu-id="b61c6-280">Il s’agit d’un autre petit morceau de code Razor. vous devez donc encore ajouter @ devant.</span><span class="sxs-lookup"><span data-stu-id="b61c6-280">This is another little bit of Razor code, so again you have to add @ in front of it.</span></span>

<span data-ttu-id="b61c6-281">Le point ici est que vous pouvez ajouter des conditions if dans le bloc de code en haut et dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="b61c6-281">The point here is that you can add if conditions in both the code block at the top and in the markup.</span></span> <span data-ttu-id="b61c6-282">Si vous utilisez une condition if dans le corps de la page, les lignes à l’intérieur du bloc peuvent être des balises ou du code.</span><span class="sxs-lookup"><span data-stu-id="b61c6-282">If you use an if condition in the body of the page, the lines inside the block can be markup or code.</span></span> <span data-ttu-id="b61c6-283">Dans ce cas, et comme c’est vrai chaque fois que vous mélangez le balisage et le code, vous devez utiliser @ pour le rendre plus clair dans ASP.NET où le code est.</span><span class="sxs-lookup"><span data-stu-id="b61c6-283">In that case, and as is true anytime you mix markup and code, you have to use @ to make it clear to ASP.NET where the code is.</span></span>

<span data-ttu-id="b61c6-284">Exécutez la page et cliquez sur **Envoyer**.</span><span class="sxs-lookup"><span data-stu-id="b61c6-284">Run the page and click **Submit**.</span></span> <span data-ttu-id="b61c6-285">Cette fois, vous voyez un message différent lorsque vous envoyez (« vous avez envoyé... »), mais vous voyez un nouveau message qui indique la date et l’heure.</span><span class="sxs-lookup"><span data-stu-id="b61c6-285">This time you not only see a different message when you submit ("Now you've submitted ..."), but you see a new message that lists the date and time.</span></span>

![Page « test Razor 2 » en cours d’exécution dans le navigateur avec horodateur indiquant après envoi](intro-to-web-pages-programming/_static/image4.png)

### <a name="testing-the-value-of-a-query-string"></a><span data-ttu-id="b61c6-287">Test de la valeur d’une chaîne de requête</span><span class="sxs-lookup"><span data-stu-id="b61c6-287">Testing the value of a query string</span></span>

<span data-ttu-id="b61c6-288">Un test supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="b61c6-288">One more test.</span></span> <span data-ttu-id="b61c6-289">Cette fois-ci, vous allez ajouter un bloc If qui teste une valeur nommée Show qui peut être transmise dans la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="b61c6-289">This time, you'll add an if block that tests a value named show that might be passed in the query string.</span></span> <span data-ttu-id="b61c6-290">(Comme ceci : `http://localhost:43097/TestRazorPart2.cshtml?show=true`) Vous allez modifier la page de sorte que le message que vous avez affiché (« c’est la première fois... », etc.) s’affiche uniquement si la valeur de Show est true.</span><span class="sxs-lookup"><span data-stu-id="b61c6-290">(Like this: `http://localhost:43097/TestRazorPart2.cshtml?show=true`) You'll change the page so that the message you've been displaying ("This is the first time ...", etc.) is only displayed if the value of show is true.</span></span>

<span data-ttu-id="b61c6-291">En bas (mais à l’intérieur) du bloc de code en haut de la page, ajoutez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b61c6-291">At the bottom (but inside) the code block at the top of the page, add the following:</span></span>

[!code-csharp[Main](intro-to-web-pages-programming/samples/sample10.cs)]

<span data-ttu-id="b61c6-292">Le bloc de code complet ressemble maintenant à l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="b61c6-292">The complete code block now look like the following example.</span></span> <span data-ttu-id="b61c6-293">(N’oubliez pas que lorsque vous copiez le code dans votre page, la mise en retrait peut paraître différente.</span><span class="sxs-lookup"><span data-stu-id="b61c6-293">(Remember that when you copy the code into your page, the indentation might look different.</span></span> <span data-ttu-id="b61c6-294">Mais cela n’affecte pas la manière dont le code s’exécute.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-294">But that doesn't affect how the code runs.)</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample11.cshtml)]

<span data-ttu-id="b61c6-295">Le nouveau code dans le bloc Initialise une variable nommée showMessage à la valeur false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-295">The new code in the block initializes a variable named showMessage to false.</span></span> <span data-ttu-id="b61c6-296">Il effectue ensuite un test si pour rechercher une valeur dans la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="b61c6-296">It then does an if test to look for a value in the query string.</span></span> <span data-ttu-id="b61c6-297">Lorsque vous demandez la page pour la première fois, elle contient une URL telle que celle-ci :</span><span class="sxs-lookup"><span data-stu-id="b61c6-297">When you first request the page, it has a URL like this one:</span></span>

`http://localhost:43097/TestRazorPart2.cshtml`

<span data-ttu-id="b61c6-298">Le code détermine si l’URL contient une variable nommée Show dans la chaîne de requête, comme cette version de l’URL :</span><span class="sxs-lookup"><span data-stu-id="b61c6-298">The code determines whether the URL contains a variable named show in the query string, like this version of the URL:</span></span>

<span data-ttu-id="b61c6-299">`http://localhost:43097/TestRazorPart2.cshtml`? Show = true</span><span class="sxs-lookup"><span data-stu-id="b61c6-299">`http://localhost:43097/TestRazorPart2.cshtml`?show=true</span></span>

<span data-ttu-id="b61c6-300">Le test lui-même examine la propriété QueryString de l’objet Request.</span><span class="sxs-lookup"><span data-stu-id="b61c6-300">The test itself looks at the QueryString property of the Request object.</span></span> <span data-ttu-id="b61c6-301">Si la chaîne de requête contient un élément nommé Show, et si cet élément a la valeur true, le bloc If s’exécute et définit la variable showMessage sur true.</span><span class="sxs-lookup"><span data-stu-id="b61c6-301">If the query string contains an item named show, and if that item is set to true, the if block runs and sets the showMessage variable to true.</span></span>

<span data-ttu-id="b61c6-302">Il y a une astuce ici, comme vous pouvez le voir.</span><span class="sxs-lookup"><span data-stu-id="b61c6-302">There's a trick here, as you can see.</span></span> <span data-ttu-id="b61c6-303">Comme le nom indique, la chaîne de requête est une chaîne.</span><span class="sxs-lookup"><span data-stu-id="b61c6-303">Like the name says, the query string is a string.</span></span> <span data-ttu-id="b61c6-304">Toutefois, vous pouvez uniquement tester la valeur true et false si la valeur que vous testez est une valeur booléenne (true/false).</span><span class="sxs-lookup"><span data-stu-id="b61c6-304">However, you can only test for true and false if the value you're testing is a Boolean (true/false) value.</span></span> <span data-ttu-id="b61c6-305">Avant de pouvoir tester la valeur de la variable Show dans la chaîne de requête, vous devez la convertir en une valeur booléenne.</span><span class="sxs-lookup"><span data-stu-id="b61c6-305">Before you can test the value of the show variable in the query string, you have to convert it to a Boolean value.</span></span> <span data-ttu-id="b61c6-306">C’est ce que fait la méthode AsBool, elle prend une chaîne comme entrée et la convertit en valeur booléenne.</span><span class="sxs-lookup"><span data-stu-id="b61c6-306">That's what the AsBool method does — it takes a string as input and converts it to a Boolean value.</span></span> <span data-ttu-id="b61c6-307">En clair, si la chaîne est « true », la méthode AsBool convertit cette valeur en true.</span><span class="sxs-lookup"><span data-stu-id="b61c6-307">Clearly, if the string is "true", the AsBool method converts that value to true.</span></span> <span data-ttu-id="b61c6-308">Si la valeur de la chaîne est autre, AsBool retourne false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-308">If the value of the string is anything else, AsBool returns false.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="b61c6-309">**Types de données et méthodes ()**</span><span class="sxs-lookup"><span data-stu-id="b61c6-309">**Data Types and As() Methods**</span></span>
> 
> <span data-ttu-id="b61c6-310">Nous n’avons dit que jusqu’à présent que lorsque vous créez une variable, vous utilisez le mot clé var.</span><span class="sxs-lookup"><span data-stu-id="b61c6-310">We've only said so far that when you create a variable, you use the keyword var.</span></span> <span data-ttu-id="b61c6-311">Mais ce n’est pas tout.</span><span class="sxs-lookup"><span data-stu-id="b61c6-311">That's not the entire story, though.</span></span> <span data-ttu-id="b61c6-312">Pour pouvoir manipuler des valeurs (pour ajouter des nombres ou concaténer des chaînes, ou pour comparer des dates, ou pour tester la C# valeur true/false), doit utiliser une représentation interne appropriée de la valeur.</span><span class="sxs-lookup"><span data-stu-id="b61c6-312">In order to manipulate values — to add numbers, or concatenate strings, or compare dates, or test for true/false — C# has to work with an appropriate internal representation of the value.</span></span> <span data-ttu-id="b61c6-313">C#peut *généralement* déterminer ce que doit être la représentation (c’est-à-dire le *type* des données) en fonction de ce que vous faites avec les valeurs.</span><span class="sxs-lookup"><span data-stu-id="b61c6-313">C# can *usually* figure out what that representation should be (that is, what *type* the data is) based on what you're doing with the values.</span></span> <span data-ttu-id="b61c6-314">À présent, il n’est pas possible de le faire.</span><span class="sxs-lookup"><span data-stu-id="b61c6-314">Now and then, though, it can't do that.</span></span> <span data-ttu-id="b61c6-315">Si ce n’est pas le cas, vous devez vous aider C# en indiquant explicitement Comment doit représenter les données.</span><span class="sxs-lookup"><span data-stu-id="b61c6-315">If not, you have to help out by explicitly indicating how C# should represent the data.</span></span> <span data-ttu-id="b61c6-316">La méthode AsBool indique C# qu’une valeur de chaîne « true » ou « false » doit être traitée comme une valeur booléenne.</span><span class="sxs-lookup"><span data-stu-id="b61c6-316">The AsBool method does that — it tells C# that a string value of "true" or "false" should be treated as a Boolean value.</span></span> <span data-ttu-id="b61c6-317">Des méthodes similaires existent pour représenter des chaînes comme d’autres types, comme AsInt (Treat comme un entier), AsDateTime (Treat comme date/heure), AsFloat (Treat comme nombre à virgule flottante), et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="b61c6-317">Similar methods exist to represent strings as other types as well, like AsInt (treat as an integer), AsDateTime (treat as a date/time), AsFloat (treat as a floating-point number), and so on.</span></span> <span data-ttu-id="b61c6-318">Quand vous les utilisez en tant que méthodes () C# , si ne peut pas représenter la valeur de chaîne comme demandé, une erreur s’affiche.</span><span class="sxs-lookup"><span data-stu-id="b61c6-318">When you use these As( ) methods, if C# can't represent the string value as requested, you'll see an error.</span></span>

<span data-ttu-id="b61c6-319">Dans le balisage de la page, supprimez ou Commentez cet élément (ici, il est présenté en commentaire) :</span><span class="sxs-lookup"><span data-stu-id="b61c6-319">In the markup of the page, remove or comment out this element (here it's shown commented out):</span></span>

[!code-html[Main](intro-to-web-pages-programming/samples/sample12.html)]

<span data-ttu-id="b61c6-320">Juste là où vous avez supprimé ou commenté ce texte, ajoutez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b61c6-320">Right where you removed or commented out that text, add the following:</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample13.cshtml)]

<span data-ttu-id="b61c6-321">Le test IF indique que si la variable showMessage a la valeur true, le rendu d’un élément &lt;p&gt; avec la valeur de la variable message.</span><span class="sxs-lookup"><span data-stu-id="b61c6-321">The if test says that if the showMessage variable is true, render a &lt;p&gt; element with the value of the message variable.</span></span>

### <a name="summary-of-your-conditional-logic"></a><span data-ttu-id="b61c6-322">Résumé de votre logique conditionnelle</span><span class="sxs-lookup"><span data-stu-id="b61c6-322">Summary of your conditional logic</span></span>

<span data-ttu-id="b61c6-323">Si vous n’êtes pas entièrement sûr de ce que vous venez de faire, voici un résumé.</span><span class="sxs-lookup"><span data-stu-id="b61c6-323">In case you're not entirely sure of what you've just done, here's a summary.</span></span>

- <span data-ttu-id="b61c6-324">La variable de message est initialisée avec une chaîne par défaut (« c’est la première fois... »).</span><span class="sxs-lookup"><span data-stu-id="b61c6-324">The message variable is initialized to a default string ("This is the first time ...").</span></span>
- <span data-ttu-id="b61c6-325">Si la demande de page est le résultat d’un envoi (publication), la valeur du message est remplacée par « maintenant vous avez envoyé... »</span><span class="sxs-lookup"><span data-stu-id="b61c6-325">If the page request is the result of a submit (post), the value of message is changed to "Now you've submitted ..."</span></span>
- <span data-ttu-id="b61c6-326">La variable showMessage est initialisée avec la valeur false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-326">The showMessage variable is initialized to false.</span></span>
- <span data-ttu-id="b61c6-327">Si la chaîne de requête contient ? Show = true, la variable showMessage a la valeur true.</span><span class="sxs-lookup"><span data-stu-id="b61c6-327">If the query string contains ?show=true, the showMessage variable is set to true.</span></span>
- <span data-ttu-id="b61c6-328">Dans le balisage, si showMessage a la valeur true, un élément &lt;p&gt; est rendu et affiche la valeur du message.</span><span class="sxs-lookup"><span data-stu-id="b61c6-328">In the markup, if showMessage is true, a &lt;p&gt; element is rendered that shows the value of message.</span></span> <span data-ttu-id="b61c6-329">(Si showMessage a la valeur false, rien n’est rendu à ce stade dans le balisage.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-329">(If showMessage is false, nothing is rendered at that point in the markup.)</span></span>
- <span data-ttu-id="b61c6-330">Dans le balisage, si la requête est une publication, un élément &lt;p&gt; est affiché, qui affiche la date et l’heure.</span><span class="sxs-lookup"><span data-stu-id="b61c6-330">In the markup, if the request is a post, a &lt;p&gt; element is rendered that displays the date and time.</span></span>

<span data-ttu-id="b61c6-331">Exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-331">Run the page.</span></span> <span data-ttu-id="b61c6-332">Il n’y a aucun message, car showMessage a la valeur false, donc dans le balisage, le test if (showMessage) retourne la valeur false.</span><span class="sxs-lookup"><span data-stu-id="b61c6-332">There's no message, because showMessage is false, so in the markup the if(showMessage) test returns false.</span></span>

<span data-ttu-id="b61c6-333">Cliquez sur **Envoyer**.</span><span class="sxs-lookup"><span data-stu-id="b61c6-333">Click **Submit**.</span></span> <span data-ttu-id="b61c6-334">Vous voyez la date et l’heure, mais vous n’avez toujours pas de message.</span><span class="sxs-lookup"><span data-stu-id="b61c6-334">You see the date and time, but still no message.</span></span>

<span data-ttu-id="b61c6-335">Dans votre navigateur, accédez à la zone URL et ajoutez le code suivant à la fin de l’URL :? Show = true, puis appuyez sur entrée.</span><span class="sxs-lookup"><span data-stu-id="b61c6-335">In your browser, go to the URL box and add the following to the end of the URL: ?show=true and then press Enter.</span></span>

![Page « test Razor 2 » dans le navigateur avec la chaîne de requête](intro-to-web-pages-programming/_static/image5.png)

<span data-ttu-id="b61c6-337">La page s’affiche à nouveau.</span><span class="sxs-lookup"><span data-stu-id="b61c6-337">The page is displayed again.</span></span> <span data-ttu-id="b61c6-338">(Étant donné que vous avez modifié l’URL, il s’agit d’une nouvelle demande, et non d’une soumission.) Cliquez à nouveau sur **Envoyer** .</span><span class="sxs-lookup"><span data-stu-id="b61c6-338">(Because you changed the URL, this is a new request, not a submit.) Click **Submit** again.</span></span> <span data-ttu-id="b61c6-339">Le message s’affiche à nouveau, comme c’est le cas de la date et de l’heure.</span><span class="sxs-lookup"><span data-stu-id="b61c6-339">The message is displayed again, as is the date and time.</span></span>

![Page « test Razor 2 » après envoi lorsqu’il existe une chaîne de requête](intro-to-web-pages-programming/_static/image6.png)

<span data-ttu-id="b61c6-341">Dans l’URL, remplacez ? Show = true par ? Show = false et appuyez sur entrée.</span><span class="sxs-lookup"><span data-stu-id="b61c6-341">In the URL, change ?show=true to ?show=false and press Enter.</span></span> <span data-ttu-id="b61c6-342">Soumettez à nouveau la page.</span><span class="sxs-lookup"><span data-stu-id="b61c6-342">Submit the page again.</span></span> <span data-ttu-id="b61c6-343">La page revient à la façon dont vous avez démarré, aucun message.</span><span class="sxs-lookup"><span data-stu-id="b61c6-343">The page is back to how you started — no message.</span></span>

<span data-ttu-id="b61c6-344">Comme indiqué précédemment, la logique de cet exemple est un petit fictif.</span><span class="sxs-lookup"><span data-stu-id="b61c6-344">As noted earlier, the logic of this example is a little contrived.</span></span> <span data-ttu-id="b61c6-345">Toutefois, si doit apparaître dans un grand nombre de vos pages, cela prendra un ou plusieurs des formulaires que vous avez vus ici.</span><span class="sxs-lookup"><span data-stu-id="b61c6-345">However, if is going to come up in many of your pages, and it will take one or more of the forms you've seen here.</span></span>

## <a name="installing-a-helper-displaying-a-gravatar-image"></a><span data-ttu-id="b61c6-346">Installation d’un programme d’assistance (affichage d’une image Gravatar)</span><span class="sxs-lookup"><span data-stu-id="b61c6-346">Installing a Helper (Displaying a Gravatar Image)</span></span>

<span data-ttu-id="b61c6-347">Certaines tâches que les utilisateurs souhaitent souvent effectuer sur des pages Web nécessitent beaucoup de code ou nécessitent des connaissances supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="b61c6-347">Some tasks that people often want to do on web pages require a lot of code or require extra knowledge.</span></span> <span data-ttu-id="b61c6-348">Exemples : affichage d’un graphique pour les données ; Ajout d’un bouton « like » Facebook sur une page ; envoi de courrier électronique à partir de votre site Web ; rognage ou redimensionnement d’images ; utilisation de PayPal pour votre site.</span><span class="sxs-lookup"><span data-stu-id="b61c6-348">Examples: displaying a chart for data; putting a Facebook "Like" button on a page; sending email from your website; cropping or resizing images; using PayPal for your site.</span></span> <span data-ttu-id="b61c6-349">Pour faciliter ces types d’opérations, pages Web ASP.NET vous permet d’utiliser des *applications auxiliaires*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-349">To make it easy to do these kinds of things, ASP.NET Web Pages lets you use *helpers*.</span></span> <span data-ttu-id="b61c6-350">Les programmes d’assistance sont des composants que vous installez pour un site et qui vous permettent d’effectuer des tâches courantes à l’aide de quelques lignes de code Razor.</span><span class="sxs-lookup"><span data-stu-id="b61c6-350">Helpers are components that you install for a site and that let you perform typical tasks by using just a few lines of Razor code.</span></span>

<span data-ttu-id="b61c6-351">Pages Web ASP.NET dispose de quelques applications d’assistance intégrées.</span><span class="sxs-lookup"><span data-stu-id="b61c6-351">ASP.NET Web Pages has a few helpers built in.</span></span> <span data-ttu-id="b61c6-352">Toutefois, de nombreuses applications d’assistance sont disponibles dans les packages (compléments) fournis à l’aide du gestionnaire de package NuGet.</span><span class="sxs-lookup"><span data-stu-id="b61c6-352">However, many helpers are available in packages (add-ins) that are provided using the NuGet package manager.</span></span> <span data-ttu-id="b61c6-353">NuGet vous permet de sélectionner un package à installer, puis il prend en charge tous les détails de l’installation.</span><span class="sxs-lookup"><span data-stu-id="b61c6-353">NuGet lets you select a package to install and then it takes care of all the details of the installation.</span></span>

<span data-ttu-id="b61c6-354">Dans cette partie du didacticiel, vous allez installer une application d’assistance qui vous permet d’afficher une image gravatar (« avatar internationalement reconnu »).</span><span class="sxs-lookup"><span data-stu-id="b61c6-354">In this part of the tutorial, you'll install a helper that lets you display a Gravatar ("globally recognized avatar") image.</span></span> <span data-ttu-id="b61c6-355">Vous en apprendrez deux choses.</span><span class="sxs-lookup"><span data-stu-id="b61c6-355">You'll learn two things.</span></span> <span data-ttu-id="b61c6-356">La première consiste à rechercher et à installer une application d’assistance.</span><span class="sxs-lookup"><span data-stu-id="b61c6-356">One is how to find and install a helper.</span></span> <span data-ttu-id="b61c6-357">Vous allez également découvrir comment une application d’assistance vous permet de faire quelque chose que vous auriez dû faire en utilisant beaucoup de code que vous auriez à écrire vous-même.</span><span class="sxs-lookup"><span data-stu-id="b61c6-357">You'll also learn how a helper makes it easy to do something you'd otherwise need to do by using a lot of code you'd have to write yourself.</span></span>

<span data-ttu-id="b61c6-358">Vous pouvez inscrire votre propre Gravatar sur le site Web Gravatar au [http://www.gravatar.com/](http://www.gravatar.com/), mais il n’est pas essentiel de créer un compte gravatar pour effectuer cette partie du didacticiel.</span><span class="sxs-lookup"><span data-stu-id="b61c6-358">You can register your own Gravatar at the Gravatar website at [http://www.gravatar.com/](http://www.gravatar.com/), but it is not essential to create a Gravatar account to perform this part of the tutorial.</span></span>

<span data-ttu-id="b61c6-359">Dans WebMatrix, cliquez sur le bouton **NuGet** .</span><span class="sxs-lookup"><span data-stu-id="b61c6-359">In WebMatrix, click the **NuGet** button.</span></span>

![Boîte de dialogue galerie NuGet dans WebMatrix](intro-to-web-pages-programming/_static/image7.png)

<span data-ttu-id="b61c6-361">Le gestionnaire de package NuGet est lancé et les packages disponibles s’affichent.</span><span class="sxs-lookup"><span data-stu-id="b61c6-361">This launches the NuGet package manager and displays available packages.</span></span> <span data-ttu-id="b61c6-362">(Tous les packages ne sont pas des programmes d’assistance ; certains ajoutent des fonctionnalités à WebMatrix, d’autres modèles, etc.). Vous pouvez recevoir un message d’erreur relatif à l’incompatibilité de version.</span><span class="sxs-lookup"><span data-stu-id="b61c6-362">(Not all of the packages are helpers; some add functionality to WebMatrix itself, some are additional templates, and so on.) You may get an error message about version incompatibility.</span></span> <span data-ttu-id="b61c6-363">Vous pouvez ignorer ce message d’erreur en cliquant sur **OK** et en poursuivant ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="b61c6-363">You can ignore this error message by clicking **OK** and proceeding with this tutorial.</span></span>

![Boîte de dialogue galerie NuGet dans WebMatrix](intro-to-web-pages-programming/_static/image8.png)

<span data-ttu-id="b61c6-365">Dans la zone de recherche, entrez « asp.net helpers ».</span><span class="sxs-lookup"><span data-stu-id="b61c6-365">In the search box, enter "asp.net helpers".</span></span> <span data-ttu-id="b61c6-366">NuGet affiche les packages qui correspondent aux termes de recherche.</span><span class="sxs-lookup"><span data-stu-id="b61c6-366">NuGet shows the packages that match the search terms.</span></span>

![Galerie NuGet dans WebMatrix avec des packages](intro-to-web-pages-programming/_static/image9.png)

<span data-ttu-id="b61c6-368">La bibliothèque d’applications auxiliaires Web ASP.NET contient le code permettant de simplifier de nombreuses tâches courantes, notamment l’utilisation d’images Gravatar.</span><span class="sxs-lookup"><span data-stu-id="b61c6-368">The ASP.NET Web Helpers Library contains code to simplify many common tasks, including the use of Gravatar images.</span></span> <span data-ttu-id="b61c6-369">Sélectionnez le package de la **bibliothèque d’assistances Web ASP.net** , puis cliquez sur **installer** pour lancer le programme d’installation.</span><span class="sxs-lookup"><span data-stu-id="b61c6-369">Select the **ASP.NET Web Helpers Library** package and then click **Install** to launch the installer.</span></span> <span data-ttu-id="b61c6-370">Sélectionnez **Oui** lorsque vous êtes invité à installer le package et acceptez les termes pour terminer l’installation.</span><span class="sxs-lookup"><span data-stu-id="b61c6-370">Select **Yes** when asked if you want to install the package, and accept the terms to complete the installation.</span></span>

<span data-ttu-id="b61c6-371">C'est tout !</span><span class="sxs-lookup"><span data-stu-id="b61c6-371">That's it.</span></span> <span data-ttu-id="b61c6-372">NuGet télécharge et installe tout, y compris tous les composants supplémentaires éventuellement requis (*dépendances*).</span><span class="sxs-lookup"><span data-stu-id="b61c6-372">NuGet downloads and installs everything, including any additional components that might be required (*dependencies*).</span></span>

<span data-ttu-id="b61c6-373">Si, pour une raison quelconque, vous devez désinstaller une application d’assistance, le processus est très similaire.</span><span class="sxs-lookup"><span data-stu-id="b61c6-373">If for some reason you have to uninstall a helper, the process is very similar.</span></span> <span data-ttu-id="b61c6-374">Cliquez sur le bouton **NuGet** , cliquez sur l’onglet **installé** , puis sélectionnez le package que vous souhaitez désinstaller.</span><span class="sxs-lookup"><span data-stu-id="b61c6-374">Click the **NuGet** button, click the **Installed** tab, and pick the package you want to uninstall.</span></span>

## <a name="using-a-helper-in-a-page"></a><span data-ttu-id="b61c6-375">Utilisation d’un programme d’assistance dans une page</span><span class="sxs-lookup"><span data-stu-id="b61c6-375">Using a Helper in a Page</span></span>

<span data-ttu-id="b61c6-376">À présent, vous allez utiliser l’application auxiliaire que vous venez d’installer.</span><span class="sxs-lookup"><span data-stu-id="b61c6-376">Now you'll use the helper that you just installed.</span></span> <span data-ttu-id="b61c6-377">Le processus d’ajout d’un programme d’assistance à une page est similaire pour la plupart des applications auxiliaires.</span><span class="sxs-lookup"><span data-stu-id="b61c6-377">The process for adding a helper to a page is similar for most helpers.</span></span>

<span data-ttu-id="b61c6-378">Dans WebMatrix, créez une page et nommez-la *GravatarTest. cshml*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-378">In WebMatrix, create a page and name it *GravatarTest.cshml*.</span></span> <span data-ttu-id="b61c6-379">(Vous créez une page spéciale pour tester l’application d’assistance, mais vous pouvez utiliser les applications d’assistance dans n’importe quelle page de votre site.)</span><span class="sxs-lookup"><span data-stu-id="b61c6-379">(You're creating a special page to test the helper, but you can use helpers in any page in your site.)</span></span>

<span data-ttu-id="b61c6-380">À l’intérieur de l’élément &lt;Body&gt;, ajoutez un élément &lt;div&gt;.</span><span class="sxs-lookup"><span data-stu-id="b61c6-380">Inside the &lt;body&gt; element, add a &lt;div&gt; element.</span></span> <span data-ttu-id="b61c6-381">À l’intérieur de l’élément de&gt; &lt;div, tapez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b61c6-381">Inside the &lt;div&gt; element, type this:</span></span>

<span data-ttu-id="b61c6-382">@Gravatar.</span><span class="sxs-lookup"><span data-stu-id="b61c6-382">@Gravatar.</span></span>

<span data-ttu-id="b61c6-383">Le caractère @ est le même que celui que vous avez utilisé pour marquer le code Razor.</span><span class="sxs-lookup"><span data-stu-id="b61c6-383">The @ character is the same character you've been using to mark Razor code.</span></span> <span data-ttu-id="b61c6-384">**Gravatar** est l’objet d’assistance que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="b61c6-384">**Gravatar** is the helper object that you're working with.</span></span>

<span data-ttu-id="b61c6-385">Dès que vous tapez le point (.), WebMatrix affiche la liste des *méthodes* (fonctions) que le programme d’assistance Gravatar met à disposition :</span><span class="sxs-lookup"><span data-stu-id="b61c6-385">As soon as you type the period (.), WebMatrix displays a list of *methods* (functions) that the Gravatar helper makes available:</span></span>

![Liste déroulante IntelliSense d’assistance Gravatar](intro-to-web-pages-programming/_static/image10.png)

<span data-ttu-id="b61c6-387">Cette fonctionnalité est appelée *IntelliSense*.</span><span class="sxs-lookup"><span data-stu-id="b61c6-387">This feature is known as *IntelliSense*.</span></span> <span data-ttu-id="b61c6-388">Il vous aide à coder en fournissant des choix appropriés au contexte.</span><span class="sxs-lookup"><span data-stu-id="b61c6-388">It helps you code by providing context-appropriate choices.</span></span> <span data-ttu-id="b61c6-389">IntelliSense fonctionne avec du code HTML, CSS, ASP.NET, JavaScript et d’autres langages pris en charge dans WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="b61c6-389">IntelliSense works with HTML, CSS, ASP.NET code, JavaScript, and other languages that are supported in WebMatrix.</span></span> <span data-ttu-id="b61c6-390">Il s’agit d’une autre fonctionnalité qui facilite le développement de pages Web dans WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="b61c6-390">It's another feature that makes it easier to develop web pages in WebMatrix.</span></span>

<span data-ttu-id="b61c6-391">Appuyez sur G sur le clavier. vous constatez que IntelliSense trouve la méthode GetHtml.</span><span class="sxs-lookup"><span data-stu-id="b61c6-391">Press G on the keyboard, and you see that IntelliSense finds the GetHtml method.</span></span> <span data-ttu-id="b61c6-392">Appuyez sur la touche Tab. IntelliSense insère la méthode sélectionnée (GetHtml) pour vous.</span><span class="sxs-lookup"><span data-stu-id="b61c6-392">Press Tab. IntelliSense inserts the selected method (GetHtml) for you.</span></span> <span data-ttu-id="b61c6-393">Tapez une parenthèse ouvrante et notez que la parenthèse fermante est automatiquement ajoutée.</span><span class="sxs-lookup"><span data-stu-id="b61c6-393">Type an open parenthesis, and notice that the closing parenthesis is automatically added.</span></span> <span data-ttu-id="b61c6-394">Tapez votre adresse de messagerie entre guillemets doubles entre parenthèses.</span><span class="sxs-lookup"><span data-stu-id="b61c6-394">Type your email address in quotation marks between the two parenthesis.</span></span> <span data-ttu-id="b61c6-395">Si vous avez un compte gravatar, votre image de profil est retournée.</span><span class="sxs-lookup"><span data-stu-id="b61c6-395">If you have a Gravatar account, your profile picture will be returned.</span></span> <span data-ttu-id="b61c6-396">Si vous n’avez pas de compte gravatar, une image par défaut est retournée.</span><span class="sxs-lookup"><span data-stu-id="b61c6-396">If you do not have a Gravatar account, a default image is returned.</span></span> <span data-ttu-id="b61c6-397">Lorsque vous avez terminé, la ligne ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="b61c6-397">When you're done, the line looks like this:</span></span>

[!code-css[Main](intro-to-web-pages-programming/samples/sample14.css)]

<span data-ttu-id="b61c6-398">À présent, affichez la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="b61c6-398">Now view the page in a browser.</span></span> <span data-ttu-id="b61c6-399">L’image ou l’image par défaut s’affiche, selon que vous disposez d’un compte gravatar.</span><span class="sxs-lookup"><span data-stu-id="b61c6-399">Either your picture or the default image is displayed, depending on whether you have a Gravatar account.</span></span>

![Gravatar](intro-to-web-pages-programming/_static/image11.png) ![image par défaut](intro-to-web-pages-programming/_static/image12.png)

<span data-ttu-id="b61c6-402">Pour avoir une idée de ce que l’application auxiliaire fait pour vous, affichez la source de la page dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="b61c6-402">To get an idea of what the helper is doing for you, view the source of the page in the browser.</span></span> <span data-ttu-id="b61c6-403">Avec le code HTML que vous aviez dans votre page, vous voyez un élément image qui comprend un identificateur.</span><span class="sxs-lookup"><span data-stu-id="b61c6-403">Along with the HTML that you had in your page, you see an image element that includes an identifier.</span></span> <span data-ttu-id="b61c6-404">Il s’agit du code que le programme d’assistance a rendu dans la page à l’endroit où vous aviez @Gravatar.GetHtml.</span><span class="sxs-lookup"><span data-stu-id="b61c6-404">This is code that the helper rendered into the page at the place where you had @Gravatar.GetHtml.</span></span> <span data-ttu-id="b61c6-405">Le programme d’assistance a pris les informations que vous avez fournies et a généré le code qui communique directement avec Gravatar afin de récupérer l’image correcte pour le compte fourni.</span><span class="sxs-lookup"><span data-stu-id="b61c6-405">The helper took the information you provided and generated the code that talks directly to Gravatar in order to get back the correct image for supplied account.</span></span>

<span data-ttu-id="b61c6-406">La méthode GetHtml vous permet également de personnaliser l’image en fournissant d’autres paramètres.</span><span class="sxs-lookup"><span data-stu-id="b61c6-406">The GetHtml method also enables you to customize the image by providing other parameters.</span></span> <span data-ttu-id="b61c6-407">Le code suivant montre comment demander une image dont la largeur et la hauteur sont de 40 pixels et qui utilise une image par défaut spécifiée nommée **Wavatar** si le compte spécifié n’existe pas.</span><span class="sxs-lookup"><span data-stu-id="b61c6-407">The following code shows how to request an image has a width and height of 40 pixels, and uses a specified default image named **wavatar** if the specified account does not exist.</span></span>

[!code-javascript[Main](intro-to-web-pages-programming/samples/sample15.js)]

<span data-ttu-id="b61c6-408">Ce code produit un résultat semblable au suivant (l’image par défaut varie aléatoirement).</span><span class="sxs-lookup"><span data-stu-id="b61c6-408">This code produces something like the following result (the default image will randomly vary).</span></span>

![](intro-to-web-pages-programming/_static/image13.png)

## <a name="coming-up-next"></a><span data-ttu-id="b61c6-409">À venir suivant</span><span class="sxs-lookup"><span data-stu-id="b61c6-409">Coming Up Next</span></span>

<span data-ttu-id="b61c6-410">Pour que ce didacticiel reste concis, nous devons nous concentrer sur seulement quelques notions de base.</span><span class="sxs-lookup"><span data-stu-id="b61c6-410">To keep this tutorial short, we had to focus on only a few basics.</span></span> <span data-ttu-id="b61c6-411">Naturellement, il y en a *beaucoup* plus pour le C#rasoir et.</span><span class="sxs-lookup"><span data-stu-id="b61c6-411">Naturally, there's a *lot* more to Razor and C#.</span></span> <span data-ttu-id="b61c6-412">Vous en apprendrez davantage au fur et à mesure de ces didacticiels.</span><span class="sxs-lookup"><span data-stu-id="b61c6-412">You'll learn more as you go through these tutorials.</span></span> <span data-ttu-id="b61c6-413">Si vous souhaitez en savoir plus sur les aspects de programmation de Razor et C# pour l’instant, vous pouvez lire une présentation plus complète ici : [Présentation de la programmation Web ASP.net à l’aide de la syntaxe Razor](https://go.microsoft.com/fwlink/?LinkID=202890).</span><span class="sxs-lookup"><span data-stu-id="b61c6-413">If you're interested in learning more about the programming aspects of Razor and C# right now, you can read a more thorough introduction here: [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkID=202890).</span></span>

<span data-ttu-id="b61c6-414">Le didacticiel suivant vous présente l’utilisation d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="b61c6-414">The next tutorial introduces you to working with a database.</span></span> <span data-ttu-id="b61c6-415">Dans ce didacticiel, vous allez commencer à créer l’exemple d’application qui vous permet de répertorier vos films préférés.</span><span class="sxs-lookup"><span data-stu-id="b61c6-415">In that tutorial, you'll begin creating the sample application that lets you list your favorite movies.</span></span>

## <a name="complete-listing-for-testrazor-page"></a><span data-ttu-id="b61c6-416">Liste complète de la page TestRazor</span><span class="sxs-lookup"><span data-stu-id="b61c6-416">Complete Listing for TestRazor Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample16.cshtml)]

## <a name="complete-listing-for-testrazorpart2-page"></a><span data-ttu-id="b61c6-417">Liste complète de la page TestRazorPart2</span><span class="sxs-lookup"><span data-stu-id="b61c6-417">Complete Listing for TestRazorPart2 Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample17.cshtml)]

## <a name="complete-listing-for-gravatartest-page"></a><span data-ttu-id="b61c6-418">Liste complète de la page GravatarTest</span><span class="sxs-lookup"><span data-stu-id="b61c6-418">Complete Listing for GravatarTest Page</span></span>

[!code-cshtml[Main](intro-to-web-pages-programming/samples/sample18.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="b61c6-419">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="b61c6-419">Additional Resources</span></span>

- [<span data-ttu-id="b61c6-420">Présentation de la programmation Web ASP.NET à l’aide de la syntaxe Razor</span><span class="sxs-lookup"><span data-stu-id="b61c6-420">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- [<span data-ttu-id="b61c6-421">Assistance Twitter</span><span class="sxs-lookup"><span data-stu-id="b61c6-421">Twitter helper</span></span>](../../ui-layouts-and-themes/twitter-helper.md)

> [!div class="step-by-step"]
> <span data-ttu-id="b61c6-422">[Précédent](getting-started.md)
> [Suivant](displaying-data.md)</span><span class="sxs-lookup"><span data-stu-id="b61c6-422">[Previous](getting-started.md)
[Next](displaying-data.md)</span></span>
