---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: Présentation de l’affichage des données de pages Web ASP.NET | Microsoft Docs
author: Rick-Anderson
description: Ce didacticiel vous montre comment créer une base de données dans WebMatrix et comment afficher les données d’une base de données dans une page lorsque vous utilisez pages Web ASP.NET (Razor). Il suppose y...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 9e665ca8dd064c23a8b8bd3593014969d0c3da48
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78525220"
---
# <a name="introducing-aspnet-web-pages---displaying-data"></a><span data-ttu-id="19d64-104">Présentation de l’affichage des données de pages Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="19d64-104">Introducing ASP.NET Web Pages - Displaying Data</span></span>

<span data-ttu-id="19d64-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="19d64-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="19d64-106">Ce didacticiel vous montre comment créer une base de données dans WebMatrix et comment afficher les données d’une base de données dans une page lorsque vous utilisez pages Web ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="19d64-106">This tutorial shows you how to create a database in WebMatrix and how to display database data in a page when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="19d64-107">Il part du principe que vous avez terminé la série jusqu’à la [Présentation de la programmation de pages Web ASP.net](../introducing-razor-syntax-c.md).</span><span class="sxs-lookup"><span data-stu-id="19d64-107">It assumes you have completed the series through [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md).</span></span>
> 
> <span data-ttu-id="19d64-108">Ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="19d64-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="19d64-109">Comment utiliser les outils WebMatrix pour créer une base de données et des tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-109">How to use WebMatrix tools to create a database and database tables.</span></span>
> - <span data-ttu-id="19d64-110">Comment utiliser les outils WebMatrix pour ajouter des données à une base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-110">How to use WebMatrix tools to add data to a database.</span></span>
> - <span data-ttu-id="19d64-111">Comment afficher des données de la base de données sur une page.</span><span class="sxs-lookup"><span data-stu-id="19d64-111">How to display data from the database on a page.</span></span>
> - <span data-ttu-id="19d64-112">Comment exécuter des commandes SQL dans pages Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="19d64-112">How to run SQL commands in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="19d64-113">Comment personnaliser l’assistance `WebGrid` pour modifier l’affichage des données et ajouter la pagination et le tri.</span><span class="sxs-lookup"><span data-stu-id="19d64-113">How to customize the `WebGrid` helper to change the data display and to add paging and sorting.</span></span>
>   
> 
> <span data-ttu-id="19d64-114">Fonctionnalités/technologies présentées :</span><span class="sxs-lookup"><span data-stu-id="19d64-114">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="19d64-115">Outils de base de données WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="19d64-115">WebMatrix database tools.</span></span>
> - <span data-ttu-id="19d64-116">`WebGrid` Helper.</span><span class="sxs-lookup"><span data-stu-id="19d64-116">`WebGrid` helper.</span></span>

## <a name="what-youll-build"></a><span data-ttu-id="19d64-117">Contenu</span><span class="sxs-lookup"><span data-stu-id="19d64-117">What You'll Build</span></span>

<span data-ttu-id="19d64-118">Dans le didacticiel précédent, vous avez été mis à pages Web ASP.NET (fichiers *. cshtml* ), aux principes de base de syntaxe Razor et aux applications d’assistance.</span><span class="sxs-lookup"><span data-stu-id="19d64-118">In the previous tutorial, you were introduced to ASP.NET Web Pages (*.cshtml* files), to the basics of Razor syntax, and to helpers.</span></span> <span data-ttu-id="19d64-119">Dans ce didacticiel, vous allez commencer à créer l’application Web que vous utiliserez pour le reste de la série.</span><span class="sxs-lookup"><span data-stu-id="19d64-119">In this tutorial, you'll begin creating the actual web application that you'll use for the rest of the series.</span></span> <span data-ttu-id="19d64-120">L’application est une application de cinéma simple qui vous permet d’afficher, d’ajouter, de modifier et de supprimer des informations sur les films.</span><span class="sxs-lookup"><span data-stu-id="19d64-120">The app is a simple movie application that lets you view, add, change, and delete information about movies.</span></span>

<span data-ttu-id="19d64-121">Lorsque vous avez terminé ce didacticiel, vous pouvez afficher une liste de films ressemblant à cette page :</span><span class="sxs-lookup"><span data-stu-id="19d64-121">When you're done with this tutorial, you'll be able to view a movie listing that looks like this page:</span></span>

![Affichage WebGrid qui comprend les paramètres définis sur les noms de classe CSS](displaying-data/_static/image1.png)

<span data-ttu-id="19d64-123">Mais pour commencer, vous devez créer une base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-123">But to begin, you have to create a database.</span></span>

## <a name="a-very-brief-introduction-to-databases"></a><span data-ttu-id="19d64-124">Une brève introduction aux bases de données</span><span class="sxs-lookup"><span data-stu-id="19d64-124">A Very Brief Introduction to Databases</span></span>

<span data-ttu-id="19d64-125">Ce didacticiel ne fournit que la présentation la plus rapide des bases de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-125">This tutorial will provide only the briefest introduction to databases.</span></span> <span data-ttu-id="19d64-126">Si vous avez une expérience de base de données, vous pouvez ignorer cette petite section.</span><span class="sxs-lookup"><span data-stu-id="19d64-126">If you have database experience, you can skip this short section.</span></span>

<span data-ttu-id="19d64-127">Une base de données contient une ou plusieurs tables qui contiennent des informations &mdash; par exemple, des tables pour les clients, les commandes et les fournisseurs, ou pour les élèves, les enseignants, les classes et les notes.</span><span class="sxs-lookup"><span data-stu-id="19d64-127">A database contains one or more tables that contain information &mdash; for example, tables for customers, orders, and vendors, or for students, teachers, classes, and grades.</span></span> <span data-ttu-id="19d64-128">Structurellement, une table de base de données est similaire à une feuille de calcul.</span><span class="sxs-lookup"><span data-stu-id="19d64-128">Structurally, a database table is like a spreadsheet.</span></span> <span data-ttu-id="19d64-129">Imaginez un carnet d’adresses classique.</span><span class="sxs-lookup"><span data-stu-id="19d64-129">Imagine a typical address book.</span></span> <span data-ttu-id="19d64-130">Pour chaque entrée dans le carnet d’adresses (c’est-à-dire, pour chaque personne), vous avez plusieurs éléments d’information, tels que le prénom, le nom, l’adresse, l’adresse de messagerie et le numéro de téléphone.</span><span class="sxs-lookup"><span data-stu-id="19d64-130">For each entry in the address book (that is, for each person) you have several pieces of information such as first name, last name, address, email address, and phone number.</span></span>

![Exemple de table de base de données sous la forme d’une grille simple](displaying-data/_static/image2.png)

<span data-ttu-id="19d64-132">(Les lignes sont parfois appelées *enregistrements*, et les colonnes sont parfois appelées *champs*.)</span><span class="sxs-lookup"><span data-stu-id="19d64-132">(Rows are sometimes referred to as *records*, and columns are sometimes referred to as *fields*.)</span></span>

<span data-ttu-id="19d64-133">Pour la plupart des tables de base de données, la table doit contenir une colonne qui contient une valeur unique, telle qu’un numéro de client, un numéro de compte, etc.</span><span class="sxs-lookup"><span data-stu-id="19d64-133">For most database tables, the table has to have a column that contains a unique value, like a customer number, account number, and so on.</span></span> <span data-ttu-id="19d64-134">Cette valeur est appelée *clé primaire*de la table et vous l’utilisez pour identifier chaque ligne de la table.</span><span class="sxs-lookup"><span data-stu-id="19d64-134">This value is known as the table's *primary key*, and you use it to identify each row in the table.</span></span> <span data-ttu-id="19d64-135">Dans l’exemple, la colonne ID est la clé primaire du carnet d’adresses indiqué dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="19d64-135">In the example, the ID column is the primary key for the address book shown in the previous example.</span></span>

<span data-ttu-id="19d64-136">La majeure partie du travail que vous effectuez dans les applications Web consiste à lire des informations dans la base de données et à les afficher sur une page.</span><span class="sxs-lookup"><span data-stu-id="19d64-136">Much of the work you do in web applications consists of reading information out of the database and displaying it on a page.</span></span> <span data-ttu-id="19d64-137">Vous pouvez également collecter des informations auprès des utilisateurs et les ajouter à une base de données, ou modifier les enregistrements qui se trouvent déjà dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-137">You'll also often gather information from users and add it to a database, or you'll modify records that are already in the database.</span></span> <span data-ttu-id="19d64-138">(Nous aborderons toutes ces opérations dans le cadre de ce didacticiel.)</span><span class="sxs-lookup"><span data-stu-id="19d64-138">(We'll cover all of these operations in the course of this tutorial set.)</span></span>

<span data-ttu-id="19d64-139">Le travail de base de données peut être extrêmement complexe et peut nécessiter des connaissances spécialisées.</span><span class="sxs-lookup"><span data-stu-id="19d64-139">Database work can be enormously complex and can require specialized knowledge.</span></span> <span data-ttu-id="19d64-140">Pour cet ensemble de didacticiels, toutefois, vous devez comprendre les concepts de base, qui seront tous expliqués au fur et à mesure.</span><span class="sxs-lookup"><span data-stu-id="19d64-140">For this tutorial set, though, you have to understand only basic concepts, which will all be explained as you go.</span></span>

## <a name="creating-a-database"></a><span data-ttu-id="19d64-141">Création d’une base de données</span><span class="sxs-lookup"><span data-stu-id="19d64-141">Creating a Database</span></span>

<span data-ttu-id="19d64-142">WebMatrix comprend des outils qui facilitent la création d’une base de données et la création de tables dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-142">WebMatrix includes tools that make it easy to create a database and to create tables in the database.</span></span> <span data-ttu-id="19d64-143">(La structure d’une base de données est appelée *schéma*de la base de données.) Pour cet ensemble de didacticiels, vous allez créer une base de données qui ne contient qu’une seule table &mdash; films.</span><span class="sxs-lookup"><span data-stu-id="19d64-143">(The structure of a database is referred to as the database's *schema*.) For this tutorial set, you'll create a database that has only one table in it &mdash; Movies.</span></span>

<span data-ttu-id="19d64-144">Ouvrez WebMatrix si vous ne l’avez pas déjà fait, puis ouvrez le site WebPagesMovies que vous avez créé dans le didacticiel précédent.</span><span class="sxs-lookup"><span data-stu-id="19d64-144">Open WebMatrix if you haven't already done so, and open the WebPagesMovies site that you created in the previous tutorial.</span></span>

<span data-ttu-id="19d64-145">Dans le volet gauche, cliquez sur l’espace **de travail base de données** .</span><span class="sxs-lookup"><span data-stu-id="19d64-145">In the left pane, click the **Database** workspace.</span></span>

![Onglet espace de travail de base de données WebMatrix](displaying-data/_static/image3.png)

<span data-ttu-id="19d64-147">Le ruban change pour afficher les tâches liées à la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-147">The ribbon changes to show database-related tasks.</span></span> <span data-ttu-id="19d64-148">Dans le ruban, cliquez sur **nouvelle base de données**.</span><span class="sxs-lookup"><span data-stu-id="19d64-148">In the ribbon, click **New Database**.</span></span>

![Bouton’nouvelle base de données’dans le ruban de WebMatrix](displaying-data/_static/image4.png)

<span data-ttu-id="19d64-150">WebMatrix crée une base de données SQL Server CE (un fichier *. sdf* ) qui porte le même nom que votre site &mdash; *WebPagesMovies. sdf*.</span><span class="sxs-lookup"><span data-stu-id="19d64-150">WebMatrix creates a SQL Server CE database (an *.sdf* file) that has the same name as your site &mdash; *WebPagesMovies.sdf*.</span></span> <span data-ttu-id="19d64-151">(Vous ne le faites pas ici, mais vous pouvez renommer le fichier comme vous le souhaitez, à condition qu’il ait une extension *. sdf* .)</span><span class="sxs-lookup"><span data-stu-id="19d64-151">(You won't do this here, but you can rename the file to anything you like, as long as it has an *.sdf* extension.)</span></span>

## <a name="creating-a-table"></a><span data-ttu-id="19d64-152">Création d’une table</span><span class="sxs-lookup"><span data-stu-id="19d64-152">Creating a Table</span></span>

<span data-ttu-id="19d64-153">Dans le ruban, cliquez sur **nouvelle table**.</span><span class="sxs-lookup"><span data-stu-id="19d64-153">In the ribbon, click **New Table**.</span></span> <span data-ttu-id="19d64-154">WebMatrix ouvre le concepteur de tables sous un nouvel onglet. (si l’option nouvelle table n’est pas disponible, assurez-vous que la nouvelle base de données est sélectionnée dans l’arborescence à gauche).</span><span class="sxs-lookup"><span data-stu-id="19d64-154">WebMatrix opens the table designer in a new tab. (If the New Table option isn't available, make sure that the new database is selected in the tree view on the left.)</span></span>

![Bouton « nouvelle table » dans le ruban de WebMatrix](displaying-data/_static/image5.png)

<span data-ttu-id="19d64-156">Dans la zone de texte située en haut (où le filigrane indique « entrez le nom de la table »), entrez « films ».</span><span class="sxs-lookup"><span data-stu-id="19d64-156">In the text box at the top (where the watermark says "Enter table name"), enter "Movies".</span></span>

![Saisie d’un nom de table dans le concepteur de base de données WebMatrix](displaying-data/_static/image6.png)

<span data-ttu-id="19d64-158">Le volet situé sous le nom de la table vous permet de définir des colonnes individuelles.</span><span class="sxs-lookup"><span data-stu-id="19d64-158">The pane underneath the table name is where you define individual columns.</span></span> <span data-ttu-id="19d64-159">Pour le tableau *films* de ce didacticiel, vous allez créer uniquement quelques colonnes : *ID*, *titre*, *genre*et *année*.</span><span class="sxs-lookup"><span data-stu-id="19d64-159">For the *Movies* table in this tutorial, you'll create only a few columns: *ID*, *Title*, *Genre*, and *Year*.</span></span>

<span data-ttu-id="19d64-160">Dans la zone **nom** , entrez « ID ».</span><span class="sxs-lookup"><span data-stu-id="19d64-160">In the **Name** box, enter "ID".</span></span> <span data-ttu-id="19d64-161">L’entrée d’une valeur ici active tous les contrôles de la nouvelle colonne.</span><span class="sxs-lookup"><span data-stu-id="19d64-161">Entering a value here activates all the controls for the new column.</span></span>

<span data-ttu-id="19d64-162">Appuyez sur la touche Tab pour afficher la liste des **types de données** et choisissez **int**. Cette valeur spécifie que la colonne ID contiendra des données de type entier (Number).</span><span class="sxs-lookup"><span data-stu-id="19d64-162">Tab to the **Data Type** list and choose **int**. This value specifies that the ID column will contain integer (number) data.</span></span>

> [!NOTE]
> <span data-ttu-id="19d64-163">Nous ne l’appellerons pas ici (en grande partie), mais vous pouvez utiliser des gestes de clavier Windows standard pour naviguer dans cette grille.</span><span class="sxs-lookup"><span data-stu-id="19d64-163">We won't call it out any more here (much), but you can use standard Windows keyboard gestures to navigate in this grid.</span></span> <span data-ttu-id="19d64-164">Par exemple, vous pouvez utiliser la touche Tab entre les champs, mais vous pouvez simplement taper pour sélectionner un élément dans une liste, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="19d64-164">For example, you can tab between fields, you can just start typing in order to select an item in a list, and so on.</span></span>

<span data-ttu-id="19d64-165">Tab au-delà de la zone de **valeur par défaut** (autrement dit, laissez-la vide).</span><span class="sxs-lookup"><span data-stu-id="19d64-165">Tab past the **Default Value** box (that is, leave it blank).</span></span> <span data-ttu-id="19d64-166">À la case à cocher **est une clé primaire** et sélectionnez-la.</span><span class="sxs-lookup"><span data-stu-id="19d64-166">Tab to the **Is Primary Key** check box and select it.</span></span> <span data-ttu-id="19d64-167">Cette option indique à la base de données que la colonne d' *ID* contient les données qui identifient des lignes individuelles.</span><span class="sxs-lookup"><span data-stu-id="19d64-167">This option tells the database that the *ID* column will contain the data that identifies individual rows.</span></span> <span data-ttu-id="19d64-168">(Autrement dit, chaque ligne aura une valeur unique dans la colonne ID que vous pouvez utiliser pour rechercher cette ligne.)</span><span class="sxs-lookup"><span data-stu-id="19d64-168">(That is, each row will have a unique value in the ID column that you can use to find that row.)</span></span>

<span data-ttu-id="19d64-169">Choisissez l’option **est l’identité** .</span><span class="sxs-lookup"><span data-stu-id="19d64-169">Choose the **Is Identity** option.</span></span> <span data-ttu-id="19d64-170">Cette option indique à la base de données qu’elle doit générer automatiquement le numéro séquentiel suivant pour chaque nouvelle ligne.</span><span class="sxs-lookup"><span data-stu-id="19d64-170">This option tells the database that it should automatically generate the next sequential number for each new row.</span></span> <span data-ttu-id="19d64-171">(L’option **is Identity** fonctionne uniquement si vous avez également sélectionné l’option **est une clé primaire** .)</span><span class="sxs-lookup"><span data-stu-id="19d64-171">(The **Is Identity** option works only if you've also selected the **Is Primary Key** option.)</span></span>

<span data-ttu-id="19d64-172">Cliquez dans la ligne suivante de la grille ou appuyez deux fois sur Tab pour terminer la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="19d64-172">Click in the next grid row, or press Tab twice to finish the current row.</span></span> <span data-ttu-id="19d64-173">L’un ou l’autre geste enregistre la ligne actuelle et démarre la suivante.</span><span class="sxs-lookup"><span data-stu-id="19d64-173">Either gesture saves the current row and starts the next one.</span></span> <span data-ttu-id="19d64-174">Notez que la colonne **valeur par défaut** indique désormais la valeur **null**.</span><span class="sxs-lookup"><span data-stu-id="19d64-174">Notice that the **Default Value** column now says **Null**.</span></span> <span data-ttu-id="19d64-175">(Null est la valeur par défaut de la valeur par défaut, donc pour parler.)</span><span class="sxs-lookup"><span data-stu-id="19d64-175">(Null is the default value for the default value, so to speak.)</span></span>

<span data-ttu-id="19d64-176">Une fois que vous avez fini de définir la nouvelle colonne **ID** , le concepteur se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="19d64-176">When you've finished defining the new **ID** column, the designer will look like this illustration:</span></span>

![Concepteur de base de données WebMatrix après avoir défini la colonne ID pour le tableau films](displaying-data/_static/image7.png)

<span data-ttu-id="19d64-178">Pour créer la colonne suivante, cliquez dans la zone de la colonne **nom** .</span><span class="sxs-lookup"><span data-stu-id="19d64-178">To create the next column, click in the box in the **Name** column.</span></span> <span data-ttu-id="19d64-179">Entrez « title » pour la colonne, puis sélectionnez **nvarchar** comme valeur de **type de données** .</span><span class="sxs-lookup"><span data-stu-id="19d64-179">Enter "Title" for the column and then select **nvarchar** for the **Data Type** value.</span></span> <span data-ttu-id="19d64-180">La partie « var » de **nvarchar** indique à la base de données que les données de cette colonne seront une chaîne dont la taille peut varier d’un enregistrement à l’autre.</span><span class="sxs-lookup"><span data-stu-id="19d64-180">The "var" part of **nvarchar** tells the database that the data for this column will be a string whose size might vary from record to record.</span></span> <span data-ttu-id="19d64-181">(Le préfixe « n » représente « national », ce qui indique que le champ peut contenir des données de type caractère pour n’importe quel alphabet ou système d’écriture (autrement dit, le champ contient des données Unicode).</span><span class="sxs-lookup"><span data-stu-id="19d64-181">(The "n" prefix represents "national," which indicates that the field can hold character data for any alphabet or writing system — that is, the field holds Unicode data.)</span></span>

<span data-ttu-id="19d64-182">Lorsque vous choisissez **nvarchar**, une autre zone s’affiche, dans laquelle vous pouvez entrer la longueur maximale du champ.</span><span class="sxs-lookup"><span data-stu-id="19d64-182">When you choose **nvarchar**, another box appears where you can enter the maximum length for the field.</span></span> <span data-ttu-id="19d64-183">Entrez 50, en partant du principe qu’aucun titre de film avec lequel vous allez travailler dans ce didacticiel ne dépasse 50 caractères.</span><span class="sxs-lookup"><span data-stu-id="19d64-183">Enter 50, on the assumption that no movie title that you'll work with in this tutorial will be longer than 50 characters.</span></span>

<span data-ttu-id="19d64-184">Ignorez la **valeur par défaut** et désactivez l’option **autoriser les valeurs NULL** .</span><span class="sxs-lookup"><span data-stu-id="19d64-184">Skip **Default Value** and clear the **Allow Nulls** option.</span></span> <span data-ttu-id="19d64-185">Vous ne souhaitez pas que la base de données autorise la saisie de films dans la base de données qui n’ont pas de titre.</span><span class="sxs-lookup"><span data-stu-id="19d64-185">You don't want the database to allow any movies to be entered into the database that don't have a title.</span></span>

<span data-ttu-id="19d64-186">Lorsque vous avez terminé et que vous passez à la ligne suivante, le concepteur ressemble à l’illustration suivante :</span><span class="sxs-lookup"><span data-stu-id="19d64-186">When you're done and move to the next row, the designer looks like this illustration:</span></span>

![Concepteur de base de données WebMatrix après avoir défini la colonne title pour le tableau films](displaying-data/_static/image8.png)

<span data-ttu-id="19d64-188">Répétez ces étapes pour créer une colonne nommée « genre », à l’exception de la longueur, définissez-la sur 30 uniquement.</span><span class="sxs-lookup"><span data-stu-id="19d64-188">Repeat these steps to create a column named "Genre", except for the length, set it to just 30.</span></span>

<span data-ttu-id="19d64-189">Créez une autre colonne nommée « Year ».</span><span class="sxs-lookup"><span data-stu-id="19d64-189">Create another column named "Year."</span></span> <span data-ttu-id="19d64-190">Pour le type de données, choisissez **nchar** (non **nvarchar**) et définissez la longueur sur 4.</span><span class="sxs-lookup"><span data-stu-id="19d64-190">For the data type, choose **nchar** (not **nvarchar**) and set the length to 4.</span></span> <span data-ttu-id="19d64-191">Pour l’année, vous allez utiliser un nombre à 4 chiffres comme « 1995 » ou « 2010 », de sorte que vous n’avez pas besoin d’une colonne de taille variable.</span><span class="sxs-lookup"><span data-stu-id="19d64-191">For the year, you're going to use a 4-digit number like "1995" or "2010", so you don't require a variable-sized column.</span></span>

<span data-ttu-id="19d64-192">Voici à quoi ressemble la conception terminée :</span><span class="sxs-lookup"><span data-stu-id="19d64-192">Here's what the finished design looks like:</span></span>

![Concepteur de bases de données WebMatrix une fois tous les champs définis pour le tableau films](displaying-data/_static/image9.png)

<span data-ttu-id="19d64-194">Appuyez sur CTRL + S ou cliquez sur le bouton **Enregistrer** dans la barre d’outils accès rapide.</span><span class="sxs-lookup"><span data-stu-id="19d64-194">Press Ctrl+S or click the **Save** button in the Quick Access toolbar.</span></span> <span data-ttu-id="19d64-195">Fermez le concepteur de base de données en fermant l’onglet.</span><span class="sxs-lookup"><span data-stu-id="19d64-195">Close the database designer by closing the tab.</span></span>

## <a name="adding-some-example-data"></a><span data-ttu-id="19d64-196">Ajout de quelques exemples de données</span><span class="sxs-lookup"><span data-stu-id="19d64-196">Adding Some Example Data</span></span>

<span data-ttu-id="19d64-197">Plus loin dans cette série de didacticiels, vous allez créer une page dans laquelle vous pouvez entrer de nouveaux films dans un formulaire.</span><span class="sxs-lookup"><span data-stu-id="19d64-197">Later in this tutorial series you'll create a page where you can enter new movies in a form.</span></span> <span data-ttu-id="19d64-198">Pour l’instant, toutefois, vous pouvez ajouter des exemples de données que vous pouvez ensuite afficher sur une page.</span><span class="sxs-lookup"><span data-stu-id="19d64-198">For now, however, you can add some example data that you can then display on a page.</span></span>

<span data-ttu-id="19d64-199">Dans l’espace **de travail base de données** de WebMatrix, Notez qu’il existe une arborescence qui vous montre le fichier *. sdf* que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="19d64-199">In the **Database** workspace in WebMatrix, notice that there's a tree that shows you the *.sdf* file you created earlier.</span></span> <span data-ttu-id="19d64-200">Ouvrez le nœud de votre nouveau fichier *. sdf* , puis ouvrez le nœud **tables** .</span><span class="sxs-lookup"><span data-stu-id="19d64-200">Open the node for your new *.sdf* file, and then open the **Tables** node.</span></span>

![Espace de travail de base de données WebMatrix avec arborescence ouvrir au tableau films](displaying-data/_static/image10.png)

<span data-ttu-id="19d64-202">Cliquez avec le bouton droit sur le nœud **films** , puis choisissez **données**.</span><span class="sxs-lookup"><span data-stu-id="19d64-202">Right-click the **Movies** node and then choose **Data**.</span></span> <span data-ttu-id="19d64-203">WebMatrix ouvre une grille dans laquelle vous pouvez entrer des données pour le tableau *films* :</span><span class="sxs-lookup"><span data-stu-id="19d64-203">WebMatrix opens a grid where you can enter data for the *Movies* table:</span></span>

![Grille d’entrée de base de données dans WebMatrix (vide)](displaying-data/_static/image11.png)

<span data-ttu-id="19d64-205">Cliquez sur la colonne **title** et entrez « when Harry satisfaction Catherine ».</span><span class="sxs-lookup"><span data-stu-id="19d64-205">Click the **Title** column and enter "When Harry Met Sally".</span></span> <span data-ttu-id="19d64-206">Accédez à la colonne **genre** (vous pouvez utiliser la touche TAB) et entrez « romantique comédie ».</span><span class="sxs-lookup"><span data-stu-id="19d64-206">Move to the **Genre** column (you can use the Tab key) and enter "Romantic Comedy".</span></span> <span data-ttu-id="19d64-207">Accédez à la colonne **year** et entrez « 1989 » :</span><span class="sxs-lookup"><span data-stu-id="19d64-207">Move to the **Year** column and enter "1989":</span></span>

![Grille d’entrée de base de données dans WebMatrix avec un enregistrement](displaying-data/_static/image12.png)

<span data-ttu-id="19d64-209">Appuyez sur entrée et WebMatrix enregistre le nouveau film.</span><span class="sxs-lookup"><span data-stu-id="19d64-209">Press Enter, and WebMatrix saves the new movie.</span></span> <span data-ttu-id="19d64-210">Notez que la colonne **ID** a été renseignée.</span><span class="sxs-lookup"><span data-stu-id="19d64-210">Notice that the **ID** column has been filled in.</span></span>

![Grille d’entrée de base de données dans WebMatrix avec un enregistrement et un ID généré automatiquement](displaying-data/_static/image13.png)

<span data-ttu-id="19d64-212">Entrez un autre film (par exemple, « passé avec le vent », « fiction », « 1939 »).</span><span class="sxs-lookup"><span data-stu-id="19d64-212">Enter another movie (for example, "Gone with the Wind", "Drama", "1939").</span></span> <span data-ttu-id="19d64-213">La colonne ID est de nouveau remplie :</span><span class="sxs-lookup"><span data-stu-id="19d64-213">The ID column is filled in again:</span></span>

![Grille d’entrée de base de données dans WebMatrix avec deux enregistrements et des ID générés automatiquement](displaying-data/_static/image14.png)

<span data-ttu-id="19d64-215">Entrez un troisième film (par exemple, « Ghostbusters », « comédie »).</span><span class="sxs-lookup"><span data-stu-id="19d64-215">Enter a third movie (for example, "Ghostbusters", "Comedy").</span></span> <span data-ttu-id="19d64-216">En guise d’expérience, laissez la colonne **year** vide, puis appuyez sur entrée.</span><span class="sxs-lookup"><span data-stu-id="19d64-216">As an experiment, leave the **Year** column blank and then press Enter.</span></span> <span data-ttu-id="19d64-217">Étant donné que vous avez désélectionné l’option **autoriser les valeurs NULL** , la base de données affiche une erreur :</span><span class="sxs-lookup"><span data-stu-id="19d64-217">Because you unselected the **Allow Nulls** option, the database shows an error:</span></span>

![L’erreur « données non valides » s’affiche si une valeur de colonne requise est laissée vide](displaying-data/_static/image15.png)

<span data-ttu-id="19d64-219">Cliquez sur **OK** pour revenir en arrière et corriger l’entrée (l’année pour « Ghostbusters » est 1984), puis appuyez sur entrée.</span><span class="sxs-lookup"><span data-stu-id="19d64-219">Click **OK** to go back and fix the entry (the year for "Ghostbusters" is 1984), and then press Enter.</span></span>

<span data-ttu-id="19d64-220">Renseignez plusieurs films jusqu’à 8.</span><span class="sxs-lookup"><span data-stu-id="19d64-220">Fill in several movies until you have 8 or so.</span></span> <span data-ttu-id="19d64-221">(Si vous entrez 8, il est plus facile d’utiliser la pagination ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="19d64-221">(Entering 8 makes it easier to work with paging later.</span></span> <span data-ttu-id="19d64-222">Mais si cela est trop important, entrez-en quelques-uns pour l’instant.) Les données réelles n’ont pas d’importance.</span><span class="sxs-lookup"><span data-stu-id="19d64-222">But if that's too many, enter just a few for now.) The actual data doesn't matter.</span></span>

![Grille d’entrée de base de données dans WebMatrix avec les deux enregistrements](displaying-data/_static/image16.png)

<span data-ttu-id="19d64-224">Si vous avez entré tous les films sans erreur, les valeurs d’ID sont séquentielles.</span><span class="sxs-lookup"><span data-stu-id="19d64-224">If you entered all the movies without any errors, the ID values are sequential.</span></span> <span data-ttu-id="19d64-225">Si vous avez essayé d’enregistrer un enregistrement de film incomplet, les numéros d’identification risquent de ne pas être séquentiels.</span><span class="sxs-lookup"><span data-stu-id="19d64-225">If you tried to save an incomplete movie record, the ID numbers might not be sequential.</span></span> <span data-ttu-id="19d64-226">Si c’est le cas, c’est parfait.</span><span class="sxs-lookup"><span data-stu-id="19d64-226">If so, that's okay.</span></span> <span data-ttu-id="19d64-227">Les nombres n’ont aucune signification inhérente, et la seule chose qui est importante est qu’ils sont uniques dans le tableau *films* .</span><span class="sxs-lookup"><span data-stu-id="19d64-227">The numbers don't have any inherent meaning, and the only thing that's important is that they're unique in the *Movies* table.</span></span>

<span data-ttu-id="19d64-228">Fermez l’onglet qui contient le concepteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-228">Close the tab that contains the database designer.</span></span>

<span data-ttu-id="19d64-229">Vous pouvez maintenant activer l’affichage de ces données sur une page Web.</span><span class="sxs-lookup"><span data-stu-id="19d64-229">Now you can turn to displaying this data on a web page.</span></span>

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a><span data-ttu-id="19d64-230">Affichage des données dans une page à l’aide du programme d’assistance WebGrid</span><span class="sxs-lookup"><span data-stu-id="19d64-230">Displaying Data in a Page by Using the WebGrid Helper</span></span>

<span data-ttu-id="19d64-231">Pour afficher des données dans une page, vous allez utiliser le programme d’assistance `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="19d64-231">To display data in a page, you're going to use the `WebGrid` helper.</span></span> <span data-ttu-id="19d64-232">Cette application d’assistance produit un affichage dans une grille ou une table (lignes et colonnes).</span><span class="sxs-lookup"><span data-stu-id="19d64-232">This helper produces a display in a grid or table (rows and columns).</span></span> <span data-ttu-id="19d64-233">Comme vous le verrez, vous pourrez affiner la grille avec une mise en forme et d’autres fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="19d64-233">As you'll see, you'll be able refine the grid with formatting and other features.</span></span>

<span data-ttu-id="19d64-234">Pour exécuter la grille, vous devez écrire quelques lignes de code.</span><span class="sxs-lookup"><span data-stu-id="19d64-234">To run the grid, you'll have to write a few lines of code.</span></span> <span data-ttu-id="19d64-235">Ces quelques lignes serviront de type de modèle pour presque tous les accès aux données que vous effectuez dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="19d64-235">These few lines will serve as a kind of pattern for almost all of the data access that you do in this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="19d64-236">En fait, vous disposez de nombreuses options pour afficher les données sur une page ; la `WebGrid` Helper n’est qu’une seule.</span><span class="sxs-lookup"><span data-stu-id="19d64-236">You actually have many options for displaying data on a page; the `WebGrid` helper is just one.</span></span> <span data-ttu-id="19d64-237">Nous l’avons choisi pour ce didacticiel, car il s’agit de la méthode la plus simple pour afficher les données et parce qu’elles sont raisonnablement flexibles.</span><span class="sxs-lookup"><span data-stu-id="19d64-237">We chose it for this tutorial because it's the easiest way to display data and because it's reasonably flexible.</span></span> <span data-ttu-id="19d64-238">Dans le prochain didacticiel, vous verrez comment utiliser une méthode plus « manuelle » pour travailler avec des données dans la page, ce qui vous donne un contrôle plus direct sur la façon d’afficher les données.</span><span class="sxs-lookup"><span data-stu-id="19d64-238">In the next tutorial set, you'll see how to use a more "manual" way to work with data in the page, which gives you more direct control over how to display the data.</span></span>

<span data-ttu-id="19d64-239">Dans le volet gauche de WebMatrix, cliquez sur l’espace de travail **fichiers** .</span><span class="sxs-lookup"><span data-stu-id="19d64-239">In the left pane in WebMatrix, click the **Files** workspace.</span></span>

<span data-ttu-id="19d64-240">La nouvelle base de données que vous avez créée se trouve dans le dossier de données de l' *application\_* .</span><span class="sxs-lookup"><span data-stu-id="19d64-240">The new database you created is in the *App\_Data* folder.</span></span> <span data-ttu-id="19d64-241">Si le dossier n’existe pas déjà, WebMatrix l’a créé pour votre nouvelle base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-241">If the folder didn't already exist, WebMatrix created it for your new database.</span></span> <span data-ttu-id="19d64-242">(Le dossier peut avoir existé si vous aviez précédemment installé des applications auxiliaires.)</span><span class="sxs-lookup"><span data-stu-id="19d64-242">(The folder might have existed if you'd previously installed helpers.)</span></span>

<span data-ttu-id="19d64-243">Dans l’arborescence, sélectionnez la racine du site Web.</span><span class="sxs-lookup"><span data-stu-id="19d64-243">In the tree view, select the root of the website.</span></span> <span data-ttu-id="19d64-244">Vous devez sélectionner la racine du site Web. dans le cas contraire, le nouveau fichier peut être ajouté au dossier de données de l’application\_.</span><span class="sxs-lookup"><span data-stu-id="19d64-244">You must select the root of the website; otherwise, the new file might be added to the App\_Data folder.</span></span>

<span data-ttu-id="19d64-245">Dans le ruban, cliquez sur **nouveau**.</span><span class="sxs-lookup"><span data-stu-id="19d64-245">In the ribbon, click **New**.</span></span> <span data-ttu-id="19d64-246">Dans la zone **choisir un type de fichier** , choisissez **cshtml**.</span><span class="sxs-lookup"><span data-stu-id="19d64-246">In the **Choose a File Type** box, choose **CSHTML**.</span></span>

<span data-ttu-id="19d64-247">Dans la zone **nom** , nommez la nouvelle page « movies. cshtml » :</span><span class="sxs-lookup"><span data-stu-id="19d64-247">In the **Name** box, name the new page "Movies.cshtml":</span></span>

![Boîte de dialogue Choisir un type de fichier avec la page « films »](displaying-data/_static/image17.png)

<span data-ttu-id="19d64-249">Cliquez sur le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="19d64-249">Click the **OK** button.</span></span> <span data-ttu-id="19d64-250">WebMatrix ouvre un nouveau fichier contenant quelques éléments squelettes.</span><span class="sxs-lookup"><span data-stu-id="19d64-250">WebMatrix opens a new file with some skeleton elements in it.</span></span> <span data-ttu-id="19d64-251">Tout d’abord, vous allez écrire du code pour accéder aux données de la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-251">First you'll write some code to go get the data from the database.</span></span> <span data-ttu-id="19d64-252">Vous ajouterez ensuite le balisage à la page pour afficher les données.</span><span class="sxs-lookup"><span data-stu-id="19d64-252">Then you'll add markup to the page to actually display the data.</span></span>

### <a name="writing-the-data-query-code"></a><span data-ttu-id="19d64-253">Écriture du code de requête de données</span><span class="sxs-lookup"><span data-stu-id="19d64-253">Writing the Data Query Code</span></span>

<span data-ttu-id="19d64-254">En haut de la page, entre les caractères `@{` et `}`, entrez le code suivant.</span><span class="sxs-lookup"><span data-stu-id="19d64-254">At the top of the page, between the `@{` and `}` characters, enter the following code.</span></span> <span data-ttu-id="19d64-255">(Veillez à entrer ce code entre les accolades ouvrantes et fermantes.)</span><span class="sxs-lookup"><span data-stu-id="19d64-255">(Make sure that you enter this code between the opening and closing braces.)</span></span>

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

<span data-ttu-id="19d64-256">La première ligne ouvre la base de données que vous avez créée précédemment, qui est toujours la première étape avant d’effectuer une opération sur la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-256">The first line opens the database that you created earlier, which is always the first step before doing something with the database.</span></span> <span data-ttu-id="19d64-257">Vous indiquez le nom de la méthode `Database.Open` de la base de données à ouvrir.</span><span class="sxs-lookup"><span data-stu-id="19d64-257">You tell the `Database.Open` method name of the database to open.</span></span> <span data-ttu-id="19d64-258">Notez que vous n’incluez pas *. sdf* dans le nom.</span><span class="sxs-lookup"><span data-stu-id="19d64-258">Notice that you don't include *.sdf* in the name.</span></span> <span data-ttu-id="19d64-259">La méthode `Open` suppose qu’elle recherche un fichier *. sdf* (autrement dit, *WebPagesMovies. sdf*) et que le fichier *. sdf* se trouve dans le dossier de *données de l’application\_* .</span><span class="sxs-lookup"><span data-stu-id="19d64-259">The `Open` method assumes that it's looking for an *.sdf* file (that is, *WebPagesMovies.sdf*) and that the *.sdf* file is in the *App\_Data* folder.</span></span> <span data-ttu-id="19d64-260">(Précédemment, nous avons noté que le dossier de données de l' *application\_* est réservé ; ce scénario est l’un des endroits où ASP.NET fait des hypothèses sur ce nom.)</span><span class="sxs-lookup"><span data-stu-id="19d64-260">(Earlier we noted that the *App\_Data* folder is reserved; this scenario is one of the places where ASP.NET makes assumptions about that name.)</span></span>

<span data-ttu-id="19d64-261">Lorsque la base de données est ouverte, une référence à celle-ci est placée dans la variable nommée `db`.</span><span class="sxs-lookup"><span data-stu-id="19d64-261">When the database is opened, a reference to it is put into the variable named `db`.</span></span> <span data-ttu-id="19d64-262">(Qui pourrait être nommé n’importe quoi.) La variable `db` vous permet d’utiliser l’interaction avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-262">(Which could be named anything.) The `db` variable is how you'll end up interacting with the database.</span></span>

<span data-ttu-id="19d64-263">La deuxième ligne extrait en fait les données de la base de données à l’aide de la méthode `Query`.</span><span class="sxs-lookup"><span data-stu-id="19d64-263">The second line actually fetches the database data by using the `Query` method.</span></span> <span data-ttu-id="19d64-264">Notez le fonctionnement de ce code : la variable `db` a une référence à la base de données ouverte et vous appelez la méthode `Query` à l’aide de la variable `db` (`db.Query`).</span><span class="sxs-lookup"><span data-stu-id="19d64-264">Notice how this code works: the `db` variable has a reference to the opened database, and you invoke the `Query` method by using the `db` variable (`db.Query`).</span></span>

<span data-ttu-id="19d64-265">La requête elle-même est une instruction SQL `Select`.</span><span class="sxs-lookup"><span data-stu-id="19d64-265">The query itself is a SQL `Select` statement.</span></span> <span data-ttu-id="19d64-266">(Pour un peu plus d’informations sur SQL, reportez-vous à l’explication ultérieurement.) Dans l’instruction, `Movies` identifie la table à interroger.</span><span class="sxs-lookup"><span data-stu-id="19d64-266">(For a little background about SQL, see the explanation later.) In the statement, `Movies` identifies the table to query.</span></span> <span data-ttu-id="19d64-267">Le caractère `*` spécifie que la requête doit retourner toutes les colonnes de la table.</span><span class="sxs-lookup"><span data-stu-id="19d64-267">The `*` character specifies that the query should return all the columns from the table.</span></span> <span data-ttu-id="19d64-268">(Vous pouvez également répertorier les colonnes individuellement, séparées par des virgules.)</span><span class="sxs-lookup"><span data-stu-id="19d64-268">(You could also list columns individually, separated by commas.)</span></span>

<span data-ttu-id="19d64-269">Les résultats de la requête, le cas échéant, sont renvoyés et rendus disponibles dans la variable `selectedData`.</span><span class="sxs-lookup"><span data-stu-id="19d64-269">The results of the query, if any, are returned and made available in the `selectedData` variable.</span></span> <span data-ttu-id="19d64-270">Là encore, la variable peut être nommée n’importe quoi.</span><span class="sxs-lookup"><span data-stu-id="19d64-270">Again, the variable could be named anything.</span></span>

<span data-ttu-id="19d64-271">Enfin, la troisième ligne indique à ASP.NET que vous souhaitez utiliser une instance du programme d’assistance `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="19d64-271">Finally, the third line tells ASP.NET that you want to use an instance of the `WebGrid` helper.</span></span> <span data-ttu-id="19d64-272">Vous créez (*instanciez*) l’objet d’assistance à l’aide du mot clé `new` et vous lui transmettez les résultats de la requête via la variable `selectedData`.</span><span class="sxs-lookup"><span data-stu-id="19d64-272">You create (*instantiate*) the helper object by using the `new` keyword and pass it the query results via the `selectedData` variable.</span></span> <span data-ttu-id="19d64-273">Le nouvel objet `WebGrid`, ainsi que les résultats de la requête de base de données, sont rendus disponibles dans la variable `grid`.</span><span class="sxs-lookup"><span data-stu-id="19d64-273">The new `WebGrid` object, along with the results of the database query, are made available in the `grid` variable.</span></span> <span data-ttu-id="19d64-274">Vous aurez besoin de ce résultat dans un moment pour afficher les données dans la page.</span><span class="sxs-lookup"><span data-stu-id="19d64-274">You'll need that result in a moment to actually display the data in the page.</span></span>

<span data-ttu-id="19d64-275">À ce niveau, la base de données a été ouverte, vous avez obtenu les données de votre choix et vous avez préparé l’assistance `WebGrid` avec ces données.</span><span class="sxs-lookup"><span data-stu-id="19d64-275">At this stage, the database has been opened, you've gotten the data you want, and you've prepared the `WebGrid` helper with that data.</span></span> <span data-ttu-id="19d64-276">Ensuite, créez le balisage dans la page.</span><span class="sxs-lookup"><span data-stu-id="19d64-276">Next is to create the markup in the page.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="19d64-277">**SQL (Structured Query Language)**</span><span class="sxs-lookup"><span data-stu-id="19d64-277">**Structured Query Language (SQL)**</span></span>
> 
> <span data-ttu-id="19d64-278">SQL est un langage utilisé dans la plupart des bases de données relationnelles pour la gestion des données dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-278">SQL is a language that's used in most relational databases for managing data in a database.</span></span> <span data-ttu-id="19d64-279">Il comprend des commandes qui vous permettent de récupérer des données et de les mettre à jour, et qui vous permettent de créer, modifier et gérer des données dans des tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-279">It includes commands that let you retrieve data and update it, and that let you create, modify, and manage data in database tables.</span></span> <span data-ttu-id="19d64-280">SQL est différent d’un langage de programmation ( C#comme).</span><span class="sxs-lookup"><span data-stu-id="19d64-280">SQL is different than a programming language (like C#).</span></span> <span data-ttu-id="19d64-281">Avec SQL, vous indiquez à la base de données ce que vous souhaitez, et c’est la tâche de la base de données de déterminer comment obtenir les données ou effectuer la tâche.</span><span class="sxs-lookup"><span data-stu-id="19d64-281">With SQL, you tell the database what you want, and it's the database's job to figure out how to get the data or perform the task.</span></span> <span data-ttu-id="19d64-282">Voici quelques exemples de commandes SQL et ce qu’elles font :</span><span class="sxs-lookup"><span data-stu-id="19d64-282">Here are examples of some SQL commands and what they do:</span></span>
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> <span data-ttu-id="19d64-283">La première instruction `Select` obtient toutes les colonnes (spécifiées par `*`) à partir du tableau *films* .</span><span class="sxs-lookup"><span data-stu-id="19d64-283">The first `Select` statement gets all the columns (specified by `*`) from the *Movies* table.</span></span>
> 
> <span data-ttu-id="19d64-284">La deuxième instruction `Select` extrait les colonnes ID, Name et Price des enregistrements de la table *Product* dont la valeur de la colonne Price est supérieure à 10.</span><span class="sxs-lookup"><span data-stu-id="19d64-284">The second `Select` statement fetches the ID, Name, and Price columns from records in the *Product* table whose Price column value is more than 10.</span></span> <span data-ttu-id="19d64-285">La commande retourne les résultats par ordre alphabétique en fonction des valeurs de la colonne Name.</span><span class="sxs-lookup"><span data-stu-id="19d64-285">The command returns the results in alphabetical order based on the values of the Name column.</span></span> <span data-ttu-id="19d64-286">Si aucun enregistrement ne correspond aux critères de prix, la commande retourne un ensemble vide.</span><span class="sxs-lookup"><span data-stu-id="19d64-286">If no records match the price criteria, the command returns an empty set.</span></span>
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> <span data-ttu-id="19d64-287">Cette commande insère un nouvel enregistrement dans la table *Product* , en affectant à la colonne Name la valeur « croissant », à la colonne Description la valeur « a-de la satisfaction » et le prix à 1,99.</span><span class="sxs-lookup"><span data-stu-id="19d64-287">This command inserts a new record into the *Product* table, setting the Name column to "Croissant", the Description column to "A flaky delight", and the price to 1.99.</span></span>
> 
> <span data-ttu-id="19d64-288">Notez que lorsque vous spécifiez une valeur non numérique, la valeur est placée entre guillemets simples (pas de guillemets doubles, comme dans C#).</span><span class="sxs-lookup"><span data-stu-id="19d64-288">Notice that when you're specifying a non-numeric value, the value is enclosed in single quotation marks (not double quotation marks, as in C#).</span></span> <span data-ttu-id="19d64-289">Vous utilisez ces guillemets autour des valeurs de texte ou de date, mais pas autour des nombres.</span><span class="sxs-lookup"><span data-stu-id="19d64-289">You use these quotation marks around text or date values, but not around numbers.</span></span>
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> <span data-ttu-id="19d64-290">Cette commande supprime les enregistrements de la table *Product* dont la colonne Date d’expiration est antérieure au 1er janvier 2008.</span><span class="sxs-lookup"><span data-stu-id="19d64-290">This command deletes records in the *Product* table whose expiration date column is earlier than January 1, 2008.</span></span> <span data-ttu-id="19d64-291">(La commande suppose que la table *Product* possède une telle colonne, bien évidemment.) La date est entrée ici au format MM/JJ/AAAA, mais elle doit être entrée au format utilisé pour vos paramètres régionaux.</span><span class="sxs-lookup"><span data-stu-id="19d64-291">(The command assumes that the *Product* table has such a column, of course.) The date is entered here in MM/DD/YYYY format, but it should be entered in the format that's used for your locale.</span></span>
> 
> <span data-ttu-id="19d64-292">Les commandes `Insert` et `Delete` ne retournent pas de jeux de résultats.</span><span class="sxs-lookup"><span data-stu-id="19d64-292">The `Insert` and `Delete` commands don't return result sets.</span></span> <span data-ttu-id="19d64-293">Au lieu de cela, ils retournent un nombre qui indique le nombre d’enregistrements affectés par la commande.</span><span class="sxs-lookup"><span data-stu-id="19d64-293">Instead, they return a number that tells you how many records were affected by the command.</span></span>
> 
> <span data-ttu-id="19d64-294">Pour certaines de ces opérations (telles que l’insertion et la suppression d’enregistrements), le processus qui demande l’opération doit disposer des autorisations appropriées dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-294">For some of these operations (like inserting and deleting records), the process that's requesting the operation has to have appropriate permissions in the database.</span></span> <span data-ttu-id="19d64-295">C’est pourquoi, pour les bases de données de production, vous devez souvent fournir un nom d’utilisateur et un mot de passe lorsque vous vous connectez à la base de données.</span><span class="sxs-lookup"><span data-stu-id="19d64-295">That's why for production databases you often have to supply a user name and password when you connect to the database.</span></span>
> 
> <span data-ttu-id="19d64-296">Il existe des dizaines de commandes SQL, mais elles suivent toutes un modèle comme les commandes que vous voyez ici.</span><span class="sxs-lookup"><span data-stu-id="19d64-296">There are dozens of SQL commands, but they all follow a pattern like the commands you see here.</span></span> <span data-ttu-id="19d64-297">Vous pouvez utiliser des commandes SQL pour créer des tables de base de données, compter le nombre d’enregistrements dans une table, calculer les prix et effectuer de nombreuses opérations supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="19d64-297">You can use SQL commands to create database tables, count the number of records in a table, calculate prices, and perform many more operations.</span></span>

### <a name="adding-markup-to-display-the-data"></a><span data-ttu-id="19d64-298">Ajout de balises pour afficher les données</span><span class="sxs-lookup"><span data-stu-id="19d64-298">Adding Markup to Display the Data</span></span>

<span data-ttu-id="19d64-299">À l’intérieur de l’élément `<head>`, définissez le contenu de l’élément `<title>` sur « movies » :</span><span class="sxs-lookup"><span data-stu-id="19d64-299">Inside the `<head>` element, set contents of the `<title>` element to "Movies":</span></span>

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

<span data-ttu-id="19d64-300">À l’intérieur de l’élément `<body>` de la page, ajoutez ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="19d64-300">Inside the `<body>` element of the page, add the following:</span></span>

[!code-html[Main](displaying-data/samples/sample3.html)]

<span data-ttu-id="19d64-301">C'est tout !</span><span class="sxs-lookup"><span data-stu-id="19d64-301">That's it.</span></span> <span data-ttu-id="19d64-302">La variable `grid` est la valeur que vous avez créée lors de la création de l’objet `WebGrid` dans le code précédent.</span><span class="sxs-lookup"><span data-stu-id="19d64-302">The `grid` variable is the value you created when you created the `WebGrid` object in code earlier.</span></span>

<span data-ttu-id="19d64-303">Dans l’arborescence WebMatrix, cliquez avec le bouton droit sur la page et sélectionnez **lancer dans le navigateur**.</span><span class="sxs-lookup"><span data-stu-id="19d64-303">In the WebMatrix tree view, right-click the page and select **Launch in browser**.</span></span> <span data-ttu-id="19d64-304">Vous verrez une page semblable à celle-ci :</span><span class="sxs-lookup"><span data-stu-id="19d64-304">You'll see something like this page:</span></span>

![Sortie par défaut de la grille d’assistance WebGrid du tableau films](displaying-data/_static/image18.png)

<span data-ttu-id="19d64-306">Cliquez sur un lien d’en-tête de colonne pour trier sur cette colonne.</span><span class="sxs-lookup"><span data-stu-id="19d64-306">Click a column heading link to sort by that column.</span></span> <span data-ttu-id="19d64-307">Le fait de pouvoir effectuer un tri en cliquant sur un en-tête est une fonctionnalité intégrée à l’application auxiliaire de la **grille** .</span><span class="sxs-lookup"><span data-stu-id="19d64-307">Being able to sort by clicking a heading is a feature that's built into the **WebGrid** helper.</span></span>

<span data-ttu-id="19d64-308">La méthode `GetHtml`, comme son nom le suggère, génère un balisage qui affiche les données.</span><span class="sxs-lookup"><span data-stu-id="19d64-308">The `GetHtml` method, as its name suggests, generates markup that displays the data.</span></span> <span data-ttu-id="19d64-309">Par défaut, la méthode `GetHtml` génère un élément HTML `<table>`.</span><span class="sxs-lookup"><span data-stu-id="19d64-309">By default, the `GetHtml` method generates an HTML `<table>` element.</span></span> <span data-ttu-id="19d64-310">(Si vous le souhaitez, vous pouvez vérifier le rendu en regardant la source de la page dans le navigateur.)</span><span class="sxs-lookup"><span data-stu-id="19d64-310">(If you want, you can verify the rendering by looking at the source of the page in the browser.)</span></span>

## <a name="modifying-the-look-of-the-grid"></a><span data-ttu-id="19d64-311">Modification de l’apparence de la grille</span><span class="sxs-lookup"><span data-stu-id="19d64-311">Modifying the Look of the Grid</span></span>

<span data-ttu-id="19d64-312">L’utilisation du programme d’assistance `WebGrid` comme vous l’avez simplement fait est simple, mais l’affichage résultant est simple.</span><span class="sxs-lookup"><span data-stu-id="19d64-312">Using the `WebGrid` helper like you just did is easy, but the resulting display is plain.</span></span> <span data-ttu-id="19d64-313">Le `WebGrid` Helper possède toutes sortes d’options qui vous permettent de contrôler la façon dont les données sont affichées.</span><span class="sxs-lookup"><span data-stu-id="19d64-313">The `WebGrid` helper has all sorts of options that let you control how the data is displayed.</span></span> <span data-ttu-id="19d64-314">Il y a beaucoup trop d’exploration dans ce didacticiel, mais cette section vous donnera une idée de certaines de ces options.</span><span class="sxs-lookup"><span data-stu-id="19d64-314">There are far too many to explore in this tutorial, but this section will give you an idea of some of those options.</span></span> <span data-ttu-id="19d64-315">Quelques options supplémentaires seront abordées dans les didacticiels ultérieurs de cette série.</span><span class="sxs-lookup"><span data-stu-id="19d64-315">A few additional options will be covered in later tutorials in this series.</span></span>

### <a name="specifying-individual-columns-to-display"></a><span data-ttu-id="19d64-316">Spécification de colonnes individuelles à afficher</span><span class="sxs-lookup"><span data-stu-id="19d64-316">Specifying Individual Columns to Display</span></span>

<span data-ttu-id="19d64-317">Pour commencer, vous pouvez spécifier que vous souhaitez afficher uniquement certaines colonnes.</span><span class="sxs-lookup"><span data-stu-id="19d64-317">To start, you can specify that you want to display only certain columns.</span></span> <span data-ttu-id="19d64-318">Par défaut, comme vous l’avez vu, la grille affiche les quatre colonnes de la table *films* .</span><span class="sxs-lookup"><span data-stu-id="19d64-318">By default, as you've seen, the grid shows all four of the columns from the *Movies* table.</span></span>

<span data-ttu-id="19d64-319">Dans le fichier *movies. cshtml* , remplacez le balisage `@grid.GetHtml()` que vous venez d’ajouter par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="19d64-319">In the *Movies.cshtml* file, replace the `@grid.GetHtml()` markup that you just added with the following:</span></span>

[!code-css[Main](displaying-data/samples/sample4.css)]

<span data-ttu-id="19d64-320">Pour indiquer à l’application auxiliaire les colonnes à afficher, vous devez inclure un paramètre `columns` pour la méthode `GetHtml` et transmettre une collection de colonnes.</span><span class="sxs-lookup"><span data-stu-id="19d64-320">To tell the helper which columns to display, you include a `columns` parameter for the `GetHtml` method and pass in a collection of columns.</span></span> <span data-ttu-id="19d64-321">Dans la collection, vous spécifiez chaque colonne à inclure.</span><span class="sxs-lookup"><span data-stu-id="19d64-321">In the collection, you specify each column to include.</span></span> <span data-ttu-id="19d64-322">Vous spécifiez une colonne individuelle à afficher en incluant un objet `grid.Column` et vous transmettez le nom de la colonne de données de votre choix.</span><span class="sxs-lookup"><span data-stu-id="19d64-322">You specify an individual column to display by including a `grid.Column` object, and pass in the name of the data column you want.</span></span> <span data-ttu-id="19d64-323">(Ces colonnes doivent être incluses dans les résultats de la requête SQL ; le programme d’assistance `WebGrid` ne peut pas afficher les colonnes qui n’ont pas été retournées par la requête.)</span><span class="sxs-lookup"><span data-stu-id="19d64-323">(These columns must be included in the SQL query results — the `WebGrid` helper cannot display columns that were not returned by the query.)</span></span>

<span data-ttu-id="19d64-324">Lancez à nouveau la page *movies. cshtml* dans le navigateur, et cette fois, vous recevez un affichage comme celui qui suit (Notez qu’aucune colonne ID n’est affichée) :</span><span class="sxs-lookup"><span data-stu-id="19d64-324">Launch the *Movies.cshtml* page in the browser again, and this time you get a display like the following one (notice that no ID column is displayed):</span></span>

![Affichage WebGrid affichant uniquement les colonnes sélectionnées](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a><span data-ttu-id="19d64-326">Modification de l’apparence de la grille</span><span class="sxs-lookup"><span data-stu-id="19d64-326">Changing the Look of the Grid</span></span>

<span data-ttu-id="19d64-327">Il existe d’autres options pour afficher des colonnes, dont certaines seront explorées dans des didacticiels ultérieurs dans cet ensemble.</span><span class="sxs-lookup"><span data-stu-id="19d64-327">There are quite a few more options for displaying columns, some of which will be explored in later tutorials in this set.</span></span> <span data-ttu-id="19d64-328">Pour l’instant, cette section vous présente les différentes façons dont vous pouvez appliquer un style à l’ensemble de la grille.</span><span class="sxs-lookup"><span data-stu-id="19d64-328">For now, this section will introduce you to ways in which you can style the grid as a whole.</span></span>

<span data-ttu-id="19d64-329">À l’intérieur de la section `<head>` de la page, juste avant la balise de fermeture `</head>`, ajoutez l’élément `<style>` suivant :</span><span class="sxs-lookup"><span data-stu-id="19d64-329">Inside the `<head>` section of the page, just before the closing `</head>` tag, add the following `<style>` element:</span></span>

[!code-css[Main](displaying-data/samples/sample5.css)]

<span data-ttu-id="19d64-330">Ce balisage CSS définit des classes nommées `grid`, `head`et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="19d64-330">This CSS markup defines classes named `grid`, `head`, and so on.</span></span> <span data-ttu-id="19d64-331">Vous pouvez également placer ces définitions de style dans un fichier *. CSS* distinct et les lier à la page.</span><span class="sxs-lookup"><span data-stu-id="19d64-331">You could also put these style definitions in a separate *.css* file and link that to the page.</span></span> <span data-ttu-id="19d64-332">(En fait, vous le ferez ultérieurement dans ce didacticiel.) Mais pour faciliter les choses dans ce didacticiel, celles-ci se trouvent à l’intérieur de la même page qui affiche les données.</span><span class="sxs-lookup"><span data-stu-id="19d64-332">(In fact, you'll do that later in this tutorial set.) But to make things easy for this tutorial, they're inside the same page that displays the data.</span></span>

<span data-ttu-id="19d64-333">Vous pouvez désormais obtenir le `WebGrid` Helper pour utiliser ces classes de style.</span><span class="sxs-lookup"><span data-stu-id="19d64-333">Now you can get the `WebGrid` helper to use these style classes.</span></span> <span data-ttu-id="19d64-334">L’application auxiliaire a un certain nombre de propriétés (par exemple, `tableStyle`) à cet effet : vous lui affectez un nom de classe de style CSS et ce nom de classe est restitué dans le cadre du balisage rendu par le programme d’assistance.</span><span class="sxs-lookup"><span data-stu-id="19d64-334">The helper has a number of properties (for example, `tableStyle`) for just this purpose — you assign a CSS style class name to them, and that class name is rendered as part of the markup that's rendered by the helper.</span></span>

<span data-ttu-id="19d64-335">Modifiez le balisage `grid.GetHtml` pour qu’il ressemble maintenant à ce code :</span><span class="sxs-lookup"><span data-stu-id="19d64-335">Change the `grid.GetHtml` markup so that it now looks like this code:</span></span>

[!code-css[Main](displaying-data/samples/sample6.css)]

<span data-ttu-id="19d64-336">Nouveautés ici : vous avez ajouté des paramètres `tableStyle`, `headerStyle`et `alternatingRowStyle` à la méthode `GetHtml`.</span><span class="sxs-lookup"><span data-stu-id="19d64-336">What's new here is that you've added `tableStyle`, `headerStyle`, and `alternatingRowStyle` parameters to the `GetHtml` method.</span></span> <span data-ttu-id="19d64-337">Ces paramètres ont été définis sur les noms des styles CSS que vous avez ajoutés il y a un instant.</span><span class="sxs-lookup"><span data-stu-id="19d64-337">These parameters have been set to the names of the CSS styles that you added a moment ago.</span></span>

<span data-ttu-id="19d64-338">Exécutez la page. cette fois, vous voyez une grille qui semble bien moins simple qu’avant :</span><span class="sxs-lookup"><span data-stu-id="19d64-338">Run the page, and this time you see a grid that looks much less plain than before:</span></span>

![Affichage WebGrid qui comprend les paramètres définis sur les noms de classe CSS](displaying-data/_static/image20.png)

<span data-ttu-id="19d64-340">Pour voir ce que la méthode `GetHtml` générée, vous pouvez consulter la source de la page dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="19d64-340">To see what the `GetHtml` method generated, you can look at the source of the page in the browser.</span></span> <span data-ttu-id="19d64-341">Nous n’aborderons pas les détails ici, mais le point important est qu’en spécifiant des paramètres comme `tableStyle`, vous avez provoqué la génération par la grille de balises HTML comme suit :</span><span class="sxs-lookup"><span data-stu-id="19d64-341">We won't go into detail here, but the important point is that by specifying parameters like `tableStyle`, you caused the grid to generate HTML tags like the following:</span></span>

`<table class="grid">`

<span data-ttu-id="19d64-342">Un attribut `class` a été ajouté à la balise `<table>`, qui fait référence à l’une des règles CSS que vous avez ajoutées précédemment.</span><span class="sxs-lookup"><span data-stu-id="19d64-342">The `<table>` tag has had a `class` attribute added to it that references one of the CSS rules that you added earlier.</span></span> <span data-ttu-id="19d64-343">Ce code vous montre le modèle de base &mdash; différents paramètres pour la méthode `GetHtml` vous permettent de référencer des classes CSS que la méthode génère ensuite avec le balisage.</span><span class="sxs-lookup"><span data-stu-id="19d64-343">This code shows you the basic pattern &mdash; different parameters for the `GetHtml` method let you reference CSS classes that the method then generates along with the markup.</span></span> <span data-ttu-id="19d64-344">C’est ce que vous faites avec les classes CSS.</span><span class="sxs-lookup"><span data-stu-id="19d64-344">What you do with the CSS classes is up to you.</span></span>

## <a name="adding-paging"></a><span data-ttu-id="19d64-345">Ajout de pagination</span><span class="sxs-lookup"><span data-stu-id="19d64-345">Adding Paging</span></span>

<span data-ttu-id="19d64-346">Au cours de la dernière tâche de ce didacticiel, vous allez ajouter la pagination à la grille.</span><span class="sxs-lookup"><span data-stu-id="19d64-346">As the last task for this tutorial, you'll add paging to the grid.</span></span> <span data-ttu-id="19d64-347">À ce stade, il n’y a aucun problème pour afficher tous vos films en même temps.</span><span class="sxs-lookup"><span data-stu-id="19d64-347">Right now it's no problem to display all your movies at once.</span></span> <span data-ttu-id="19d64-348">Toutefois, si vous avez ajouté des centaines de films, l’affichage de la page est long.</span><span class="sxs-lookup"><span data-stu-id="19d64-348">But if you added hundreds of movies, the page display would get long.</span></span>

<span data-ttu-id="19d64-349">Dans le code de la page, remplacez la ligne qui crée l’objet `WebGrid` par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="19d64-349">In the page code, change the line that creates the `WebGrid` object to the following code:</span></span>

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

<span data-ttu-id="19d64-350">La seule différence par rapport à est que vous avez ajouté un paramètre `rowsPerPage` défini sur 3.</span><span class="sxs-lookup"><span data-stu-id="19d64-350">The only difference from before is that you've added a `rowsPerPage` parameter that's set to 3.</span></span>

<span data-ttu-id="19d64-351">Exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="19d64-351">Run the page.</span></span> <span data-ttu-id="19d64-352">La grille affiche 3 lignes à la fois, ainsi que des liens de navigation qui vous permettent de parcourir les films de votre base de données :</span><span class="sxs-lookup"><span data-stu-id="19d64-352">The grid displays 3 rows at a time, plus navigation links that let you page through the movies in your database:</span></span>

![Affichage de WebGrid avec pagination](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a><span data-ttu-id="19d64-354">À venir suivant</span><span class="sxs-lookup"><span data-stu-id="19d64-354">Coming Up Next</span></span>

<span data-ttu-id="19d64-355">Dans le didacticiel suivant, vous apprendrez à utiliser Razor et C# code pour obtenir une entrée utilisateur dans un formulaire.</span><span class="sxs-lookup"><span data-stu-id="19d64-355">In the next tutorial, you'll learn how to use Razor and C# code to get user input in a form.</span></span> <span data-ttu-id="19d64-356">Vous allez ajouter une zone de recherche à la page films afin de pouvoir Rechercher des films par titre ou par genre.</span><span class="sxs-lookup"><span data-stu-id="19d64-356">You'll add a search box to the Movies page so that you can find movies by title or genre.</span></span>

## <a name="complete-listing-for-movies-page"></a><span data-ttu-id="19d64-357">Page complète de la liste des films</span><span class="sxs-lookup"><span data-stu-id="19d64-357">Complete Listing for Movies Page</span></span>

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="19d64-358">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="19d64-358">Additional Resources</span></span>

- [<span data-ttu-id="19d64-359">Présentation de la programmation Web ASP.NET à l’aide de la syntaxe Razor</span><span class="sxs-lookup"><span data-stu-id="19d64-359">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> <span data-ttu-id="19d64-360">[Précédent](intro-to-web-pages-programming.md)
> [Suivant](form-basics.md)</span><span class="sxs-lookup"><span data-stu-id="19d64-360">[Previous](intro-to-web-pages-programming.md)
[Next](form-basics.md)</span></span>
