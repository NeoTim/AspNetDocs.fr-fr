---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: Présentation des Pages Web ASP.NET - affichage des données | Microsoft Docs
author: Rick-Anderson
description: Ce didacticiel vous montre comment créer une base de données dans WebMatrix et comment afficher les données de la base de données dans une page lorsque vous utilisez les Pages Web ASP.NET (Razor). Il part du principe que vous y...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 9158a1f53268daec6e6fbdf003dd73e1d62cc667
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57031246"
---
<a name="introducing-aspnet-web-pages---displaying-data"></a><span data-ttu-id="74bbd-104">Présentation des Pages Web ASP.NET - affichage des données</span><span class="sxs-lookup"><span data-stu-id="74bbd-104">Introducing ASP.NET Web Pages - Displaying Data</span></span>
====================
<span data-ttu-id="74bbd-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="74bbd-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="74bbd-106">Ce didacticiel vous montre comment créer une base de données dans WebMatrix et comment afficher les données de la base de données dans une page lorsque vous utilisez les Pages Web ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="74bbd-106">This tutorial shows you how to create a database in WebMatrix and how to display database data in a page when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="74bbd-107">Il part du principe que vous avez terminé la série via [Introduction à la programmation de Pages Web ASP.NET](../introducing-razor-syntax-c.md).</span><span class="sxs-lookup"><span data-stu-id="74bbd-107">It assumes you have completed the series through [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md).</span></span>
> 
> <span data-ttu-id="74bbd-108">Ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="74bbd-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="74bbd-109">Comment utiliser les outils de WebMatrix pour créer une base de données et les tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-109">How to use WebMatrix tools to create a database and database tables.</span></span>
> - <span data-ttu-id="74bbd-110">L’utilisation des outils de WebMatrix pour ajouter des données à une base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-110">How to use WebMatrix tools to add data to a database.</span></span>
> - <span data-ttu-id="74bbd-111">Comment afficher des données à partir de la base de données sur une page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-111">How to display data from the database on a page.</span></span>
> - <span data-ttu-id="74bbd-112">Comment exécuter des commandes SQL dans ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="74bbd-112">How to run SQL commands in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="74bbd-113">Comment personnaliser le `WebGrid` helper pour modifier l’affichage de données et ajouter la pagination et le tri.</span><span class="sxs-lookup"><span data-stu-id="74bbd-113">How to customize the `WebGrid` helper to change the data display and to add paging and sorting.</span></span>
>   
> 
> <span data-ttu-id="74bbd-114">Fonctionnalités technologies abordées :</span><span class="sxs-lookup"><span data-stu-id="74bbd-114">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="74bbd-115">Outils de base de données de WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="74bbd-115">WebMatrix database tools.</span></span>
> - <span data-ttu-id="74bbd-116">`WebGrid` programme d’assistance.</span><span class="sxs-lookup"><span data-stu-id="74bbd-116">`WebGrid` helper.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="74bbd-117">Ce que vous allez générer</span><span class="sxs-lookup"><span data-stu-id="74bbd-117">What You'll Build</span></span>

<span data-ttu-id="74bbd-118">Dans le didacticiel précédent, vous ont été introduites pour ASP.NET Web Pages (*.cshtml* fichiers), les principes fondamentaux de la syntaxe Razor et aux helpers.</span><span class="sxs-lookup"><span data-stu-id="74bbd-118">In the previous tutorial, you were introduced to ASP.NET Web Pages (*.cshtml* files), to the basics of Razor syntax, and to helpers.</span></span> <span data-ttu-id="74bbd-119">Dans ce didacticiel, vous allez commencer à créer l’application web réelle que vous utiliserez pour le reste de la série.</span><span class="sxs-lookup"><span data-stu-id="74bbd-119">In this tutorial, you'll begin creating the actual web application that you'll use for the rest of the series.</span></span> <span data-ttu-id="74bbd-120">L’application est une application cinématographique simple qui vous permet d’afficher, ajouter, modifier et supprimer des informations sur les films.</span><span class="sxs-lookup"><span data-stu-id="74bbd-120">The app is a simple movie application that lets you view, add, change, and delete information about movies.</span></span>

<span data-ttu-id="74bbd-121">Lorsque vous avez terminé avec ce didacticiel, vous serez en mesure d’afficher une liste de films qui ressemble à cette page :</span><span class="sxs-lookup"><span data-stu-id="74bbd-121">When you're done with this tutorial, you'll be able to view a movie listing that looks like this page:</span></span>

![Affichage de WebGrid qui inclut les paramètres définis pour les noms de classe CSS](displaying-data/_static/image1.png)

<span data-ttu-id="74bbd-123">Mais pour commencer, vous devez créer une base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-123">But to begin, you have to create a database.</span></span>

## <a name="a-very-brief-introduction-to-databases"></a><span data-ttu-id="74bbd-124">Très brièvement les bases de données</span><span class="sxs-lookup"><span data-stu-id="74bbd-124">A Very Brief Introduction to Databases</span></span>

<span data-ttu-id="74bbd-125">Ce didacticiel fournit uniquement l’introduction et aux bases de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-125">This tutorial will provide only the briefest introduction to databases.</span></span> <span data-ttu-id="74bbd-126">Si vous avez expérience de la base de données, vous pouvez ignorer cette section courte.</span><span class="sxs-lookup"><span data-stu-id="74bbd-126">If you have database experience, you can skip this short section.</span></span>

<span data-ttu-id="74bbd-127">Une base de données contient une ou plusieurs tables qui contiennent des informations &mdash; tables, par exemple, pour les clients, les commandes et les fournisseurs, ou pour les étudiants, les enseignants, les classes et les notes.</span><span class="sxs-lookup"><span data-stu-id="74bbd-127">A database contains one or more tables that contain information &mdash; for example, tables for customers, orders, and vendors, or for students, teachers, classes, and grades.</span></span> <span data-ttu-id="74bbd-128">Point de vue structurel, une table de base de données ressemble à une feuille de calcul.</span><span class="sxs-lookup"><span data-stu-id="74bbd-128">Structurally, a database table is like a spreadsheet.</span></span> <span data-ttu-id="74bbd-129">Imaginez un carnet d’adresses classiques.</span><span class="sxs-lookup"><span data-stu-id="74bbd-129">Imagine a typical address book.</span></span> <span data-ttu-id="74bbd-130">Pour chaque entrée dans le carnet d’adresses (autrement dit, pour chaque personne) vous avez plusieurs éléments d’informations telles que le prénom, nom, adresse, adresse de messagerie et numéro de téléphone.</span><span class="sxs-lookup"><span data-stu-id="74bbd-130">For each entry in the address book (that is, for each person) you have several pieces of information such as first name, last name, address, email address, and phone number.</span></span>

![Exemple de table de base de données dans une grille simple](displaying-data/_static/image2.png)

<span data-ttu-id="74bbd-132">(Lignes sont parfois appelés *enregistrements*, et les colonnes sont parfois appelées *champs*.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-132">(Rows are sometimes referred to as *records*, and columns are sometimes referred to as *fields*.)</span></span>

<span data-ttu-id="74bbd-133">Pour la plupart des tables de base de données, la table doit avoir une colonne qui contient une valeur unique, comme un numéro de client, numéro de compte et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="74bbd-133">For most database tables, the table has to have a column that contains a unique value, like a customer number, account number, and so on.</span></span> <span data-ttu-id="74bbd-134">Cette valeur est appelée la table *clé primaire*, et utilisez-la pour identifier chaque ligne dans la table.</span><span class="sxs-lookup"><span data-stu-id="74bbd-134">This value is known as the table's *primary key*, and you use it to identify each row in the table.</span></span> <span data-ttu-id="74bbd-135">Dans l’exemple, la colonne ID est la clé primaire pour le carnet d’adresses indiqué dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="74bbd-135">In the example, the ID column is the primary key for the address book shown in the previous example.</span></span>

<span data-ttu-id="74bbd-136">Une grande partie des tâches que vous effectuez dans les applications web se compose de la lecture des informations de la base de données et de les afficher sur une page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-136">Much of the work you do in web applications consists of reading information out of the database and displaying it on a page.</span></span> <span data-ttu-id="74bbd-137">Vous allez également souvent recueillir des informations à partir d’utilisateurs et l’ajouter à une base de données, ou que vous allez modifier les enregistrements qui se trouvent déjà dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-137">You'll also often gather information from users and add it to a database, or you'll modify records that are already in the database.</span></span> <span data-ttu-id="74bbd-138">(Nous aborderons toutes ces opérations au cours de cet ensemble de didacticiels.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-138">(We'll cover all of these operations in the course of this tutorial set.)</span></span>

<span data-ttu-id="74bbd-139">Travail de base de données peut être extrêmement complexe et peut nécessiter des connaissances spécialisées.</span><span class="sxs-lookup"><span data-stu-id="74bbd-139">Database work can be enormously complex and can require specialized knowledge.</span></span> <span data-ttu-id="74bbd-140">Cependant, pour cet ensemble de didacticiels, vous devez comprendre uniquement concepts de base, qui seront tous expliquées comme vous accédez.</span><span class="sxs-lookup"><span data-stu-id="74bbd-140">For this tutorial set, though, you have to understand only basic concepts, which will all be explained as you go.</span></span>

## <a name="creating-a-database"></a><span data-ttu-id="74bbd-141">Création d’une base de données</span><span class="sxs-lookup"><span data-stu-id="74bbd-141">Creating a Database</span></span>

<span data-ttu-id="74bbd-142">WebMatrix inclut des outils qui facilitent la création d’une base de données et créer des tables dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-142">WebMatrix includes tools that make it easy to create a database and to create tables in the database.</span></span> <span data-ttu-id="74bbd-143">(La structure d’une base de données est appelée à la base de données *schéma*.) Pour cet ensemble de didacticiels, vous allez créer une base de données qui compte une seule table &mdash; films.</span><span class="sxs-lookup"><span data-stu-id="74bbd-143">(The structure of a database is referred to as the database's *schema*.) For this tutorial set, you'll create a database that has only one table in it &mdash; Movies.</span></span>

<span data-ttu-id="74bbd-144">Ouvrez WebMatrix si vous n’avez pas déjà fait, puis ouvrez le site WebPagesMovies que vous avez créé dans le didacticiel précédent.</span><span class="sxs-lookup"><span data-stu-id="74bbd-144">Open WebMatrix if you haven't already done so, and open the WebPagesMovies site that you created in the previous tutorial.</span></span>

<span data-ttu-id="74bbd-145">Dans le volet gauche, cliquez sur le **base de données** espace de travail.</span><span class="sxs-lookup"><span data-stu-id="74bbd-145">In the left pane, click the **Database** workspace.</span></span>

![Onglet espace de travail de base de données de WebMatrix](displaying-data/_static/image3.png)

<span data-ttu-id="74bbd-147">Les modifications de ruban pour afficher les tâches liées à la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-147">The ribbon changes to show database-related tasks.</span></span> <span data-ttu-id="74bbd-148">Dans le ruban, cliquez sur **nouvelle base de données**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-148">In the ribbon, click **New Database**.</span></span>

![« Nouvelle base de données » situé dans le ruban de WebMatrix](displaying-data/_static/image4.png)

<span data-ttu-id="74bbd-150">WebMatrix crée une base de données SQL Server CE (un *.sdf* fichier) qui porte le même nom que votre site &mdash; *WebPagesMovies.sdf*.</span><span class="sxs-lookup"><span data-stu-id="74bbd-150">WebMatrix creates a SQL Server CE database (an *.sdf* file) that has the same name as your site &mdash; *WebPagesMovies.sdf*.</span></span> <span data-ttu-id="74bbd-151">(Vous ne le faire ici, mais vous pouvez renommer le fichier à votre convenance, pourvu qu’il ait un *.sdf* extension.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-151">(You won't do this here, but you can rename the file to anything you like, as long as it has an *.sdf* extension.)</span></span>

## <a name="creating-a-table"></a><span data-ttu-id="74bbd-152">Création d’une Table</span><span class="sxs-lookup"><span data-stu-id="74bbd-152">Creating a Table</span></span>

<span data-ttu-id="74bbd-153">Dans le ruban, cliquez sur **nouvelle Table**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-153">In the ribbon, click **New Table**.</span></span> <span data-ttu-id="74bbd-154">WebMatrix s’ouvre le Concepteur de tables dans un nouvel onglet. (Si l’option de nouvelle Table n’est pas disponible, assurez-vous que la nouvelle base de données est sélectionné dans l’arborescence sur la gauche.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-154">WebMatrix opens the table designer in a new tab. (If the New Table option isn't available, make sure that the new database is selected in the tree view on the left.)</span></span>

![« Nouvelle Table » situé dans le ruban de WebMatrix](displaying-data/_static/image5.png)

<span data-ttu-id="74bbd-156">Dans la zone de texte en haut (où le filigrane indique « Entrez le nom de table »), entrez « Movies ».</span><span class="sxs-lookup"><span data-stu-id="74bbd-156">In the text box at the top (where the watermark says "Enter table name"), enter "Movies".</span></span>

![Entrer un nom de table dans le Concepteur de base de données de WebMatrix](displaying-data/_static/image6.png)

<span data-ttu-id="74bbd-158">Le volet situé sous le nom de table est où vous définissez des colonnes individuelles.</span><span class="sxs-lookup"><span data-stu-id="74bbd-158">The pane underneath the table name is where you define individual columns.</span></span> <span data-ttu-id="74bbd-159">Pour le *films* table dans ce didacticiel, vous allez créer uniquement certaines colonnes : *ID*, *titre*, *Genre*, et *année*.</span><span class="sxs-lookup"><span data-stu-id="74bbd-159">For the *Movies* table in this tutorial, you'll create only a few columns: *ID*, *Title*, *Genre*, and *Year*.</span></span>

<span data-ttu-id="74bbd-160">Dans le **nom** , entrez « ID ».</span><span class="sxs-lookup"><span data-stu-id="74bbd-160">In the **Name** box, enter "ID".</span></span> <span data-ttu-id="74bbd-161">Entrer une valeur ici active tous les contrôles pour la nouvelle colonne.</span><span class="sxs-lookup"><span data-stu-id="74bbd-161">Entering a value here activates all the controls for the new column.</span></span>

<span data-ttu-id="74bbd-162">TAB pour accéder à la **Type de données** liste et choisissez **int**. Cette valeur spécifie que la colonne ID contiendra les données de type integer (nombre).</span><span class="sxs-lookup"><span data-stu-id="74bbd-162">Tab to the **Data Type** list and choose **int**. This value specifies that the ID column will contain integer (number) data.</span></span>

> [!NOTE]
> <span data-ttu-id="74bbd-163">Nous ne l’appelons les plus ici (beaucoup), mais vous pouvez utiliser des gestes de clavier Windows standards pour naviguer dans cette grille.</span><span class="sxs-lookup"><span data-stu-id="74bbd-163">We won't call it out any more here (much), but you can use standard Windows keyboard gestures to navigate in this grid.</span></span> <span data-ttu-id="74bbd-164">Par exemple, utilisez la touche tab entre les champs, vous pouvez simplement commencez à taper afin de sélectionner un élément dans une liste et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="74bbd-164">For example, you can tab between fields, you can just start typing in order to select an item in a list, and so on.</span></span>


<span data-ttu-id="74bbd-165">Onglet au-delà de la **la valeur par défaut** boîte (autrement dit, laissez ce champ vide).</span><span class="sxs-lookup"><span data-stu-id="74bbd-165">Tab past the **Default Value** box (that is, leave it blank).</span></span> <span data-ttu-id="74bbd-166">TAB pour accéder à la **est la clé primaire** case à cocher et sélectionnez-le.</span><span class="sxs-lookup"><span data-stu-id="74bbd-166">Tab to the **Is Primary Key** check box and select it.</span></span> <span data-ttu-id="74bbd-167">Cette option indique à la base de données qui le *ID* colonne contiendra les données qui identifie les lignes individuelles.</span><span class="sxs-lookup"><span data-stu-id="74bbd-167">This option tells the database that the *ID* column will contain the data that identifies individual rows.</span></span> <span data-ttu-id="74bbd-168">(Autrement dit, chaque ligne aura une valeur unique dans la colonne d’ID que vous pouvez utiliser pour rechercher cette ligne.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-168">(That is, each row will have a unique value in the ID column that you can use to find that row.)</span></span>

<span data-ttu-id="74bbd-169">Choisissez le **est d’identité** option.</span><span class="sxs-lookup"><span data-stu-id="74bbd-169">Choose the **Is Identity** option.</span></span> <span data-ttu-id="74bbd-170">Cette option indique à la base de données qu’il doit générer automatiquement le numéro séquentiel suivant pour chaque nouvelle ligne.</span><span class="sxs-lookup"><span data-stu-id="74bbd-170">This option tells the database that it should automatically generate the next sequential number for each new row.</span></span> <span data-ttu-id="74bbd-171">(Le **est d’identité** option fonctionne uniquement si vous avez aussi sélectionné le **est la clé primaire** option.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-171">(The **Is Identity** option works only if you've also selected the **Is Primary Key** option.)</span></span>

<span data-ttu-id="74bbd-172">Cliquez sur la ligne de grille suivante, ou appuyez sur Tab à deux reprises pour terminer la ligne actuelle.</span><span class="sxs-lookup"><span data-stu-id="74bbd-172">Click in the next grid row, or press Tab twice to finish the current row.</span></span> <span data-ttu-id="74bbd-173">Un mouvement enregistre la ligne actuelle et commence celle qui suit.</span><span class="sxs-lookup"><span data-stu-id="74bbd-173">Either gesture saves the current row and starts the next one.</span></span> <span data-ttu-id="74bbd-174">Notez que le **la valeur par défaut** colonne indique désormais **Null**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-174">Notice that the **Default Value** column now says **Null**.</span></span> <span data-ttu-id="74bbd-175">(Null est la valeur par défaut pour la valeur par défaut, pour ainsi dire.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-175">(Null is the default value for the default value, so to speak.)</span></span>

<span data-ttu-id="74bbd-176">Lorsque vous avez terminé la définition de la nouvelle **ID** colonne, le concepteur doit ressembler à cette illustration :</span><span class="sxs-lookup"><span data-stu-id="74bbd-176">When you've finished defining the new **ID** column, the designer will look like this illustration:</span></span>

![Concepteur de base de données de WebMatrix après la définition de la colonne ID pour la table de films](displaying-data/_static/image7.png)

<span data-ttu-id="74bbd-178">Pour créer la colonne suivante, cliquez dans la zone dans le **nom** colonne.</span><span class="sxs-lookup"><span data-stu-id="74bbd-178">To create the next column, click in the box in the **Name** column.</span></span> <span data-ttu-id="74bbd-179">Entrez « Title » pour la colonne, puis sélectionnez **nvarchar** pour le **Type de données** valeur.</span><span class="sxs-lookup"><span data-stu-id="74bbd-179">Enter "Title" for the column and then select **nvarchar** for the **Data Type** value.</span></span> <span data-ttu-id="74bbd-180">La partie « var » de **nvarchar** indique à la base de données que les données de cette colonne sera une chaîne dont la taille peut varier d’un enregistrement à l’autre.</span><span class="sxs-lookup"><span data-stu-id="74bbd-180">The "var" part of **nvarchar** tells the database that the data for this column will be a string whose size might vary from record to record.</span></span> <span data-ttu-id="74bbd-181">(Le préfixe « n » représente « national », ce qui indique que le champ peut contenir des données de type caractère pour n’importe quel ordre alphabétique ou le système d’écriture, autrement dit, le champ contient des données Unicode.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-181">(The "n" prefix represents "national," which indicates that the field can hold character data for any alphabet or writing system — that is, the field holds Unicode data.)</span></span>

<span data-ttu-id="74bbd-182">Lorsque vous choisissez **nvarchar**, une autre zone s’affiche dans lequel vous pouvez entrer la longueur maximale pour le champ.</span><span class="sxs-lookup"><span data-stu-id="74bbd-182">When you choose **nvarchar**, another box appears where you can enter the maximum length for the field.</span></span> <span data-ttu-id="74bbd-183">Entrez 50, sur l’hypothèse qu’aucun titre du film que vous allez utiliser dans ce didacticiel n’y a plus de 50 caractères.</span><span class="sxs-lookup"><span data-stu-id="74bbd-183">Enter 50, on the assumption that no movie title that you'll work with in this tutorial will be longer than 50 characters.</span></span>

<span data-ttu-id="74bbd-184">Skip **la valeur par défaut** et désactivez le **autoriser les valeurs null** option.</span><span class="sxs-lookup"><span data-stu-id="74bbd-184">Skip **Default Value** and clear the **Allow Nulls** option.</span></span> <span data-ttu-id="74bbd-185">Vous ne voulez pas autoriser des films à entrer dans la base de données qui n’ont pas un titre de la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-185">You don't want the database to allow any movies to be entered into the database that don't have a title.</span></span>

<span data-ttu-id="74bbd-186">Lorsque vous avez terminé et que vous accédez à la ligne suivante, le concepteur se présente comme dans cette illustration :</span><span class="sxs-lookup"><span data-stu-id="74bbd-186">When you're done and move to the next row, the designer looks like this illustration:</span></span>

![Concepteur de base de données de WebMatrix après la définition de la colonne de titre pour la table de films](displaying-data/_static/image8.png)

<span data-ttu-id="74bbd-188">Répétez ces étapes pour créer une colonne nommée « Genre », à l’exception de la longueur, affectez-lui la valeur 30 simplement.</span><span class="sxs-lookup"><span data-stu-id="74bbd-188">Repeat these steps to create a column named "Genre", except for the length, set it to just 30.</span></span>

<span data-ttu-id="74bbd-189">Créer une autre colonne nommée « Année ».</span><span class="sxs-lookup"><span data-stu-id="74bbd-189">Create another column named "Year."</span></span> <span data-ttu-id="74bbd-190">Pour le type de données, choisissez **nchar** (pas **nvarchar**) et la longueur de la valeur 4.</span><span class="sxs-lookup"><span data-stu-id="74bbd-190">For the data type, choose **nchar** (not **nvarchar**) and set the length to 4.</span></span> <span data-ttu-id="74bbd-191">Pour l’année, vous allez utiliser un nombre à 4 chiffres comme « 1995 » ou « 2010 », donc vous ne nécessitent pas une colonne de taille variable.</span><span class="sxs-lookup"><span data-stu-id="74bbd-191">For the year, you're going to use a 4-digit number like "1995" or "2010", so you don't require a variable-sized column.</span></span>

<span data-ttu-id="74bbd-192">Voici à quoi ressemble la conception :</span><span class="sxs-lookup"><span data-stu-id="74bbd-192">Here's what the finished design looks like:</span></span>

![Concepteur de base de données de WebMatrix une fois que tous les champs sont définis pour la table de films](displaying-data/_static/image9.png)

<span data-ttu-id="74bbd-194">Appuyez sur Ctrl + S ou cliquez sur le **enregistrer** bouton dans la barre d’outils Accès rapide.</span><span class="sxs-lookup"><span data-stu-id="74bbd-194">Press Ctrl+S or click the **Save** button in the Quick Access toolbar.</span></span> <span data-ttu-id="74bbd-195">Fermez le Concepteur de base de données en fermant l’onglet.</span><span class="sxs-lookup"><span data-stu-id="74bbd-195">Close the database designer by closing the tab.</span></span>

## <a name="adding-some-example-data"></a><span data-ttu-id="74bbd-196">Ajout des données d’exemple</span><span class="sxs-lookup"><span data-stu-id="74bbd-196">Adding Some Example Data</span></span>

<span data-ttu-id="74bbd-197">Plus loin dans cette série de didacticiels, vous allez créer une page où vous pouvez entrer des nouveaux films dans un formulaire.</span><span class="sxs-lookup"><span data-stu-id="74bbd-197">Later in this tutorial series you'll create a page where you can enter new movies in a form.</span></span> <span data-ttu-id="74bbd-198">Toutefois, pour l’instant, vous pouvez ajouter des données d’exemple que vous pouvez ensuite afficher sur une page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-198">For now, however, you can add some example data that you can then display on a page.</span></span>

<span data-ttu-id="74bbd-199">Dans le **base de données** espace de travail dans WebMatrix, notez qu’il existe une arborescence qui vous montre les *.sdf* fichier que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="74bbd-199">In the **Database** workspace in WebMatrix, notice that there's a tree that shows you the *.sdf* file you created earlier.</span></span> <span data-ttu-id="74bbd-200">Ouvrez le nœud de votre nouveau *.sdf* de fichiers, puis ouvrez le **Tables** nœud.</span><span class="sxs-lookup"><span data-stu-id="74bbd-200">Open the node for your new *.sdf* file, and then open the **Tables** node.</span></span>

![Espace de travail de base de données de WebMatrix avec arborescence ouverte pour la table de films](displaying-data/_static/image10.png)

<span data-ttu-id="74bbd-202">Cliquez sur le **films** nœud, puis choisissez **données**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-202">Right-click the **Movies** node and then choose **Data**.</span></span> <span data-ttu-id="74bbd-203">WebMatrix ouvre une grille où vous pouvez entrer des données pour le *films* table :</span><span class="sxs-lookup"><span data-stu-id="74bbd-203">WebMatrix opens a grid where you can enter data for the *Movies* table:</span></span>

![Grille d’entrée de base de données dans WebMatrix (vide)](displaying-data/_static/image11.png)

<span data-ttu-id="74bbd-205">Cliquez sur le **titre** colonne et entrer « Lorsque Harry remplies Catherine ».</span><span class="sxs-lookup"><span data-stu-id="74bbd-205">Click the **Title** column and enter "When Harry Met Sally".</span></span> <span data-ttu-id="74bbd-206">Déplacer vers le **Genre** colonne (vous pouvez utiliser la touche Tab) et entrez « Comédie scènes romantiques ».</span><span class="sxs-lookup"><span data-stu-id="74bbd-206">Move to the **Genre** column (you can use the Tab key) and enter "Romantic Comedy".</span></span> <span data-ttu-id="74bbd-207">Déplacer vers le **année** colonne et entrez « 1989 » :</span><span class="sxs-lookup"><span data-stu-id="74bbd-207">Move to the **Year** column and enter "1989":</span></span>

![Grille d’entrée de base de données dans WebMatrix avec un seul enregistrement](displaying-data/_static/image12.png)

<span data-ttu-id="74bbd-209">Appuyez sur entrée et WebMatrix enregistre le nouveau film.</span><span class="sxs-lookup"><span data-stu-id="74bbd-209">Press Enter, and WebMatrix saves the new movie.</span></span> <span data-ttu-id="74bbd-210">Notez que le **ID** colonne a été remplie.</span><span class="sxs-lookup"><span data-stu-id="74bbd-210">Notice that the **ID** column has been filled in.</span></span>

![Grille d’entrée de base de données dans WebMatrix avec un seul enregistrement et l’ID généré automatiquement](displaying-data/_static/image13.png)

<span data-ttu-id="74bbd-212">Entrez un autre film (par exemple, « disparu avec le vent », « Drama », « 1939 »).</span><span class="sxs-lookup"><span data-stu-id="74bbd-212">Enter another movie (for example, "Gone with the Wind", "Drama", "1939").</span></span> <span data-ttu-id="74bbd-213">La colonne ID est de nouveau remplie :</span><span class="sxs-lookup"><span data-stu-id="74bbd-213">The ID column is filled in again:</span></span>

![Grille d’entrée de base de données dans WebMatrix avec deux enregistrements et l’ID généré automatiquement](displaying-data/_static/image14.png)

<span data-ttu-id="74bbd-215">Entrez un film tiers (par exemple, « Ghostbusters », « Comédie »).</span><span class="sxs-lookup"><span data-stu-id="74bbd-215">Enter a third movie (for example, "Ghostbusters", "Comedy").</span></span> <span data-ttu-id="74bbd-216">L’expérience, laissez le **année** colonne vide, puis appuyez sur ENTRÉE.</span><span class="sxs-lookup"><span data-stu-id="74bbd-216">As an experiment, leave the **Year** column blank and then press Enter.</span></span> <span data-ttu-id="74bbd-217">Étant donné que vous désélectionnez le **autoriser les valeurs null** option, la base de données affiche une erreur :</span><span class="sxs-lookup"><span data-stu-id="74bbd-217">Because you unselected the **Allow Nulls** option, the database shows an error:</span></span>

![Erreur de « Données non valides » affiche si une valeur de colonne requise est vide.](displaying-data/_static/image15.png)

<span data-ttu-id="74bbd-219">Cliquez sur **OK** à revenir en arrière et corriger l’entrée (l’année pour « Ghostbusters » est 1984) et appuyez sur ENTRÉE.</span><span class="sxs-lookup"><span data-stu-id="74bbd-219">Click **OK** to go back and fix the entry (the year for "Ghostbusters" is 1984), and then press Enter.</span></span>

<span data-ttu-id="74bbd-220">Renseignez plusieurs films jusqu'à ce que vous ayez 8 ou donc.</span><span class="sxs-lookup"><span data-stu-id="74bbd-220">Fill in several movies until you have 8 or so.</span></span> <span data-ttu-id="74bbd-221">(Entrer 8 rend plus facile de travailler avec pagination plus tard.</span><span class="sxs-lookup"><span data-stu-id="74bbd-221">(Entering 8 makes it easier to work with paging later.</span></span> <span data-ttu-id="74bbd-222">Mais si c’est trop grand nombre, entrez quelques exemples pour l’instant.) Peu importe les données réelles.</span><span class="sxs-lookup"><span data-stu-id="74bbd-222">But if that's too many, enter just a few for now.) The actual data doesn't matter.</span></span>

![Grille d’entrée de base de données dans WebMatrix avec deux enregistrements](displaying-data/_static/image16.png)

<span data-ttu-id="74bbd-224">Si vous avez entré tous les films sans erreurs, les valeurs d’ID sont séquentielles.</span><span class="sxs-lookup"><span data-stu-id="74bbd-224">If you entered all the movies without any errors, the ID values are sequential.</span></span> <span data-ttu-id="74bbd-225">Si vous avez essayé d’enregistrer un enregistrement vidéo incomplet, les numéros d’identification n’est peut-être pas séquentiels.</span><span class="sxs-lookup"><span data-stu-id="74bbd-225">If you tried to save an incomplete movie record, the ID numbers might not be sequential.</span></span> <span data-ttu-id="74bbd-226">Dans ce cas, c’est OK.</span><span class="sxs-lookup"><span data-stu-id="74bbd-226">If so, that's okay.</span></span> <span data-ttu-id="74bbd-227">Ces nombres n’ont aucune signification intrinsèque, et la seule chose qui est importante est qu’ils sont uniques dans le *films* table.</span><span class="sxs-lookup"><span data-stu-id="74bbd-227">The numbers don't have any inherent meaning, and the only thing that's important is that they're unique in the *Movies* table.</span></span>

<span data-ttu-id="74bbd-228">Fermez l’onglet qui contient le Concepteur de base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-228">Close the tab that contains the database designer.</span></span>

<span data-ttu-id="74bbd-229">Vous pouvez maintenant activer à l’affichage de ces données sur une page web.</span><span class="sxs-lookup"><span data-stu-id="74bbd-229">Now you can turn to displaying this data on a web page.</span></span>

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a><span data-ttu-id="74bbd-230">Affichage des données dans une Page à l’aide du programme d’assistance WebGrid</span><span class="sxs-lookup"><span data-stu-id="74bbd-230">Displaying Data in a Page by Using the WebGrid Helper</span></span>

<span data-ttu-id="74bbd-231">Pour afficher des données dans une page, vous allez utiliser le `WebGrid` helper.</span><span class="sxs-lookup"><span data-stu-id="74bbd-231">To display data in a page, you're going to use the `WebGrid` helper.</span></span> <span data-ttu-id="74bbd-232">Ce programme d’assistance produit un affichage dans une grille ou une table (lignes et colonnes).</span><span class="sxs-lookup"><span data-stu-id="74bbd-232">This helper produces a display in a grid or table (rows and columns).</span></span> <span data-ttu-id="74bbd-233">Comme vous le verrez, vous serez en mesure de redéfinir la grille avec mise en forme et d’autres fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="74bbd-233">As you'll see, you'll be able refine the grid with formatting and other features.</span></span>

<span data-ttu-id="74bbd-234">Pour exécuter la grille, vous devrez écrire quelques lignes de code.</span><span class="sxs-lookup"><span data-stu-id="74bbd-234">To run the grid, you'll have to write a few lines of code.</span></span> <span data-ttu-id="74bbd-235">Ces quelques lignes servira à un type de modèle pour presque tous les accès aux données que vous effectuez dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="74bbd-235">These few lines will serve as a kind of pattern for almost all of the data access that you do in this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="74bbd-236">Vous disposez effectivement de nombreuses options pour afficher les données sur une page ; le `WebGrid` n’est qu’un programme d’assistance.</span><span class="sxs-lookup"><span data-stu-id="74bbd-236">You actually have many options for displaying data on a page; the `WebGrid` helper is just one.</span></span> <span data-ttu-id="74bbd-237">A été choisi pour ce didacticiel, car c’est le moyen le plus simple pour afficher des données et où il est relativement flexible.</span><span class="sxs-lookup"><span data-stu-id="74bbd-237">We chose it for this tutorial because it's the easiest way to display data and because it's reasonably flexible.</span></span> <span data-ttu-id="74bbd-238">Dans le didacticiel suivantes, vous verrez comment utiliser une méthode plus « manual » pour travailler avec des données dans la page, ce qui vous donne un contrôle plus direct sur comment afficher les données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-238">In the next tutorial set, you'll see how to use a more "manual" way to work with data in the page, which gives you more direct control over how to display the data.</span></span>


<span data-ttu-id="74bbd-239">Dans le volet gauche de WebMatrix, cliquez sur le **fichiers** espace de travail.</span><span class="sxs-lookup"><span data-stu-id="74bbd-239">In the left pane in WebMatrix, click the **Files** workspace.</span></span>

<span data-ttu-id="74bbd-240">La nouvelle base de données que vous avez créé est dans le *application\_données* dossier.</span><span class="sxs-lookup"><span data-stu-id="74bbd-240">The new database you created is in the *App\_Data* folder.</span></span> <span data-ttu-id="74bbd-241">Si le dossier n’existe déjà, WebMatrix créée pour votre nouvelle base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-241">If the folder didn't already exist, WebMatrix created it for your new database.</span></span> <span data-ttu-id="74bbd-242">(Le dossier ont pu exister si vous aviez précédemment installé des programmes d’assistance.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-242">(The folder might have existed if you'd previously installed helpers.)</span></span>

<span data-ttu-id="74bbd-243">Dans l’arborescence, sélectionnez la racine du site Web.</span><span class="sxs-lookup"><span data-stu-id="74bbd-243">In the tree view, select the root of the website.</span></span> <span data-ttu-id="74bbd-244">Vous devez sélectionner la racine du site Web ; Sinon, le nouveau fichier peut être ajouté à l’application\_dossier de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-244">You must select the root of the website; otherwise, the new file might be added to the App\_Data folder.</span></span>

<span data-ttu-id="74bbd-245">Dans le ruban, cliquez sur **New**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-245">In the ribbon, click **New**.</span></span> <span data-ttu-id="74bbd-246">Dans le **choisir un Type de fichier** , sélectionnez **CSHTML**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-246">In the **Choose a File Type** box, choose **CSHTML**.</span></span>

<span data-ttu-id="74bbd-247">Dans le **nom** boîte, nommez la nouvelle page « Movies.cshtml » :</span><span class="sxs-lookup"><span data-stu-id="74bbd-247">In the **Name** box, name the new page "Movies.cshtml":</span></span>

!['Choisir un Type de fichier' de la boîte de dialogue affichant la page « Movies »](displaying-data/_static/image17.png)

<span data-ttu-id="74bbd-249">Cliquez sur le **OK** bouton.</span><span class="sxs-lookup"><span data-stu-id="74bbd-249">Click the **OK** button.</span></span> <span data-ttu-id="74bbd-250">WebMatrix ouvre un nouveau fichier avec certains éléments squelettes qu’il contient.</span><span class="sxs-lookup"><span data-stu-id="74bbd-250">WebMatrix opens a new file with some skeleton elements in it.</span></span> <span data-ttu-id="74bbd-251">Tout d’abord, vous allez écrire du code pour obtenir les données à partir de la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-251">First you'll write some code to go get the data from the database.</span></span> <span data-ttu-id="74bbd-252">Puis vous allez ajouter le balisage à la page pour afficher les données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-252">Then you'll add markup to the page to actually display the data.</span></span>

### <a name="writing-the-data-query-code"></a><span data-ttu-id="74bbd-253">Écriture du Code de requête de données</span><span class="sxs-lookup"><span data-stu-id="74bbd-253">Writing the Data Query Code</span></span>

<span data-ttu-id="74bbd-254">En haut de la page, entre le `@{` et `}` caractères, entrez le code suivant.</span><span class="sxs-lookup"><span data-stu-id="74bbd-254">At the top of the page, between the `@{` and `}` characters, enter the following code.</span></span> <span data-ttu-id="74bbd-255">(Assurez-vous que vous entrez ce code entre les accolades ouvrantes et fermantes.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-255">(Make sure that you enter this code between the opening and closing braces.)</span></span>

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

<span data-ttu-id="74bbd-256">La première ligne ouvre la base de données que vous avez créé précédemment, qui est toujours la première étape avant de procéder à un élément avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-256">The first line opens the database that you created earlier, which is always the first step before doing something with the database.</span></span> <span data-ttu-id="74bbd-257">Vous indiquez le `Database.Open` nom de la méthode de la base de données à ouvrir.</span><span class="sxs-lookup"><span data-stu-id="74bbd-257">You tell the `Database.Open` method name of the database to open.</span></span> <span data-ttu-id="74bbd-258">Notez que vous n’incluez pas *.sdf* dans le nom.</span><span class="sxs-lookup"><span data-stu-id="74bbd-258">Notice that you don't include *.sdf* in the name.</span></span> <span data-ttu-id="74bbd-259">Le `Open` méthode suppose qu’il recherche un *.sdf* fichier (autrement dit, *WebPagesMovies.sdf*) et que le *.sdf* fichier se trouve dans le *application\_ Données* dossier.</span><span class="sxs-lookup"><span data-stu-id="74bbd-259">The `Open` method assumes that it's looking for an *.sdf* file (that is, *WebPagesMovies.sdf*) and that the *.sdf* file is in the *App\_Data* folder.</span></span> <span data-ttu-id="74bbd-260">(Précédemment, nous l’avons dit que le *application\_données* dossier est réservé ; ce scénario est un des emplacements où ASP.NET sur les hypothèses sur ce nom.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-260">(Earlier we noted that the *App\_Data* folder is reserved; this scenario is one of the places where ASP.NET makes assumptions about that name.)</span></span>

<span data-ttu-id="74bbd-261">Lorsque la base de données est ouverte, une référence à celle-ci est placée dans la variable nommée `db`.</span><span class="sxs-lookup"><span data-stu-id="74bbd-261">When the database is opened, a reference to it is put into the variable named `db`.</span></span> <span data-ttu-id="74bbd-262">(Ce qui peut être n’importe quel nom.) Le `db` variable est que vous obtiendrez comment interagir avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-262">(Which could be named anything.) The `db` variable is how you'll end up interacting with the database.</span></span>

<span data-ttu-id="74bbd-263">La deuxième ligne extrait réellement la base de données à l’aide de la `Query` (méthode).</span><span class="sxs-lookup"><span data-stu-id="74bbd-263">The second line actually fetches the database data by using the `Query` method.</span></span> <span data-ttu-id="74bbd-264">Notez le fonctionne de ce code : le `db` variable a une référence à la base de données ouvert et que vous appelez le `Query` (méthode) à l’aide de la `db` variable (`db.Query`).</span><span class="sxs-lookup"><span data-stu-id="74bbd-264">Notice how this code works: the `db` variable has a reference to the opened database, and you invoke the `Query` method by using the `db` variable (`db.Query`).</span></span>

<span data-ttu-id="74bbd-265">La requête elle-même est une instance SQL `Select` instruction.</span><span class="sxs-lookup"><span data-stu-id="74bbd-265">The query itself is a SQL `Select` statement.</span></span> <span data-ttu-id="74bbd-266">(Pour quelques notions de base sur SQL, consultez l’explication ultérieurement.) Dans l’instruction, `Movies` identifie la table à la requête.</span><span class="sxs-lookup"><span data-stu-id="74bbd-266">(For a little background about SQL, see the explanation later.) In the statement, `Movies` identifies the table to query.</span></span> <span data-ttu-id="74bbd-267">Le `*` caractère spécifie que la requête doit retourner toutes les colonnes de la table.</span><span class="sxs-lookup"><span data-stu-id="74bbd-267">The `*` character specifies that the query should return all the columns from the table.</span></span> <span data-ttu-id="74bbd-268">(Vous pouvez également répertorier les colonnes individuellement, séparés par des virgules.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-268">(You could also list columns individually, separated by commas.)</span></span>

<span data-ttu-id="74bbd-269">Les résultats de la requête, le cas échéant, sont renvoyés et mis à disposition dans le `selectedData` variable.</span><span class="sxs-lookup"><span data-stu-id="74bbd-269">The results of the query, if any, are returned and made available in the `selectedData` variable.</span></span> <span data-ttu-id="74bbd-270">Là encore, la variable peut être n’importe quel nom.</span><span class="sxs-lookup"><span data-stu-id="74bbd-270">Again, the variable could be named anything.</span></span>

<span data-ttu-id="74bbd-271">Enfin, la troisième ligne indique à ASP.NET que vous souhaitez utiliser une instance de la `WebGrid` helper.</span><span class="sxs-lookup"><span data-stu-id="74bbd-271">Finally, the third line tells ASP.NET that you want to use an instance of the `WebGrid` helper.</span></span> <span data-ttu-id="74bbd-272">Vous créez (*instancier*) l’objet d’assistance à l’aide de la `new` mot clé et le passer les résultats de requête par le biais de la `selectedData` variable.</span><span class="sxs-lookup"><span data-stu-id="74bbd-272">You create (*instantiate*) the helper object by using the `new` keyword and pass it the query results via the `selectedData` variable.</span></span> <span data-ttu-id="74bbd-273">La nouvelle `WebGrid` objet, ainsi que les résultats de la requête de base de données, sont accessibles dans le `grid` variable.</span><span class="sxs-lookup"><span data-stu-id="74bbd-273">The new `WebGrid` object, along with the results of the database query, are made available in the `grid` variable.</span></span> <span data-ttu-id="74bbd-274">Vous aurez besoin de ce résultat dans un instant pour afficher les données dans la page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-274">You'll need that result in a moment to actually display the data in the page.</span></span>

<span data-ttu-id="74bbd-275">À ce stade, la base de données a été ouverte, vous avez obtenu les données souhaitées, et que vous avez préparé la `WebGrid` helper avec ces données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-275">At this stage, the database has been opened, you've gotten the data you want, and you've prepared the `WebGrid` helper with that data.</span></span> <span data-ttu-id="74bbd-276">Est ensuite pour créer le balisage dans la page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-276">Next is to create the markup in the page.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="74bbd-277">**Structured Query Language (SQL)**</span><span class="sxs-lookup"><span data-stu-id="74bbd-277">**Structured Query Language (SQL)**</span></span>
> 
> <span data-ttu-id="74bbd-278">SQL est un langage qui est utilisé dans la plupart des bases de données relationnelles pour la gestion des données dans une base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-278">SQL is a language that's used in most relational databases for managing data in a database.</span></span> <span data-ttu-id="74bbd-279">Il inclut des commandes qui permettent de récupérer des données et mettre à jour, et qui vous permettent de créer, modifier et gérer des données dans les tables de base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-279">It includes commands that let you retrieve data and update it, and that let you create, modify, and manage data in database tables.</span></span> <span data-ttu-id="74bbd-280">SQL est différent de celui d’un langage de programmation (tel que c#).</span><span class="sxs-lookup"><span data-stu-id="74bbd-280">SQL is different than a programming language (like C#).</span></span> <span data-ttu-id="74bbd-281">Avec SQL, vous indiquer la base de données à ce que vous voulez, et travail de la base de données consiste à déterminer comment obtenir les données ou d’effectuer la tâche.</span><span class="sxs-lookup"><span data-stu-id="74bbd-281">With SQL, you tell the database what you want, and it's the database's job to figure out how to get the data or perform the task.</span></span> <span data-ttu-id="74bbd-282">Voici des exemples de certaines commandes SQL et ce qu’ils font :</span><span class="sxs-lookup"><span data-stu-id="74bbd-282">Here are examples of some SQL commands and what they do:</span></span>
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> <span data-ttu-id="74bbd-283">La première `Select` instruction Obtient toutes les colonnes (spécifié par `*`) à partir de la *films* table.</span><span class="sxs-lookup"><span data-stu-id="74bbd-283">The first `Select` statement gets all the columns (specified by `*`) from the *Movies* table.</span></span>
> 
> <span data-ttu-id="74bbd-284">La seconde `Select` instruction extrait les colonnes ID, nom et prix à partir d’enregistrements dans le *produit* table dont valeur de colonne de prix est supérieur à 10.</span><span class="sxs-lookup"><span data-stu-id="74bbd-284">The second `Select` statement fetches the ID, Name, and Price columns from records in the *Product* table whose Price column value is more than 10.</span></span> <span data-ttu-id="74bbd-285">La commande retourne les résultats par ordre alphabétique en fonction des valeurs de la colonne nom.</span><span class="sxs-lookup"><span data-stu-id="74bbd-285">The command returns the results in alphabetical order based on the values of the Name column.</span></span> <span data-ttu-id="74bbd-286">Si aucun enregistrement correspondent aux critères de prix, la commande retourne un jeu vide.</span><span class="sxs-lookup"><span data-stu-id="74bbd-286">If no records match the price criteria, the command returns an empty set.</span></span>
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> <span data-ttu-id="74bbd-287">Cette commande permet d’insérer un nouvel enregistrement dans le *produit* table, la définition de la colonne de nom pour le « Croissant », la colonne de Description pour « Plaisir de non fiable A » et le prix à 1,99.</span><span class="sxs-lookup"><span data-stu-id="74bbd-287">This command inserts a new record into the *Product* table, setting the Name column to "Croissant", the Description column to "A flaky delight", and the price to 1.99.</span></span>
> 
> <span data-ttu-id="74bbd-288">Notez que lorsque vous spécifiez une valeur non numérique, la valeur est placée entre guillemets simples (pas de doubles guillemets, comme dans c#).</span><span class="sxs-lookup"><span data-stu-id="74bbd-288">Notice that when you're specifying a non-numeric value, the value is enclosed in single quotation marks (not double quotation marks, as in C#).</span></span> <span data-ttu-id="74bbd-289">Vous utilisez ces guillemets autour des valeurs de texte ou de date, mais pas autour de nombres.</span><span class="sxs-lookup"><span data-stu-id="74bbd-289">You use these quotation marks around text or date values, but not around numbers.</span></span>
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> <span data-ttu-id="74bbd-290">Cette commande supprime les enregistrements dans le *produit* table dont colonne de date d’expiration est antérieure au 1er janvier 2008.</span><span class="sxs-lookup"><span data-stu-id="74bbd-290">This command deletes records in the *Product* table whose expiration date column is earlier than January 1, 2008.</span></span> <span data-ttu-id="74bbd-291">(La commande suppose que le *produit* table a une telle colonne, bien sûr.) La date est entrée ici au format MM/jj/aaaa, mais il doit être entré au format qui est utilisé pour vos paramètres régionaux.</span><span class="sxs-lookup"><span data-stu-id="74bbd-291">(The command assumes that the *Product* table has such a column, of course.) The date is entered here in MM/DD/YYYY format, but it should be entered in the format that's used for your locale.</span></span>
> 
> <span data-ttu-id="74bbd-292">Le `Insert` et `Delete` commandes ne retournent des jeux de résultats.</span><span class="sxs-lookup"><span data-stu-id="74bbd-292">The `Insert` and `Delete` commands don't return result sets.</span></span> <span data-ttu-id="74bbd-293">Au lieu de cela, elles retournent un nombre qui indique le nombre d’enregistrements ont été affecté par la commande.</span><span class="sxs-lookup"><span data-stu-id="74bbd-293">Instead, they return a number that tells you how many records were affected by the command.</span></span>
> 
> <span data-ttu-id="74bbd-294">Pour certaines de ces opérations (par exemple, insertion et suppression d’enregistrements), le processus qui demande l’opération doit disposer des autorisations appropriées dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-294">For some of these operations (like inserting and deleting records), the process that's requesting the operation has to have appropriate permissions in the database.</span></span> <span data-ttu-id="74bbd-295">C’est pourquoi des bases de données de production vous avez généralement à fournir un nom d’utilisateur et le mot de passe lorsque vous vous connectez à la base de données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-295">That's why for production databases you often have to supply a user name and password when you connect to the database.</span></span>
> 
> <span data-ttu-id="74bbd-296">Il existe des douzaines de commandes SQL, mais elles suivent un modèle, comme les commandes que vous voyez ici.</span><span class="sxs-lookup"><span data-stu-id="74bbd-296">There are dozens of SQL commands, but they all follow a pattern like the commands you see here.</span></span> <span data-ttu-id="74bbd-297">Vous pouvez utiliser des commandes SQL pour créer des tables de base de données, compter le nombre d’enregistrements dans une table, calculer les prix et effectuer de nombreuses opérations plus.</span><span class="sxs-lookup"><span data-stu-id="74bbd-297">You can use SQL commands to create database tables, count the number of records in a table, calculate prices, and perform many more operations.</span></span>


### <a name="adding-markup-to-display-the-data"></a><span data-ttu-id="74bbd-298">Ajout de balisage pour afficher les données</span><span class="sxs-lookup"><span data-stu-id="74bbd-298">Adding Markup to Display the Data</span></span>

<span data-ttu-id="74bbd-299">À l’intérieur de la `<head>` élément, le contenu de l’ensemble de la `<title>` élément à « Movies » :</span><span class="sxs-lookup"><span data-stu-id="74bbd-299">Inside the `<head>` element, set contents of the `<title>` element to "Movies":</span></span>

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

<span data-ttu-id="74bbd-300">À l’intérieur du `<body>` élément de la page, ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="74bbd-300">Inside the `<body>` element of the page, add the following:</span></span>

[!code-html[Main](displaying-data/samples/sample3.html)]

<span data-ttu-id="74bbd-301">C'est tout !</span><span class="sxs-lookup"><span data-stu-id="74bbd-301">That's it.</span></span> <span data-ttu-id="74bbd-302">Le `grid` variable est la valeur que vous avez créé lorsque vous avez créé le `WebGrid` objet dans le code précédemment.</span><span class="sxs-lookup"><span data-stu-id="74bbd-302">The `grid` variable is the value you created when you created the `WebGrid` object in code earlier.</span></span>

<span data-ttu-id="74bbd-303">Dans l’arborescence de WebMatrix, cliquez sur la page et sélectionnez **lancer dans le navigateur**.</span><span class="sxs-lookup"><span data-stu-id="74bbd-303">In the WebMatrix tree view, right-click the page and select **Launch in browser**.</span></span> <span data-ttu-id="74bbd-304">Vous verrez quelque chose comme cette page :</span><span class="sxs-lookup"><span data-stu-id="74bbd-304">You'll see something like this page:</span></span>

![Sortie de d’assistance WebGrid par défaut de la table de films](displaying-data/_static/image18.png)

<span data-ttu-id="74bbd-306">Cliquez sur un lien d’en-tête de colonne pour trier selon cette colonne.</span><span class="sxs-lookup"><span data-stu-id="74bbd-306">Click a column heading link to sort by that column.</span></span> <span data-ttu-id="74bbd-307">Pour trier en cliquant sur un en-tête est une fonctionnalité qui est intégrée à la **WebGrid** helper.</span><span class="sxs-lookup"><span data-stu-id="74bbd-307">Being able to sort by clicking a heading is a feature that's built into the **WebGrid** helper.</span></span>

<span data-ttu-id="74bbd-308">Le `GetHtml` méthode, comme son nom l’indique, génère un balisage qui affiche les données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-308">The `GetHtml` method, as its name suggests, generates markup that displays the data.</span></span> <span data-ttu-id="74bbd-309">Par défaut, le `GetHtml` méthode génère un élément HTML `<table>` élément.</span><span class="sxs-lookup"><span data-stu-id="74bbd-309">By default, the `GetHtml` method generates an HTML `<table>` element.</span></span> <span data-ttu-id="74bbd-310">(Si vous le souhaitez, vous pouvez vérifier le rendu en examinant la source de la page dans le navigateur.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-310">(If you want, you can verify the rendering by looking at the source of the page in the browser.)</span></span>

## <a name="modifying-the-look-of-the-grid"></a><span data-ttu-id="74bbd-311">Modifier l’apparence de la grille</span><span class="sxs-lookup"><span data-stu-id="74bbd-311">Modifying the Look of the Grid</span></span>

<span data-ttu-id="74bbd-312">À l’aide de la `WebGrid` helper comme vous venez de faire est facile, mais l’affichage qui en résulte est simple.</span><span class="sxs-lookup"><span data-stu-id="74bbd-312">Using the `WebGrid` helper like you just did is easy, but the resulting display is plain.</span></span> <span data-ttu-id="74bbd-313">Le `WebGrid` helper a toutes sortes d’options qui vous permettent de contrôler comment les données sont affichées.</span><span class="sxs-lookup"><span data-stu-id="74bbd-313">The `WebGrid` helper has all sorts of options that let you control how the data is displayed.</span></span> <span data-ttu-id="74bbd-314">Il existe beaucoup trop nombreux à découvrir dans ce didacticiel, mais cette section vous donnera une idée de certaines de ces options.</span><span class="sxs-lookup"><span data-stu-id="74bbd-314">There are far too many to explore in this tutorial, but this section will give you an idea of some of those options.</span></span> <span data-ttu-id="74bbd-315">Quelques options supplémentaires seront abordées dans d’autres didacticiels de cette série.</span><span class="sxs-lookup"><span data-stu-id="74bbd-315">A few additional options will be covered in later tutorials in this series.</span></span>

### <a name="specifying-individual-columns-to-display"></a><span data-ttu-id="74bbd-316">Spécification des colonnes individuelles à afficher</span><span class="sxs-lookup"><span data-stu-id="74bbd-316">Specifying Individual Columns to Display</span></span>

<span data-ttu-id="74bbd-317">Pour commencer, vous pouvez spécifier que vous souhaitez afficher uniquement certaines colonnes.</span><span class="sxs-lookup"><span data-stu-id="74bbd-317">To start, you can specify that you want to display only certain columns.</span></span> <span data-ttu-id="74bbd-318">Par défaut, comme vous l’avez vu, la grille affiche les quatre colonnes de la *films* table.</span><span class="sxs-lookup"><span data-stu-id="74bbd-318">By default, as you've seen, the grid shows all four of the columns from the *Movies* table.</span></span>

<span data-ttu-id="74bbd-319">Dans le *Movies.cshtml* fichier, remplacez le `@grid.GetHtml()` balisage que vous venez d’ajouter par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="74bbd-319">In the *Movies.cshtml* file, replace the `@grid.GetHtml()` markup that you just added with the following:</span></span>

[!code-css[Main](displaying-data/samples/sample4.css)]

<span data-ttu-id="74bbd-320">Pour indiquer les colonnes à afficher à l’application d’assistance, vous incluez un `columns` paramètre pour le `GetHtml` (méthode) et passez une collection de colonnes.</span><span class="sxs-lookup"><span data-stu-id="74bbd-320">To tell the helper which columns to display, you include a `columns` parameter for the `GetHtml` method and pass in a collection of columns.</span></span> <span data-ttu-id="74bbd-321">Dans la collection, vous spécifiez chaque colonne à inclure.</span><span class="sxs-lookup"><span data-stu-id="74bbd-321">In the collection, you specify each column to include.</span></span> <span data-ttu-id="74bbd-322">Vous spécifiez une colonne individuelle à afficher en incluant un `grid.Column` l’objet et de transmettre le nom de la colonne de données que vous souhaitez.</span><span class="sxs-lookup"><span data-stu-id="74bbd-322">You specify an individual column to display by including a `grid.Column` object, and pass in the name of the data column you want.</span></span> <span data-ttu-id="74bbd-323">(Ces colonnes doivent être incluses dans les résultats de requête SQL, le `WebGrid` helper ne peut pas afficher les colonnes qui n’ont pas été renvoyés par la requête.)</span><span class="sxs-lookup"><span data-stu-id="74bbd-323">(These columns must be included in the SQL query results — the `WebGrid` helper cannot display columns that were not returned by the query.)</span></span>

<span data-ttu-id="74bbd-324">Lancer le *Movies.cshtml* page dans le navigateur et cette fois, vous obtenez un affichage semblable à celle qui suit (Notez qu’aucune colonne d’ID ne s’affiche) :</span><span class="sxs-lookup"><span data-stu-id="74bbd-324">Launch the *Movies.cshtml* page in the browser again, and this time you get a display like the following one (notice that no ID column is displayed):</span></span>

![Affichage de WebGrid affiche uniquement les colonnes sélectionnées](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a><span data-ttu-id="74bbd-326">Changer l’aspect de la grille</span><span class="sxs-lookup"><span data-stu-id="74bbd-326">Changing the Look of the Grid</span></span>

<span data-ttu-id="74bbd-327">Il existe un certain davantage d’options pour afficher des colonnes, certains d'entre eux sont présentés dans les didacticiels suivants dans cet ensemble.</span><span class="sxs-lookup"><span data-stu-id="74bbd-327">There are quite a few more options for displaying columns, some of which will be explored in later tutorials in this set.</span></span> <span data-ttu-id="74bbd-328">Pour l’instant, cette section vous présentera façons dans lequel vous pouvez appliquer un style de la grille dans son ensemble.</span><span class="sxs-lookup"><span data-stu-id="74bbd-328">For now, this section will introduce you to ways in which you can style the grid as a whole.</span></span>

<span data-ttu-id="74bbd-329">À l’intérieur de la `<head>` section de la page, juste avant la fermeture `</head>` balise, ajoutez le code suivant `<style>` élément :</span><span class="sxs-lookup"><span data-stu-id="74bbd-329">Inside the `<head>` section of the page, just before the closing `</head>` tag, add the following `<style>` element:</span></span>

[!code-css[Main](displaying-data/samples/sample5.css)]

<span data-ttu-id="74bbd-330">Ce balisage CSS définit des classes nommées `grid`, `head`, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="74bbd-330">This CSS markup defines classes named `grid`, `head`, and so on.</span></span> <span data-ttu-id="74bbd-331">Vous pouvez également placer ces définitions de style dans une fonction *.css* de fichiers et lier ceci à la page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-331">You could also put these style definitions in a separate *.css* file and link that to the page.</span></span> <span data-ttu-id="74bbd-332">(En fait, vous le ferez plus loin dans cet ensemble de didacticiels.) Mais pour simplifier les choses pour ce didacticiel, elles sont à l’intérieur de la même page qui affiche les données.</span><span class="sxs-lookup"><span data-stu-id="74bbd-332">(In fact, you'll do that later in this tutorial set.) But to make things easy for this tutorial, they're inside the same page that displays the data.</span></span>

<span data-ttu-id="74bbd-333">Vous pouvez désormais le `WebGrid` helper pour utiliser ces classes de style.</span><span class="sxs-lookup"><span data-stu-id="74bbd-333">Now you can get the `WebGrid` helper to use these style classes.</span></span> <span data-ttu-id="74bbd-334">Le programme d’assistance a un nombre de propriétés (par exemple, `tableStyle`) dans ce but, vous leur attribuez un nom de classe de style CSS, et ce nom de classe est rendu en tant que partie du balisage restitué par l’application d’assistance.</span><span class="sxs-lookup"><span data-stu-id="74bbd-334">The helper has a number of properties (for example, `tableStyle`) for just this purpose — you assign a CSS style class name to them, and that class name is rendered as part of the markup that's rendered by the helper.</span></span>

<span data-ttu-id="74bbd-335">Modifier le `grid.GetHtml` balisage afin qu’il ressemble à ce code :</span><span class="sxs-lookup"><span data-stu-id="74bbd-335">Change the `grid.GetHtml` markup so that it now looks like this code:</span></span>

[!code-css[Main](displaying-data/samples/sample6.css)]

<span data-ttu-id="74bbd-336">Quelles sont les nouveautés ici est que vous avez ajouté `tableStyle`, `headerStyle`, et `alternatingRowStyle` paramètres pour le `GetHtml` (méthode).</span><span class="sxs-lookup"><span data-stu-id="74bbd-336">What's new here is that you've added `tableStyle`, `headerStyle`, and `alternatingRowStyle` parameters to the `GetHtml` method.</span></span> <span data-ttu-id="74bbd-337">Ces paramètres ont été définis pour les noms des styles CSS que vous avez ajouté un moment il y a.</span><span class="sxs-lookup"><span data-stu-id="74bbd-337">These parameters have been set to the names of the CSS styles that you added a moment ago.</span></span>

<span data-ttu-id="74bbd-338">Exécutez la page, et cette fois, vous voyez une grille qui ressemble beaucoup moins simple qu’avant :</span><span class="sxs-lookup"><span data-stu-id="74bbd-338">Run the page, and this time you see a grid that looks much less plain than before:</span></span>

![Affichage de WebGrid qui inclut les paramètres définis pour les noms de classe CSS](displaying-data/_static/image20.png)

<span data-ttu-id="74bbd-340">Pour connaître la `GetHtml` méthode générée, vous pouvez consulter la source de la page dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="74bbd-340">To see what the `GetHtml` method generated, you can look at the source of the page in the browser.</span></span> <span data-ttu-id="74bbd-341">Nous n’entrerons pas dans les détails ici, mais le point important est que, en spécifiant des paramètres tels que `tableStyle`, vous a provoqué la grille générer des balises HTML comme suit :</span><span class="sxs-lookup"><span data-stu-id="74bbd-341">We won't go into detail here, but the important point is that by specifying parameters like `tableStyle`, you caused the grid to generate HTML tags like the following:</span></span>

`<table class="grid">`

<span data-ttu-id="74bbd-342">Le `<table>` tag a eu un `class` attribut ajouté à ce dernier qui fait référence à une des règles CSS que vous avez ajouté précédemment.</span><span class="sxs-lookup"><span data-stu-id="74bbd-342">The `<table>` tag has had a `class` attribute added to it that references one of the CSS rules that you added earlier.</span></span> <span data-ttu-id="74bbd-343">Ce code vous montre le modèle de base &mdash; des paramètres différents pour le `GetHtml` méthode let vous référence CSS classes que la méthode génère ensuite avec le balisage.</span><span class="sxs-lookup"><span data-stu-id="74bbd-343">This code shows you the basic pattern &mdash; different parameters for the `GetHtml` method let you reference CSS classes that the method then generates along with the markup.</span></span> <span data-ttu-id="74bbd-344">Les opérations avec les classes CSS vous revient.</span><span class="sxs-lookup"><span data-stu-id="74bbd-344">What you do with the CSS classes is up to you.</span></span>

## <a name="adding-paging"></a><span data-ttu-id="74bbd-345">Ajout de pagination</span><span class="sxs-lookup"><span data-stu-id="74bbd-345">Adding Paging</span></span>

<span data-ttu-id="74bbd-346">En tant que la dernière tâche pour ce didacticiel, vous allez ajouter la pagination à la grille.</span><span class="sxs-lookup"><span data-stu-id="74bbd-346">As the last task for this tutorial, you'll add paging to the grid.</span></span> <span data-ttu-id="74bbd-347">Pour l’instant ne pose aucun problème pour afficher tous vos films à la fois.</span><span class="sxs-lookup"><span data-stu-id="74bbd-347">Right now it's no problem to display all your movies at once.</span></span> <span data-ttu-id="74bbd-348">Mais si vous avez ajouté des centaines de films, l’affichage de page long.</span><span class="sxs-lookup"><span data-stu-id="74bbd-348">But if you added hundreds of movies, the page display would get long.</span></span>

<span data-ttu-id="74bbd-349">Dans le code de page, remplacez la ligne qui crée le `WebGrid` objet pour le code suivant :</span><span class="sxs-lookup"><span data-stu-id="74bbd-349">In the page code, change the line that creates the `WebGrid` object to the following code:</span></span>

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

<span data-ttu-id="74bbd-350">La seule différence avec avant est que vous avez ajouté un `rowsPerPage` paramètre est défini sur 3.</span><span class="sxs-lookup"><span data-stu-id="74bbd-350">The only difference from before is that you've added a `rowsPerPage` parameter that's set to 3.</span></span>

<span data-ttu-id="74bbd-351">Exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="74bbd-351">Run the page.</span></span> <span data-ttu-id="74bbd-352">La grille affiche les 3 lignes à une heure, ainsi que des liens de navigation qui permettent de parcourir sur les films dans votre base de données :</span><span class="sxs-lookup"><span data-stu-id="74bbd-352">The grid displays 3 rows at a time, plus navigation links that let you page through the movies in your database:</span></span>

![Affichage de WebGrid avec pagination](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a><span data-ttu-id="74bbd-354">Prochaine</span><span class="sxs-lookup"><span data-stu-id="74bbd-354">Coming Up Next</span></span>

<span data-ttu-id="74bbd-355">Dans le didacticiel suivant, vous allez apprendre à utiliser le code Razor et c# pour obtenir une entrée d’utilisateur dans un formulaire.</span><span class="sxs-lookup"><span data-stu-id="74bbd-355">In the next tutorial, you'll learn how to use Razor and C# code to get user input in a form.</span></span> <span data-ttu-id="74bbd-356">Vous allez ajouter une zone de recherche à la page Movies afin que vous pouvez rechercher les films par titre ou le genre.</span><span class="sxs-lookup"><span data-stu-id="74bbd-356">You'll add a search box to the Movies page so that you can find movies by title or genre.</span></span>

## <a name="complete-listing-for-movies-page"></a><span data-ttu-id="74bbd-357">Liste complète de la Page de films</span><span class="sxs-lookup"><span data-stu-id="74bbd-357">Complete Listing for Movies Page</span></span>

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="74bbd-358">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="74bbd-358">Additional Resources</span></span>

- [<span data-ttu-id="74bbd-359">Introduction à la programmation Web ASP.NET à l’aide de la syntaxe Razor</span><span class="sxs-lookup"><span data-stu-id="74bbd-359">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> <span data-ttu-id="74bbd-360">[Précédent](intro-to-web-pages-programming.md)
> [Suivant](form-basics.md)</span><span class="sxs-lookup"><span data-stu-id="74bbd-360">[Previous](intro-to-web-pages-programming.md)
[Next](form-basics.md)</span></span>
