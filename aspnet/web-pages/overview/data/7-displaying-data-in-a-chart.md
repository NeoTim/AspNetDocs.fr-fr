---
uid: web-pages/overview/data/7-displaying-data-in-a-chart
title: Affichage des données dans un graphique avec pages Web ASP.NET (Razor) | Microsoft Docs
author: microsoft
description: Ce chapitre explique comment afficher des données dans un graphique. Dans les chapitres précédents, vous avez appris à afficher les données manuellement et dans une grille. Ce chapitre explique...
ms.author: riande
ms.date: 05/22/2012
ms.assetid: f889fd46-4dac-4ecb-83d8-60e64c22036e
msc.legacyurl: /web-pages/overview/data/7-displaying-data-in-a-chart
msc.type: authoredcontent
ms.openlocfilehash: 6dad67d4e3d38d57a761c567d937d714a3184ea9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78627490"
---
# <a name="displaying-data-in-a-chart-with-aspnet-web-pages-razor"></a><span data-ttu-id="3fafe-105">Affichage de données dans un graphique avec pages Web ASP.NET (Razor)</span><span class="sxs-lookup"><span data-stu-id="3fafe-105">Displaying Data in a Chart with ASP.NET Web Pages (Razor)</span></span>

<span data-ttu-id="3fafe-106">par [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="3fafe-106">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="3fafe-107">Cet article explique comment utiliser un graphique pour afficher les données d’un site Web pages Web ASP.NET (Razor) à l’aide du programme d’assistance `Chart`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-107">This article explains how to use a chart to display data in an ASP.NET Web Pages (Razor) website by using the `Chart` helper.</span></span>
> 
> <span data-ttu-id="3fafe-108">**Ce que vous allez apprendre**:</span><span class="sxs-lookup"><span data-stu-id="3fafe-108">**What you'll learn**:</span></span>
> 
> - <span data-ttu-id="3fafe-109">Comment afficher des données dans un graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-109">How to display data in a chart.</span></span>
> - <span data-ttu-id="3fafe-110">Comment styliser des graphiques à l’aide de thèmes intégrés.</span><span class="sxs-lookup"><span data-stu-id="3fafe-110">How to style charts using built-in themes.</span></span>
> - <span data-ttu-id="3fafe-111">Comment enregistrer des graphiques et comment les mettre en cache pour de meilleures performances.</span><span class="sxs-lookup"><span data-stu-id="3fafe-111">How to save charts and how to cache them for better performance.</span></span>
> 
> <span data-ttu-id="3fafe-112">Voici les fonctionnalités de programmation ASP.NET présentées dans l’article :</span><span class="sxs-lookup"><span data-stu-id="3fafe-112">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="3fafe-113">Le programme d’assistance `Chart`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-113">The `Chart` helper.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="3fafe-114">Les informations contenues dans cet article s’appliquent à pages Web ASP.NET 1,0 et pages Web 2.</span><span class="sxs-lookup"><span data-stu-id="3fafe-114">The information in this article applies to ASP.NET Web Pages 1.0 and Web Pages 2.</span></span>

<a id="The_Chart_Helper"></a>
## <a name="the-chart-helper"></a><span data-ttu-id="3fafe-115">Application d’assistance du graphique</span><span class="sxs-lookup"><span data-stu-id="3fafe-115">The Chart Helper</span></span>

<span data-ttu-id="3fafe-116">Lorsque vous souhaitez afficher vos données sous forme graphique, vous pouvez utiliser `Chart` Helper.</span><span class="sxs-lookup"><span data-stu-id="3fafe-116">When you want to display your data in graphical form, you can use `Chart` helper.</span></span> <span data-ttu-id="3fafe-117">Le `Chart` Helper peut restituer une image qui affiche des données dans divers types de graphiques.</span><span class="sxs-lookup"><span data-stu-id="3fafe-117">The `Chart` helper can render an image that displays data in a variety of chart types.</span></span> <span data-ttu-id="3fafe-118">Il prend en charge de nombreuses options de mise en forme et d’étiquetage.</span><span class="sxs-lookup"><span data-stu-id="3fafe-118">It supports many options for formatting and labeling.</span></span> <span data-ttu-id="3fafe-119">Le `Chart` Helper peut afficher plus de 30 types de graphiques, y compris tous les types de graphiques que vous connaissez peut-être dans Microsoft Excel ou d’autres &#8212; graphiques en aires, des graphiques à barres, des histogrammes, des graphiques en courbes et des graphiques en secteurs, ainsi que des graphiques plus spécialisés comme les graphiques boursiers.</span><span class="sxs-lookup"><span data-stu-id="3fafe-119">The `Chart` helper can render more than 30 types of charts, including all the types of charts that you might be familiar with from Microsoft Excel or other tools &#8212; area charts, bar charts, column charts, line charts, and pie charts, along with more specialized charts like stock charts.</span></span>

| <span data-ttu-id="3fafe-120">**Graphique en aires** ![Description : image du type de graphique en aires](7-displaying-data-in-a-chart/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="3fafe-120">**Area chart** ![Description: Picture of the Area chart type](7-displaying-data-in-a-chart/_static/image1.jpg)</span></span> | <span data-ttu-id="3fafe-121">**Graphique à barres** ![Description : image du type de graphique à barres](7-displaying-data-in-a-chart/_static/image2.jpg)</span><span class="sxs-lookup"><span data-stu-id="3fafe-121">**Bar chart** ![Description: Picture of the Bar chart type](7-displaying-data-in-a-chart/_static/image2.jpg)</span></span> |
| --- | --- |
| <span data-ttu-id="3fafe-122">\*\*Histogramme ![Description** : image du type d’histogramme](7-displaying-data-in-a-chart/_static/image3.jpg)</span><span class="sxs-lookup"><span data-stu-id="3fafe-122">**Column chart** ![Description: Picture of the Column chart type](7-displaying-data-in-a-chart/_static/image3.jpg)</span></span> | <span data-ttu-id="3fafe-123">**Graphique en courbes** ![Description : image du type de graphique en courbes](7-displaying-data-in-a-chart/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="3fafe-123">**Line chart** ![Description: Picture of the Line chart type](7-displaying-data-in-a-chart/_static/image4.jpg)</span></span> |
| <span data-ttu-id="3fafe-124">**Graphique à secteurs** ![Description : image du type de graphique à secteurs](7-displaying-data-in-a-chart/_static/image5.jpg)</span><span class="sxs-lookup"><span data-stu-id="3fafe-124">**Pie chart** ![Description: Picture of the Pie chart type](7-displaying-data-in-a-chart/_static/image5.jpg)</span></span> | <span data-ttu-id="3fafe-125">**Graphique boursier** ![Description : image du type de graphique boursier](7-displaying-data-in-a-chart/_static/image6.jpg)</span><span class="sxs-lookup"><span data-stu-id="3fafe-125">**Stock chart** ![Description: Picture of the Stock chart type](7-displaying-data-in-a-chart/_static/image6.jpg)</span></span> |

### <a name="chart-elements"></a><span data-ttu-id="3fafe-126">Éléments de graphique</span><span class="sxs-lookup"><span data-stu-id="3fafe-126">Chart Elements</span></span>

<span data-ttu-id="3fafe-127">Les graphiques affichent des données et des éléments supplémentaires tels que des légendes, des axes, des séries, etc.</span><span class="sxs-lookup"><span data-stu-id="3fafe-127">Charts show data and additional elements like legends, axes, series, and so on.</span></span> <span data-ttu-id="3fafe-128">L’illustration suivante montre un grand nombre des éléments de graphique que vous pouvez personnaliser lorsque vous utilisez le programme d’assistance `Chart`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-128">The following picture shows many of the chart elements that you can customize when you use the `Chart` helper.</span></span> <span data-ttu-id="3fafe-129">Cet article vous montre comment définir certains (pas tous) de ces éléments.</span><span class="sxs-lookup"><span data-stu-id="3fafe-129">This article shows you how to set some (not all) of these elements.</span></span>

![Description : image présentant les éléments de graphique](7-displaying-data-in-a-chart/_static/image7.jpg)

<a id="Creating_a_Chart"></a>
## <a name="creating-a-chart-from-data"></a><span data-ttu-id="3fafe-131">Création d’un graphique à partir de données</span><span class="sxs-lookup"><span data-stu-id="3fafe-131">Creating a Chart from Data</span></span>

<span data-ttu-id="3fafe-132">Les données que vous affichez dans un graphique peuvent provenir d’un tableau, des résultats retournés par une base de données ou de données qui se trouvent dans un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-132">The data you display in a chart can be from an array, from the results returned from a database, or from data that's in an XML file.</span></span>

### <a name="using-an-array"></a><span data-ttu-id="3fafe-133">Utilisation d’un tableau</span><span class="sxs-lookup"><span data-stu-id="3fafe-133">Using an Array</span></span>

<span data-ttu-id="3fafe-134">Comme expliqué dans [Introduction à la programmation de pages Web ASP.net à l’aide de la syntaxe Razor](https://go.microsoft.com/fwlink/?LinkId=202890), un tableau vous permet de stocker une collection d’éléments similaires dans une variable unique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-134">As explained in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), an array lets you store a collection of similar items in a single variable.</span></span> <span data-ttu-id="3fafe-135">Vous pouvez utiliser des tableaux pour contenir les données que vous souhaitez inclure dans votre graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-135">You can use arrays to contain the data that you want to include in your chart.</span></span>

<span data-ttu-id="3fafe-136">Cette procédure montre comment créer un graphique à partir de données dans des tableaux, en utilisant le type de graphique par défaut.</span><span class="sxs-lookup"><span data-stu-id="3fafe-136">This procedure shows how you can create a chart from data in arrays, using the default chart type.</span></span> <span data-ttu-id="3fafe-137">Il montre également comment afficher le graphique dans la page.</span><span class="sxs-lookup"><span data-stu-id="3fafe-137">It also shows how to display the chart within the page.</span></span>

1. <span data-ttu-id="3fafe-138">Créez un nouveau fichier nommé *ChartArrayBasic. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-138">Create a new file named *ChartArrayBasic.cshtml*.</span></span>
2. <span data-ttu-id="3fafe-139">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-139">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample1.cshtml)]

    <span data-ttu-id="3fafe-140">Le code commence par créer un nouveau graphique et définit sa largeur et sa hauteur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-140">The code first creates a new chart and sets its width and height.</span></span> <span data-ttu-id="3fafe-141">Vous spécifiez le titre du graphique à l’aide de la méthode `AddTitle`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-141">You specify the chart title by using the `AddTitle` method.</span></span> <span data-ttu-id="3fafe-142">Pour ajouter des données, vous utilisez la méthode `AddSeries`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-142">To add data, you use the `AddSeries` method.</span></span> <span data-ttu-id="3fafe-143">Dans cet exemple, vous utilisez les paramètres `name`, `xValue`et `yValues` de la méthode `AddSeries`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-143">In this example, you use the `name`, `xValue`, and `yValues` parameters of the `AddSeries` method.</span></span> <span data-ttu-id="3fafe-144">Le paramètre `name` est affiché dans la légende du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-144">The `name` parameter is displayed in the chart legend.</span></span> <span data-ttu-id="3fafe-145">Le paramètre `xValue` contient un tableau de données qui s’affiche le long de l’axe horizontal du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-145">The `xValue` parameter contains an array of data that's displayed along the horizontal axis of the chart.</span></span> <span data-ttu-id="3fafe-146">Le paramètre `yValues` contient un tableau de données utilisé pour tracer les points verticaux du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-146">The `yValues` parameter contains an array of data that's used to plot the vertical points of the chart.</span></span>

    <span data-ttu-id="3fafe-147">La méthode `Write` restitue en fait le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-147">The `Write` method actually renders the chart.</span></span> <span data-ttu-id="3fafe-148">Dans ce cas, étant donné que vous n’avez pas spécifié de type de graphique, le programme d’assistance `Chart` restitue son graphique par défaut, qui est un histogramme.</span><span class="sxs-lookup"><span data-stu-id="3fafe-148">In this case, because you didn't specify a chart type, the `Chart` helper renders its default chart, which is a column chart.</span></span>
3. <span data-ttu-id="3fafe-149">Exécutez la page dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-149">Run the page in the browser.</span></span> <span data-ttu-id="3fafe-150">Le navigateur affiche le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-150">The browser displays the chart.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image8.jpg)

### <a name="using-a-database-query-for-chart-data"></a><span data-ttu-id="3fafe-151">Utilisation d’une requête de base de données pour les données de graphique</span><span class="sxs-lookup"><span data-stu-id="3fafe-151">Using a Database Query for Chart Data</span></span>

<span data-ttu-id="3fafe-152">Si les informations que vous souhaitez représenter dans un graphique se trouvent dans une base de données, vous pouvez exécuter une requête de base de données, puis utiliser les données des résultats pour créer le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-152">If the information you want to chart is in a database, you can run a database query and then use data from the results to create the chart.</span></span> <span data-ttu-id="3fafe-153">Cette procédure vous montre comment lire et afficher les données de la base de données créée dans l’article [Introduction à l’utilisation d’une base de données dans des Sites pages Web ASP.net](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="3fafe-153">This procedure shows you how to read and display the data from the database created in the article [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>

1. <span data-ttu-id="3fafe-154">Ajoutez un dossier de *données d’application\_* à la racine du site Web si le dossier n’existe pas encore.</span><span class="sxs-lookup"><span data-stu-id="3fafe-154">Add an *App\_Data* folder to the root of the website if the folder does not already exist.</span></span>
2. <span data-ttu-id="3fafe-155">Dans le dossier *application\_Data* , ajoutez le fichier de base de données nommé *SmallBakery. sdf* qui est décrit dans [Introduction à l’utilisation d’une base de données dans des sites pages Web ASP.net](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="3fafe-155">In the *App\_Data* folder, add the database file named *SmallBakery.sdf* that's described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>
3. <span data-ttu-id="3fafe-156">Créez un nouveau fichier nommé *ChartDataQuery. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-156">Create a new file named *ChartDataQuery.cshtml*.</span></span>
4. <span data-ttu-id="3fafe-157">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-157">Replace the existing content with the following:</span></span>   

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample2.cshtml)]

    <span data-ttu-id="3fafe-158">Le code ouvre d’abord la base de données SmallBakery et l’attribue à une variable nommée `db`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-158">The code first opens the SmallBakery database and assigns it to a variable named `db`.</span></span> <span data-ttu-id="3fafe-159">Cette variable représente un objet `Database` qui peut être utilisé pour lire et écrire dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="3fafe-159">This variable represents a `Database` object that can be used to read from and write to the database.</span></span> <span data-ttu-id="3fafe-160">Ensuite, le code exécute une requête SQL pour obtenir le nom et le prix de chaque produit.</span><span class="sxs-lookup"><span data-stu-id="3fafe-160">Next, the code runs a SQL query to get the name and price of each product.</span></span> <span data-ttu-id="3fafe-161">Le code crée un nouveau graphique et lui transmet la requête de base de données en appelant la méthode `DataBindTable` du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-161">The code creates a new chart and passes the database query to it by calling the chart's `DataBindTable` method.</span></span> <span data-ttu-id="3fafe-162">Cette méthode prend deux paramètres : le paramètre `dataSource` pour les données de la requête, et le paramètre `xField` vous permet de définir la colonne de données qui est utilisée pour l’axe x du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-162">This method takes two parameters: the `dataSource` parameter is for the data from the query, and the `xField` parameter lets you set which data column is used for the chart's x-axis.</span></span>

    <span data-ttu-id="3fafe-163">En guise d’alternative à l’utilisation de la méthode `DataBindTable`, vous pouvez utiliser la méthode `AddSeries` de l’application auxiliaire `Chart`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-163">As an alternative to using the `DataBindTable` method, you can use the `AddSeries` method of the `Chart` helper.</span></span> <span data-ttu-id="3fafe-164">La méthode `AddSeries` vous permet de définir les paramètres `xValue` et `yValues`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-164">The `AddSeries` method lets you set the `xValue` and `yValues` parameters.</span></span> <span data-ttu-id="3fafe-165">Par exemple, au lieu d’utiliser la méthode `DataBindTable` comme suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-165">For example, instead of using the `DataBindTable` method like this:</span></span>

    [!code-css[Main](7-displaying-data-in-a-chart/samples/sample3.css)]

    <span data-ttu-id="3fafe-166">Vous pouvez utiliser la méthode `AddSeries` comme suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-166">You can use the `AddSeries` method like this:</span></span>

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample4.html)]

    <span data-ttu-id="3fafe-167">Les deux affichent les mêmes résultats.</span><span class="sxs-lookup"><span data-stu-id="3fafe-167">Both render the same results.</span></span> <span data-ttu-id="3fafe-168">La méthode `AddSeries` est plus flexible, car vous pouvez spécifier le type de graphique et les données de manière plus explicite, mais la méthode `DataBindTable` est plus facile à utiliser si vous n’avez pas besoin de la flexibilité supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="3fafe-168">The `AddSeries` method is more flexible because you can specify the chart type and data more explicitly, but the `DataBindTable` method is easier to use if you don't need the extra flexibility.</span></span>
5. <span data-ttu-id="3fafe-169">Exécutez la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-169">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image9.jpg)

### <a name="using-xml-data"></a><span data-ttu-id="3fafe-170">Utilisation de données XML</span><span class="sxs-lookup"><span data-stu-id="3fafe-170">Using XML Data</span></span>

<span data-ttu-id="3fafe-171">La troisième option pour l’utilisation de graphiques consiste à utiliser un fichier XML comme données pour le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-171">The third option for charting is to use an XML file as the data for the chart.</span></span> <span data-ttu-id="3fafe-172">Cela nécessite que le fichier XML ait également un fichier de schéma (fichier *. xsd* ) qui décrit la structure XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-172">This requires that the XML file also have a schema file (*.xsd* file) that describes the XML structure.</span></span> <span data-ttu-id="3fafe-173">Cette procédure vous montre comment lire des données à partir d’un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-173">This procedure shows you how to read data from an XML file.</span></span>

1. <span data-ttu-id="3fafe-174">Dans le dossier *application\_Data* , créez un nouveau fichier XML nommé *Data. xml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-174">In the *App\_Data* folder, create a new XML file named *data.xml*.</span></span>
2. <span data-ttu-id="3fafe-175">Remplacez le code XML existant par le code suivant, qui est une partie des données XML relatives aux employés d’une société fictive.</span><span class="sxs-lookup"><span data-stu-id="3fafe-175">Replace the existing XML with the following, which is some XML data about employees in a fictional company.</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample5.xml)]
3. <span data-ttu-id="3fafe-176">Dans le dossier de données de l' *application\_* , créez un nouveau fichier XML nommé *Data. xsd*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-176">In the *App\_Data* folder, create a new XML file named *data.xsd*.</span></span> <span data-ttu-id="3fafe-177">(Notez que cette fois, l’extension est *. xsd*.)</span><span class="sxs-lookup"><span data-stu-id="3fafe-177">(Note that the extension this time is *.xsd*.)</span></span>
4. <span data-ttu-id="3fafe-178">Remplacez le code XML existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-178">Replace the existing XML with the following:</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample6.xml)]
5. <span data-ttu-id="3fafe-179">À la racine du site Web, créez un nouveau fichier nommé *ChartDataXML. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-179">In the root of the website, create a new file named *ChartDataXML.cshtml*.</span></span>
6. <span data-ttu-id="3fafe-180">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-180">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample7.cshtml)]

    <span data-ttu-id="3fafe-181">Le code crée d’abord un objet `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-181">The code first creates a `DataSet` object.</span></span> <span data-ttu-id="3fafe-182">Cet objet permet de gérer les données lues à partir du fichier XML et de les organiser en fonction des informations contenues dans le fichier de schéma.</span><span class="sxs-lookup"><span data-stu-id="3fafe-182">This object is used to manage the data that's read from the XML file and organize it according to the information in the schema file.</span></span> <span data-ttu-id="3fafe-183">(Notez que le haut du code comprend l’instruction `using SystemData`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-183">(Notice that the top of the code includes the statement `using SystemData`.</span></span> <span data-ttu-id="3fafe-184">Cela est nécessaire pour pouvoir utiliser l’objet `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-184">This is required in order to be able to work with the `DataSet` object.</span></span> <span data-ttu-id="3fafe-185">Pour plus d’informations, consultez [&quot;l’utilisation des instructions&quot; et des noms complets](#SB_UsingStatements) plus loin dans cet article.)</span><span class="sxs-lookup"><span data-stu-id="3fafe-185">For more information, see [&quot;Using&quot; Statements and Fully Qualified Names](#SB_UsingStatements) later in this article.)</span></span>

    <span data-ttu-id="3fafe-186">Ensuite, le code crée un objet `DataView` en fonction du jeu de données.</span><span class="sxs-lookup"><span data-stu-id="3fafe-186">Next, the code creates a `DataView` object based on the dataset.</span></span> <span data-ttu-id="3fafe-187">La vue de &#8212; données fournit un objet auquel le graphique peut se lier, en lecture et en tracé.</span><span class="sxs-lookup"><span data-stu-id="3fafe-187">The data view provides an object that the chart can bind to &#8212; that is, read and plot.</span></span> <span data-ttu-id="3fafe-188">Le graphique est lié aux données à l’aide de la méthode `AddSeries`, comme vous l’avez vu précédemment lors de la création d’un graphique des données du tableau, sauf que cette fois, les paramètres `xValue` et `yValues` sont définis sur l’objet `DataView`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-188">The chart binds to the data using the `AddSeries` method, as you saw earlier when charting the array data, except that this time the `xValue` and `yValues` parameters are set to the `DataView` object.</span></span>

    <span data-ttu-id="3fafe-189">Cet exemple montre également comment spécifier un type de graphique particulier.</span><span class="sxs-lookup"><span data-stu-id="3fafe-189">This example also shows you how to specify a particular chart type.</span></span> <span data-ttu-id="3fafe-190">Lorsque les données sont ajoutées à la méthode `AddSeries`, le paramètre `chartType` est également défini pour afficher un graphique à secteurs.</span><span class="sxs-lookup"><span data-stu-id="3fafe-190">When the data is added in the `AddSeries` method, the `chartType` parameter is also set to display a pie chart.</span></span>
7. <span data-ttu-id="3fafe-191">Exécutez la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-191">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image10.jpg)

> [!TIP]
> 
> <a id="SB_UsingStatements"></a>
> ### <a name="using-statements-and-fully-qualified-names"></a><span data-ttu-id="3fafe-192">Instructions « using » et noms qualifiés complets</span><span class="sxs-lookup"><span data-stu-id="3fafe-192">"Using" Statements and Fully Qualified Names</span></span>
> 
> <span data-ttu-id="3fafe-193">La .NET Framework qui pages Web ASP.NET avec syntaxe Razor est basée sur plusieurs milliers de composants (classes).</span><span class="sxs-lookup"><span data-stu-id="3fafe-193">The .NET Framework that ASP.NET Web Pages with Razor syntax is based on consists of many thousands of components (classes).</span></span> <span data-ttu-id="3fafe-194">Pour faciliter la gestion de l’utilisation de toutes ces classes, celles-ci sont organisées en *espaces de noms*, qui sont comparables aux bibliothèques.</span><span class="sxs-lookup"><span data-stu-id="3fafe-194">To make it manageable to work with all these classes, they're organized into *namespaces*, which are somewhat like libraries.</span></span> <span data-ttu-id="3fafe-195">Par exemple, l’espace de noms `System.Web` contient des classes qui prennent en charge la communication entre le navigateur et le serveur, l’espace de noms `System.Xml` contient des classes utilisées pour créer et lire des fichiers XML, et l’espace de noms `System.Data` contient des classes qui vous permettent d’utiliser des données.</span><span class="sxs-lookup"><span data-stu-id="3fafe-195">For example, the `System.Web` namespace contains classes that support browser/server communication, the `System.Xml` namespace contains classes that are used to create and read XML files, and the `System.Data` namespace contains classes that let you work with data.</span></span>
> 
> <span data-ttu-id="3fafe-196">Pour accéder à une classe donnée dans le .NET Framework, le code doit connaître non seulement le nom de la classe, mais également l’espace de noms dans lequel se trouve la classe.</span><span class="sxs-lookup"><span data-stu-id="3fafe-196">In order to access any given class in the .NET Framework, code needs to know not just the class name, but also the namespace that the class is in.</span></span> <span data-ttu-id="3fafe-197">Par exemple, pour utiliser le programme d’assistance `Chart`, le code doit rechercher la classe `System.Web.Helpers.Chart`, qui associe l’espace de noms (`System.Web.Helpers`) au nom de la classe (`Chart`).</span><span class="sxs-lookup"><span data-stu-id="3fafe-197">For example, in order to use the `Chart` helper, code needs to find the `System.Web.Helpers.Chart` class, which combines the namespace (`System.Web.Helpers`) with the class name (`Chart`).</span></span> <span data-ttu-id="3fafe-198">C’est ce que l’on appelle le *nom* &#8212; complet de la classe son emplacement complet et non ambigu au sein de l’étendue de la .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3fafe-198">This is known as the class's *fully-qualified* name &#8212; its complete, unambiguous location within the vastness of the .NET Framework.</span></span> <span data-ttu-id="3fafe-199">Dans le code, cela ressemble à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-199">In code, this would look like the following:</span></span>
> 
> `var myChart = new System.Web.Helpers.Chart(width: 600, height: 400) // etc.`
> 
> <span data-ttu-id="3fafe-200">Toutefois, il est fastidieux (et sujet aux erreurs) de devoir utiliser ces noms longs et complets chaque fois que vous souhaitez faire référence à une classe ou à un programme d’assistance.</span><span class="sxs-lookup"><span data-stu-id="3fafe-200">However, it's cumbersome (and error prone) to have to use these long, fully-qualified names every time you want to refer to a class or helper.</span></span> <span data-ttu-id="3fafe-201">Par conséquent, pour faciliter l’utilisation des noms de classe, vous pouvez *Importer* les espaces de noms qui vous intéressent, qui est généralement une simple poignée parmi les nombreux espaces de noms du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3fafe-201">Therefore, to make it easier to use class names, you can *import* the namespaces you're interested in, which is usually is just a handful from among the many namespaces in the .NET Framework.</span></span> <span data-ttu-id="3fafe-202">Si vous avez importé un espace de noms, vous pouvez utiliser simplement un nom de classe (`Chart`) à la place du nom complet (`System.Web.Helpers.Chart`).</span><span class="sxs-lookup"><span data-stu-id="3fafe-202">If you've imported a namespace, you can use just a class name (`Chart`) instead of the fully qualified name (`System.Web.Helpers.Chart`).</span></span> <span data-ttu-id="3fafe-203">Lorsque votre code s’exécute et rencontre un nom de classe, il peut rechercher uniquement dans les espaces de noms que vous avez importés pour trouver cette classe.</span><span class="sxs-lookup"><span data-stu-id="3fafe-203">When your code runs and encounters a class name, it can look in just the namespaces you've imported to find that class.</span></span>
> 
> <span data-ttu-id="3fafe-204">Quand vous utilisez pages Web ASP.NET avec syntaxe Razor pour créer des pages Web, vous utilisez généralement le même ensemble de classes à chaque fois, y compris la classe `WebPage`, les différentes applications auxiliaires, etc.</span><span class="sxs-lookup"><span data-stu-id="3fafe-204">When you use ASP.NET Web Pages with Razor syntax to create web pages, you typically use the same set of classes each time, including the `WebPage` class, the various helpers, and so on.</span></span> <span data-ttu-id="3fafe-205">Pour vous faire gagner le travail d’importation des espaces de noms appropriés chaque fois que vous créez un site Web, ASP.NET est configuré de sorte qu’il importe automatiquement un ensemble d’espaces de noms de base pour chaque site Web.</span><span class="sxs-lookup"><span data-stu-id="3fafe-205">To save you the work of importing the relevant namespaces every time you create a website, ASP.NET is configured so it automatically imports a set of core namespaces for every website.</span></span> <span data-ttu-id="3fafe-206">C’est la raison pour laquelle vous n’avez pas eu à traiter les espaces de noms ou à importer jusqu’à maintenant. toutes les classes avec lesquelles vous avez travaillé se trouvent dans des espaces de noms qui sont déjà importés pour vous.</span><span class="sxs-lookup"><span data-stu-id="3fafe-206">That's why you haven't had to deal with namespaces or importing up to now; all the classes you've worked with are in namespaces that are already imported for you.</span></span>
> 
> <span data-ttu-id="3fafe-207">Toutefois, vous devez parfois travailler avec une classe qui ne se trouve pas dans un espace de noms qui est automatiquement importé pour vous.</span><span class="sxs-lookup"><span data-stu-id="3fafe-207">However, sometimes you need to work with a class that isn't in a namespace that's automatically imported for you.</span></span> <span data-ttu-id="3fafe-208">Dans ce cas, vous pouvez utiliser le nom qualifié complet de cette classe, ou vous pouvez importer manuellement l’espace de noms qui contient la classe.</span><span class="sxs-lookup"><span data-stu-id="3fafe-208">In that case, you can either use that class's fully-qualified name, or you can manually import the namespace that contains the class.</span></span> <span data-ttu-id="3fafe-209">Pour importer un espace de noms, vous utilisez l’instruction `using` (`import` dans Visual Basic), comme vous l’avez vu dans un exemple plus haut dans l’article.</span><span class="sxs-lookup"><span data-stu-id="3fafe-209">To import a namespace, you use the `using` statement (`import` in Visual Basic), as you saw in an example earlier the article.</span></span>
> 
> <span data-ttu-id="3fafe-210">Par exemple, la classe `DataSet` se trouve dans l’espace de noms `System.Data`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-210">For example, the `DataSet` class is in the `System.Data` namespace.</span></span> <span data-ttu-id="3fafe-211">L’espace de noms `System.Data` n’est pas automatiquement disponible pour les pages Razor ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3fafe-211">The `System.Data` namespace is not automatically available to ASP.NET Razor pages.</span></span> <span data-ttu-id="3fafe-212">Par conséquent, pour travailler avec la classe `DataSet` à l’aide de son nom qualifié complet, vous pouvez utiliser du code comme celui-ci :</span><span class="sxs-lookup"><span data-stu-id="3fafe-212">Therefore, to work with the `DataSet` class using its fully qualified name, you can use code like this:</span></span>
> 
> `var dataSet = new System.Data.DataSet();`
> 
> <span data-ttu-id="3fafe-213">Si vous devez utiliser la classe `DataSet` à plusieurs reprises, vous pouvez importer un espace de noms comme celui-ci, puis utiliser simplement le nom de la classe dans le code :</span><span class="sxs-lookup"><span data-stu-id="3fafe-213">If you have to use the `DataSet` class repeatedly you can import a namespace like this and then use just the class name in code:</span></span>
> 
> [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample8.cshtml)]
> 
> <span data-ttu-id="3fafe-214">Vous pouvez ajouter des instructions `using` pour tous les autres espaces de noms .NET Framework que vous souhaitez référencer.</span><span class="sxs-lookup"><span data-stu-id="3fafe-214">You can add `using` statements for any other .NET Framework namespaces that you want to reference.</span></span> <span data-ttu-id="3fafe-215">Toutefois, comme nous l’avons vu, vous n’aurez pas besoin de le faire souvent, car la plupart des classes avec lesquelles vous travaillerez se trouvent dans des espaces de noms importés automatiquement par ASP.NET pour une utilisation dans les pages *. cshtml* et *. vbhtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-215">However, as noted, you won't need to do this often, because most of the classes that you'll work with are in namespaces that are imported automatically by ASP.NET for use in *.cshtml* and *.vbhtml* pages.</span></span>

<a id="Displaying_Charts"></a>
## <a name="displaying-charts-inside-a-web-page"></a><span data-ttu-id="3fafe-216">Affichage de graphiques dans une page Web</span><span class="sxs-lookup"><span data-stu-id="3fafe-216">Displaying Charts Inside a Web Page</span></span>

<span data-ttu-id="3fafe-217">Dans les exemples que vous avez vus jusqu’à présent, vous créez un graphique, puis le graphique est rendu directement dans le navigateur sous la forme d’un graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-217">In the examples you've seen so far, you create a chart and then the chart is rendered directly to the browser as a graphic.</span></span> <span data-ttu-id="3fafe-218">Dans de nombreux cas, toutefois, vous souhaitez afficher un graphique en tant que partie d’une page, et non simplement dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-218">In many cases, though, you want to display a chart as part of a page, not just by itself in the browser.</span></span> <span data-ttu-id="3fafe-219">Pour ce faire, vous devez effectuer un processus en deux étapes.</span><span class="sxs-lookup"><span data-stu-id="3fafe-219">To do that requires a two-step process.</span></span> <span data-ttu-id="3fafe-220">La première étape consiste à créer une page qui génère le graphique, comme vous l’avez déjà vu.</span><span class="sxs-lookup"><span data-stu-id="3fafe-220">The first step is to create a page that generates the chart, as you've already seen.</span></span>

<span data-ttu-id="3fafe-221">La deuxième étape consiste à afficher l’image résultante dans une autre page.</span><span class="sxs-lookup"><span data-stu-id="3fafe-221">The second step is to display the resulting image in another page.</span></span> <span data-ttu-id="3fafe-222">Pour afficher l’image, vous utilisez un élément de `<img>` HTML, de la même façon que vous pouvez afficher une image.</span><span class="sxs-lookup"><span data-stu-id="3fafe-222">To display the image, you use an HTML `<img>` element, in the same way you would to display any image.</span></span> <span data-ttu-id="3fafe-223">Toutefois, au lieu de référencer un fichier. *jpg* ou *. png* , l’élément `<img>` fait référence au fichier *. cshtml* qui contient le programme d’assistance `Chart` qui crée le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-223">However, instead of referencing a *.jpg* or *.png* file, the `<img>` element references the *.cshtml* file that contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="3fafe-224">Lorsque la page d’affichage s’exécute, l’élément `<img>` obtient la sortie de l’application auxiliaire `Chart` et restitue le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-224">When the display page runs, the `<img>` element gets the output of the `Chart` helper and renders the chart.</span></span>

![](7-displaying-data-in-a-chart/_static/image11.jpg)

1. <span data-ttu-id="3fafe-225">Créez un fichier nommé *ShowChart. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-225">Create a file named *ShowChart.cshtml*.</span></span>
2. <span data-ttu-id="3fafe-226">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-226">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample9.html)]

    <span data-ttu-id="3fafe-227">Le code utilise l’élément `<img>` pour afficher le graphique que vous avez créé précédemment dans le fichier *ChartArrayBasic. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-227">The code uses the `<img>` element to display the chart that you created earlier in the *ChartArrayBasic.cshtml* file.</span></span>
3. <span data-ttu-id="3fafe-228">Exécutez la page Web dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-228">Run the web page in a browser.</span></span> <span data-ttu-id="3fafe-229">Le fichier *ShowChart. cshtml* affiche l’image du graphique en fonction du code contenu dans le fichier *ChartArrayBasic. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-229">The *ShowChart.cshtml* file displays the chart image based on the code contained in the *ChartArrayBasic.cshtml* file.</span></span>

<a id="Styling_a_Chart"></a>
## <a name="styling-a-chart"></a><span data-ttu-id="3fafe-230">Stylisation d’un graphique</span><span class="sxs-lookup"><span data-stu-id="3fafe-230">Styling a Chart</span></span>

<span data-ttu-id="3fafe-231">L’application auxiliaire `Chart` prend en charge un grand nombre d’options qui vous permettent de personnaliser l’apparence du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-231">The `Chart` helper supports a large number of options that let you customize the appearance of the chart.</span></span> <span data-ttu-id="3fafe-232">Vous pouvez définir des couleurs, des polices, des bordures, etc.</span><span class="sxs-lookup"><span data-stu-id="3fafe-232">You can set colors, fonts, borders, and so on.</span></span> <span data-ttu-id="3fafe-233">Un moyen simple de personnaliser l’apparence d’un graphique consiste à utiliser un *thème*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-233">An easy way to customize the appearance of a chart is to use a *theme*.</span></span> <span data-ttu-id="3fafe-234">Les thèmes sont des collections d'informations qui spécifient de quelle manière restituer un graphique à l'aide de couleurs, d'étiquettes, de palettes, de bordures et d'effets.</span><span class="sxs-lookup"><span data-stu-id="3fafe-234">Themes are collections of information that specify how to render a chart using fonts, colors, labels, palettes, borders, and effects.</span></span> <span data-ttu-id="3fafe-235">(Notez que le style d’un graphique n’indique pas le type de graphique.)</span><span class="sxs-lookup"><span data-stu-id="3fafe-235">(Note that the style of a chart does not indicate the type of chart.)</span></span>

<span data-ttu-id="3fafe-236">Le tableau suivant répertorie les thèmes intégrés.</span><span class="sxs-lookup"><span data-stu-id="3fafe-236">The following table lists built-in themes.</span></span>

| <span data-ttu-id="3fafe-237">Thème</span><span class="sxs-lookup"><span data-stu-id="3fafe-237">Theme</span></span> | <span data-ttu-id="3fafe-238">Description</span><span class="sxs-lookup"><span data-stu-id="3fafe-238">Description</span></span> |
| --- | --- |
| `Vanilla` | <span data-ttu-id="3fafe-239">Affiche les colonnes rouges sur un arrière-plan blanc.</span><span class="sxs-lookup"><span data-stu-id="3fafe-239">Displays red columns on a white background.</span></span> |
| `Blue` | <span data-ttu-id="3fafe-240">Affiche les colonnes bleues sur un arrière-plan dégradé bleu.</span><span class="sxs-lookup"><span data-stu-id="3fafe-240">Displays blue columns on a blue gradient background.</span></span> |
| `Green` | <span data-ttu-id="3fafe-241">Affiche les colonnes bleues sur un arrière-plan dégradé vert.</span><span class="sxs-lookup"><span data-stu-id="3fafe-241">Displays blue columns on a green gradient background.</span></span> |
| `Yellow` | <span data-ttu-id="3fafe-242">Affiche les colonnes orange sur un arrière-plan dégradé jaune.</span><span class="sxs-lookup"><span data-stu-id="3fafe-242">Displays orange columns on a yellow gradient background.</span></span> |
| `Vanilla3D` | <span data-ttu-id="3fafe-243">Affiche les colonnes rouges 3D sur un arrière-plan blanc.</span><span class="sxs-lookup"><span data-stu-id="3fafe-243">Displays 3-D red columns on a white background.</span></span> |

<span data-ttu-id="3fafe-244">Vous pouvez spécifier le thème à utiliser lorsque vous créez un nouveau graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-244">You can specify the theme to use when you create a new chart.</span></span>

1. <span data-ttu-id="3fafe-245">Créez un nouveau fichier nommé *ChartStyleGreen. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-245">Create a new file named *ChartStyleGreen.cshtml*.</span></span>
2. <span data-ttu-id="3fafe-246">Remplacez le contenu existant de la page par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-246">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample10.cshtml)]

    <span data-ttu-id="3fafe-247">Ce code est le même que dans l’exemple précédent qui utilise la base de données pour les données, mais il ajoute le paramètre `theme` lors de la création de l’objet `Chart`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-247">This code is the same as the earlier example that uses the database for data, but adds the `theme` parameter when it creates the `Chart` object.</span></span> <span data-ttu-id="3fafe-248">L’exemple suivant montre le code modifié :</span><span class="sxs-lookup"><span data-stu-id="3fafe-248">The following shows the changed code:</span></span>

    [!code-csharp[Main](7-displaying-data-in-a-chart/samples/sample11.cs)]
3. <span data-ttu-id="3fafe-249">Exécutez la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-249">Run the page in a browser.</span></span> <span data-ttu-id="3fafe-250">Vous voyez les mêmes données qu’avant, mais le graphique semble plus soigné :</span><span class="sxs-lookup"><span data-stu-id="3fafe-250">You see the same data as before, but the chart looks more polished:</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image12.jpg)

<a id="Saving_a_Chart"></a>
## <a name="saving-a-chart"></a><span data-ttu-id="3fafe-251">Enregistrement d’un graphique</span><span class="sxs-lookup"><span data-stu-id="3fafe-251">Saving a Chart</span></span>

<span data-ttu-id="3fafe-252">Lorsque vous utilisez le programme d’assistance `Chart` comme vous l’avez vu jusqu’à présent dans cet article, le programme d’assistance recrée le graphique à partir de zéro chaque fois qu’il est appelé.</span><span class="sxs-lookup"><span data-stu-id="3fafe-252">When you use the `Chart` helper as you've seen so far in this article, the helper re-creates the chart from scratch each time it's invoked.</span></span> <span data-ttu-id="3fafe-253">Si nécessaire, le code du graphique interroge également à nouveau la base de données ou relit le fichier XML pour obtenir les données.</span><span class="sxs-lookup"><span data-stu-id="3fafe-253">If necessary, the code for the chart also re-queries the database or re-reads the XML file to get the data.</span></span> <span data-ttu-id="3fafe-254">Dans certains cas, cette opération peut être complexe, par exemple si la base de données que vous interrogez est volumineuse ou si le fichier XML contient beaucoup de données.</span><span class="sxs-lookup"><span data-stu-id="3fafe-254">In some cases, doing this can be a complex operation, such as if the database that you're querying is large, or if the XML file contains a lot of data.</span></span> <span data-ttu-id="3fafe-255">Même si le graphique n’implique pas beaucoup de données, le processus de création dynamique d’une image prend en compte les ressources du serveur et, si de nombreuses personnes demandent la page ou les pages qui affichent le graphique, il peut y avoir un impact sur les performances de votre site Web.</span><span class="sxs-lookup"><span data-stu-id="3fafe-255">Even if the chart doesn't involve a lot of data, the process of dynamically creating an image takes up server resources, and if many people request the page or pages that display the chart, there can be an impact on the performance of your website.</span></span>

<span data-ttu-id="3fafe-256">Pour vous aider à réduire l’impact potentiel sur les performances de la création d’un graphique, vous pouvez créer un graphique la première fois que vous en avez besoin, puis l’enregistrer.</span><span class="sxs-lookup"><span data-stu-id="3fafe-256">To help you reduce the potential performance impact of creating a chart, you can create a chart the first time you need it and then save it.</span></span> <span data-ttu-id="3fafe-257">Lorsque le graphique est à nouveau nécessaire, au lieu de le régénérer, vous pouvez simplement extraire la version enregistrée et la rendre.</span><span class="sxs-lookup"><span data-stu-id="3fafe-257">When the chart is needed again, rather than regenerating it, you can just fetch the saved version and render that.</span></span>

<span data-ttu-id="3fafe-258">Vous pouvez enregistrer un graphique des manières suivantes :</span><span class="sxs-lookup"><span data-stu-id="3fafe-258">You can save a chart in these ways:</span></span>

- <span data-ttu-id="3fafe-259">Mettez en cache le graphique dans la mémoire de l’ordinateur (sur le serveur).</span><span class="sxs-lookup"><span data-stu-id="3fafe-259">Cache the chart in computer memory (on the server).</span></span>
- <span data-ttu-id="3fafe-260">Enregistrez le graphique en tant que fichier image.</span><span class="sxs-lookup"><span data-stu-id="3fafe-260">Save the chart as an image file.</span></span>
- <span data-ttu-id="3fafe-261">Enregistrez le graphique sous forme de fichier XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-261">Save the chart as an XML file.</span></span> <span data-ttu-id="3fafe-262">Cette option vous permet de modifier le graphique avant de l’enregistrer.</span><span class="sxs-lookup"><span data-stu-id="3fafe-262">This option lets you modify the chart before you save it.</span></span>

### <a name="caching-a-chart"></a><span data-ttu-id="3fafe-263">Mise en cache d’un graphique</span><span class="sxs-lookup"><span data-stu-id="3fafe-263">Caching a Chart</span></span>

<span data-ttu-id="3fafe-264">Une fois que vous avez créé un graphique, vous pouvez le mettre en cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-264">After you've created a chart, you can cache it.</span></span> <span data-ttu-id="3fafe-265">La mise en cache d’un graphique signifie qu’il n’est pas nécessaire de le recréer s’il doit être à nouveau affiché.</span><span class="sxs-lookup"><span data-stu-id="3fafe-265">Caching a chart means that it doesn't have to be re-created if it needs to be displayed again.</span></span> <span data-ttu-id="3fafe-266">Lorsque vous enregistrez un graphique dans le cache, vous lui donnez une clé qui doit être unique pour ce graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-266">When you save a chart in the cache, you give it a key that must be unique to that chart.</span></span>

<span data-ttu-id="3fafe-267">Les graphiques enregistrés dans le cache peuvent être supprimés si le serveur ne dispose pas de suffisamment de mémoire.</span><span class="sxs-lookup"><span data-stu-id="3fafe-267">Charts saved to the cache might be removed if the server runs low on memory.</span></span> <span data-ttu-id="3fafe-268">En outre, le cache est effacé si votre application redémarre pour une raison quelconque.</span><span class="sxs-lookup"><span data-stu-id="3fafe-268">In addition, the cache is cleared if your application restarts for any reason.</span></span> <span data-ttu-id="3fafe-269">Par conséquent, la méthode standard pour travailler avec un graphique mis en cache consiste à toujours vérifier d’abord si elle est disponible dans le cache et, si ce n’est pas le cas, à la créer ou à la recréer.</span><span class="sxs-lookup"><span data-stu-id="3fafe-269">Therefore, the standard way to work with a cached chart is to always check first whether it's available in the cache, and if not, then to create or re-create it.</span></span>

1. <span data-ttu-id="3fafe-270">À la racine de votre site Web, créez un fichier nommé *ShowCachedChart. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-270">At the root of your website, create a file named *ShowCachedChart.cshtml*.</span></span>
2. <span data-ttu-id="3fafe-271">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-271">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample12.html)]

    <span data-ttu-id="3fafe-272">La balise `<img>` comprend un attribut `src` qui pointe vers le fichier *ChartSaveToCache. cshtml* et transmet une clé à la page sous la forme d’une chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="3fafe-272">The `<img>` tag includes a `src` attribute that points to the *ChartSaveToCache.cshtml* file and passes a key to the page as a query string.</span></span> <span data-ttu-id="3fafe-273">La clé contient la valeur &quot;&quot;myChartKey.</span><span class="sxs-lookup"><span data-stu-id="3fafe-273">The key contains the value &quot;myChartKey&quot;.</span></span> <span data-ttu-id="3fafe-274">Le fichier *ChartSaveToCache. cshtml* contient le programme d’assistance `Chart` qui crée le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-274">The *ChartSaveToCache.cshtml* file contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="3fafe-275">Vous allez créer cette page dans un moment.</span><span class="sxs-lookup"><span data-stu-id="3fafe-275">You'll create this page in a moment.</span></span>

    <span data-ttu-id="3fafe-276">À la fin de la page, il y a un lien vers une page nommée *ClearCache. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-276">At the end of the page there's a link to a page named *ClearCache.cshtml*.</span></span> <span data-ttu-id="3fafe-277">Il s’agit d’une page que vous allez également créer bientôt.</span><span class="sxs-lookup"><span data-stu-id="3fafe-277">That's a page that you'll also create shortly.</span></span> <span data-ttu-id="3fafe-278">Vous avez besoin de *ClearCache. cshtml* uniquement pour tester la mise en cache pour cet exemple : il ne s’agit pas d’un lien ou d’une page que vous auriez normalement inclus lors de l’utilisation de graphiques mis en cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-278">You need the *ClearCache.cshtml* only to test caching for this example — it's not a link or page that you'd normally include when working with cached charts.</span></span>
3. <span data-ttu-id="3fafe-279">À la racine de votre site Web, créez un nouveau fichier nommé *ChartSaveToCache. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-279">At the root of your website, create a new file named *ChartSaveToCache.cshtml*.</span></span>
4. <span data-ttu-id="3fafe-280">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-280">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample13.cshtml)]

    <span data-ttu-id="3fafe-281">Le code vérifie d’abord si quelque chose a été passé comme valeur de clé dans la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="3fafe-281">The code first checks whether anything was passed as the key value in the query string.</span></span> <span data-ttu-id="3fafe-282">Si c’est le cas, le code essaie de lire un graphique en dehors du cache en appelant la méthode `GetFromCache` et en lui passant la clé.</span><span class="sxs-lookup"><span data-stu-id="3fafe-282">If so, the code tries to read a chart out of the cache by calling the `GetFromCache` method and passing it the key.</span></span> <span data-ttu-id="3fafe-283">S’il s’avère qu’il n’y a rien dans le cache sous cette clé (ce qui se produit la première fois que le graphique est demandé), le code crée le graphique comme d’habitude.</span><span class="sxs-lookup"><span data-stu-id="3fafe-283">If it turns out that there's nothing in the cache under that key (which would happen the first time that the chart is requested), the code creates the chart as usual.</span></span> <span data-ttu-id="3fafe-284">Une fois le graphique terminé, le code l’enregistre dans le cache en appelant `SaveToCache`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-284">When the chart is finished, the code saves it to the cache by calling `SaveToCache`.</span></span> <span data-ttu-id="3fafe-285">Cette méthode requiert une clé (afin que le graphique puisse être demandé ultérieurement) et la durée pendant laquelle le graphique doit être enregistré dans le cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-285">That method requires a key (so the chart can be requested later), and the amount of time that the chart should be saved in the cache.</span></span> <span data-ttu-id="3fafe-286">(L’heure exacte de mise en cache d’un graphique dépend de la fréquence à laquelle vous pensiez que les données qu’il représente peuvent changer.) La méthode `SaveToCache` nécessite également un paramètre &#8212; `slidingExpiration` si cette propriété a la valeur true, le compteur de délai d’attente est réinitialisé chaque fois que l’utilisateur accède au graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-286">(The exact time you'd cache a chart would depend on how often you thought the data it represents might change.) The `SaveToCache` method also requires a `slidingExpiration` parameter &#8212; if this is set to true, the timeout counter is reset each time the chart is accessed.</span></span> <span data-ttu-id="3fafe-287">Dans ce cas, cela signifie que l’entrée de cache du graphique expire 2 minutes après la dernière fois qu’un utilisateur a accédé au graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-287">In this case, it in effect means that the chart's cache entry expires 2 minutes after the last time someone accessed the chart.</span></span> <span data-ttu-id="3fafe-288">(L’alternative à l’expiration décalée est l’expiration absolue, ce qui signifie que l’entrée de cache expire exactement 2 minutes après qu’elle a été placée dans le cache, quelle que soit la fréquence d’accès.)</span><span class="sxs-lookup"><span data-stu-id="3fafe-288">(The alternative to sliding expiration is absolute expiration, meaning that the cache entry would expire exactly 2 minutes after it was put into the cache, no matter how often it had been accessed.)</span></span>

    <span data-ttu-id="3fafe-289">Enfin, le code utilise la méthode `WriteFromCache` pour extraire et restituer le graphique à partir du cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-289">Finally, the code uses the `WriteFromCache` method to fetch and render the chart from the cache.</span></span> <span data-ttu-id="3fafe-290">Notez que cette méthode est à l’extérieur du bloc `if` qui vérifie le cache, car elle obtient le graphique du cache, que le graphique y soit ou ait dû être généré et enregistré dans le cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-290">Note that this method is outside the `if` block that checks the cache, because it will get the chart from the cache whether the chart was there to begin with or had to be generated and saved in the cache.</span></span>

    <span data-ttu-id="3fafe-291">Notez que dans l’exemple, la méthode `AddTitle` comprend un horodatage.</span><span class="sxs-lookup"><span data-stu-id="3fafe-291">Notice that in the example, the `AddTitle` method includes a timestamp.</span></span> <span data-ttu-id="3fafe-292">(Elle ajoute la date et l’heure &#8212; actuelles &#8212; `DateTime.Now` au titre.)</span><span class="sxs-lookup"><span data-stu-id="3fafe-292">(It adds the current date and time &#8212; `DateTime.Now` &#8212; to the title.)</span></span>
5. <span data-ttu-id="3fafe-293">Créez une nouvelle page nommée *ClearCache. cshtml* et remplacez son contenu par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-293">Create a new page named *ClearCache.cshtml* and replace its content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample14.cshtml)]

    <span data-ttu-id="3fafe-294">Cette page utilise le programme d’assistance `WebCache` pour supprimer le graphique mis en cache dans *ChartSaveToCache. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-294">This page uses the `WebCache` helper to remove the chart that's cached in *ChartSaveToCache.cshtml*.</span></span> <span data-ttu-id="3fafe-295">Comme indiqué précédemment, vous n’avez normalement pas besoin d’une page comme celle-ci.</span><span class="sxs-lookup"><span data-stu-id="3fafe-295">As noted earlier, you don't normally have to have a page like this.</span></span> <span data-ttu-id="3fafe-296">Vous la créez ici uniquement pour faciliter le test de la mise en cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-296">You're creating it here only to make it easier to test caching.</span></span>
6. <span data-ttu-id="3fafe-297">Exécutez la page Web *ShowCachedChart. cshtml* dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-297">Run the *ShowCachedChart.cshtml* web page in a browser.</span></span> <span data-ttu-id="3fafe-298">La page affiche l’image de graphique en fonction du code contenu dans le fichier *ChartSaveToCache. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-298">The page displays the chart image based on the code contained in the *ChartSaveToCache.cshtml* file.</span></span> <span data-ttu-id="3fafe-299">Prenez note de ce que l’horodateur indique dans le titre du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-299">Take note of what the timestamp says in the chart title.</span></span> 

    ![Description : image du graphique de base avec un horodateur dans le titre du graphique](7-displaying-data-in-a-chart/_static/image13.jpg)
7. <span data-ttu-id="3fafe-301">Fermez le navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-301">Close the browser.</span></span>
8. <span data-ttu-id="3fafe-302">Réexécutez *ShowCachedChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-302">Run the *ShowCachedChart.cshtml* again.</span></span> <span data-ttu-id="3fafe-303">Notez que l’horodateur est le même que précédemment, ce qui indique que le graphique n’a pas été régénéré, mais qu’il a été lu à la place à partir du cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-303">Notice that the timestamp is the same as before, which indicates that the chart was not regenerated, but was instead read from the cache.</span></span>
9. <span data-ttu-id="3fafe-304">Dans *ShowCachedChart. cshtml*, cliquez sur le lien **effacer le cache** .</span><span class="sxs-lookup"><span data-stu-id="3fafe-304">In *ShowCachedChart.cshtml*, click the **Clear cache** link.</span></span> <span data-ttu-id="3fafe-305">Vous accédez alors à *ClearCache. cshtml*, qui indique que le cache a été effacé.</span><span class="sxs-lookup"><span data-stu-id="3fafe-305">This takes you to *ClearCache.cshtml*, which reports that the cache has been cleared.</span></span>
10. <span data-ttu-id="3fafe-306">Cliquez sur le lien **revenir à ShowCachedChart. cshtml** ou réexécutez *ShowCachedChart. cshtml* à partir de WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="3fafe-306">Click the **Return to ShowCachedChart.cshtml** link, or re-run *ShowCachedChart.cshtml* from WebMatrix.</span></span> <span data-ttu-id="3fafe-307">Notez que cette fois, l’horodateur a changé, car le cache a été effacé.</span><span class="sxs-lookup"><span data-stu-id="3fafe-307">Notice that this time the timestamp has changed, because the cache has been cleared.</span></span> <span data-ttu-id="3fafe-308">Par conséquent, le code devait régénérer le graphique et le remettre dans le cache.</span><span class="sxs-lookup"><span data-stu-id="3fafe-308">Therefore, the code had to regenerate the chart and put it back into the cache.</span></span>

### <a name="saving-a-chart-as-an-image-file"></a><span data-ttu-id="3fafe-309">Enregistrement d’un graphique en tant que fichier image</span><span class="sxs-lookup"><span data-stu-id="3fafe-309">Saving a Chart as an Image File</span></span>

<span data-ttu-id="3fafe-310">Vous pouvez également enregistrer un graphique en tant que fichier image (par exemple, sous la forme d’un fichier *. jpg* ) sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-310">You can also save a chart as an image file (for example, as a *.jpg* file) on the server.</span></span> <span data-ttu-id="3fafe-311">Vous pouvez ensuite utiliser le fichier image comme vous le feriez pour une image.</span><span class="sxs-lookup"><span data-stu-id="3fafe-311">You can then use the image file the way you would any image.</span></span> <span data-ttu-id="3fafe-312">L’avantage est que le fichier est stocké au lieu d’être enregistré dans un cache temporaire.</span><span class="sxs-lookup"><span data-stu-id="3fafe-312">The advantage is the file is stored rather than saved to a temporary cache.</span></span> <span data-ttu-id="3fafe-313">Vous pouvez enregistrer une nouvelle image de graphique à des moments différents (par exemple, toutes les heures), puis conserver un enregistrement permanent des modifications qui se produisent dans le temps.</span><span class="sxs-lookup"><span data-stu-id="3fafe-313">You can save a new chart image at different times (for example, every hour) and then keep a permanent record of the changes that occur over time.</span></span> <span data-ttu-id="3fafe-314">Notez que vous devez vous assurer que votre application Web est autorisée à enregistrer un fichier dans le dossier sur le serveur où vous souhaitez placer le fichier image.</span><span class="sxs-lookup"><span data-stu-id="3fafe-314">Note that you must make sure that your web application has permission to save a file to the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="3fafe-315">À la racine de votre site Web, créez un dossier nommé *\_ChartFiles* s’il n’existe pas déjà.</span><span class="sxs-lookup"><span data-stu-id="3fafe-315">At the root of your website, create a folder named *\_ChartFiles* if it does not already exist.</span></span>
2. <span data-ttu-id="3fafe-316">À la racine de votre site Web, créez un nouveau fichier nommé *ChartSave. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-316">At the root of your website, create a new file named *ChartSave.cshtml*.</span></span>
3. <span data-ttu-id="3fafe-317">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-317">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample15.cshtml)]

    <span data-ttu-id="3fafe-318">Le code vérifie d’abord si le fichier *. jpg* existe en appelant la méthode `File.Exists`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-318">The code first checks to see whether the *.jpg* file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="3fafe-319">Si le fichier n’existe pas, le code crée un nouveau `Chart` à partir d’un tableau.</span><span class="sxs-lookup"><span data-stu-id="3fafe-319">If the file does not exist, the code creates a new `Chart` from an array.</span></span> <span data-ttu-id="3fafe-320">Cette fois-ci, le code appelle la méthode `Save` et passe le paramètre `path` pour spécifier le chemin d’accès et le nom de fichier de l’emplacement où enregistrer le graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-320">This time, the code calls the `Save` method and passes the `path` parameter to specify the file path and file name of where to save the chart.</span></span> <span data-ttu-id="3fafe-321">Dans le corps de la page, un élément `<img>` utilise le chemin d’accès pour pointer vers le fichier *. jpg* à afficher.</span><span class="sxs-lookup"><span data-stu-id="3fafe-321">In the body of the page, an `<img>` element uses the path to point to the *.jpg* file to display.</span></span>
4. <span data-ttu-id="3fafe-322">Exécutez le fichier *ChartSave. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-322">Run the *ChartSave.cshtml* file.</span></span>
5. <span data-ttu-id="3fafe-323">Revenez à WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="3fafe-323">Return to WebMatrix.</span></span> <span data-ttu-id="3fafe-324">Notez qu’un fichier image nommé *chart01. jpg* a été enregistré dans le dossier *\_ChartFiles* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-324">Notice that an image file named *chart01.jpg* has been saved in the *\_ChartFiles* folder.</span></span>

### <a name="saving-a-chart-as-an-xml-file"></a><span data-ttu-id="3fafe-325">Enregistrement d’un graphique en tant que fichier XML</span><span class="sxs-lookup"><span data-stu-id="3fafe-325">Saving a Chart as an XML File</span></span>

<span data-ttu-id="3fafe-326">Enfin, vous pouvez enregistrer un graphique sous la forme d’un fichier XML sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-326">Finally, you can save a chart as an XML file on the server.</span></span> <span data-ttu-id="3fafe-327">L’avantage de cette méthode par rapport à la mise en cache du graphique ou à l’enregistrement du graphique dans un fichier est que vous pouvez modifier le code XML avant d’afficher le graphique si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="3fafe-327">An advantage of using this method over caching the chart or saving the chart to a file is that you could modify the XML before displaying the chart if you wanted to.</span></span> <span data-ttu-id="3fafe-328">Votre application doit avoir des autorisations de lecture/écriture pour le dossier sur le serveur sur lequel vous souhaitez placer le fichier image.</span><span class="sxs-lookup"><span data-stu-id="3fafe-328">Your application has to have read/write permissions for the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="3fafe-329">À la racine de votre site Web, créez un nouveau fichier nommé *ChartSaveXml. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3fafe-329">At the root of your website, create a new file named *ChartSaveXml.cshtml*.</span></span>
2. <span data-ttu-id="3fafe-330">Remplacez le contenu existant par ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3fafe-330">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample16.cshtml)]

    <span data-ttu-id="3fafe-331">Ce code est similaire au code que vous avez vu précédemment pour le stockage d’un graphique dans le cache, à ceci près qu’il utilise un fichier XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-331">This code is similar to the code that you saw earlier for storing a chart in the cache, except that it uses an XML file.</span></span> <span data-ttu-id="3fafe-332">Le code vérifie d’abord si le fichier XML existe en appelant la méthode `File.Exists`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-332">The code first checks to see whether the XML file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="3fafe-333">Si le fichier existe, le code crée un nouvel objet `Chart` et passe le nom de fichier en tant que paramètre `themePath`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-333">If the file does exist, the code creates a new `Chart` object and passes the file name as the `themePath` parameter.</span></span> <span data-ttu-id="3fafe-334">Cela crée le graphique en fonction de ce qui se trouve dans le fichier XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-334">This creates the chart based on whatever's in the XML file.</span></span> <span data-ttu-id="3fafe-335">Si le fichier XML n’existe pas encore, le code crée un graphique comme normal, puis appelle `SaveXml` pour l’enregistrer.</span><span class="sxs-lookup"><span data-stu-id="3fafe-335">If the XML file doesn't already exist, the code creates a chart like normal and then calls `SaveXml` to save it.</span></span> <span data-ttu-id="3fafe-336">Le graphique est rendu à l’aide de la méthode `Write`, comme vous l’avez vu précédemment.</span><span class="sxs-lookup"><span data-stu-id="3fafe-336">The chart is rendered using the `Write` method, as you've seen before.</span></span>

    <span data-ttu-id="3fafe-337">Comme pour la page qui a montré la mise en cache, ce code comprend un horodateur dans le titre du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-337">As with the page that showed caching, this code includes a timestamp in the chart title.</span></span>
3. <span data-ttu-id="3fafe-338">Créez une nouvelle page nommée *ChartDisplayXMLChart. cshtml* et ajoutez-lui le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="3fafe-338">Create a new page named *ChartDisplayXMLChart.cshtml* and add the following markup to it:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample17.html)]
4. <span data-ttu-id="3fafe-339">Exécutez la page *ChartDisplayXMLChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-339">Run the *ChartDisplayXMLChart.cshtml* page.</span></span> <span data-ttu-id="3fafe-340">Le graphique est affiché.</span><span class="sxs-lookup"><span data-stu-id="3fafe-340">The chart is displayed.</span></span> <span data-ttu-id="3fafe-341">Prenez note de l’horodateur dans le titre du graphique.</span><span class="sxs-lookup"><span data-stu-id="3fafe-341">Take note of the timestamp in the chart's title.</span></span>
5. <span data-ttu-id="3fafe-342">Fermez le navigateur.</span><span class="sxs-lookup"><span data-stu-id="3fafe-342">Close the browser.</span></span>
6. <span data-ttu-id="3fafe-343">Dans WebMatrix, cliquez avec le bouton droit sur le dossier *\_ChartFiles* , cliquez sur **Actualiser**, puis ouvrez le dossier.</span><span class="sxs-lookup"><span data-stu-id="3fafe-343">In WebMatrix, right-click the *\_ChartFiles* folder, click **Refresh**, and then open the folder.</span></span> <span data-ttu-id="3fafe-344">Le fichier *XMLChart. xml* de ce dossier a été créé par le programme d’assistance `Chart`.</span><span class="sxs-lookup"><span data-stu-id="3fafe-344">The *XMLChart.xml* file in this folder was created by the `Chart` helper.</span></span> 

    ![Description : le dossier _ChartFiles qui indique le fichier XMLChart. XML créé par le programme d’assistance du graphique.](7-displaying-data-in-a-chart/_static/image14.jpg)
7. <span data-ttu-id="3fafe-346">Réexécutez la page *ChartDisplayXMLChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-346">Run the *ChartDisplayXMLChart.cshtml* page again.</span></span> <span data-ttu-id="3fafe-347">Le graphique affiche le même horodatage que la première fois que vous exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="3fafe-347">The chart shows the same timestamp as the first time you ran the page.</span></span> <span data-ttu-id="3fafe-348">Cela est dû au fait que le graphique est généré à partir du code XML que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="3fafe-348">That's because the chart is being generated from the XML you saved earlier.</span></span>
8. <span data-ttu-id="3fafe-349">Dans WebMatrix, ouvrez le dossier *\_ChartFiles* et supprimez le fichier *XMLChart. xml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-349">In WebMatrix, open the *\_ChartFiles* folder and delete the *XMLChart.xml* file.</span></span>
9. <span data-ttu-id="3fafe-350">Réexécutez la page *ChartDisplayXMLChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3fafe-350">Run the *ChartDisplayXMLChart.cshtml* page once more.</span></span> <span data-ttu-id="3fafe-351">Cette fois-ci, l’horodateur est mis à jour, car le `Chart` Helper devait recréer le fichier XML.</span><span class="sxs-lookup"><span data-stu-id="3fafe-351">This time, the timestamp is updated, because the `Chart` helper had to recreate the XML file.</span></span> <span data-ttu-id="3fafe-352">Si vous le souhaitez, vérifiez le dossier *\_ChartFiles* et notez que le fichier XML est de retour.</span><span class="sxs-lookup"><span data-stu-id="3fafe-352">If you want, check the *\_ChartFiles* folder and notice that the XML file is back.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="3fafe-353">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="3fafe-353">Additional Resources</span></span>

- [<span data-ttu-id="3fafe-354">Présentation de l’utilisation d’une base de données dans des sites pages Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3fafe-354">Introduction to Working with a Database in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=202893)
- [<span data-ttu-id="3fafe-355">Utilisation de la mise en cache dans les sites pages Web ASP.NET pour améliorer les performances</span><span class="sxs-lookup"><span data-stu-id="3fafe-355">Using Caching in ASP.NET Web Pages Sites to Improve Performance</span></span>](https://go.microsoft.com/fwlink/?LinkId=202903)
- <span data-ttu-id="3fafe-356">[Chart, classe](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (référence des API pages Web ASP.net sur MSDN)</span><span class="sxs-lookup"><span data-stu-id="3fafe-356">[Chart Class](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages API reference on MSDN)</span></span>
