---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Utilisation des formulaires HTML dans des Sites ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: Un formulaire est une section d’un document HTML dans laquelle vous placez des contrôles d’entrée de l’utilisateur, telles que les zones de texte, les cases à cocher, les cases d’option et les listes déroulantes. Vous utilisez des formulaires lorsqu...
ms.author: riande
ms.date: 02/10/2014
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: 680739cbcf54bc9ca7a3bd8167d043ff537eaad5
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59417531"
---
# <a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="ea0f4-104">Utilisation des formulaires HTML dans les Sites ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="ea0f4-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="ea0f4-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="ea0f4-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="ea0f4-106">Cet article décrit comment traiter un formulaire HTML (avec des boutons et des zones de texte) lorsque vous travaillez dans un site Web ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="ea0f4-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> **<span data-ttu-id="ea0f4-107">Ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-107">What you'll learn:</span></span>** 
> 
> - <span data-ttu-id="ea0f4-108">Comment créer un formulaire HTML.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="ea0f4-109">Guide pratique pour lire l’entrée d’utilisateur à partir du formulaire.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="ea0f4-110">Guide pratique pour valider l’entrée utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-110">How to validate user input.</span></span>
> - <span data-ttu-id="ea0f4-111">Comment restaurer les valeurs de formulaire après l’envoi de la page.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="ea0f4-112">Il s’agit des concepts présentés dans l’article de programmation ASP.NET :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="ea0f4-113">Objet `Request`.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-113">The `Request` object.</span></span>
> - <span data-ttu-id="ea0f4-114">Validation des entrées.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-114">Input validation.</span></span>
> - <span data-ttu-id="ea0f4-115">Codage HTML.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="ea0f4-116">Versions des logiciels utilisées dans le didacticiel</span><span class="sxs-lookup"><span data-stu-id="ea0f4-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="ea0f4-117">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="ea0f4-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="ea0f4-118">Ce didacticiel fonctionne également avec ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>


## <a name="creating-a-simple-html-form"></a><span data-ttu-id="ea0f4-119">Création d’un formulaire HTML Simple</span><span class="sxs-lookup"><span data-stu-id="ea0f4-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="ea0f4-120">Créer un nouveau site Web.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-120">Create a new website.</span></span>
2. <span data-ttu-id="ea0f4-121">Dans le dossier racine, créez une page web nommée *Form.cshtml* et entrez le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="ea0f4-122">Lancer la page dans votre navigateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-122">Launch the page in your browser.</span></span> <span data-ttu-id="ea0f4-123">(Dans WebMatrix, dans le **fichiers** espace de travail, cliquez sur le fichier, puis sélectionnez **lancer dans le navigateur**.) Un formulaire simple avec trois champs d’entrée et un **envoyer** bouton s’affiche.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Capture d’écran d’un formulaire avec trois zones de texte.](4-working-with-forms/_static/image1.jpg)

    <span data-ttu-id="ea0f4-125">À ce stade, si vous cliquez sur le **envoyer** bouton, rien ne se produit.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="ea0f4-126">Pour que le formulaire soit utile, vous devez ajouter du code qui s’exécutera sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="ea0f4-127">Lecture de l’entrée utilisateur à partir du formulaire</span><span class="sxs-lookup"><span data-stu-id="ea0f4-127">Reading User Input from the Form</span></span>

<span data-ttu-id="ea0f4-128">Pour traiter le formulaire, vous ajoutez le code qui lit les valeurs de champ soumis et fait quelque chose avec eux.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="ea0f4-129">Cette procédure vous montre comment lire les champs et afficher l’entrée d’utilisateur sur la page.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="ea0f4-130">(Dans une application de production, vous le faites généralement plus intéressant avec les entrées utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="ea0f4-131">Vous le ferez dans l’article sur l’utilisation des bases de données.)</span><span class="sxs-lookup"><span data-stu-id="ea0f4-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="ea0f4-132">En haut de la *Form.cshtml* de fichier, entrez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="ea0f4-133">Lorsque l’utilisateur demande tout d’abord la page, seul le formulaire vide s’affiche.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="ea0f4-134">L’utilisateur (qui sera vous) remplit le formulaire, puis sur **envoyer**.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="ea0f4-135">Cela envoie (publie) l’entrée utilisateur pour le serveur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="ea0f4-136">Par défaut, la demande est transmise à la même page (à savoir, *Form.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="ea0f4-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="ea0f4-137">Lorsque vous envoyez la page de ce temps, les valeurs que vous avez entré sont affichent juste au-dessus de la forme :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Capture d’écran montrant les valeurs que vous avez entré affichées sur la page.](4-working-with-forms/_static/image2.jpg)

    <span data-ttu-id="ea0f4-139">Examinez le code de la page.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-139">Look at the code for the page.</span></span> <span data-ttu-id="ea0f4-140">Vous utilisez d’abord la `IsPost` méthode pour déterminer si la page est en cours de publication &#8212; , autrement dit, si un utilisateur a cliqué sur le **envoyer** bouton.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="ea0f4-141">S’il s’agit d’un billet, `IsPost` retourne la valeur true.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="ea0f4-142">Il s’agit de la méthode standard dans les Pages Web ASP.NET pour déterminer si vous travaillez avec une demande initiale (une requête GET) ou une publication (postback) (une requête POST).</span><span class="sxs-lookup"><span data-stu-id="ea0f4-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="ea0f4-143">(Pour plus d’informations sur GET et POST, consultez l’encadré « HTTP GET et POST et le IsPost Property » dans [Introduction à ASP.NET Web Pages programmation à l’aide de la syntaxe Razor](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span><span class="sxs-lookup"><span data-stu-id="ea0f4-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="ea0f4-144">Ensuite, vous obtenez les valeurs que l’utilisateur a renseigné à partir de la `Request.Form` objet et vous les placez dans des variables pour une utilisation ultérieure.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="ea0f4-145">Le `Request.Form` objet contient toutes les valeurs qui ont été envoyés avec la page, chacune étant identifiée par une clé.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="ea0f4-146">La clé est l’équivalent de la `name` attribut du champ de formulaire que vous souhaitez lire.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="ea0f4-147">Par exemple, pour lire le `companyname` champ (zone de texte), vous utilisez `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="ea0f4-148">Les valeurs de formulaire sont stockées dans le `Request.Form` objet sous forme de chaînes.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="ea0f4-149">Par conséquent, lorsque vous devez travailler avec une valeur sous forme d’un nombre ou une date ou un autre type, vous devez convertir une chaîne à ce type.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="ea0f4-150">Dans l’exemple, le `AsInt` méthode de la `Request.Form` est utilisé pour convertir la valeur du champ employés (qui contient un nombre d’employés) en un entier.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="ea0f4-151">Lancer la page dans votre navigateur, renseignez les champs de formulaire, puis cliquez sur **envoyer**.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="ea0f4-152">La page affiche les valeurs que vous avez entré.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="ea0f4-153">Encodage pour l’apparence et la sécurité HTML</span><span class="sxs-lookup"><span data-stu-id="ea0f4-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="ea0f4-154">HTML a des utilisations spéciales pour les caractères tels que `<`, `>`, et `&`.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="ea0f4-155">Si ces caractères spéciaux s’affiche, où elles ne sont pas attendues, ils peuvent endommager l’apparence et les fonctionnalités de votre page web.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="ea0f4-156">Par exemple, le navigateur interprète le `<` de caractères (sauf s’il est suivi par un espace) comme le début d’un élément HTML, comme `<b>` ou `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="ea0f4-157">Si le navigateur ne reconnaît pas l’élément, il ignore simplement la chaîne qui commence par `<` jusqu'à atteindre quelque chose qui il reconnaît à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="ea0f4-158">Évidemment, cela peut entraîner certaines bizarre rendu dans la page.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="ea0f4-159">L’encodage HTML remplace les caractères réservés suivants avec un code de navigateurs interprètent en tant que le symbole correct.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="ea0f4-160">Par exemple, le `<` est remplacé par `&lt;` et `>` est remplacé par `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="ea0f4-161">Le navigateur restitue ces chaînes de remplacement en tant que les caractères que vous souhaitez voir.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="ea0f4-162">Il est judicieux d’utiliser n’importe quel moment vous affichez les chaînes de codage HTML (entrée) que vous avez obtenu à partir d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="ea0f4-163">Si vous n’est pas le cas, un utilisateur peut essayer d’obtenir votre page web pour exécuter un script malveillant ou de faire autre chose qui peut compromettre la sécurité de votre site ou qui n’est pas seulement à vos attentes.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="ea0f4-164">(Cela est particulièrement important si d’entrée d’utilisateur, de les stocker un endroit et de les afficher ultérieurement &#8212; comme par exemple, un commentaire de blog, de révision de l’utilisateur ou quelque chose de similaire à celle.)</span><span class="sxs-lookup"><span data-stu-id="ea0f4-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="ea0f4-165">Pour aider à éviter ces problèmes, ASP.NET Web Pages automatiquement au format HTML n’importe quel texte de contenu que vous avez la sortie à partir de votre code.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="ea0f4-166">Par exemple, lorsque vous affichez le contenu d’une variable ou une expression à l’aide de code tel que `@MyVar`, ASP.NET Web Pages encode automatiquement la sortie.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>


## <a name="validating-user-input"></a><span data-ttu-id="ea0f4-167">Validation des entrées utilisateur</span><span class="sxs-lookup"><span data-stu-id="ea0f4-167">Validating User Input</span></span>

<span data-ttu-id="ea0f4-168">Les utilisateurs font des erreurs.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-168">Users make mistakes.</span></span> <span data-ttu-id="ea0f4-169">Demandez-lui de remplir un champ et ils oublient, ou vous lui demandez d’entrer le nombre d’employés et ils taper un nom à la place.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="ea0f4-170">Pour vous assurer qu’un formulaire a été renseigné correctement avant le traitement terminé, vous validez l’entrée utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="ea0f4-171">Cette procédure montre comment valider tous les champs de formulaire trois s’assurer que l’utilisateur n’a pas les laisser vide.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="ea0f4-172">Vous vérifiez également que la valeur du nombre employé est un nombre.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="ea0f4-173">S’il existe des erreurs, vous afficherez une erreur message qui indique à l’utilisateur quelles valeurs n’a pas être validé.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="ea0f4-174">Dans le *Form.cshtml* de fichier, remplacez le premier bloc de code par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="ea0f4-175">Pour valider l’entrée d’utilisateur, vous utilisez le `Validation` helper.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="ea0f4-176">Vous enregistrez des champs obligatoires en appelant `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="ea0f4-177">Inscrire d’autres types de validation en appelant `Validation.Add` et en spécifiant le champ à valider et le type de validation à effectuer.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="ea0f4-178">Lorsque la page s’exécute, ASP.NET effectue toutes les validations pour vous.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="ea0f4-179">Vous pouvez vérifier les résultats en appelant `Validation.IsValid`, qui retourne true si tout a réussi et false si n’importe quel champ Échec de la validation.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="ea0f4-180">En règle générale, vous appelez `Validation.IsValid` avant d’effectuer tout traitement de l’entrée utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="ea0f4-181">Mise à jour le `<body>` élément en ajoutant trois appels vers le `Html.ValidationMessage` méthode, comme suit :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="ea0f4-182">Pour afficher les messages d’erreur de validation, vous pouvez appeler Html.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-182">To display validation error messages, you can call Html.</span></span>`ValidationMessage` <span data-ttu-id="ea0f4-183">et lui transmettre le nom du champ que vous souhaitez que le message pour.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="ea0f4-184">Exécutez la page.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-184">Run the page.</span></span> <span data-ttu-id="ea0f4-185">Laissez les champs vides et cliquez sur **envoyer**.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="ea0f4-186">Vous voyez des messages d’erreur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-186">You see error messages.</span></span>

    ![Capture d’écran qui affiche les messages d’erreur affichées si l’entrée d’utilisateur n’est pas validé.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="ea0f4-188">Ajouter une chaîne (par exemple, « ABC ») à la **Employee Count** champ et cliquez sur **envoyer** à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="ea0f4-189">Cette fois que vous voyez une erreur qui indique que la chaîne n’est pas dans le format correct, à savoir, un entier.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Capture d’écran qui affiche des messages d’erreur affichées si les utilisateurs entrent une chaîne pour le champ d’employés.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="ea0f4-191">Les Pages Web ASP.NET fournit davantage d’options pour la validation des entrées d’utilisateur, y compris la possibilité d’effectuer automatiquement la validation à l’aide du script client, afin que les utilisateurs obtiennent des commentaires immédiats dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="ea0f4-192">Consultez le [des ressources supplémentaires](#Additional_Resources) section ultérieurement pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="ea0f4-193">Restauration des valeurs de formulaire après les publications (postback)</span><span class="sxs-lookup"><span data-stu-id="ea0f4-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="ea0f4-194">Lorsque vous avez testé la page dans la section précédente, vous avez peut-être remarqué que si vous aviez une erreur de validation, tous les éléments que vous avez entré (pas seulement les données non valides) a disparu, et vous deviez entrer à nouveau les valeurs pour tous les champs.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="ea0f4-195">Cet exemple illustre un point important : lorsque vous soumettez une page, le traiter et ensuite restituer à nouveau la page, la page est recréée à partir de zéro.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="ea0f4-196">Comme vous l’avez vu, cela signifie que toutes les valeurs qui se trouvaient dans la page lorsqu’il a été envoyé sont perdues.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="ea0f4-197">Vous pouvez résoudre ce problème facilement, toutefois.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-197">You can fix this easily, however.</span></span> <span data-ttu-id="ea0f4-198">Vous avez accès aux valeurs qui ont été soumises (dans le `Request.Form` de l’objet, donc vous pouvez remplir ces valeurs dans les champs de formulaire lorsque la page est affichée.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="ea0f4-199">Dans le *Form.cshtml* fichier, remplacez le `value` attributs de la `<input>` éléments à l’aide de la `value` attribut. :</span><span class="sxs-lookup"><span data-stu-id="ea0f4-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="ea0f4-200">Le `value` attribut de la `<input>` éléments a été définie pour lire dynamiquement la valeur du champ de la `Request.Form` objet.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="ea0f4-201">La première fois que la page est demandée, les valeurs dans le `Request.Form` objet sont tous vides.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="ea0f4-202">Cela convient, étant donné que de cette façon le formulaire est vide.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="ea0f4-203">Lancer la page dans votre navigateur, renseignez les champs de formulaire ou laisser vide, puis cliquez sur **envoyer**.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="ea0f4-204">Une page qui affiche les valeurs soumises s’affiche.</span><span class="sxs-lookup"><span data-stu-id="ea0f4-204">A page that shows the submitted values is displayed.</span></span>

    ![forms-5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="ea0f4-206">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="ea0f4-206">Additional Resources</span></span>

- [<span data-ttu-id="ea0f4-207">1 001 manières pour obtenir une entrée à partir des utilisateurs Web</span><span class="sxs-lookup"><span data-stu-id="ea0f4-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/library/ms971057.aspx)
- [<span data-ttu-id="ea0f4-208">À l’aide de formulaires et de traitement des entrées utilisateur</span><span class="sxs-lookup"><span data-stu-id="ea0f4-208">Using Forms and Processing User Input</span></span>](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)
- [<span data-ttu-id="ea0f4-209">Validation des entrées utilisateur dans les sites ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="ea0f4-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- [<span data-ttu-id="ea0f4-210">À l’aide de la saisie semi-automatique dans les formulaires HTML</span><span class="sxs-lookup"><span data-stu-id="ea0f4-210">Using AutoComplete in HTML Forms</span></span>](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)
