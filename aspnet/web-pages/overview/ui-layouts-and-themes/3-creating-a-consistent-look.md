---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Création d’une disposition cohérente dans ASP.NET Web Pages (Razor) Sites | Microsoft Docs
author: Rick-Anderson
description: Pour le rendre plus efficace de créer des pages web pour votre site, vous pouvez créer des blocs réutilisables de contenu (par exemple, les en-têtes et pieds de page) pour votre site Web et vous c...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 3f63ce68ae4c13970ac0df196167ace0b22b592c
ms.sourcegitcommit: dd0dc556a3d99a31d8fdbc763e9a2e53f3441b70
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/27/2019
ms.locfileid: "67411253"
---
# <a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="eaf62-103">Création d’une disposition cohérente dans les Sites ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="eaf62-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="eaf62-104">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="eaf62-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="eaf62-105">Cet article explique comment vous pouvez utiliser des pages de disposition dans un site Web ASP.NET Web Pages (Razor) pour créer des blocs réutilisables de contenu (par exemple, les en-têtes et pieds de page) et pour créer une apparence cohérente pour toutes les pages du site.</span><span class="sxs-lookup"><span data-stu-id="eaf62-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="eaf62-106">**Ce que vous allez apprendre :**</span><span class="sxs-lookup"><span data-stu-id="eaf62-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="eaf62-107">Comment créer des blocs réutilisables de contenu tels que les en-têtes et pieds de page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="eaf62-108">Comment créer une apparence cohérente pour toutes les pages de votre site à l’aide d’une mise en page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="eaf62-109">Comment passer des données au moment de l’exécution à une page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="eaf62-110">Voici les fonctionnalités d’ASP.NET introduites dans l’article :</span><span class="sxs-lookup"><span data-stu-id="eaf62-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="eaf62-111">Blocs de contenu, qui sont des fichiers qui contiennent le contenu au format HTML à insérer dans plusieurs pages.</span><span class="sxs-lookup"><span data-stu-id="eaf62-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="eaf62-112">Pages de disposition, qui sont des pages qui contiennent du contenu au format HTML qui peut être partagé par les pages sur le site Web.</span><span class="sxs-lookup"><span data-stu-id="eaf62-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="eaf62-113">Le `RenderPage`, `RenderBody`, et `RenderSection` méthodes, qui indiquent à ASP.NET où insérer des éléments de page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="eaf62-114">Le `PageData` dictionnaire qui vous permet de partager des données entre les blocs de contenu et les pages de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="eaf62-115">Versions des logiciels utilisées dans le didacticiel</span><span class="sxs-lookup"><span data-stu-id="eaf62-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="eaf62-116">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="eaf62-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="eaf62-117">Ce didacticiel fonctionne également avec ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="eaf62-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="about-layout-pages"></a><span data-ttu-id="eaf62-118">Sur les Pages de disposition</span><span class="sxs-lookup"><span data-stu-id="eaf62-118">About Layout Pages</span></span>

<span data-ttu-id="eaf62-119">De nombreux sites Web dont le contenu s’affiche sur chaque page, comme un en-tête et pied de page ou une zone qui indique aux utilisateurs qu’ils êtes connectés.</span><span class="sxs-lookup"><span data-stu-id="eaf62-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="eaf62-120">ASP.NET vous permet de créer un fichier distinct avec un bloc de contenu qui permettre contenir du texte, balisage et code, tout comme une page web normale.</span><span class="sxs-lookup"><span data-stu-id="eaf62-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="eaf62-121">Vous pouvez ensuite insérer le bloc de contenu dans d’autres pages sur le site où vous souhaitez que les informations s’affichent.</span><span class="sxs-lookup"><span data-stu-id="eaf62-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="eaf62-122">De cette façon, que vous n’êtes pas obligé de copier et coller le même contenu dans chaque page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="eaf62-123">Création de contenu courants comme ceci rend également plus facile à mettre à jour votre site.</span><span class="sxs-lookup"><span data-stu-id="eaf62-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="eaf62-124">Si vous devez modifier le contenu, vous pouvez simplement mettre à jour un seul fichier, et les modifications sont alors répercutées partout où le contenu a été inséré.</span><span class="sxs-lookup"><span data-stu-id="eaf62-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="eaf62-125">Le diagramme suivant illustre la façon dont contenu bloque le travail.</span><span class="sxs-lookup"><span data-stu-id="eaf62-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="eaf62-126">Lorsqu’un navigateur demande une page à partir du serveur web, ASP.NET insère des blocs de contenu au point où la `RenderPage` méthode est appelée dans la page principale.</span><span class="sxs-lookup"><span data-stu-id="eaf62-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="eaf62-127">La page terminé (fusionnée) est ensuite envoyée au navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagramme conceptuel montrant comment la méthode RenderPage insère une page référencée dans la page actuelle.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="eaf62-129">Dans cette procédure, vous allez créer une page qui fait référence à deux blocs de contenu (un en-tête et un pied de page) qui sont trouvent dans des fichiers distincts.</span><span class="sxs-lookup"><span data-stu-id="eaf62-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="eaf62-130">Vous pouvez utiliser ces mêmes blocs de contenu dans n’importe quelle page de votre site.</span><span class="sxs-lookup"><span data-stu-id="eaf62-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="eaf62-131">Lorsque vous avez terminé, vous obtiendrez une page comme celle-ci :</span><span class="sxs-lookup"><span data-stu-id="eaf62-131">When you're done, you'll get a page like this:</span></span>

![Capture d’écran montrant une page dans le navigateur qui résulte de l’exécution d’une page qui inclut les appels à la méthode RenderPage.](3-creating-a-consistent-look/_static/image2.png)

1. <span data-ttu-id="eaf62-133">Dans le dossier racine de votre site Web, créez un fichier nommé *Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="eaf62-134">Remplacez le balisage existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="eaf62-135">Dans le dossier racine, créez un dossier nommé *partagé*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="eaf62-136">Il est courant pour stocker les fichiers qui sont partagées entre les pages web dans un dossier nommé *partagé*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="eaf62-137">Dans le *partagé* dossier, créez un fichier nommé  *\_Header.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="eaf62-138">Remplacer le contenu existant avec les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="eaf62-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="eaf62-139">Notez que le nom de fichier est  *\_Header.cshtml*, un trait de soulignement (\_) comme préfixe.</span><span class="sxs-lookup"><span data-stu-id="eaf62-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="eaf62-140">ASP.NET ne sont pas envoyer une page au navigateur si son nom commence par un trait de soulignement.</span><span class="sxs-lookup"><span data-stu-id="eaf62-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="eaf62-141">Cela empêche les personnes à partir de la demande (par inadvertance ou autre) ces pages directement.</span><span class="sxs-lookup"><span data-stu-id="eaf62-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="eaf62-142">Il est judicieux d’utiliser un trait de soulignement pour les pages de nom comportant des blocs de contenu, car vous ne veux pas vraiment les utilisateurs soient en mesure de demander ces pages &#8212; elles existent strictement pour être inséré dans les autres pages.</span><span class="sxs-lookup"><span data-stu-id="eaf62-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="eaf62-143">Dans le *partagé* dossier, créez un fichier nommé  *\_Footer.cshtml* et remplacez son contenu par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="eaf62-144">Dans le *Index.cshtml* page, ajoutez les deux appels à la `RenderPage` méthode, comme indiqué ici :</span><span class="sxs-lookup"><span data-stu-id="eaf62-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="eaf62-145">Cet exemple montre comment insérer un bloc de contenu dans une page web.</span><span class="sxs-lookup"><span data-stu-id="eaf62-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="eaf62-146">Vous appelez le `RenderPage` (méthode) et lui transmettre le nom du fichier dont le contenu à insérer à ce stade.</span><span class="sxs-lookup"><span data-stu-id="eaf62-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="eaf62-147">Ici, vous insérez le contenu de la  *\_Header.cshtml* et  *\_Footer.cshtml* de fichiers dans le *Index.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="eaf62-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="eaf62-148">Exécutez le *Index.cshtml* page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="eaf62-149">(Dans WebMatrix, dans le **fichiers** espace de travail, cliquez sur le fichier, puis sélectionnez **lancer dans le navigateur**.)</span><span class="sxs-lookup"><span data-stu-id="eaf62-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="eaf62-150">Dans le navigateur, affichez la source de la page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-150">In the browser, view the page source.</span></span> <span data-ttu-id="eaf62-151">(Par exemple, dans Internet Explorer, avec le bouton droit de la page, puis **afficher la Source**.)</span><span class="sxs-lookup"><span data-stu-id="eaf62-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="eaf62-152">Cela vous permet de voir le balisage de page web qui est envoyé au navigateur, qui combine le balisage de page d’index avec les blocs de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="eaf62-153">L’exemple suivant montre la page source qui est restituée pour *Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="eaf62-154">Les appels à `RenderPage` insérés dans *Index.cshtml* ont été remplacés par le contenu réel des fichiers d’en-tête et pied de page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="eaf62-155">Création d’une apparence cohérente à l’aide des Pages de disposition</span><span class="sxs-lookup"><span data-stu-id="eaf62-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="eaf62-156">Jusqu'à présent, vous avez vu qu’il est facile d’inclure le même contenu sur plusieurs pages.</span><span class="sxs-lookup"><span data-stu-id="eaf62-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="eaf62-157">Une approche plus structurée pour créer une apparence cohérente pour un site consiste à utiliser les pages de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="eaf62-158">Une page de disposition définit la structure d’une page web, mais ne contient pas de contenu réel.</span><span class="sxs-lookup"><span data-stu-id="eaf62-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="eaf62-159">Une fois que vous avez créé une page de disposition, vous pouvez créer des pages web qui contiennent le contenu et les lier à la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="eaf62-160">Lorsque ces pages sont affichés, ils amèneront mis en forme en fonction de la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="eaf62-161">(Dans ce sens, une page de disposition agit comme une sorte de modèle pour le contenu qui est défini dans d’autres pages.)</span><span class="sxs-lookup"><span data-stu-id="eaf62-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="eaf62-162">La page de disposition s’apparente à n’importe quelle page HTML, sauf qu’il contient un appel à la `RenderBody` (méthode).</span><span class="sxs-lookup"><span data-stu-id="eaf62-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="eaf62-163">La position de la `RenderBody` méthode dans la page de disposition détermine où les informations à partir de la page de contenu seront incluses.</span><span class="sxs-lookup"><span data-stu-id="eaf62-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="eaf62-164">Le diagramme suivant montre les pages de contenu et les pages de disposition sont associées au moment de l’exécution pour produire la page web terminé.</span><span class="sxs-lookup"><span data-stu-id="eaf62-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="eaf62-165">Le navigateur demande une page de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-165">The browser requests a content page.</span></span> <span data-ttu-id="eaf62-166">La page de contenu a un code qui spécifie la page de disposition à utiliser pour la structure de la page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="eaf62-167">Dans la page de disposition, le contenu est inséré au point où la `RenderBody` méthode est appelée.</span><span class="sxs-lookup"><span data-stu-id="eaf62-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="eaf62-168">Contenu de blocs peuvent également être insérées dans la page de disposition en appelant le `RenderPage` (méthode), la façon que vous l’avez fait dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="eaf62-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="eaf62-169">Lorsque la page web est terminée, il est envoyé au navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-169">When the web page is complete, it's sent to the browser.</span></span>

![Capture d’écran montrant une page dans le navigateur qui résulte de l’exécution d’une page qui inclut les appels à la méthode RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="eaf62-171">La procédure suivante montre comment créer une disposition des pages de contenu et un lien hypertexte à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="eaf62-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="eaf62-172">Dans le *partagé* dossier de votre site Web, créez un fichier nommé  *\_Layout1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="eaf62-173">Remplacer le contenu existant avec les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="eaf62-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="eaf62-174">Vous utilisez la `RenderPage` méthode dans une page de disposition pour insérer des blocs de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="eaf62-175">Une page de disposition peut contenir qu’un seul appel à la `RenderBody` (méthode).</span><span class="sxs-lookup"><span data-stu-id="eaf62-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="eaf62-176">Dans le *partagé* dossier, créez un fichier nommé  *\_Header2.cshtml* et remplacer le contenu existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="eaf62-177">Dans le dossier racine, créez un nouveau dossier et nommez-le *Styles*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="eaf62-178">Dans le *Styles* dossier, créez un fichier nommé *Site.css* et ajoutez les définitions de style suivantes :</span><span class="sxs-lookup"><span data-stu-id="eaf62-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="eaf62-179">Ces définitions de style sont ici uniquement pour montrer comment les feuilles de style peuvent être utilisées avec les pages de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="eaf62-180">Si vous le souhaitez, vous pouvez définir vos propres styles pour ces éléments.</span><span class="sxs-lookup"><span data-stu-id="eaf62-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="eaf62-181">Dans le dossier racine, créez un fichier nommé *Content1.cshtml* et remplacer le contenu existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="eaf62-182">Il s’agit d’une page qui utilise une page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="eaf62-183">Le bloc de code en haut de la page indique quelle page de disposition à utiliser pour formater ce contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="eaf62-184">Exécutez *Content1.cshtml* dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="eaf62-185">La page rendue utilise le format et la feuille de style définis dans  *\_Layout1.cshtml* et le texte (contenu) définies dans *Content1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[image]](3-creating-a-consistent-look/_static/image4.png)

    <span data-ttu-id="eaf62-187">Vous pouvez répéter l’étape 6 pour créer des pages de contenu supplémentaires qui peuvent alors partager la même page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="eaf62-188">Vous pouvez configurer votre site afin que vous puissiez utiliser automatiquement de la même page de disposition pour toutes les pages de contenu dans un dossier.</span><span class="sxs-lookup"><span data-stu-id="eaf62-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="eaf62-189">Pour plus d’informations, consultez [personnalisation du comportement de l’échelle du Site pour ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="eaf62-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="eaf62-190">Conception de Pages de disposition qui ont plusieurs Sections de contenu</span><span class="sxs-lookup"><span data-stu-id="eaf62-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="eaf62-191">Une page de contenu peut avoir plusieurs sections, ce qui est utile si vous souhaitez utiliser des dispositions qui ont contenu remplaçable dans plusieurs zones.</span><span class="sxs-lookup"><span data-stu-id="eaf62-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="eaf62-192">Dans la page de contenu, vous attribuez un nom unique chaque section.</span><span class="sxs-lookup"><span data-stu-id="eaf62-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="eaf62-193">(La section par défaut est laissée sans nom.) Dans la page de disposition, vous allez ajouter un `RenderBody` méthode pour spécifier où doit apparaître la section sans nom (valeur par défaut).</span><span class="sxs-lookup"><span data-stu-id="eaf62-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="eaf62-194">Vous ajoutez ensuite distinct `RenderSection` méthodes afin de restituer des sections nommées individuellement.</span><span class="sxs-lookup"><span data-stu-id="eaf62-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="eaf62-195">Le diagramme suivant illustre la façon dont ASP.NET gère un contenu qui est divisé en plusieurs sections.</span><span class="sxs-lookup"><span data-stu-id="eaf62-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="eaf62-196">Chaque section nommée est contenue dans un bloc de section dans la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="eaf62-197">(Ils sont nommés `Header` et `List` dans l’exemple.) Le framework insère section contenue dans la page de disposition au point où la `RenderSection` méthode est appelée.</span><span class="sxs-lookup"><span data-stu-id="eaf62-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="eaf62-198">La section sans nom (valeur par défaut) est insérée au point où la `RenderBody` méthode est appelée, comme vous l’avez vu précédemment.</span><span class="sxs-lookup"><span data-stu-id="eaf62-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagramme conceptuel montrant comment la méthode RenderSection insère des sections de références dans la page actuelle.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="eaf62-200">Cette procédure montre comment créer une page de contenu qui a plusieurs sections de contenu et le rendu à l’aide d’une page de disposition qui prend en charge plusieurs sections de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="eaf62-201">Dans le *partagé* dossier, créez un fichier nommé  *\_Layout2.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="eaf62-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="eaf62-202">Remplacer le contenu existant avec les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="eaf62-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="eaf62-203">Vous utilisez la `RenderSection` méthode pour restituer des sections de l’en-tête et la liste.</span><span class="sxs-lookup"><span data-stu-id="eaf62-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="eaf62-204">Dans le dossier racine, créez un fichier nommé *Content2.cshtml* et remplacer le contenu existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="eaf62-205">Cette page de contenu contient un bloc de code en haut de la page.</span><span class="sxs-lookup"><span data-stu-id="eaf62-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="eaf62-206">Chaque section nommée est contenue dans un bloc de section.</span><span class="sxs-lookup"><span data-stu-id="eaf62-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="eaf62-207">Le reste de la page contient la section de contenu par défaut (sans nom).</span><span class="sxs-lookup"><span data-stu-id="eaf62-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="eaf62-208">Exécutez *Content2.cshtml* dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Capture d’écran montrant une page dans le navigateur qui résulte de l’exécution d’une page qui inclut les appels à la méthode RenderSection.](3-creating-a-consistent-look/_static/image6.png)

## <a name="making-content-sections-optional"></a><span data-ttu-id="eaf62-210">Rendre des Sections de contenu facultatif</span><span class="sxs-lookup"><span data-stu-id="eaf62-210">Making Content Sections Optional</span></span>

<span data-ttu-id="eaf62-211">En règle générale, les sections que vous créez dans une page de contenu doivent correspondre les sections qui sont définies dans la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="eaf62-212">Vous pouvez obtenir des erreurs si un des éléments suivants se produit :</span><span class="sxs-lookup"><span data-stu-id="eaf62-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="eaf62-213">La page de contenu contient une section qui ne dispose d’aucune section correspondante dans la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="eaf62-214">La page de disposition contient une section pour lequel il n’existe aucun contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="eaf62-215">La page de disposition inclut des appels de méthode qui tentent de restituer la même section plusieurs fois.</span><span class="sxs-lookup"><span data-stu-id="eaf62-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="eaf62-216">Toutefois, vous pouvez remplacer ce comportement pour une section nommée en déclarant la section facultative dans la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="eaf62-217">Cela vous permet de définir plusieurs pages de contenu qui peuvent partager une page de disposition, mais qui peuvent ou non avoir un contenu d’une section spécifique.</span><span class="sxs-lookup"><span data-stu-id="eaf62-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="eaf62-218">Ouvrez *Content2.cshtml* et supprimer la section suivante :</span><span class="sxs-lookup"><span data-stu-id="eaf62-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="eaf62-219">Enregistrez la page et exécutez-le dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="eaf62-220">Un message d’erreur s’affiche, étant donné que le contenu d’une section définie dans la page de disposition, à savoir la section d’en-tête ne fournit pas la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Capture d’écran montrant l’erreur qui se produit si vous exécutez une page qui appelle la méthode de RenderSection, mais la section correspondante n’est pas fournie.](3-creating-a-consistent-look/_static/image7.png)
3. <span data-ttu-id="eaf62-222">Dans le *partagé* dossier, ouvrez le  *\_Layout2.cshtml* page et remplacez cette ligne :</span><span class="sxs-lookup"><span data-stu-id="eaf62-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="eaf62-223">avec le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="eaf62-224">Comme alternative, vous pouvez remplacer la ligne de code précédente par le bloc de code suivant, qui produit les mêmes résultats :</span><span class="sxs-lookup"><span data-stu-id="eaf62-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="eaf62-225">Exécutez le *Content2.cshtml* page dans un navigateur à nouveau.</span><span class="sxs-lookup"><span data-stu-id="eaf62-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="eaf62-226">(Si cette page est encore ouvert dans le navigateur, vous pouvez simplement l’actualiser.) Cette fois la page s’affiche sans erreur, bien qu’elle n’ait aucun en-tête.</span><span class="sxs-lookup"><span data-stu-id="eaf62-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="eaf62-227">Passage de données pour les Pages de disposition</span><span class="sxs-lookup"><span data-stu-id="eaf62-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="eaf62-228">Vous pouvez avoir des données définies dans la page de contenu dont vous avez besoin pour faire référence à dans une page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="eaf62-229">Dans ce cas, vous devez passer les données à partir de la page de contenu à la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="eaf62-230">Par exemple, vous souhaiterez peut-être afficher l’état de connexion d’un utilisateur, ou vous souhaiterez peut-être afficher ou masquer les zones de contenu basées sur l’entrée d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="eaf62-231">Pour passer des données à partir d’une page de contenu à une page de disposition, vous pouvez placer des valeurs dans le `PageData` propriété de la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="eaf62-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="eaf62-232">Le `PageData` propriété est une collection de paires nom/valeur qui contiennent les données que vous voulez passer entre les pages.</span><span class="sxs-lookup"><span data-stu-id="eaf62-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="eaf62-233">Dans la page de disposition, vous pouvez lire des valeurs de la `PageData` propriété.</span><span class="sxs-lookup"><span data-stu-id="eaf62-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="eaf62-234">Voici un autre diagramme.</span><span class="sxs-lookup"><span data-stu-id="eaf62-234">Here's another diagram.</span></span> <span data-ttu-id="eaf62-235">Il montre comment ASP.NET peut utiliser le `PageData` propriété pour transmettre des valeurs à partir d’une page de contenu à la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="eaf62-236">Lorsque ASP.NET commence la construction de la page web, il crée le `PageData` collection.</span><span class="sxs-lookup"><span data-stu-id="eaf62-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="eaf62-237">Dans la page de contenu, vous écrivez du code pour placer des données le `PageData` collection.</span><span class="sxs-lookup"><span data-stu-id="eaf62-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="eaf62-238">Les valeurs dans le `PageData` collection est également accessible par d’autres sections de la page de contenu ou des blocs de contenu supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="eaf62-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagramme conceptuel qui montre comment une page de contenu peut remplir un dictionnaire PageData et transmettre ces informations à la page de disposition.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="eaf62-240">La procédure suivante montre comment passer des données à partir d’une page de contenu à une page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="eaf62-241">Lorsque la page s’exécute, il affiche un bouton qui permet à l’utilisateur de masquer ou afficher une liste qui est définie dans la page de disposition.</span><span class="sxs-lookup"><span data-stu-id="eaf62-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="eaf62-242">Lorsque les utilisateurs cliquent sur le bouton, il définit une valeur vrai/faux (booléenne) dans le `PageData` propriété.</span><span class="sxs-lookup"><span data-stu-id="eaf62-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="eaf62-243">La page de disposition lit cette valeur et si elle est false, masque la liste.</span><span class="sxs-lookup"><span data-stu-id="eaf62-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="eaf62-244">La valeur est également utilisée dans la page de contenu pour déterminer s’il faut afficher le **masquer la liste** bouton ou le **afficher la liste de** bouton.</span><span class="sxs-lookup"><span data-stu-id="eaf62-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[image]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="eaf62-246">Dans le dossier racine, créez un fichier nommé *Content3.cshtml* et remplacer le contenu existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="eaf62-247">Le code stocke deux éléments de données dans le `PageData` propriété &#8212; le titre de la page web et de la valeur true ou de false pour spécifier s’il faut afficher la liste.</span><span class="sxs-lookup"><span data-stu-id="eaf62-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="eaf62-248">Notez que ASP.NET vous permet de mettre un balisage HTML dans la page de manière conditionnelle à l’aide d’un bloc de code.</span><span class="sxs-lookup"><span data-stu-id="eaf62-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="eaf62-249">Par exemple, le `if/else` bloc dans le corps de la page détermine le formulaire à afficher selon que `PageData["ShowList"]` est définie sur true.</span><span class="sxs-lookup"><span data-stu-id="eaf62-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="eaf62-250">Dans le *partagé* dossier, créez un fichier nommé  *\_Layout3.cshtml* et remplacer le contenu existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="eaf62-251">La page de disposition inclut une expression dans le `<title>` élément qui obtient la valeur de titre de la `PageData` propriété.</span><span class="sxs-lookup"><span data-stu-id="eaf62-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="eaf62-252">Il utilise également le `ShowList` valeur de la `PageData` propriété afin de déterminer s’il faut afficher le bloc de contenu de liste.</span><span class="sxs-lookup"><span data-stu-id="eaf62-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="eaf62-253">Dans le *partagé* dossier, créez un fichier nommé  *\_List.cshtml* et remplacer le contenu existant par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="eaf62-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="eaf62-254">Exécutez le *Content3.cshtml* page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="eaf62-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="eaf62-255">La page s’affiche avec la liste visible sur le côté gauche de la page et un **masquer la liste** bouton du bas.</span><span class="sxs-lookup"><span data-stu-id="eaf62-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Capture d’écran montrant la page qui inclut la liste et un bouton intitulé « Masquer la liste ».](3-creating-a-consistent-look/_static/image10.png)
5. <span data-ttu-id="eaf62-257">Cliquez sur **masquer la liste**.</span><span class="sxs-lookup"><span data-stu-id="eaf62-257">Click **Hide List**.</span></span> <span data-ttu-id="eaf62-258">Disparaît de la liste et le bouton se transforme en **afficher la liste de**.</span><span class="sxs-lookup"><span data-stu-id="eaf62-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Capture d’écran montrant la page qui n’inclut pas la liste et un bouton intitulé « Afficher la liste ».](3-creating-a-consistent-look/_static/image11.png)
6. <span data-ttu-id="eaf62-260">Cliquez sur le **afficher la liste de** bouton et la liste s’affiche de nouveau.</span><span class="sxs-lookup"><span data-stu-id="eaf62-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="eaf62-261">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="eaf62-261">Additional Resources</span></span>

[<span data-ttu-id="eaf62-262">Personnalisation du comportement de l’échelle du Site pour ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="eaf62-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
