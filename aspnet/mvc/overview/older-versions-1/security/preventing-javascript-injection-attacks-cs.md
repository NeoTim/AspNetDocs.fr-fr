---
uid: mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-cs
title: Prévention des attaques d’injection de code JavaScript (c#) | Microsoft Docs
author: StephenWalther
description: Empêcher les attaques par Injection de JavaScript et attaques de script entre sites pour vous. Dans ce didacticiel, Stephen Walther explique comment vous pouvez facilement de...
ms.author: riande
ms.date: 08/19/2008
ms.assetid: d0136da6-81a4-4815-b002-baa84744c09e
msc.legacyurl: /mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-cs
msc.type: authoredcontent
ms.openlocfilehash: 77d0f0346e9eff756cd74c64c310918f3c367ab1
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57029826"
---
<a name="preventing-javascript-injection-attacks-c"></a><span data-ttu-id="5d5d5-104">Prévention des attaques par injection de code JavaScript (C#)</span><span class="sxs-lookup"><span data-stu-id="5d5d5-104">Preventing JavaScript Injection Attacks (C#)</span></span>
====================
<span data-ttu-id="5d5d5-105">par [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="5d5d5-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="5d5d5-106">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="5d5d5-106">Download PDF</span></span>](http://download.microsoft.com/download/8/4/8/84843d8d-1575-426c-bcb5-9d0c42e51416/ASPNET_MVC_Tutorial_06_CS.pdf)

> <span data-ttu-id="5d5d5-107">Empêcher les attaques par Injection de JavaScript et attaques de script entre sites pour vous.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-107">Prevent JavaScript Injection Attacks and Cross-Site Scripting Attacks from happening to you.</span></span> <span data-ttu-id="5d5d5-108">Dans ce didacticiel, Stephen Walther explique comment vous pouvez facilement mettre en échec ces types d’attaques par codage votre contenu HTML.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-108">In this tutorial, Stephen Walther explains how you can easily defeat these types of attacks by HTML encoding your content.</span></span>


<span data-ttu-id="5d5d5-109">L’objectif de ce didacticiel est d’expliquer comment vous pouvez empêcher les attaques par injection de JavaScript dans vos applications ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-109">The goal of this tutorial is to explain how you can prevent JavaScript injection attacks in your ASP.NET MVC applications.</span></span> <span data-ttu-id="5d5d5-110">Ce didacticiel aborde deux approches pour la défense de votre site Web par rapport à une attaque par injection de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-110">This tutorial discusses two approaches to defending your website against a JavaScript injection attack.</span></span> <span data-ttu-id="5d5d5-111">Vous allez apprendre à empêcher les attaques par injection de JavaScript en encodant les données que vous affichez.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-111">You learn how to prevent JavaScript injection attacks by encoding the data that you display.</span></span> <span data-ttu-id="5d5d5-112">Vous allez également apprendre à empêcher les attaques par injection de JavaScript par les données que vous acceptez d’encodage.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-112">You also learn how to prevent JavaScript injection attacks by encoding the data that you accept.</span></span>

## <a name="what-is-a-javascript-injection-attack"></a><span data-ttu-id="5d5d5-113">Qu’est une attaque par Injection de JavaScript ?</span><span class="sxs-lookup"><span data-stu-id="5d5d5-113">What is a JavaScript Injection Attack?</span></span>

<span data-ttu-id="5d5d5-114">Chaque fois que vous acceptez l’entrée d’utilisateur et réaffichez l’entrée d’utilisateur, vous ouvrez votre site Web à des attaques par injection de code JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-114">Whenever you accept user input and redisplay the user input, you open your website to JavaScript injection attacks.</span></span> <span data-ttu-id="5d5d5-115">Commençons par examiner une application concrète qui est ouverte aux attaques par injection de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-115">Let's examine a concrete application that is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="5d5d5-116">Imaginez que vous avez créé un site Web des commentaires de clients (voir Figure 1).</span><span class="sxs-lookup"><span data-stu-id="5d5d5-116">Imagine that you have created a customer feedback website (see Figure 1).</span></span> <span data-ttu-id="5d5d5-117">Les clients peuvent visiter le site Web et entrer des commentaires sur leur expérience à l’aide de vos produits.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-117">Customers can visit the website and enter feedback on their experience using your products.</span></span> <span data-ttu-id="5d5d5-118">Lorsqu’un client soumet leurs commentaires, les commentaires s’affiche de nouveau sur la page de commentaires.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-118">When a customer submits their feedback, the feedback is redisplayed on the feedback page.</span></span>


<span data-ttu-id="5d5d5-119">[![Site de commentaires client](preventing-javascript-injection-attacks-cs/_static/image2.png)](preventing-javascript-injection-attacks-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5d5d5-119">[![Customer Feedback Website](preventing-javascript-injection-attacks-cs/_static/image2.png)](preventing-javascript-injection-attacks-cs/_static/image1.png)</span></span>

<span data-ttu-id="5d5d5-120">**Figure 01**: Site de commentaires client ([cliquez pour afficher l’image en taille réelle](preventing-javascript-injection-attacks-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5d5d5-120">**Figure 01**: Customer Feedback Website ([Click to view full-size image](preventing-javascript-injection-attacks-cs/_static/image3.png))</span></span>


<span data-ttu-id="5d5d5-121">Le site de commentaires client utilise le `controller` dans le Listing 1.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-121">The customer feedback website uses the `controller` in Listing 1.</span></span> <span data-ttu-id="5d5d5-122">Cela `controller` contient deux actions nommées `Index()` et `Create()`.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-122">This `controller` contains two actions named `Index()` and `Create()`.</span></span>

<span data-ttu-id="5d5d5-123">**Liste 1 : `HomeController.cs`**</span><span class="sxs-lookup"><span data-stu-id="5d5d5-123">**Listing 1 – `HomeController.cs`**</span></span>

[!code-csharp[Main](preventing-javascript-injection-attacks-cs/samples/sample1.cs)]

<span data-ttu-id="5d5d5-124">Le `Index()` méthode affiche le `Index` vue.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-124">The `Index()` method displays the `Index` view.</span></span> <span data-ttu-id="5d5d5-125">Cette méthode passe tous les commentaires client précédente à la `Index` vue en récupérant les commentaires à partir de la base de données (à l’aide d’une requête LINQ to SQL).</span><span class="sxs-lookup"><span data-stu-id="5d5d5-125">This method passes all of the previous customer feedback to the `Index` view by retrieving the feedback from the database (using a LINQ to SQL query).</span></span>

<span data-ttu-id="5d5d5-126">Le `Create()` méthode crée un nouvel élément de commentaires et l’ajoute à la base de données.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-126">The `Create()` method creates a new Feedback item and adds it to the database.</span></span> <span data-ttu-id="5d5d5-127">Le message que le client entre dans le formulaire est passé à la `Create()` méthode dans le paramètre de message.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-127">The message that the customer enters in the form is passed to the `Create()` method in the message parameter.</span></span> <span data-ttu-id="5d5d5-128">Un commentaire est créé et le message est affecté à l’élément de commentaire `Message` propriété.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-128">A Feedback item is created and the message is assigned to the Feedback item's `Message` property.</span></span> <span data-ttu-id="5d5d5-129">L’élément de commentaires est soumis à la base de données avec le `DataContext.SubmitChanges()` appel de méthode.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-129">The Feedback item is submitted to the database with the `DataContext.SubmitChanges()` method call.</span></span> <span data-ttu-id="5d5d5-130">Enfin, le visiteur est redirigé vers le `Index` vue où tous les commentaires sont affichées.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-130">Finally, the visitor is redirected back to the `Index` view where all of the feedback is displayed.</span></span>

<span data-ttu-id="5d5d5-131">Le `Index` affichage est inclus dans le Listing 2.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-131">The `Index` view is contained in Listing 2.</span></span>

<span data-ttu-id="5d5d5-132">**Listing 2 : `Index.aspx`**</span><span class="sxs-lookup"><span data-stu-id="5d5d5-132">**Listing 2 – `Index.aspx`**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-cs/samples/sample2.aspx)]

<span data-ttu-id="5d5d5-133">Le `Index` vue comporte deux sections.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-133">The `Index` view has two sections.</span></span> <span data-ttu-id="5d5d5-134">La section supérieure contient le formulaire de commentaires de clients réels.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-134">The top section contains the actual customer feedback form.</span></span> <span data-ttu-id="5d5d5-135">La section inférieure contient un For.. Chaque boucle qui effectue une itération sur tous les éléments de commentaires client précédente et affiche les propriétés EntryDate et de Message pour chaque élément de commentaires.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-135">The bottom section contains a For..Each loop that loops through all of the previous customer feedback items and displays the EntryDate and Message properties for each feedback item.</span></span>

<span data-ttu-id="5d5d5-136">Le site de commentaires client est un site Web simple.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-136">The customer feedback website is a simple website.</span></span> <span data-ttu-id="5d5d5-137">Malheureusement, le site Web est ouvert aux attaques par injection de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-137">Unfortunately, the website is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="5d5d5-138">Imaginez que vous entrez le texte suivant dans le formulaire de commentaires client :</span><span class="sxs-lookup"><span data-stu-id="5d5d5-138">Imagine that you enter the following text into the customer feedback form:</span></span>

[!code-html[Main](preventing-javascript-injection-attacks-cs/samples/sample3.html)]

<span data-ttu-id="5d5d5-139">Ce texte représente un script JavaScript qui affiche une boîte de message d’alerte.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-139">This text represents a JavaScript script that displays an alert message box.</span></span> <span data-ttu-id="5d5d5-140">Une fois que quelqu'un envoie ce script dans les commentaires de formulaire, le message <em>Boo !</em> s’affiche chaque fois que tout le monde visite le site Web des commentaires des clients à l’avenir (voir Figure 2).</span><span class="sxs-lookup"><span data-stu-id="5d5d5-140">After someone submits this script into the feedback form, the message <em>Boo!</em>will appear whenever anyone visits the customer feedback website in the future (see Figure 2).</span></span>


<span data-ttu-id="5d5d5-141">[![Injection de code JavaScript](preventing-javascript-injection-attacks-cs/_static/image5.png)](preventing-javascript-injection-attacks-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5d5d5-141">[![JavaScript Injection](preventing-javascript-injection-attacks-cs/_static/image5.png)](preventing-javascript-injection-attacks-cs/_static/image4.png)</span></span>

<span data-ttu-id="5d5d5-142">**Figure 02**: L’injection de code JavaScript ([cliquez pour afficher l’image en taille réelle](preventing-javascript-injection-attacks-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5d5d5-142">**Figure 02**: JavaScript Injection ([Click to view full-size image](preventing-javascript-injection-attacks-cs/_static/image6.png))</span></span>


<span data-ttu-id="5d5d5-143">À présent, votre réponse initiale à des attaques par injection de code JavaScript peut être indifférence.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-143">Now, your initial response to JavaScript injection attacks might be apathy.</span></span> <span data-ttu-id="5d5d5-144">Vous pourriez penser que les attaques par injection de JavaScript sont simplement un type de *dégradation* attaque.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-144">You might think that JavaScript injection attacks are simply a type of *defacement* attack.</span></span> <span data-ttu-id="5d5d5-145">Vous pensez qu’aucune autre faire quoi que ce soit réellement malveillant en validant une attaque par injection de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-145">You might believe that no one can do anything truly evil by committing a JavaScript injection attack.</span></span>

<span data-ttu-id="5d5d5-146">Malheureusement, un pirate peut effectuer certaines vraiment, vraiment malveillant choses en injectant JavaScript dans un site Web.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-146">Unfortunately, a hacker can do some really, really evil things by injecting JavaScript into a website.</span></span> <span data-ttu-id="5d5d5-147">Vous pouvez utiliser une attaque par injection de JavaScript pour effectuer une attaque de Cross-Site Scripting (XSS).</span><span class="sxs-lookup"><span data-stu-id="5d5d5-147">You can use a JavaScript injection attack to perform a Cross-Site Scripting (XSS) attack.</span></span> <span data-ttu-id="5d5d5-148">Dans une attaque de Cross-Site Scripting, vous allez voler des informations confidentielles et envoyer les informations à un autre site Web.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-148">In a Cross-Site Scripting attack, you steal confidential user information and send the information to another website.</span></span>

<span data-ttu-id="5d5d5-149">Par exemple, un pirate peut utiliser une attaque par injection de JavaScript pour voler les valeurs de cookies de navigateur à partir d’autres utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-149">For example, a hacker can use a JavaScript injection attack to steal the values of browser cookies from other users.</span></span> <span data-ttu-id="5d5d5-150">Si des informations sensibles, telles que les mots de passe, numéros de carte de crédit ou les numéros de sécurité sociale – sont stockées dans les cookies de navigateur, un pirate peut utiliser une attaque par injection de JavaScript à voler ces informations.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-150">If sensitive information -- such as passwords, credit card numbers, or social security numbers – is stored in the browser cookies, then a hacker can use a JavaScript injection attack to steal this information.</span></span> <span data-ttu-id="5d5d5-151">Ou, si un utilisateur saisit des informations sensibles dans un champ de formulaire contenu dans une page qui a été compromise par une attaque de JavaScript, puis le pirate peut utiliser le code injecté JavaScript pour récupérer les données du formulaire et l’envoyer à un autre site Web.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-151">Or, if a user enters sensitive information in a form field contained in a page that has been compromised with a JavaScript attack, then the hacker can use the injected JavaScript to grab the form data and send it to another website.</span></span>

<span data-ttu-id="5d5d5-152">*Veuillez pas peur*.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-152">*Please be scared*.</span></span> <span data-ttu-id="5d5d5-153">Prenons les attaques par injection de JavaScript au sérieux et protéger les informations confidentielles de votre utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-153">Take JavaScript injection attacks seriously and protect your user's confidential information.</span></span> <span data-ttu-id="5d5d5-154">Dans les deux sections suivantes, nous abordons les deux techniques que vous pouvez utiliser pour protéger vos applications ASP.NET MVC contre les attaques par injection de code de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-154">In the next two sections, we discuss two techniques that you can use to defend your ASP.NET MVC applications from JavaScript injection attacks.</span></span>

## <a name="approach-1-html-encode-in-the-view"></a><span data-ttu-id="5d5d5-155">Approche #1 : Encoder en HTML dans la vue</span><span class="sxs-lookup"><span data-stu-id="5d5d5-155">Approach #1: HTML Encode in the View</span></span>

<span data-ttu-id="5d5d5-156">Une méthode simple pour empêcher les attaques par injection de JavaScript est au format HTML encoder toutes les données entrées par les utilisateurs du site Web lorsque vous affichez de nouveau les données dans une vue.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-156">One easy method of preventing JavaScript injection attacks is to HTML encode any data entered by website users when you redisplay the data in a view.</span></span> <span data-ttu-id="5d5d5-157">La mise à jour `Index` vue dans la liste 3 suit cette approche.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-157">The updated `Index` view in Listing 3 follows this approach.</span></span>

<span data-ttu-id="5d5d5-158">**Liste 3 – `Index.aspx` (encodée en HTML)**</span><span class="sxs-lookup"><span data-stu-id="5d5d5-158">**Listing 3 – `Index.aspx` (HTML Encoded)**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-cs/samples/sample4.aspx)]

<span data-ttu-id="5d5d5-159">Notez que la valeur de `feedback.Message` est encodé en HTML avant la valeur est affichée avec le code suivant :</span><span class="sxs-lookup"><span data-stu-id="5d5d5-159">Notice that the value of `feedback.Message` is HTML encoded before the value is displayed with the following code:</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-cs/samples/sample5.aspx)]

<span data-ttu-id="5d5d5-160">Quelles en moyenne au format HTML encoder une chaîne ?</span><span class="sxs-lookup"><span data-stu-id="5d5d5-160">What does it mean to HTML encode a string?</span></span> <span data-ttu-id="5d5d5-161">Lorsque vous HTML encoder une chaîne, dangereux caractères tels que `<` et `>` sont remplacés par des références d’entité HTML comme `&lt;` et `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-161">When you HTML encode a string, dangerous characters such as `<` and `>` are replaced by HTML entity references such as `&lt;` and `&gt;`.</span></span> <span data-ttu-id="5d5d5-162">Par conséquent, lorsque la chaîne `<script>alert("Boo!")</script>` est au format HTML encodé, elles sont converties en `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-162">So when the string `<script>alert("Boo!")</script>` is HTML encoded, it gets converted to `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span></span> <span data-ttu-id="5d5d5-163">La chaîne encodée ne s’exécute plus comme un script JavaScript lorsqu’il est interprété par un navigateur.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-163">The encoded string no longer executes as a JavaScript script when interpreted by a browser.</span></span> <span data-ttu-id="5d5d5-164">Au lieu de cela, vous obtenez la page sans incidence dans la Figure 3.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-164">Instead, you get the harmless page in Figure 3.</span></span>


<span data-ttu-id="5d5d5-165">[![Vaincu attaque JavaScript](preventing-javascript-injection-attacks-cs/_static/image8.png)](preventing-javascript-injection-attacks-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5d5d5-165">[![Defeated JavaScript Attack](preventing-javascript-injection-attacks-cs/_static/image8.png)](preventing-javascript-injection-attacks-cs/_static/image7.png)</span></span>

<span data-ttu-id="5d5d5-166">**Figure 03**: Vaincu JavaScript attaque ([cliquez pour afficher l’image en taille réelle](preventing-javascript-injection-attacks-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5d5d5-166">**Figure 03**: Defeated JavaScript Attack ([Click to view full-size image](preventing-javascript-injection-attacks-cs/_static/image9.png))</span></span>


<span data-ttu-id="5d5d5-167">Notez que dans le `Index` afficher dans la liste 3 uniquement la valeur de `feedback.Message` est encodé.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-167">Notice that in the `Index` view in Listing 3 only the value of `feedback.Message` is encoded.</span></span> <span data-ttu-id="5d5d5-168">La valeur de `feedback.EntryDate` n’est pas encodé.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-168">The value of `feedback.EntryDate` is not encoded.</span></span> <span data-ttu-id="5d5d5-169">Vous devez uniquement encoder les données entrées par un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-169">You only need to encode data entered by a user.</span></span> <span data-ttu-id="5d5d5-170">Étant donné que la valeur de EntryDate a été générée dans le contrôleur, vous n’avez besoin au format HTML Encoder cette valeur.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-170">Because the value of EntryDate was generated in the controller, you don't need to HTML encode this value.</span></span>

## <a name="approach-2-html-encode-in-the-controller"></a><span data-ttu-id="5d5d5-171">Approche #2 : Encoder en HTML dans le contrôleur</span><span class="sxs-lookup"><span data-stu-id="5d5d5-171">Approach #2: HTML Encode in the Controller</span></span>

<span data-ttu-id="5d5d5-172">Au lieu de code HTML de l’encodage des données lorsque vous affichez les données dans une vue, vous pouvez HTML encoder les données juste avant d’envoyer les données à la base de données.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-172">Instead of HTML encoding data when you display the data in a view, you can HTML encode the data just before you submit the data to the database.</span></span> <span data-ttu-id="5d5d5-173">Cette seconde approche est effectuée dans le cas de la `controller` sur la liste 4.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-173">This second approach is taken in the case of the `controller` in Listing 4.</span></span>

<span data-ttu-id="5d5d5-174">**Liste 4 – `HomeController.cs` (encodée en HTML)**</span><span class="sxs-lookup"><span data-stu-id="5d5d5-174">**Listing 4 – `HomeController.cs` (HTML Encoded)**</span></span>

[!code-csharp[Main](preventing-javascript-injection-attacks-cs/samples/sample6.cs)]

<span data-ttu-id="5d5d5-175">Notez que la valeur du Message est encodé en HTML avant la valeur est soumise à la base de données dans le `Create()` action.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-175">Notice that the value of Message is HTML encoded before the value is submitted to the database within the `Create()` action.</span></span> <span data-ttu-id="5d5d5-176">Lorsque le Message s’affiche de nouveau dans la vue, le Message est encodé au format HTML et n’importe quel JavaScript injecté dans le Message n’est pas exécutée.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-176">When the Message is redisplayed in the view, the Message is HTML encoded and any JavaScript injected in the Message is not executed.</span></span>

<span data-ttu-id="5d5d5-177">En règle générale, vous devez pencher pour la première approche présentée dans ce didacticiel sur cette seconde approche.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-177">Typically, you should favor the first approach discussed in this tutorial over this second approach.</span></span> <span data-ttu-id="5d5d5-178">Le problème avec cette seconde approche est que vous vous retrouvez avec les données encodées en HTML dans votre base de données.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-178">The problem with this second approach is that you end up with HTML encoded data in your database.</span></span> <span data-ttu-id="5d5d5-179">En d’autres termes, votre base de données est salie par les tests avec les caractères qui drôles.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-179">In other words, your database data is dirtied with funny looking characters.</span></span>

<span data-ttu-id="5d5d5-180">Pourquoi est-ce incorrect ?</span><span class="sxs-lookup"><span data-stu-id="5d5d5-180">Why is this bad?</span></span> <span data-ttu-id="5d5d5-181">Si vous avez besoin afficher les données de base de données dans l’autre chose qu’une page web, puis vous aura des problèmes.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-181">If you ever need to display the database data in something other than a web page, then you will have problems.</span></span> <span data-ttu-id="5d5d5-182">Par exemple, vous pouvez afficher n’est plus facilement les données dans une application Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-182">For example, you can no longer easily display the data in a Windows Forms application.</span></span>

## <a name="summary"></a><span data-ttu-id="5d5d5-183">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="5d5d5-183">Summary</span></span>

<span data-ttu-id="5d5d5-184">L’objectif de ce didacticiel a été plus vous effrayer sur la perspective d’une attaque par injection de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-184">The purpose of this tutorial was to scare you about the prospect of a JavaScript injection attack.</span></span> <span data-ttu-id="5d5d5-185">Ce didacticiel décrit deux approches pour la protection de vos applications ASP.NET MVC contre les attaques par injection de JavaScript : vous pouvez soit HTML Encoder soumise par un utilisateur les données dans la vue, ou vous peuvent HTML Encoder soumise par un utilisateur les données dans le contrôleur.</span><span class="sxs-lookup"><span data-stu-id="5d5d5-185">This tutorial discussed two approaches for defending your ASP.NET MVC applications against JavaScript injection attacks: you can either HTML encode user submitted data in the view or you can HTML encode user submitted data in the controller.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5d5d5-186">[Précédent](authenticating-users-with-windows-authentication-cs.md)
> [Suivant](authenticating-users-with-forms-authentication-vb.md)</span><span class="sxs-lookup"><span data-stu-id="5d5d5-186">[Previous](authenticating-users-with-windows-authentication-cs.md)
[Next](authenticating-users-with-forms-authentication-vb.md)</span></span>
