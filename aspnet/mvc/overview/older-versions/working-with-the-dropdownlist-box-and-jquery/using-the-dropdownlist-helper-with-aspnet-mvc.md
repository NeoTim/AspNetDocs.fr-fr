---
uid: mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
title: Utilisation de l’application auxiliaire DropDownList avec ASP.NET MVC | Microsoft Docs
author: Rick-Anderson
description: ''
ms.author: riande
ms.date: 01/12/2012
ms.assetid: 53767e05-c8ab-42e1-a94b-22d906195200
msc.legacyurl: /mvc/overview/older-versions/working-with-the-dropdownlist-box-and-jquery/using-the-dropdownlist-helper-with-aspnet-mvc
msc.type: authoredcontent
ms.openlocfilehash: 6375bb2be158cea18309ffa71c71ac3e67bc91ed
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77457867"
---
# <a name="using-the-dropdownlist-helper-with-aspnet-mvc"></a><span data-ttu-id="3e22b-102">Utilisation du helper DropDownList avec ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="3e22b-102">Using the DropDownList Helper with ASP.NET MVC</span></span>

<span data-ttu-id="3e22b-103">par [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="3e22b-103">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="3e22b-104">Ce didacticiel vous apprend les bases de l’utilisation de l’application auxiliaire [DropDownList](https://msdn.microsoft.com/library/dd492948.aspx) et du programme d’assistance [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) dans une application Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3e22b-104">This tutorial will teach you the basics of working with the [DropDownList](https://msdn.microsoft.com/library/dd492948.aspx) helper and the [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) helper in an ASP.NET MVC Web application.</span></span> <span data-ttu-id="3e22b-105">Vous pouvez utiliser Microsoft Visual Web Developer 2010 Express Service Pack 1, qui est une version gratuite de Microsoft Visual Studio pour suivre le didacticiel.</span><span class="sxs-lookup"><span data-stu-id="3e22b-105">You can use Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio to follow the tutorial.</span></span> <span data-ttu-id="3e22b-106">Avant de commencer, assurez-vous que vous avez installé les composants requis ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="3e22b-106">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="3e22b-107">Vous pouvez les installer en cliquant sur le lien suivant : [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="3e22b-107">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="3e22b-108">Vous pouvez également installer individuellement les composants requis à l’aide des liens suivants :</span><span class="sxs-lookup"><span data-stu-id="3e22b-108">Alternatively, you can individually install the prerequisites using the following links:</span></span>

- <span data-ttu-id="3e22b-109">[Conditions préalables pour Visual Studio Web Developer Express SP1](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)<a id="post"></a></span><span class="sxs-lookup"><span data-stu-id="3e22b-109">[Visual Studio Web Developer Express SP1 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack) <a id="post"></a></span></span>
- [<span data-ttu-id="3e22b-110">Mise à jour des outils ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="3e22b-110">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
- <span data-ttu-id="3e22b-111">[SQL Server Compact 4,0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(prise en charge de Runtime + Tools)</span><span class="sxs-lookup"><span data-stu-id="3e22b-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>

<span data-ttu-id="3e22b-112">Si vous utilisez Visual Studio 2010 au lieu de Visual Web Developer 2010, installez les composants requis en cliquant sur le lien suivant : [Visual Studio 2010 Prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="3e22b-112">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span> <span data-ttu-id="3e22b-113">Ce didacticiel part du principe que vous avez terminé le didacticiel [d’introduction à ASP.NET MVC](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) ou le didacticiel du[magasin de musique ASP.NET MVC](../mvc-music-store/mvc-music-store-part-1.md) ou que vous connaissez le développement ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="3e22b-113">This tutorial assumes you have completed the [Intro to ASP.NET MVC](../getting-started-with-aspnet-mvc3/cs/intro-to-aspnet-mvc-3.md) tutorial or the[ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial or you are familiar with ASP.NET MVC development.</span></span> <span data-ttu-id="3e22b-114">Ce didacticiel commence par un projet modifié du didacticiel [ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) .</span><span class="sxs-lookup"><span data-stu-id="3e22b-114">This tutorial starts with a modified project from the [ASP.NET MVC Music Store](../mvc-music-store/mvc-music-store-part-1.md) tutorial.</span></span> <span data-ttu-id="3e22b-115">Vous pouvez télécharger le projet de démarrage avec le lien suivant pour [Télécharger la C# version](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span><span class="sxs-lookup"><span data-stu-id="3e22b-115">You can download the starter project with the following link [Download the C# version](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span>

<span data-ttu-id="3e22b-116">Un projet Visual Web Developer avec le code C# source du didacticiel terminé est disponible pour accompagner cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="3e22b-116">A Visual Web Developer project with the completed tutorial C# source code is available to accompany this topic.</span></span> <span data-ttu-id="3e22b-117">[Téléchargez](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d).</span><span class="sxs-lookup"><span data-stu-id="3e22b-117">[Download](https://code.msdn.microsoft.com/Using-the-DropDownList-67f9367d).</span></span>

### <a name="what-youll-build"></a><span data-ttu-id="3e22b-118">Contenu</span><span class="sxs-lookup"><span data-stu-id="3e22b-118">What You'll Build</span></span>

<span data-ttu-id="3e22b-119">Vous allez créer des méthodes d’action et des vues qui utilisent l’application auxiliaire [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) pour sélectionner une catégorie.</span><span class="sxs-lookup"><span data-stu-id="3e22b-119">You'll create action methods and views that use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select a category.</span></span> <span data-ttu-id="3e22b-120">Vous allez également utiliser **jQuery** pour ajouter une boîte de dialogue Insérer une catégorie qui peut être utilisée lorsqu’une nouvelle catégorie (telle que genre ou artiste) est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="3e22b-120">You will also use **jQuery** to add an insert category dialog that can be used when a new category (such as genre or artist) is needed.</span></span> <span data-ttu-id="3e22b-121">Vous trouverez ci-dessous une capture d’écran de la vue créer montrant des liens permettant d’ajouter un nouveau genre et d’ajouter un nouvel artiste.</span><span class="sxs-lookup"><span data-stu-id="3e22b-121">Below is a screenshot of the Create view showing links to add a new genre and add a new artist.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image1.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="3e22b-122">Compétences</span><span class="sxs-lookup"><span data-stu-id="3e22b-122">Skills You'll Learn</span></span>

<span data-ttu-id="3e22b-123">Vous apprendrez les compétences suivantes :</span><span class="sxs-lookup"><span data-stu-id="3e22b-123">Here's what you'll learn:</span></span>

- <span data-ttu-id="3e22b-124">Comment utiliser le programme d’assistance [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) pour sélectionner des données de catégorie.</span><span class="sxs-lookup"><span data-stu-id="3e22b-124">How to use the [DropDownList](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.dropdownlist.aspx) helper to select category data.</span></span>
- <span data-ttu-id="3e22b-125">Comment ajouter une boîte de dialogue **jQuery** pour ajouter de nouvelles catégories.</span><span class="sxs-lookup"><span data-stu-id="3e22b-125">How to add a **jQuery** dialog to add new categories.</span></span>

### <a name="getting-started"></a><span data-ttu-id="3e22b-126">Mise en route</span><span class="sxs-lookup"><span data-stu-id="3e22b-126">Getting Started</span></span>

<span data-ttu-id="3e22b-127">Commencez par Télécharger le projet de démarrage avec le lien suivant, [Télécharger](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span><span class="sxs-lookup"><span data-stu-id="3e22b-127">Start by downloading the starter project with the following link, [Download](https://archive.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=aspnetmvcsamples&amp;DownloadId=15829).</span></span> <span data-ttu-id="3e22b-128">Dans l’Explorateur Windows, cliquez avec le bouton droit sur le fichier *DDL\_Starter. zip* , puis sélectionnez Propriétés.</span><span class="sxs-lookup"><span data-stu-id="3e22b-128">In Windows Explorer, right click on the *DDL\_Starter.zip* file and select properties.</span></span> <span data-ttu-id="3e22b-129">Dans la boîte de dialogue **Propriétés DDL\_Starter. zip** , sélectionnez débloquer.</span><span class="sxs-lookup"><span data-stu-id="3e22b-129">In the **DDL\_Starter.zip Properties** dialog box, select Unblock.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image2.png)

<span data-ttu-id="3e22b-130">Cliquez avec le bouton droit sur le fichier DDL\_Starter. zip, puis sélectionnez **extraire tout** pour décompresser le fichier.</span><span class="sxs-lookup"><span data-stu-id="3e22b-130">Right click the DDL\_Starter.zip file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="3e22b-131">Ouvrez le fichier *StartMusicStore. sln* avec Visual Web developer 2010 Express (« Visual Web Developer » ou « VWD existant » pour Short) ou visual studio 2010.</span><span class="sxs-lookup"><span data-stu-id="3e22b-131">Open the *StartMusicStore.sln* file with Visual Web Developer 2010 Express ("Visual Web Developer" or "VWD" for short) or Visual Studio 2010.</span></span>

<span data-ttu-id="3e22b-132">Appuyez sur CTRL + F5 pour exécuter l’application et cliquez sur le lien **test** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-132">Press CTRL+F5 to run the application and click the **Test** link.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image3.png)

<span data-ttu-id="3e22b-133">Sélectionnez le lien **Sélectionner une catégorie de films (simple)** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-133">Select the **Select Movie Category (Simple)** link.</span></span> <span data-ttu-id="3e22b-134">Une liste de sélection de type de film s’affiche, avec comédie la valeur sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="3e22b-134">A Movie Type Select list is displayed, with Comedy the selected value.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image4.png)

<span data-ttu-id="3e22b-135">Cliquez avec le bouton droit dans le navigateur, puis sélectionnez Afficher la source.</span><span class="sxs-lookup"><span data-stu-id="3e22b-135">Right click in the browser and select view source.</span></span> <span data-ttu-id="3e22b-136">Le code HTML de la page s’affiche.</span><span class="sxs-lookup"><span data-stu-id="3e22b-136">The HTML for the page is displayed.</span></span> <span data-ttu-id="3e22b-137">Le code ci-dessous montre le code HTML de l’élément SELECT.</span><span class="sxs-lookup"><span data-stu-id="3e22b-137">The code below shows the HTML for the select element.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample1.html)]

<span data-ttu-id="3e22b-138">Vous pouvez voir que chaque élément de la liste de sélection a une valeur (0 pour action, 1 pour la fiction, 2 pour comédie et 3 pour science-fiction) et un nom d’affichage (action, fiction, comédie et science-fiction).</span><span class="sxs-lookup"><span data-stu-id="3e22b-138">You can see that each item in the select list has a value (0 for Action, 1 for Drama, 2 for Comedy and 3 for Science Fiction) and a display name (Action, Drama, Comedy and Science Fiction).</span></span> <span data-ttu-id="3e22b-139">Le code ci-dessus est du code HTML standard pour une liste de sélection.</span><span class="sxs-lookup"><span data-stu-id="3e22b-139">The code above is standard HTML for a select list.</span></span>

<span data-ttu-id="3e22b-140">Modifiez la liste de sélection en « fiction », puis appuyez sur le bouton **Envoyer** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-140">Change the select list to Drama and hit the **Submit** button.</span></span> <span data-ttu-id="3e22b-141">L’URL dans le navigateur est `http://localhost:2468/Home/CategoryChosen?MovieType=1` et la page affiche la **sélection : 1**.</span><span class="sxs-lookup"><span data-stu-id="3e22b-141">The URL in the browser is `http://localhost:2468/Home/CategoryChosen?MovieType=1` and the page displays **You Selected: 1**.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image5.png)

<span data-ttu-id="3e22b-142">Ouvrez le fichier *Controllers\HomeController.cs* et examinez la méthode `SelectCategory`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-142">Open the *Controllers\HomeController.cs* file and examine the `SelectCategory` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample2.cs)]

<span data-ttu-id="3e22b-143">L’application auxiliaire [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) utilisée pour créer une liste de sélection html requiert un **IEnumerable&lt;SelectListItem &gt;** , explicitement ou implicitement.</span><span class="sxs-lookup"><span data-stu-id="3e22b-143">The [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper used to create an HTML select list requires a **IEnumerable&lt;SelectListItem &gt;**, either explicitly or implicitly.</span></span> <span data-ttu-id="3e22b-144">Autrement dit, vous pouvez passer le **SelectListItem ienumerable&lt;&gt;** explicitement à l’application auxiliaire [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) ou vous pouvez ajouter le **&gt;IEnumerable&lt;SelectListItem** à [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) en utilisant le même nom pour le **SelectListItem** que la propriété de modèle.</span><span class="sxs-lookup"><span data-stu-id="3e22b-144">That is, you can pass the **IEnumerable&lt;SelectListItem &gt;** explicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper or you can add the **IEnumerable&lt;SelectListItem &gt;** to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) using the same name for the **SelectListItem** as the model property.</span></span> <span data-ttu-id="3e22b-145">Le passage de **SelectListItem** implicitement et explicitement est abordé dans la partie suivante du didacticiel.</span><span class="sxs-lookup"><span data-stu-id="3e22b-145">Passing in the **SelectListItem** implicitly and explicitly is covered in the next part of the tutorial.</span></span> <span data-ttu-id="3e22b-146">Le code ci-dessus montre la manière la plus simple possible de créer un **IEnumerable&lt;SelectListItem &gt;** et de le remplir avec du texte et des valeurs.</span><span class="sxs-lookup"><span data-stu-id="3e22b-146">The code above shows the simplest possible way to create an **IEnumerable&lt;SelectListItem &gt;** and populate it with text and values.</span></span> <span data-ttu-id="3e22b-147">Notez que la propriété [sélectionnée](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx) de la `Comedy`[SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx) a la valeur **true ;** la liste de sélection rendue affiche alors **comédie** en tant qu’élément sélectionné dans la liste.</span><span class="sxs-lookup"><span data-stu-id="3e22b-147">Note the `Comedy`[SelectListItem](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.aspx) has the [Selected](https://msdn.microsoft.com/library/system.web.mvc.selectlistitem.selected.aspx) property set to **true;** this will cause the rendered select list to show **Comedy** as the selected item in the list.</span></span>

<span data-ttu-id="3e22b-148">Le **SelectListItem IEnumerable&lt;&gt;** créé ci-dessus est ajouté au [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) avec le nom MovieType.</span><span class="sxs-lookup"><span data-stu-id="3e22b-148">The **IEnumerable&lt;SelectListItem &gt;** created above is added to the [ViewBag](https://blogs.msdn.com/b/rickandy/archive/2011/01/28/dynamic-v-strongly-typed-views.aspx) with the name MovieType.</span></span> <span data-ttu-id="3e22b-149">C’est ainsi que nous passons l' **IEnumerable&lt;SelectListItem &gt;** implicitement à l’application auxiliaire [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) indiquée ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="3e22b-149">This is how we pass the **IEnumerable&lt;SelectListItem &gt;** implicitly to the [DropDownList](https://msdn.microsoft.com/library/dd492738.aspx) helper shown below.</span></span>

<span data-ttu-id="3e22b-150">Ouvrez le fichier *Views\Home\SelectCategory.cshtml* et examinez le balisage.</span><span class="sxs-lookup"><span data-stu-id="3e22b-150">Open the *Views\Home\SelectCategory.cshtml* file and examine the markup.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample3.cshtml)]

<span data-ttu-id="3e22b-151">Sur la troisième ligne, nous définissons la disposition sur Views/Shared/\_simple\_Layout. cshtml, qui est une version simplifiée du fichier de disposition standard.</span><span class="sxs-lookup"><span data-stu-id="3e22b-151">On the third line, we set the layout to Views/Shared/\_Simple\_Layout.cshtml, which is a simplified version of the standard layout file.</span></span> <span data-ttu-id="3e22b-152">Nous faisons cela pour simplifier l’affichage et le rendu du code HTML.</span><span class="sxs-lookup"><span data-stu-id="3e22b-152">We do this to keep the display and rendered HTML simple.</span></span>

<span data-ttu-id="3e22b-153">Dans cet exemple, nous ne modifions pas l’état de l’application. nous allons donc envoyer les données à l’aide d’une requête **http**et non **http**.</span><span class="sxs-lookup"><span data-stu-id="3e22b-153">In this sample we are not changing the state of the application, so we will submit the data using an **HTTP GET**, not **HTTP POST**.</span></span> <span data-ttu-id="3e22b-154">Consultez la [liste de vérification rapide de la section W3C pour choisir http : obtenir ou poster](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist).</span><span class="sxs-lookup"><span data-stu-id="3e22b-154">See the W3C section [Quick Checklist for Choosing HTTP GET or POST](http://www.w3.org/2001/tag/doc/whenToUseGet.html#checklist).</span></span> <span data-ttu-id="3e22b-155">Comme nous ne modifions pas l’application et en publiant le formulaire, nous utilisons la surcharge [html. BeginForm](https://msdn.microsoft.com/library/dd460344.aspx) qui nous permet de spécifier la méthode d’action, le contrôleur et la méthode de formulaire (**http post** ou **http**).</span><span class="sxs-lookup"><span data-stu-id="3e22b-155">Because we are not changing the application and posting the form, we use the [Html.BeginForm](https://msdn.microsoft.com/library/dd460344.aspx) overload that allows us to specify the action method, controller and form method (**HTTP POST** or **HTTP GET**).</span></span> <span data-ttu-id="3e22b-156">En général, les vues contiennent la surcharge [html. BeginForm](https://msdn.microsoft.com/library/dd505244.aspx) qui ne prend aucun paramètre.</span><span class="sxs-lookup"><span data-stu-id="3e22b-156">Typically views contain the [Html.BeginForm](https://msdn.microsoft.com/library/dd505244.aspx) overload that takes no parameters.</span></span> <span data-ttu-id="3e22b-157">La version de paramètre no est par défaut la publication des données de formulaire dans la version POST de la même méthode d’action et du même contrôleur.</span><span class="sxs-lookup"><span data-stu-id="3e22b-157">The no parameter version defaults to posting the form data to the POST version of the same action method and controller.</span></span>

<span data-ttu-id="3e22b-158">La ligne suivante</span><span class="sxs-lookup"><span data-stu-id="3e22b-158">The following line</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample4.cshtml)]

<span data-ttu-id="3e22b-159">passe un argument de chaîne à l’application auxiliaire **DropDownList** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-159">passes a string argument to the **DropDownList** helper.</span></span> <span data-ttu-id="3e22b-160">Cette chaîne, « MovieType » dans notre exemple, fait deux choses :</span><span class="sxs-lookup"><span data-stu-id="3e22b-160">This string, "MovieType" in our example, does two things:</span></span>

- <span data-ttu-id="3e22b-161">Il fournit la clé pour que le programme d’assistance **DropDownList** recherche un **IEnumerable&lt;SelectListItem &gt;** dans **ViewBag**.</span><span class="sxs-lookup"><span data-stu-id="3e22b-161">It provides the key for the **DropDownList** helper to find a **IEnumerable&lt;SelectListItem &gt;** in the **ViewBag**.</span></span>
- <span data-ttu-id="3e22b-162">Elle est liée aux données de l’élément de formulaire MovieType.</span><span class="sxs-lookup"><span data-stu-id="3e22b-162">It is data-bound to the MovieType form element.</span></span> <span data-ttu-id="3e22b-163">Si la méthode Submit est **http obtenir**, `MovieType` est une chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="3e22b-163">If the submit method is **HTTP GET**, `MovieType` will be a query string.</span></span> <span data-ttu-id="3e22b-164">Si la méthode Submit est **http postal**, `MovieType` sera ajouté dans le corps du message.</span><span class="sxs-lookup"><span data-stu-id="3e22b-164">If the submit method is **HTTP POST**, `MovieType` will be added in the message body.</span></span> <span data-ttu-id="3e22b-165">L’illustration suivante montre la chaîne de requête avec la valeur 1.</span><span class="sxs-lookup"><span data-stu-id="3e22b-165">The following image shows the query string with the value of 1.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image6.png)

<span data-ttu-id="3e22b-166">Le code suivant illustre la méthode `CategoryChosen` à laquelle le formulaire a été envoyé.</span><span class="sxs-lookup"><span data-stu-id="3e22b-166">The following code shows the `CategoryChosen` method the form was submitted to.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample5.cs)]

<span data-ttu-id="3e22b-167">Revenez à la page test et sélectionnez le lien **SelectList html** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-167">Navigate back to the test page and select the **HTML SelectList** link.</span></span> <span data-ttu-id="3e22b-168">La page HTML affiche un élément Select similaire à la page de test ASP.NET MVC simple.</span><span class="sxs-lookup"><span data-stu-id="3e22b-168">The HTML page renders a select element similar to the simple ASP.NET MVC test page.</span></span> <span data-ttu-id="3e22b-169">Cliquez avec le bouton droit sur la fenêtre du navigateur, puis sélectionnez **afficher la source**.</span><span class="sxs-lookup"><span data-stu-id="3e22b-169">Right click the browser window and select **view source**.</span></span> <span data-ttu-id="3e22b-170">Le balisage HTML de la liste de sélection est fondamentalement identique.</span><span class="sxs-lookup"><span data-stu-id="3e22b-170">The HTML markup for the select list is essentially identical.</span></span> <span data-ttu-id="3e22b-171">Testez la page HTML, elle fonctionne comme la méthode d’action MVC ASP.NET et la vue que nous avons testée précédemment.</span><span class="sxs-lookup"><span data-stu-id="3e22b-171">Test the HTML page, it works like the ASP.NET MVC action method and view we previously tested.</span></span>

### <a name="improving-the-movie-select-list-with-enums"></a><span data-ttu-id="3e22b-172">Amélioration de la liste de sélection de films avec des énumérations</span><span class="sxs-lookup"><span data-stu-id="3e22b-172">Improving the Movie Select List with Enums</span></span>

<span data-ttu-id="3e22b-173">Si les catégories de votre application sont fixes et ne changent pas, vous pouvez tirer parti des enums pour rendre votre code plus robuste et plus simple à étendre.</span><span class="sxs-lookup"><span data-stu-id="3e22b-173">If the categories in your application are fixed and will not change, you can take advantage of enums to make your code more robust and simpler to extend.</span></span> <span data-ttu-id="3e22b-174">Lorsque vous ajoutez une nouvelle catégorie, la valeur de catégorie correcte est générée.</span><span class="sxs-lookup"><span data-stu-id="3e22b-174">When you add a new category, the correct category value is generated.</span></span> <span data-ttu-id="3e22b-175">Le évite les erreurs de copie et de collage lorsque vous ajoutez une nouvelle catégorie, mais que vous oubliez de mettre à jour la valeur de la catégorie.</span><span class="sxs-lookup"><span data-stu-id="3e22b-175">The avoids copy and paste errors when you add a new category but forget to update the category value.</span></span>

<span data-ttu-id="3e22b-176">Ouvrez le fichier *Controllers\HomeController.cs* et examinez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="3e22b-176">Open the *Controllers\HomeController.cs* file and examine the following code:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample6.cs)]

<span data-ttu-id="3e22b-177">L' [énumération](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories` capture les quatre types de films.</span><span class="sxs-lookup"><span data-stu-id="3e22b-177">The [enum](https://msdn.microsoft.com/library/sbbt4032(VS.80).aspx) `eMovieCategories` captures the four movie types.</span></span> <span data-ttu-id="3e22b-178">La méthode `SetViewBagMovieType` crée le **&gt;IEnumerable&lt;SelectListItem** à partir de l' **énumération**`eMovieCategories`et définit la propriété `Selected` à partir du paramètre `selectedMovie`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-178">The `SetViewBagMovieType` method creates the **IEnumerable&lt;SelectListItem &gt;** from the `eMovieCategories`**enum**, and sets the `Selected` property from the `selectedMovie` parameter.</span></span> <span data-ttu-id="3e22b-179">La méthode d’action `SelectCategoryEnum` utilise la même vue que la méthode d’action `SelectCategory`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-179">The `SelectCategoryEnum` action method uses the same view as the `SelectCategory` action method.</span></span>

<span data-ttu-id="3e22b-180">Accédez à la page test, puis cliquez sur le lien `Select Movie Category (Enum)`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-180">Navigate to the Test page and click on the `Select Movie Category (Enum)` link.</span></span> <span data-ttu-id="3e22b-181">Cette fois, au lieu d’afficher une valeur (nombre), une chaîne représentant l’énumération est affichée.</span><span class="sxs-lookup"><span data-stu-id="3e22b-181">This time, instead of a value (number) being displayed, a string representing the enum is displayed.</span></span>

### <a name="posting-enum-values"></a><span data-ttu-id="3e22b-182">Publication des valeurs enum</span><span class="sxs-lookup"><span data-stu-id="3e22b-182">Posting Enum Values</span></span>

<span data-ttu-id="3e22b-183">Les formulaires HTML sont généralement utilisés pour la publication de données sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="3e22b-183">HTML Forms are typically used to post data to the server.</span></span> <span data-ttu-id="3e22b-184">Le code suivant illustre les versions `HTTP GET` et `HTTP POST` de la méthode `SelectCategoryEnumPost`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-184">The following code shows the `HTTP GET` and `HTTP POST` versions of the `SelectCategoryEnumPost` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample7.cs)]

<span data-ttu-id="3e22b-185">En passant une `eMovieCategories` enum à la méthode `POST`, nous pouvons extraire à la fois la valeur enum et la chaîne Enum.</span><span class="sxs-lookup"><span data-stu-id="3e22b-185">By passing a `eMovieCategories` enum to the `POST` method, we can extract both the enum value and the enum string.</span></span> <span data-ttu-id="3e22b-186">Exécutez l’exemple et accédez à la page de test.</span><span class="sxs-lookup"><span data-stu-id="3e22b-186">Run the sample and navigate to the Test page.</span></span> <span data-ttu-id="3e22b-187">Cliquez sur le lien `Select Movie Category(Enum Post)`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-187">Click on the `Select Movie Category(Enum Post)` link.</span></span> <span data-ttu-id="3e22b-188">Sélectionnez un type de film, puis appuyez sur le bouton Envoyer.</span><span class="sxs-lookup"><span data-stu-id="3e22b-188">Select a movie type and then hit the submit button.</span></span> <span data-ttu-id="3e22b-189">L’affichage montre à la fois la valeur et le nom du type de film.</span><span class="sxs-lookup"><span data-stu-id="3e22b-189">The display shows both the value and the name of the movie type.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image7.png)

### <a name="creating-a-multiple-section-select-element"></a><span data-ttu-id="3e22b-190">Création d’un élément Select à plusieurs sections</span><span class="sxs-lookup"><span data-stu-id="3e22b-190">Creating a Multiple Section Select Element</span></span>

<span data-ttu-id="3e22b-191">Le programme d’assistance HTML [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) restitue l’élément HTML `<select>` avec l’attribut `multiple`, qui permet aux utilisateurs d’effectuer plusieurs sélections.</span><span class="sxs-lookup"><span data-stu-id="3e22b-191">The [ListBox](https://msdn.microsoft.com/library/system.web.mvc.html.selectextensions.listbox.aspx) HTML helper renders the HTML `<select>` element with the `multiple` attribute, which allows the users to make multiple selections.</span></span> <span data-ttu-id="3e22b-192">Accédez au lien test, puis sélectionnez le lien **MultiSelect Country** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-192">Navigate to the Test link, then select the **Multi Select Country** link.</span></span> <span data-ttu-id="3e22b-193">L’interface utilisateur rendue vous permet de sélectionner plusieurs pays.</span><span class="sxs-lookup"><span data-stu-id="3e22b-193">The rendered UI allows you to select multiple countries.</span></span> <span data-ttu-id="3e22b-194">Dans l’image ci-dessous, le Canada et la Chine sont sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="3e22b-194">In the image below, Canada and China are selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image8.png)

### <a name="examining-the-multiselectcountry-code"></a><span data-ttu-id="3e22b-195">Examen du code MultiSelectCountry</span><span class="sxs-lookup"><span data-stu-id="3e22b-195">Examining the MultiSelectCountry Code</span></span>

<span data-ttu-id="3e22b-196">Examinez le code suivant à partir du fichier *Controllers\HomeController.cs* .</span><span class="sxs-lookup"><span data-stu-id="3e22b-196">Examine the following code from the *Controllers\HomeController.cs* file.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample8.cs)]

<span data-ttu-id="3e22b-197">La méthode `GetCountries` crée une liste de pays, puis la passe au constructeur `MultiSelectList`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-197">The `GetCountries` method creates a list of countries, then passes it to the `MultiSelectList` constructor.</span></span> <span data-ttu-id="3e22b-198">La surcharge du constructeur `MultiSelectList` utilisée dans la méthode `GetCountries` ci-dessus accepte quatre paramètres :</span><span class="sxs-lookup"><span data-stu-id="3e22b-198">The `MultiSelectList` constructor overload used in the `GetCountries` method above takes four parameters:</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample9.cs)]

1. <span data-ttu-id="3e22b-199">*Items*: [IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) contenant les éléments de la liste.</span><span class="sxs-lookup"><span data-stu-id="3e22b-199">*items*: An [IEnumerable](https://msdn.microsoft.com/library/system.collections.ienumerable.aspx) containing the items in the list.</span></span> <span data-ttu-id="3e22b-200">Dans l’exemple ci-dessus, la liste des pays.</span><span class="sxs-lookup"><span data-stu-id="3e22b-200">In the example above, the list of Countries.</span></span>
2. <span data-ttu-id="3e22b-201">*dataValueField*: nom de la propriété dans la liste **IEnumerable** qui contient la valeur.</span><span class="sxs-lookup"><span data-stu-id="3e22b-201">*dataValueField*: The name of the property in the **IEnumerable** list that contains the value.</span></span> <span data-ttu-id="3e22b-202">Dans l’exemple ci-dessus, la propriété `ID`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-202">In the example above, the `ID` property.</span></span>
3. <span data-ttu-id="3e22b-203">*dataTextField*: nom de la propriété dans la liste **IEnumerable** qui contient les informations à afficher.</span><span class="sxs-lookup"><span data-stu-id="3e22b-203">*dataTextField*: The name of the property in the **IEnumerable** list that contains the information to display.</span></span> <span data-ttu-id="3e22b-204">Dans l’exemple ci-dessus, la propriété `name`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-204">In the example above, the `name` property.</span></span>
4. <span data-ttu-id="3e22b-205">*selectedValues*: liste des valeurs sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="3e22b-205">*selectedValues*: The list of selected values.</span></span>

<span data-ttu-id="3e22b-206">Dans l’exemple ci-dessus, la méthode `MultiSelectCountry` passe une valeur `null` pour les pays sélectionnés, si bien qu’aucun pays n’est sélectionné lors de l’affichage de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3e22b-206">In the example above, the `MultiSelectCountry` method passes a `null` value for the selected countries, so no countries are selected when the UI is displayed.</span></span> <span data-ttu-id="3e22b-207">Le code suivant montre le balisage Razor utilisé pour restituer la vue `MultiSelectCountry`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-207">The following code shows the Razor markup used to render the `MultiSelectCountry` view.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample10.cshtml)]

<span data-ttu-id="3e22b-208">La méthode [ListBox](https://msdn.microsoft.com/library/dd470200.aspx) du programme d’assistance HTML utilisée ci-dessus prend deux paramètres, le nom de la propriété pour modeler la liaison et le [MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx) contenant les options et valeurs Select.</span><span class="sxs-lookup"><span data-stu-id="3e22b-208">The HTML helper [ListBox](https://msdn.microsoft.com/library/dd470200.aspx) method used above take two parameters, the name of the property to model bind and the [MultiSelectList](https://msdn.microsoft.com/library/system.web.mvc.multiselectlist.aspx) containing the select options and values.</span></span> <span data-ttu-id="3e22b-209">Le code `ViewBag.YouSelected` ci-dessus est utilisé pour afficher les valeurs des pays que vous avez sélectionnés lors de l’envoi du formulaire.</span><span class="sxs-lookup"><span data-stu-id="3e22b-209">The `ViewBag.YouSelected` code above is used to display the values of the countries you selected when you submit the form.</span></span> <span data-ttu-id="3e22b-210">Examinez la surcharge HTTP Après la méthode `MultiSelectCountry`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-210">Examine the HTTP POST overload of the `MultiSelectCountry` method.</span></span>

[!code-csharp[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample11.cs)]

<span data-ttu-id="3e22b-211">La propriété dynamique `ViewBag.YouSelected` contient les pays sélectionnés, obtenus pour l’entrée de `Countries` dans la collection de formulaires.</span><span class="sxs-lookup"><span data-stu-id="3e22b-211">The `ViewBag.YouSelected` dynamic property contains the selected countries, obtained for the `Countries` entry in the form collection.</span></span> <span data-ttu-id="3e22b-212">Dans cette version, la méthode GetCountries est passée à une liste des pays sélectionnés. par conséquent, lorsque la vue `MultiSelectCountry` s’affiche, les pays sélectionnés sont sélectionnés dans l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3e22b-212">In this version the GetCountries method is passed a list of the selected countries, so when the `MultiSelectCountry` view is displayed, the selected countries are selected in the UI.</span></span>

### <a name="making-a-select-element-friendly-with-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="3e22b-213">Rendre un élément Select convivial avec le plug-in jQuery choisi par la récolte</span><span class="sxs-lookup"><span data-stu-id="3e22b-213">Making a Select Element Friendly with the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="3e22b-214">Le plug-in jQuery [choisi](https://harvesthq.github.com/chosen/) pour la récolte peut être ajouté à un élément HTML &lt;sélectionnez&gt; élément pour créer une interface utilisateur conviviale.</span><span class="sxs-lookup"><span data-stu-id="3e22b-214">The Harvest [Chosen](https://harvesthq.github.com/chosen/) jQuery plugin can be added to an HTML &lt;select&gt; element to create a user friendly UI.</span></span> <span data-ttu-id="3e22b-215">Les images ci-dessous illustrent le plug-in jQuery [choisi](https://harvesthq.github.com/chosen/) par la vue `MultiSelectCountry`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-215">The images below demonstrate the Harvest [Chosen](https://harvesthq.github.com/chosen/) jQuery plugin with `MultiSelectCountry` view.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image9.png)

<span data-ttu-id="3e22b-216">Dans les deux images ci-dessous, le **Canada** est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="3e22b-216">In the two images below, **Canada** is selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image10.png)

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image11.png)

<span data-ttu-id="3e22b-217">Dans l’image ci-dessus, le Canada est sélectionné et contient un **x** sur lequel vous pouvez cliquer pour supprimer la sélection.</span><span class="sxs-lookup"><span data-stu-id="3e22b-217">In the image above, Canada is selected, and it contains an **x** you can click to remove the selection.</span></span> <span data-ttu-id="3e22b-218">L’image ci-dessous indique le Canada, la Chine et le Japon sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="3e22b-218">The image below shows Canada, China, and Japan selected.</span></span>

![](using-the-dropdownlist-helper-with-aspnet-mvc/_static/image12.png)

### <a name="hooking-up-the-harvest-chosen-jquery-plugin"></a><span data-ttu-id="3e22b-219">Raccordement du plug-in jQuery choisi par la récolte</span><span class="sxs-lookup"><span data-stu-id="3e22b-219">Hooking up the Harvest Chosen jQuery Plugin</span></span>

<span data-ttu-id="3e22b-220">La section suivante est plus facile à suivre si vous avez une certaine expérience avec jQuery.</span><span class="sxs-lookup"><span data-stu-id="3e22b-220">The following section is easier to follow if you have some experience with jQuery.</span></span> <span data-ttu-id="3e22b-221">Si vous n’avez jamais utilisé jQuery auparavant, vous souhaiterez peut-être essayer l’un des didacticiels jQuery suivants.</span><span class="sxs-lookup"><span data-stu-id="3e22b-221">If you have never used jQuery before, you might want to try one of the following jQuery tutorials.</span></span>

- <span data-ttu-id="3e22b-222">[Fonctionnement de jQuery](http://docs.jquery.com/Tutorials:How_jQuery_Works) par [John Resig](http://ejohn.org/)</span><span class="sxs-lookup"><span data-stu-id="3e22b-222">[How jQuery Works](http://docs.jquery.com/Tutorials:How_jQuery_Works) by [John Resig](http://ejohn.org/)</span></span>
- <span data-ttu-id="3e22b-223">[Prise en main avec jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery) par [Jörn Zaefferer](http://bassistance.de/)</span><span class="sxs-lookup"><span data-stu-id="3e22b-223">[Getting Started with jQuery](http://docs.jquery.com/Tutorials:Getting_Started_with_jQuery) by [Jörn Zaefferer](http://bassistance.de/)</span></span>
- <span data-ttu-id="3e22b-224">[Exemples en direct de jQuery](http://codylindley.com/blogstuff/js/jquery/#) par [Cody Lindley](http://codylindley.com/)</span><span class="sxs-lookup"><span data-stu-id="3e22b-224">[Live Examples of jQuery](http://codylindley.com/blogstuff/js/jquery/#) by [Cody Lindley](http://codylindley.com/)</span></span>

<span data-ttu-id="3e22b-225">Le plug-in choisi est inclus dans les exemples de projets de démarrage et terminés qui accompagnent ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="3e22b-225">The Chosen plugin is included in the starter and completed sample projects that accompany this tutorial.</span></span> <span data-ttu-id="3e22b-226">Pour ce didacticiel, vous devez uniquement utiliser jQuery pour le raccorder à l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3e22b-226">For this tutorial you will only need to use jQuery to hook it up to the UI.</span></span> <span data-ttu-id="3e22b-227">Pour utiliser le plug-in jQuery choisi par RECOLTE dans un projet MVC ASP.NET, vous devez :</span><span class="sxs-lookup"><span data-stu-id="3e22b-227">To use the Harvest Chosen jQuery plugin in an ASP.NET MVC project, you must:</span></span>

1. <span data-ttu-id="3e22b-228">Téléchargez le plug-in choisi à partir de [GitHub](https://github.com/harvesthq/chosen/).</span><span class="sxs-lookup"><span data-stu-id="3e22b-228">Download Chosen plugin from [github](https://github.com/harvesthq/chosen/).</span></span> <span data-ttu-id="3e22b-229">Cette étape a été effectuée pour vous.</span><span class="sxs-lookup"><span data-stu-id="3e22b-229">This step has been done for you.</span></span>
2. <span data-ttu-id="3e22b-230">Ajoutez le dossier choisi à votre projet MVC ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3e22b-230">Add the Chosen folder to your ASP.NET MVC project.</span></span> <span data-ttu-id="3e22b-231">Ajoutez les éléments multimédias du plug-in choisi que vous avez téléchargé à l’étape précédente dans le dossier choisi.</span><span class="sxs-lookup"><span data-stu-id="3e22b-231">Add the assets from the Chosen plugin you downloaded in the previous step to the Chosen folder.</span></span> <span data-ttu-id="3e22b-232">Cette étape a été effectuée pour vous.</span><span class="sxs-lookup"><span data-stu-id="3e22b-232">This step has been done for you.</span></span>
3. <span data-ttu-id="3e22b-233">Raccorder le plug-in choisi au programme d’assistance HTML **DropDownList** ou **ListBox** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-233">Hook up the chosen plugin to the **DropDownList** or **ListBox** HTML helper.</span></span>

### <a name="hooking-up-the-chosen-plugin-to-the-multiselectcountry-view"></a><span data-ttu-id="3e22b-234">Raccordement du plug-in choisi à la vue MultiSelectCountry.</span><span class="sxs-lookup"><span data-stu-id="3e22b-234">Hooking up the Chosen Plugin to the MultiSelectCountry View.</span></span>

<span data-ttu-id="3e22b-235">Ouvrez le fichier *Views\Home\MultiSelectCountry.cshtml* et ajoutez un paramètre `htmlAttributes` au `Html.ListBox`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-235">Open the *Views\Home\MultiSelectCountry.cshtml* file and add an `htmlAttributes` parameter to the `Html.ListBox`.</span></span> <span data-ttu-id="3e22b-236">Le paramètre que vous ajouterez contient un nom de classe pour la liste de sélection (`@class = "chzn-select"`).</span><span class="sxs-lookup"><span data-stu-id="3e22b-236">The parameter you will add contains a class name for the select list(`@class = "chzn-select"`).</span></span> <span data-ttu-id="3e22b-237">Le code complet est indiqué ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="3e22b-237">The completed code is shown below:</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample12.cshtml)]

<span data-ttu-id="3e22b-238">Dans le code ci-dessus, nous ajoutons l’attribut HTML et la valeur d’attribut `class = "chzn-select"`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-238">In the code above, we are adding the HTML attribute and attribute value `class = "chzn-select"`.</span></span> <span data-ttu-id="3e22b-239">Le \@ caractère précédent de la classe n’a rien à voir avec le moteur d’affichage Razor.</span><span class="sxs-lookup"><span data-stu-id="3e22b-239">The \@ character preceding class has nothing to do with the Razor view engine.</span></span> <span data-ttu-id="3e22b-240">`class` est un [ C# mot clé](https://msdn.microsoft.com/library/x53a06bb.aspx).</span><span class="sxs-lookup"><span data-stu-id="3e22b-240">`class` is a [C# keyword](https://msdn.microsoft.com/library/x53a06bb.aspx).</span></span> <span data-ttu-id="3e22b-241">C#les mots clés ne peuvent pas être utilisés comme identificateurs, sauf s’ils incluent \@ en tant que préfixe.</span><span class="sxs-lookup"><span data-stu-id="3e22b-241">C# keywords cannot be used as identifiers unless they include \@ as a prefix.</span></span> <span data-ttu-id="3e22b-242">Dans l’exemple ci-dessus, `@class` est un identificateur valide, mais la **classe** n’est pas parce que la **classe** est un mot clé.</span><span class="sxs-lookup"><span data-stu-id="3e22b-242">In the example above, `@class` is a valid identifier but **class** is not because **class** is a keyword.</span></span>

<span data-ttu-id="3e22b-243">Ajoutez des références aux fichiers choisis */choisis. jQuery. js* et *choisis/choisis. CSS* .</span><span class="sxs-lookup"><span data-stu-id="3e22b-243">Add references to the *Chosen/chosen.jquery.js* and *Chosen/chosen.css* files.</span></span> <span data-ttu-id="3e22b-244">Le *choisi/choisi. jQuery. js* et implémente la fonction du plug-in choisi.</span><span class="sxs-lookup"><span data-stu-id="3e22b-244">The *Chosen/chosen.jquery.js* and implements the functionally of the Chosen plugin.</span></span> <span data-ttu-id="3e22b-245">Le fichier *. CSS choisi/choisi* fournit le style.</span><span class="sxs-lookup"><span data-stu-id="3e22b-245">The *Chosen/chosen.css* file provides the styling.</span></span> <span data-ttu-id="3e22b-246">Ajoutez ces références au bas du fichier *Views\Home\MultiSelectCountry.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3e22b-246">Add these references to the bottom of the *Views\Home\MultiSelectCountry.cshtml* file.</span></span> <span data-ttu-id="3e22b-247">Le code suivant montre comment référencer le plug-in choisi.</span><span class="sxs-lookup"><span data-stu-id="3e22b-247">The following code shows how to reference the Chosen plugin.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample13.cshtml)]

<span data-ttu-id="3e22b-248">Activez le plug-in choisi à l’aide du nom de classe utilisé dans le code **html. ListBox** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-248">Activate the Chosen plugin using the class name used in the **Html.ListBox** code.</span></span> <span data-ttu-id="3e22b-249">Dans l’exemple ci-dessus, le nom de la classe est `chzn-select`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-249">In the example above, the class name is `chzn-select`.</span></span> <span data-ttu-id="3e22b-250">Ajoutez la ligne suivante au bas du fichier de vue *Views\Home\MultiSelectCountry.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="3e22b-250">Add the following line to the bottom of the *Views\Home\MultiSelectCountry.cshtml* view file.</span></span> <span data-ttu-id="3e22b-251">Cette ligne active le plug-in choisi.</span><span class="sxs-lookup"><span data-stu-id="3e22b-251">This line activates the Chosen plugin.</span></span>

[!code-html[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample14.html)]

<span data-ttu-id="3e22b-252">La ligne suivante est la syntaxe permettant d’appeler la fonction jQuery Ready, qui sélectionne l’élément DOM avec le nom de classe `chzn-select`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-252">The following line is the syntax to call the jQuery ready function, which selects the DOM element with class name `chzn-select`.</span></span>

[!code-powershell[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample15.ps1)]

<span data-ttu-id="3e22b-253">Le jeu encapsulé retourné par l’appel ci-dessus applique ensuite la méthode choisie (`.chosen();`), qui raccorde le plug-in choisi.</span><span class="sxs-lookup"><span data-stu-id="3e22b-253">The wrapped set returned from the above call then applies the chosen method (`.chosen();`), which hooks up the Chosen plugin.</span></span>

<span data-ttu-id="3e22b-254">Le code suivant montre le fichier de vue *Views\Home\MultiSelectCountry.cshtml* terminé.</span><span class="sxs-lookup"><span data-stu-id="3e22b-254">The following code shows the completed *Views\Home\MultiSelectCountry.cshtml* view file.</span></span>

[!code-cshtml[Main](using-the-dropdownlist-helper-with-aspnet-mvc/samples/sample16.cshtml)]

<span data-ttu-id="3e22b-255">Exécutez l’application et accédez à la vue `MultiSelectCountry`.</span><span class="sxs-lookup"><span data-stu-id="3e22b-255">Run the application and navigate to the `MultiSelectCountry` view.</span></span> <span data-ttu-id="3e22b-256">Essayez d’ajouter et de supprimer des pays.</span><span class="sxs-lookup"><span data-stu-id="3e22b-256">Try adding and deleting countries.</span></span> <span data-ttu-id="3e22b-257">L’exemple de téléchargement fourni contient également une méthode et une vue `MultiCountryVM` qui implémentent la fonctionnalité MultiSelectCountry à l’aide d’un modèle de vue au lieu d’un **ViewBag**.</span><span class="sxs-lookup"><span data-stu-id="3e22b-257">The sample download provided also contains a `MultiCountryVM` method and view that implements the MultiSelectCountry functionality using a view model instead of a **ViewBag**.</span></span>

<span data-ttu-id="3e22b-258">Dans la section suivante, vous verrez comment le mécanisme de génération de modèles automatique ASP.NET MVC fonctionne avec l’application auxiliaire **DropDownList** .</span><span class="sxs-lookup"><span data-stu-id="3e22b-258">In the next section you'll see how the ASP.NET MVC scaffolding mechanism works with the **DropDownList** helper.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="3e22b-259">Next</span><span class="sxs-lookup"><span data-stu-id="3e22b-259">Next</span></span>](examining-how-aspnet-mvc-scaffolds-the-dropdownlist-helper.md)
