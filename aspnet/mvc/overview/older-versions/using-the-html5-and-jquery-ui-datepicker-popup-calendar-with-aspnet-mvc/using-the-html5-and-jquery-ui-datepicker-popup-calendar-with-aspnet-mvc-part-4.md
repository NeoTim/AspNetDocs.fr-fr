---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Utilisation de HTML5 et Datepicker calendrier contextuel jQuery UI avec ASP.NET MVC - partie 4 | Microsoft Docs
author: Rick-Anderson
description: Ce didacticiel vous apprend les notions de base de l’utilisation des modèles de l’éditeur, les modèles d’affichage et le calendrier contextuel jQuery UI datepicker dans une MV ASP.NET...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 6768472b0c75757c9f368cfea58d5084c26719e1
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57065646"
---
<a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="43af1-103">Utilisation de HTML5 et Datepicker calendrier contextuel jQuery UI avec ASP.NET MVC - partie 4</span><span class="sxs-lookup"><span data-stu-id="43af1-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>
====================
<span data-ttu-id="43af1-104">par [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="43af1-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="43af1-105">Ce didacticiel vous apprend les notions de base de l’utilisation des modèles de l’éditeur, les modèles d’affichage et le calendrier contextuel jQuery UI datepicker dans une application Web ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="43af1-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>


### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="43af1-106">Ajout d’un modèle pour la modification des Dates</span><span class="sxs-lookup"><span data-stu-id="43af1-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="43af1-107">Dans cette section, vous allez créer un modèle à modifier les dates qui seront appliqués lorsque ASP.NET MVC affiche l’interface utilisateur pour la modification des propriétés de modèle qui sont marquées avec le **Date** énumération de la [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribut.</span><span class="sxs-lookup"><span data-stu-id="43af1-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attibute.</span></span> <span data-ttu-id="43af1-108">Le modèle s’affiche uniquement la date ; temps s’affichera pas.</span><span class="sxs-lookup"><span data-stu-id="43af1-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="43af1-109">Dans le modèle que vous utiliserez le [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) calendrier contextuel à fournir un moyen de modifier les dates.</span><span class="sxs-lookup"><span data-stu-id="43af1-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="43af1-110">Pour commencer, ouvrez le *Movie.cs* fichier, puis ajoutez le [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribut avec le **Date** énumération à la `ReleaseDate` propriété, comme indiqué dans le code suivant :</span><span class="sxs-lookup"><span data-stu-id="43af1-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="43af1-111">Ce code provoque le `ReleaseDate` champ s’affiche sans l’heure dans les deux afficher les modèles et modifier des modèles.</span><span class="sxs-lookup"><span data-stu-id="43af1-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="43af1-112">Si votre application contient un *date.cshtml* modèle dans le *Views\Shared\EditorTemplates* dossier ou dans le *Views\Movies\EditorTemplates* dossier, ce modèle sera utilisé pour restituer les `DateTime` propriété lors de la modification.</span><span class="sxs-lookup"><span data-stu-id="43af1-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="43af1-113">Sinon, le système de création de modèles ASP.NET intégré affiche la propriété en tant que date.</span><span class="sxs-lookup"><span data-stu-id="43af1-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="43af1-114">Appuyez sur CTRL+F5 pour exécuter l'application.</span><span class="sxs-lookup"><span data-stu-id="43af1-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="43af1-115">Sélectionnez un lien pour vérifier que le champ d’entrée pour la date de publication s’affiche uniquement la date de modification.</span><span class="sxs-lookup"><span data-stu-id="43af1-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="43af1-116">Dans **l’Explorateur de solutions**, développez le *vues* dossier, développez le *partagé* dossier et avec le bouton droit puis le *Views\Shared\EditorTemplates* dossier.</span><span class="sxs-lookup"><span data-stu-id="43af1-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="43af1-117">Cliquez sur **ajouter**, puis cliquez sur **vue**.</span><span class="sxs-lookup"><span data-stu-id="43af1-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="43af1-118">Le **ajouter une vue** boîte de dialogue s’affiche.</span><span class="sxs-lookup"><span data-stu-id="43af1-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="43af1-119">Dans le **nom de la vue** , tapez &quot;Date&quot;.</span><span class="sxs-lookup"><span data-stu-id="43af1-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="43af1-120">Sélectionnez le **créer comme une vue partielle** case à cocher.</span><span class="sxs-lookup"><span data-stu-id="43af1-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="43af1-121">Assurez-vous que le **utiliser une disposition ou la page maître** et **créer une vue fortement typée** cases à cocher ne sont pas sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="43af1-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="43af1-122">Cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="43af1-122">Click **Add**.</span></span> <span data-ttu-id="43af1-123">Le *Views\Shared\EditorTemplates\Date.cshtml* modèle est créé.</span><span class="sxs-lookup"><span data-stu-id="43af1-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="43af1-124">Ajoutez le code suivant à la *Views\Shared\EditorTemplates\Date.cshtml* modèle.</span><span class="sxs-lookup"><span data-stu-id="43af1-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="43af1-125">La première ligne déclare le modèle pour être un `DateTime` type.</span><span class="sxs-lookup"><span data-stu-id="43af1-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="43af1-126">Bien que vous n’avez pas besoin de déclarer le type de modèle en cours de modification et afficher les modèles, il est recommandé de sorte que la compilation la vérification du modèle passé à la vue.</span><span class="sxs-lookup"><span data-stu-id="43af1-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="43af1-127">(Un autre avantage est que vous obtenez ensuite IntelliSense pour le modèle dans la vue dans Visual Studio). Si le type de modèle n’est pas déclaré, ASP.NET MVC considère comme un [dynamique](https://msdn.microsoft.com/library/dd264741.aspx) tapez et il n’existe aucune compilation la vérification du type.</span><span class="sxs-lookup"><span data-stu-id="43af1-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="43af1-128">Si vous déclarez le modèle pour être un `DateTime` type, elle devienne fortement typée.</span><span class="sxs-lookup"><span data-stu-id="43af1-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="43af1-129">La deuxième ligne est simplement littéral balisage HTML qui affiche &quot;à l’aide de modèle de Date&quot; avant un champ de date.</span><span class="sxs-lookup"><span data-stu-id="43af1-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="43af1-130">Vous utiliserez cette ligne temporairement pour vérifier que ce modèle de date est utilisé.</span><span class="sxs-lookup"><span data-stu-id="43af1-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="43af1-131">La ligne suivante est un [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper qui restitue une `input` champ qui est une zone de texte.</span><span class="sxs-lookup"><span data-stu-id="43af1-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="43af1-132">Le troisième paramètre de l’application d’assistance utilise un type anonyme pour définir la classe pour la zone de texte `datefield` et le type à `date`.</span><span class="sxs-lookup"><span data-stu-id="43af1-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="43af1-133">(Étant donné que `class` est un réservé en c#, vous devez utiliser le `@` caractère d’échappement le `class` attribut dans l’analyseur c#.)</span><span class="sxs-lookup"><span data-stu-id="43af1-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="43af1-134">Le `date` type est un type d’entrée de HTML5 qui permet aux navigateurs prenant en charge HTML5 restituer un contrôle de calendrier HTML5.</span><span class="sxs-lookup"><span data-stu-id="43af1-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="43af1-135">Par la suite, vous allez ajouter du code JavaScript pour raccorder le sélecteur de dates jQuery pour le `Html.TextBox` à l’aide de l’élément le `datefield` classe.</span><span class="sxs-lookup"><span data-stu-id="43af1-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="43af1-136">Appuyez sur CTRL+F5 pour exécuter l'application.</span><span class="sxs-lookup"><span data-stu-id="43af1-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="43af1-137">Vous pouvez vérifier que le `ReleaseDate` propriété dans la vue edit est à l’aide du modèle de modification, car le modèle affiche &quot;à l’aide de modèle de Date&quot; juste avant la `ReleaseDate` texte d’entrée de zone, comme indiqué dans cette image :</span><span class="sxs-lookup"><span data-stu-id="43af1-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="43af1-138">Dans votre navigateur, affichez la source de la page.</span><span class="sxs-lookup"><span data-stu-id="43af1-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="43af1-139">(Par exemple, avec le bouton droit de la page et sélectionnez **afficher la source**.) Ce qui suit illustre certaines du balisage de la page, illustrant le `class` et `type` attributs dans le code HTML restitué.</span><span class="sxs-lookup"><span data-stu-id="43af1-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="43af1-140">Retour à la *Views\Shared\EditorTemplates\Date.cshtml* modèle et supprimer le &quot;à l’aide de modèle de Date&quot; balisage.</span><span class="sxs-lookup"><span data-stu-id="43af1-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="43af1-141">Maintenant le modèle complet ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="43af1-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="43af1-142">Ajout d’un sélecteur de dates calendrier contextuel jQuery UI à l’aide de NuGet</span><span class="sxs-lookup"><span data-stu-id="43af1-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="43af1-143">Dans cette section, vous ajouterez le [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) calendrier contextuel pour le modèle de date de modification.</span><span class="sxs-lookup"><span data-stu-id="43af1-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="43af1-144">Le [jQuery UI](http://jqueryui.com/) bibliothèque prend en charge avancée de l’animation, les effets et widgets personnalisables.</span><span class="sxs-lookup"><span data-stu-id="43af1-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="43af1-145">Il est basé sur la bibliothèque JavaScript jQuery.</span><span class="sxs-lookup"><span data-stu-id="43af1-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="43af1-146">Le calendrier contextuel datepicker rend facile et naturel d’entrer des dates à l’aide d’un calendrier au lieu d’entrer une chaîne.</span><span class="sxs-lookup"><span data-stu-id="43af1-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="43af1-147">Le calendrier contextuel limite également les utilisateurs à des dates juridiques : entrée de texte ordinaires pour une date vous permet de vous entrez quelque chose comme `2/33/1999` (février 33rd, 1999), mais la [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) qui n’autorise pas le calendrier contextuel.</span><span class="sxs-lookup"><span data-stu-id="43af1-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="43af1-148">Tout d’abord, vous devez installer les bibliothèques d’interface utilisateur jQuery.</span><span class="sxs-lookup"><span data-stu-id="43af1-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="43af1-149">Pour ce faire, vous allez utiliser NuGet, qui est un gestionnaire de package qui est inclus dans les versions de Service Pack 1 de Visual Studio 2010 et Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="43af1-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="43af1-150">Dans Visual Web Developer, à partir de la **outils** menu, sélectionnez **Gestionnaire de Package NuGet** , puis sélectionnez **gérer les Packages NuGet**.</span><span class="sxs-lookup"><span data-stu-id="43af1-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="43af1-151">Remarque : Si le **outils** menu n’affiche pas le **Gestionnaire de Package NuGet** commande, vous devez installer le package NuGet en suivant les instructions la [installation NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page de la Site Web NuGet.</span><span class="sxs-lookup"><span data-stu-id="43af1-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="43af1-152">Si vous utilisez Visual Studio au lieu de Visual Web Developer, à partir de la **outils** menu, sélectionnez **Gestionnaire de Package NuGet** , puis sélectionnez **ajouter une référence de Package de bibliothèque**.</span><span class="sxs-lookup"><span data-stu-id="43af1-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="43af1-153">Dans le **MVCMovie - gérer les Packages NuGet** boîte de dialogue, cliquez sur le **Online** onglet sur la gauche, puis entrez &quot;jQuery.UI&quot; dans la zone de recherche.</span><span class="sxs-lookup"><span data-stu-id="43af1-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="43af1-154">Sélectionnez j **WIdgets d’interface utilisateur requête : Datepicker**, puis sélectionnez le **installer** bouton.</span><span class="sxs-lookup"><span data-stu-id="43af1-154">Select j **Query UI WIdgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="43af1-155">NuGet ajoute ces versions de débogage et réduits de jQuery Core de l’interface utilisateur et le sélecteur de dates jQuery UI à votre projet :</span><span class="sxs-lookup"><span data-stu-id="43af1-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="43af1-156">*jquery.ui.core.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="43af1-157">*jquery.ui.core.min.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="43af1-158">*jquery.ui.datepicker.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="43af1-159">*jquery.ui.datepicker.min.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="43af1-160">Remarque : Les versions de débogage (les fichiers sans les *. min.js* extension) sont utiles pour le débogage, mais dans un site de production, vous devez inclure uniquement les versions minimisées.</span><span class="sxs-lookup"><span data-stu-id="43af1-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="43af1-161">Pour utiliser réellement le sélecteur de dates jQuery, vous devez créer un script de jQuery se raccorde le widget de calendrier pour le modèle de modification.</span><span class="sxs-lookup"><span data-stu-id="43af1-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="43af1-162">Dans **l’Explorateur de solutions**, avec le bouton droit le *Scripts* dossier et sélectionnez **ajouter**, puis **un nouvel élément**, puis **JScript Fichier**.</span><span class="sxs-lookup"><span data-stu-id="43af1-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="43af1-163">Nommez le fichier *DatePickerReady.js*.</span><span class="sxs-lookup"><span data-stu-id="43af1-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="43af1-164">Ajoutez le code suivant à la *DatePickerReady.js* fichier :</span><span class="sxs-lookup"><span data-stu-id="43af1-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="43af1-165">Si vous n’êtes pas familiarisé avec jQuery, voici une brève explication de ce fait : la première ligne est la &quot;jQuery prêt&quot; (fonction), qui est appelée lorsque tous les éléments DOM dans une page de chargement.</span><span class="sxs-lookup"><span data-stu-id="43af1-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="43af1-166">La deuxième ligne sélectionne tous les éléments DOM qui portent le nom de la classe `datefield`, puis appelle le `datepicker` (fonction) pour chacun d’eux.</span><span class="sxs-lookup"><span data-stu-id="43af1-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="43af1-167">(N’oubliez pas que vous avez ajouté le `datefield` classe à la *Views\Shared\EditorTemplates\Date.cshtml* modèle précédemment dans ce didacticiel.)</span><span class="sxs-lookup"><span data-stu-id="43af1-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="43af1-168">Ensuite, ouvrez le *Views\Shared\\_Layout.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="43af1-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="43af1-169">Vous devez ajouter des références aux fichiers suivants, qui sont tous obligatoires afin que vous puissiez utiliser le sélecteur de dates :</span><span class="sxs-lookup"><span data-stu-id="43af1-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="43af1-170">*Content/themes/base/jquery.ui.core.css*</span><span class="sxs-lookup"><span data-stu-id="43af1-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="43af1-171">*Content/themes/base/jquery.ui.datepicker.css*</span><span class="sxs-lookup"><span data-stu-id="43af1-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="43af1-172">*Content/themes/base/jquery.ui.theme.css*</span><span class="sxs-lookup"><span data-stu-id="43af1-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="43af1-173">*jquery.ui.core.min.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="43af1-174">*jquery.ui.datepicker.min.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="43af1-175">*DatePickerReady.js*</span><span class="sxs-lookup"><span data-stu-id="43af1-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="43af1-176">L’exemple suivant montre le code réel que vous devez ajouter au bas de la `head` élément dans le *Views\Shared\\_Layout.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="43af1-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="43af1-177">L’ensemble `head` section est illustrée ici :</span><span class="sxs-lookup"><span data-stu-id="43af1-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="43af1-178">Le [helper contenu URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) méthode convertit le chemin d’accès de ressource à un chemin d’accès absolu.</span><span class="sxs-lookup"><span data-stu-id="43af1-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="43af1-179">Vous devez utiliser `@URL.Content` pour référencer correctement ces ressources lors de l’application s’exécute sur IIS.</span><span class="sxs-lookup"><span data-stu-id="43af1-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="43af1-180">Appuyez sur CTRL+F5 pour exécuter l'application.</span><span class="sxs-lookup"><span data-stu-id="43af1-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="43af1-181">Sélectionnez un lien de modification, puis placez le point d’insertion dans le **ReleaseDate** champ.</span><span class="sxs-lookup"><span data-stu-id="43af1-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="43af1-182">Le calendrier de fenêtre contextuelle de l’interface utilisateur jQuery s’affiche.</span><span class="sxs-lookup"><span data-stu-id="43af1-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="43af1-183">Comme la plupart des contrôles de jQuery, datepicker vous permet de personnaliser de manière intensive.</span><span class="sxs-lookup"><span data-stu-id="43af1-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="43af1-184">Pour plus d’informations, consultez [personnalisation visuelle : Conception d’un thème de l’interface utilisateur jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) sur le [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span><span class="sxs-lookup"><span data-stu-id="43af1-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="43af1-185">Prise en charge le contrôle d’entrée de Date HTML5</span><span class="sxs-lookup"><span data-stu-id="43af1-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="43af1-186">Comme plusieurs navigateurs prennent en charge HTML5, vous souhaiterez utiliser HTML5 natif de saisie, tels que le `date` élément d’entrée et n’utilisez pas le calendrier de l’interface utilisateur jQuery.</span><span class="sxs-lookup"><span data-stu-id="43af1-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="43af1-187">Vous pouvez ajouter une logique à votre application pour utiliser automatiquement les contrôles HTML5 si le navigateur prend en charge les.</span><span class="sxs-lookup"><span data-stu-id="43af1-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="43af1-188">Pour ce faire, remplacez le contenu de la *DatePickerReady.js* fichier par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="43af1-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="43af1-189">La première ligne de ce script utilise Modernizr pour vérifier que l’entrée de date HTML5 est pris en charge.</span><span class="sxs-lookup"><span data-stu-id="43af1-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="43af1-190">Si elle n’est pas pris en charge, le sélecteur de dates jQuery UI est raccordé à la place.</span><span class="sxs-lookup"><span data-stu-id="43af1-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="43af1-191">([Modernizr](http://www.modernizr.com/docs/) est une bibliothèque JavaScript open source qui détecte la disponibilité des implémentations natives de HTML5 et CSS3.</span><span class="sxs-lookup"><span data-stu-id="43af1-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="43af1-192">Modernizr est inclus dans tous les nouveaux projets ASP.NET MVC que vous créez.)</span><span class="sxs-lookup"><span data-stu-id="43af1-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="43af1-193">Après avoir apporté cette modification, vous pouvez la tester à l’aide d’un navigateur qui prend en charge de HTML5, telles que Opera 11.</span><span class="sxs-lookup"><span data-stu-id="43af1-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="43af1-194">Exécutez l’application à l’aide d’un navigateur compatible HTML5 et modifier une entrée de film.</span><span class="sxs-lookup"><span data-stu-id="43af1-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="43af1-195">Le contrôle de date HTML5 est utilisé au lieu du calendrier de fenêtre contextuelle de l’interface utilisateur jQuery :</span><span class="sxs-lookup"><span data-stu-id="43af1-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="43af1-196">Étant donné que les nouvelles versions de navigateurs sont implémentation HTML5 de façon incrémentielle, une bonne approche pour l’instant consiste à ajouter du code à votre site Web qui prend en charge un large éventail de prise en charge HTML5.</span><span class="sxs-lookup"><span data-stu-id="43af1-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="43af1-197">Par exemple, un plus robuste *DatePickerReady.js* script ci-dessous qui vous permet de votre site destinées aux navigateurs qui prennent en charge seulement partiellement le contrôle de date HTML5.</span><span class="sxs-lookup"><span data-stu-id="43af1-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="43af1-198">Ce script sélectionne HTML5 `input` éléments de type `date` qui ne prennent entièrement en charge le contrôle de date HTML5.</span><span class="sxs-lookup"><span data-stu-id="43af1-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="43af1-199">Pour ces éléments, elle se raccorde le calendrier de fenêtre contextuelle de l’interface utilisateur jQuery, puis modifie le `type` de l’attribut `date` à `text`.</span><span class="sxs-lookup"><span data-stu-id="43af1-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="43af1-200">En modifiant le `type` de l’attribut `date` à `text`, prise en charge de date HTML5 partielle est éliminé.</span><span class="sxs-lookup"><span data-stu-id="43af1-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="43af1-201">Encore plus robustes *DatePickerReady.js* script, consultez [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="43af1-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="43af1-202">Ajout de Dates non Nullable pour les modèles</span><span class="sxs-lookup"><span data-stu-id="43af1-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="43af1-203">Si vous utilisez un des modèles de date existant et que vous passez une date null, vous obtiendrez une erreur d’exécution.</span><span class="sxs-lookup"><span data-stu-id="43af1-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="43af1-204">Pour rendre les modèles de date plus robuste, vous allez les modifier pour gérer des valeurs null.</span><span class="sxs-lookup"><span data-stu-id="43af1-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="43af1-205">Pour prendre en charge les dates non nullable, modifiez le code dans le *Views\Shared\DisplayTemplates\DateTime.cshtml* à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="43af1-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="43af1-206">Le code retourne une chaîne vide lorsque le modèle est **null**.</span><span class="sxs-lookup"><span data-stu-id="43af1-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="43af1-207">Modifier le code dans le *Views\Shared\EditorTemplates\Date.cshtml* fichier à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="43af1-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="43af1-208">Lorsque ce code s’exécute, si le modèle n’est pas null, le modèle `DateTime` valeur est utilisée.</span><span class="sxs-lookup"><span data-stu-id="43af1-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="43af1-209">Si le modèle est null, la date actuelle est utilisée à la place.</span><span class="sxs-lookup"><span data-stu-id="43af1-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="43af1-210">Conclusion</span><span class="sxs-lookup"><span data-stu-id="43af1-210">Wrapup</span></span>

<span data-ttu-id="43af1-211">Ce didacticiel a couvert les principes fondamentaux de programmes d’assistance basés sur des modèles ASP.NET et vous montre comment utiliser le calendrier contextuel du sélecteur jQuery UI dans une application ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="43af1-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="43af1-212">Pour plus d’informations, essayez ces ressources :</span><span class="sxs-lookup"><span data-stu-id="43af1-212">For more information, try these resources:</span></span>

- <span data-ttu-id="43af1-213">Pour plus d’informations sur la localisation, consultez le blog de Rajeesh [JQueryUI Datepicker dans ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="43af1-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="43af1-214">Pour plus d’informations sur l’interface utilisateur jQuery, consultez [jQuery UI](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="43af1-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="43af1-215">Pour plus d’informations sur la façon de localiser le contrôle datepicker, consultez [Datepicker / l’interface utilisateur/localisation](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="43af1-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="43af1-216">Pour plus d’informations sur les modèles ASP.NET MVC, consultez les billets de blog de Brad Wilson sur [modèles ASP.NET MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="43af1-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="43af1-217">Bien que la série a été écrit pour ASP.NET MVC 2, le matériel est toujours applicable pour la version actuelle d’ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="43af1-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="43af1-218">Précédent</span><span class="sxs-lookup"><span data-stu-id="43af1-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)
