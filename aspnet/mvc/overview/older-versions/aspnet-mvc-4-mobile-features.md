---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Fonctionnalités mobiles d’ASP.NET MVC 4 | Microsoft Docs
author: Rick-Anderson
description: Il existe désormais une version de MVC 5 de ce didacticiel avec des exemples de code à déployer une Application Web de Mobile dans ASP.NET MVC 5 sur les Sites Web Azure.
ms.author: riande
ms.date: 08/15/2012
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 6fe55a14b40f8c50dee91cdc7f59d0378f2a1ea2
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57056156"
---
<a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="8da20-103">Fonctionnalités mobiles ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="8da20-103">ASP.NET MVC 4 Mobile Features</span></span>
====================
<span data-ttu-id="8da20-104">par [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="8da20-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="8da20-105">Il existe désormais une version de MVC 5 de ce didacticiel avec des exemples de code à [déployer une Application Web de Mobile dans ASP.NET MVC 5 sur les Sites Web Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="8da20-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>


<span data-ttu-id="8da20-106">Ce didacticiel vous apprend les notions de base de l’utilisation des fonctionnalités mobiles dans une application Web ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="8da20-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="8da20-107">Pour ce didacticiel, vous pouvez utiliser [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) ou Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer ou VWD&quot;).</span><span class="sxs-lookup"><span data-stu-id="8da20-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="8da20-108">Vous pouvez utiliser la version professionnelle de Visual Studio si vous l’avez déjà.</span><span class="sxs-lookup"><span data-stu-id="8da20-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="8da20-109">Avant de commencer, assurez-vous que vous avez installé les composants requis listés ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="8da20-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="8da20-110">[Visual Studio 2012 Express](https://www.microsoft.com/visualstudio/11/products/express) (recommandé) ou Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="8da20-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="8da20-111">Visual Studio 2012 contient ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="8da20-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="8da20-112">Si vous utilisez Visual Web Developer 2010, vous devez installer [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="8da20-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="8da20-113">Vous aurez également besoin d’un émulateur de navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="8da20-114">Les éléments suivants ne fonctionnent pas :</span><span class="sxs-lookup"><span data-stu-id="8da20-114">Any of the following will work:</span></span>

- <span data-ttu-id="8da20-115">[Émulateur de téléphone Windows 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="8da20-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="8da20-116">(Il s’agit de l’émulateur qui est utilisé dans la plupart des captures d’écran dans ce didacticiel.)</span><span class="sxs-lookup"><span data-stu-id="8da20-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="8da20-117">Modifiez la chaîne d’agent utilisateur pour émuler un iPhone.</span><span class="sxs-lookup"><span data-stu-id="8da20-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="8da20-118">Consultez [cela](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) entrée de blog.</span><span class="sxs-lookup"><span data-stu-id="8da20-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="8da20-119">Émulateur Mobile Opera</span><span class="sxs-lookup"><span data-stu-id="8da20-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="8da20-120">[Apple Safari](http://www.apple.com/safari/download/) avec l’agent utilisateur défini sur iPhone.</span><span class="sxs-lookup"><span data-stu-id="8da20-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="8da20-121">Pour obtenir des instructions sur la configuration de l’agent utilisateur dans Safari pour « iPhone », consultez [comment permettre à Safari prétendre qu’il est IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) sur le blog de David Alison.</span><span class="sxs-lookup"><span data-stu-id="8da20-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="8da20-122">Projets Visual Studio avec code source C# sont disponibles pour accompagner cette rubrique :</span><span class="sxs-lookup"><span data-stu-id="8da20-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="8da20-123">Téléchargement du projet de départ</span><span class="sxs-lookup"><span data-stu-id="8da20-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="8da20-124">Téléchargement du projet terminé</span><span class="sxs-lookup"><span data-stu-id="8da20-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="8da20-125">Ce que vous allez générer</span><span class="sxs-lookup"><span data-stu-id="8da20-125">What You'll Build</span></span>

<span data-ttu-id="8da20-126">Pour ce didacticiel, vous allez ajouter des fonctionnalités mobiles à l’application de listes de conférence simple qui est fournie dans le [projet de démarrage](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="8da20-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="8da20-127">La capture d’écran suivante montre la page de balises de l’application terminée, comme indiqué dans le [émulateur de téléphone Windows 7](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="8da20-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="8da20-128">Consultez [clavier mappage pour Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) pour simplifier l’entrée au clavier.</span><span class="sxs-lookup"><span data-stu-id="8da20-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="8da20-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="8da20-130">Vous pouvez utiliser Internet Explorer version 9 ou 10, FireFox ou Chrome pour développer votre application mobile en définissant le [chaîne d’agent utilisateur](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="8da20-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="8da20-131">L’illustration suivante montre la fin du didacticiel à l’aide d’Internet Explorer émulant un iPhone.</span><span class="sxs-lookup"><span data-stu-id="8da20-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="8da20-132">Vous pouvez utiliser les outils de développement Internet Explorer F-12 et [outil Fiddler](http://www.fiddler2.com/fiddler2/) pour aider à déboguer votre application.</span><span class="sxs-lookup"><span data-stu-id="8da20-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="8da20-133">Vous allez apprendre des compétences</span><span class="sxs-lookup"><span data-stu-id="8da20-133">Skills You'll Learn</span></span>

<span data-ttu-id="8da20-134">Voici ce que vous allez apprendre :</span><span class="sxs-lookup"><span data-stu-id="8da20-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="8da20-135">Comment les modèles ASP.NET MVC 4 utilisent HTML5 `viewport` attribut et rendu adaptatif pour améliorer les affichent sur les appareils mobiles.</span><span class="sxs-lookup"><span data-stu-id="8da20-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="8da20-136">Comment créer des vues mobiles spécifiques.</span><span class="sxs-lookup"><span data-stu-id="8da20-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="8da20-137">Comment créer un sélecteur de vue qu’Activer/désactiver des utilisateurs permet entre un affichage mobile et une vue de bureau de l’application.</span><span class="sxs-lookup"><span data-stu-id="8da20-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="8da20-138">Prise en main</span><span class="sxs-lookup"><span data-stu-id="8da20-138">Getting Started</span></span>

<span data-ttu-id="8da20-139">Télécharger l’application de listes de conférence pour le projet de démarrage à l’aide du lien suivant : [Télécharger](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="8da20-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="8da20-140">Puis, dans l’Explorateur Windows, cliquez sur le *MvcMobile.zip* de fichier et choisissez **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="8da20-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="8da20-141">Dans le **MvcMobile.zip propriétés** boîte de dialogue, sélectionnez le **Unblock** bouton.</span><span class="sxs-lookup"><span data-stu-id="8da20-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="8da20-142">(Le déblocage empêche un avertissement de sécurité qui se produit lorsque vous essayez d’utiliser un *.zip* fichier que vous avez téléchargé à partir du web.)</span><span class="sxs-lookup"><span data-stu-id="8da20-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="8da20-144">Avec le bouton droit le *MvcMobile.zip* fichier et sélectionnez **extraire tout** pour décompresser le fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="8da20-145">Dans Visual Studio, ouvrez le *MvcMobile.sln* fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="8da20-146">Appuyez sur CTRL + F5 pour exécuter l’application, qui affiche dans votre navigateur de bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="8da20-147">Démarrez votre émulateur de navigateur mobile, copiez l’URL de l’application de conférence dans l’émulateur, puis cliquez sur le **Parcourir par balise** lien.</span><span class="sxs-lookup"><span data-stu-id="8da20-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="8da20-148">Si vous utilisez l’émulateur Windows Phone, cliquez dans la barre d’adresse et appuyez sur la touche Pause pour obtenir l’accès au clavier.</span><span class="sxs-lookup"><span data-stu-id="8da20-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="8da20-149">L’image ci-dessous montre le *AllTags* vue (choisisse **Parcourir par balise**).</span><span class="sxs-lookup"><span data-stu-id="8da20-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="8da20-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="8da20-151">L’affichage est très lisible sur un appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="8da20-152">Cliquez sur le lien ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8da20-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="8da20-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="8da20-154">La vue de la balise ASP.NET est très encombrée.</span><span class="sxs-lookup"><span data-stu-id="8da20-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="8da20-155">Par exemple, le **Date** colonne est très difficile à lire.</span><span class="sxs-lookup"><span data-stu-id="8da20-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="8da20-156">Plus loin dans ce didacticiel, vous allez créer une version de la *AllTags* vue qui est conçue spécifiquement pour les navigateurs mobiles et qui est compréhensible l’affichage.</span><span class="sxs-lookup"><span data-stu-id="8da20-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="8da20-157">Remarque : Il existe actuellement un bogue dans le moteur de mise en cache mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="8da20-158">Pour les applications de production, vous devez installer le [DisplayModes fixe](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) package nugget.</span><span class="sxs-lookup"><span data-stu-id="8da20-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="8da20-159">Consultez [ASP.NET MVC 4 Mobile la mise en cache bogue fixe](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) pour plus d’informations sur le correctif.</span><span class="sxs-lookup"><span data-stu-id="8da20-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="8da20-160">Requêtes de média CSS</span><span class="sxs-lookup"><span data-stu-id="8da20-160">CSS Media Queries</span></span>

<span data-ttu-id="8da20-161">[Requêtes de média CSS](http://www.w3.org/TR/css3-mediaqueries/) sont une extension pour les types de média CSS.</span><span class="sxs-lookup"><span data-stu-id="8da20-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="8da20-162">Ils permettent de créer des règles qui remplacent les règles CSS par défaut pour des navigateurs spécifiques (agents utilisateurs).</span><span class="sxs-lookup"><span data-stu-id="8da20-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="8da20-163">Une règle commune pour CSS qui cible les navigateurs mobiles consiste à définir la taille d’écran maximale.</span><span class="sxs-lookup"><span data-stu-id="8da20-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="8da20-164">Le *Content\Site.css* fichier est créé lorsque vous créez un nouveau projet ASP.NET MVC 4 Internet contenait la requête de média suivants :</span><span class="sxs-lookup"><span data-stu-id="8da20-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="8da20-165">Si la fenêtre du navigateur est 850 pixels de larges ou moins, il utilisera les règles CSS à l’intérieur de ce bloc de média.</span><span class="sxs-lookup"><span data-stu-id="8da20-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="8da20-166">Vous pouvez utiliser des requêtes de média CSS comme suit pour fournir un meilleur affichage de contenu HTML sur petits navigateurs (comme les navigateurs mobiles) que les règles CSS par défaut qui sont conçus pour les affichages plus large des navigateurs de bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="8da20-167">La balise Meta de la fenêtre d’affichage</span><span class="sxs-lookup"><span data-stu-id="8da20-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="8da20-168">Les navigateurs mobiles plus définissent une largeur de fenêtre de navigateur virtuel (le *viewport*) qui est largement supérieur à la largeur réelle de l’appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="8da20-169">Ainsi, les navigateurs mobiles en fonction de la page web entière à l’intérieur de l’écran virtuel.</span><span class="sxs-lookup"><span data-stu-id="8da20-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="8da20-170">Les utilisateurs peuvent ensuite effectuer un zoom avant sur contenu intéressant.</span><span class="sxs-lookup"><span data-stu-id="8da20-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="8da20-171">Toutefois, si vous définissez la largeur de la fenêtre d’affichage de la largeur de l’appareil réel, aucun zoom n’est requise, car le contenu tient dans le navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="8da20-172">La fenêtre d’affichage `<meta>` balise dans le fichier de disposition ASP.NET MVC 4 définit la fenêtre d’affichage de la largeur de l’appareil.</span><span class="sxs-lookup"><span data-stu-id="8da20-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="8da20-173">La ligne suivante montre la fenêtre d’affichage `<meta>` balise dans le fichier de disposition ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="8da20-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="8da20-174">Examen de l’effet de la balise Meta de la fenêtre d’affichage et de requêtes de média CSS</span><span class="sxs-lookup"><span data-stu-id="8da20-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="8da20-175">Ouvrez le *Views\Shared\\_Layout.cshtml* fichier dans l’éditeur et le commentaire de la fenêtre d’affichage `<meta>` balise.</span><span class="sxs-lookup"><span data-stu-id="8da20-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="8da20-176">Le balisage suivant montre la ligne commentée.</span><span class="sxs-lookup"><span data-stu-id="8da20-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="8da20-177">Ouvrez le *MvcMobile\Content\Site.css* dans l’éditeur de fichiers et de modifier la largeur maximale dans la requête de média à zéro pixel.</span><span class="sxs-lookup"><span data-stu-id="8da20-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="8da20-178">Cela empêchera les règles CSS d’être utilisés dans les navigateurs mobiles.</span><span class="sxs-lookup"><span data-stu-id="8da20-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="8da20-179">La ligne suivante montre la requête de média modifié :</span><span class="sxs-lookup"><span data-stu-id="8da20-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="8da20-180">Enregistrez vos modifications et accédez à l’application de conférence dans un émulateur de navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="8da20-181">Le texte minuscule dans l’image suivante est le résultat de la suppression de la fenêtre d’affichage `<meta>` balise.</span><span class="sxs-lookup"><span data-stu-id="8da20-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="8da20-182">Avec aucune fenêtre d’affichage `<meta>` balise, le navigateur est un zoom arrière à la largeur de la fenêtre d’affichage par défaut (850 pixels ou plus large pour les navigateurs mobiles plus.)</span><span class="sxs-lookup"><span data-stu-id="8da20-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="8da20-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="8da20-184">Annuler vos modifications, supprimez les commentaires de la fenêtre d’affichage `<meta>` balise dans le fichier de disposition et de restauration de la requête de média à 850 pixels dans le *Site.css* fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="8da20-185">Enregistrez vos modifications et actualisez le navigateur mobile pour vérifier que l’affichage des appareils mobiles a été restaurée.</span><span class="sxs-lookup"><span data-stu-id="8da20-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="8da20-186">La fenêtre d’affichage `<meta>` balise et la requête de média CSS ne sont pas spécifiques à ASP.NET MVC 4, et vous pouvez tirer parti de ces fonctionnalités dans n’importe quelle application web.</span><span class="sxs-lookup"><span data-stu-id="8da20-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="8da20-187">Mais ils sont désormais intégrés dans les fichiers qui sont générés lorsque vous créez un nouveau projet ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="8da20-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="8da20-188">Pour plus d’informations sur la fenêtre d’affichage `<meta>` balise, consultez [l’histoire de deux fenêtres : deuxième partie](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="8da20-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="8da20-189">Dans la section suivante, vous verrez comment fournir des vues spécifiques du navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="8da20-190">Substitution des vues, des dispositions et des vues partielles</span><span class="sxs-lookup"><span data-stu-id="8da20-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="8da20-191">Une nouvelle fonctionnalité importante dans ASP.NET MVC 4 est un mécanisme simple qui vous permet de remplacer n’importe quelle vue (y compris les dispositions et vues partielles) pour les navigateurs mobiles en général, pour un navigateur mobile particulier ou pour n’importe quel navigateur spécifique.</span><span class="sxs-lookup"><span data-stu-id="8da20-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="8da20-192">Pour fournir un affichage spécifique au mobile, vous pouvez copier un fichier d’Affichage et ajouter *. Mobile* au nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="8da20-193">Par exemple, pour créer un mobile *Index* afficher, copier *Views\Home\Index.cshtml* à *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="8da20-194">Dans cette section, vous allez créer un fichier de disposition mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="8da20-195">Pour commencer, copiez *Views\Shared\\_Layout.cshtml* à *Views\Shared\\_Layout.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="8da20-196">Ouvrez  *\_Layout.Mobile.cshtml* et remplacez le titre **MVC4 conférence** à **conférence (Mobile)**.</span><span class="sxs-lookup"><span data-stu-id="8da20-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="8da20-197">Dans chaque `Html.ActionLink` appeler, supprimez « Parcourir par » dans chaque lien *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="8da20-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="8da20-198">Le code suivant montre la section de corps complet du fichier de disposition mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="8da20-199">Copie le *Views\Home\AllTags.cshtml* fichier *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="8da20-200">Ouvrez le nouveau fichier et modifiez le `<h2>` élément « Tags » à « Tags (M) » :</span><span class="sxs-lookup"><span data-stu-id="8da20-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="8da20-201">Accédez à la page des balises à l’aide d’un navigateur de bureau et à l’aide d’émulateur de navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="8da20-202">L’émulateur de navigateur mobile affiche les modifications apportées à deux.</span><span class="sxs-lookup"><span data-stu-id="8da20-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="8da20-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="8da20-204">En revanche, l’affichage du bureau n’a pas changé.</span><span class="sxs-lookup"><span data-stu-id="8da20-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="8da20-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="8da20-206">Vues spécifiques du navigateur</span><span class="sxs-lookup"><span data-stu-id="8da20-206">Browser-Specific Views</span></span>

<span data-ttu-id="8da20-207">En plus des vues spécifiques au bureau et mobiles, vous pouvez créer des vues pour un navigateur en particulier.</span><span class="sxs-lookup"><span data-stu-id="8da20-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="8da20-208">Par exemple, vous pouvez créer des vues qui sont spécifiquement pour le navigateur iPhone.</span><span class="sxs-lookup"><span data-stu-id="8da20-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="8da20-209">Dans cette section, vous allez créer une disposition pour le navigateur iPhone et une version iPhone de le *AllTags* vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="8da20-210">Ouvrez le *Global.asax* fichier, puis ajoutez le code suivant à la `Application_Start` (méthode).</span><span class="sxs-lookup"><span data-stu-id="8da20-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="8da20-211">Ce code définit un nouveau mode d’affichage appelé « iPhone » qui sera comparée à chaque demande entrante.</span><span class="sxs-lookup"><span data-stu-id="8da20-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="8da20-212">Si la demande entrante correspond à la condition que vous avez défini (autrement dit, si l’agent utilisateur contient la chaîne « iPhone »), ASP.NET MVC recherche pour les vues dont le nom contient le suffixe « iPhone ».</span><span class="sxs-lookup"><span data-stu-id="8da20-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="8da20-213">Dans le code, avec le bouton droit `DefaultDisplayMode`, choisissez **résoudre**, puis choisissez `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="8da20-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="8da20-214">Cette opération ajoute une référence à la `System.Web.WebPages` espace de noms, qui est l’emplacement où le `DisplayModes` et `DefaultDisplayMode` types sont définis.</span><span class="sxs-lookup"><span data-stu-id="8da20-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="8da20-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="8da20-216">Ou bien, vous pouvez ajouter manuellement la ligne suivante à la `using` section du fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="8da20-217">Le contenu complet de la *Global.asax* fichier est présenté ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="8da20-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="8da20-218">Enregistrez les modifications.</span><span class="sxs-lookup"><span data-stu-id="8da20-218">Save the changes.</span></span> <span data-ttu-id="8da20-219">Copie le *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* fichier *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="8da20-220">Ouvrez le nouveau fichier et modifiez le `h1` en-tête à partir de `Conference (Mobile)` à `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="8da20-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="8da20-221">Copie le *MvcMobile\Views\Home\AllTags.Mobile.cshtml* fichier *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="8da20-222">Dans le nouveau fichier, modifiez le `<h2>` élément à partir de « Tags (M) » par « Tags (iPhone) ».</span><span class="sxs-lookup"><span data-stu-id="8da20-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="8da20-223">Exécutez l'application.</span><span class="sxs-lookup"><span data-stu-id="8da20-223">Run the application.</span></span> <span data-ttu-id="8da20-224">Exécuter un émulateur de navigateur mobile, vérifiez que son agent utilisateur est défini sur « iPhone » et accédez à la *AllTags* vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="8da20-225">La capture d’écran suivante montre le *AllTags* vue restituée dans le [Safari](http://www.apple.com/safari/download/) navigateur.</span><span class="sxs-lookup"><span data-stu-id="8da20-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="8da20-226">Vous pouvez télécharger Safari pour Windows [ici](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="8da20-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="8da20-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="8da20-228">Dans cette section, nous avons vu comment créer des vues et dispositions mobiles et comment créer des dispositions et des vues pour des appareils spécifiques tels que l’iPhone.</span><span class="sxs-lookup"><span data-stu-id="8da20-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="8da20-229">Dans la section suivante, vous verrez comment tirer parti de jQuery Mobile pour les vues mobiles plus attrayantes.</span><span class="sxs-lookup"><span data-stu-id="8da20-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="8da20-230">À l’aide de jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="8da20-230">Using jQuery Mobile</span></span>

<span data-ttu-id="8da20-231">Le [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) bibliothèque fournit une infrastructure d’interface utilisateur qui fonctionne sur tous les principaux navigateurs mobiles.</span><span class="sxs-lookup"><span data-stu-id="8da20-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="8da20-232">jQuery Mobile applique *amélioration progressive* aux navigateurs mobiles qui prennent en charge de CSS et JavaScript.</span><span class="sxs-lookup"><span data-stu-id="8da20-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="8da20-233">Amélioration progressive permet à tous les navigateurs afficher le contenu de base d’une page web, tout en permettant aux navigateurs plus puissantes et un affichage plus riche pour les appareils.</span><span class="sxs-lookup"><span data-stu-id="8da20-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="8da20-234">Les fichiers JavaScript et CSS qui sont inclus avec jQuery Mobile de nombreux éléments selon les navigateurs mobiles sans apporter de modifications balisage style.</span><span class="sxs-lookup"><span data-stu-id="8da20-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="8da20-235">Dans cette section, vous allez installer le *jQuery.Mobile.MVC* package NuGet, qui installe jQuery Mobile et un widget sélecteur de vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="8da20-236">Pour commencer, supprimez le *partagé\\_Layout.Mobile.cshtml* et *partagé\\_Layout.iPhone.cshtml* les fichiers que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="8da20-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="8da20-237">Renommer *Views\Home\AllTags.Mobile.cshtml* et *Views\Home\AllTags.iPhone.cshtml* fichiers *Views\Home\AllTags.iPhone.cshtml.hide* et  *Views\Home\AllTags.Mobile.cshtml.Hide*.</span><span class="sxs-lookup"><span data-stu-id="8da20-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="8da20-238">Étant donné que les fichiers n’ont plus un *.cshtml* extension, ils ne sont pas utilisés par le runtime ASP.NET MVC pour restituer le *AllTags* vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="8da20-239">Installer le *jQuery.Mobile.MVC* package NuGet en procédant ainsi :</span><span class="sxs-lookup"><span data-stu-id="8da20-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="8da20-240">À partir de la **outils** menu, sélectionnez **Gestionnaire de Package NuGet**, puis sélectionnez **Console du Gestionnaire de Package**.</span><span class="sxs-lookup"><span data-stu-id="8da20-240">From the **Tools** menu, select **NuGet Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="8da20-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="8da20-242">Dans le **Console du Gestionnaire de Package**, entrez `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="8da20-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="8da20-243">L’illustration suivante montre les fichiers ajoutés et modifiés au projet MvcMobile par le package jQuery.Mobile.MVC NuGet.</span><span class="sxs-lookup"><span data-stu-id="8da20-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="8da20-244">Fichiers qui sont ajoutés ont [Ajouter] ajouté après le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="8da20-245">L’image n’affiche pas de l’image GIF et PNG fichiers ajoutés à la *Content\images* dossier.</span><span class="sxs-lookup"><span data-stu-id="8da20-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="8da20-246">Le package jQuery.Mobile.MVC NuGet installe les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="8da20-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="8da20-247">Le *application\_Start\BundleMobileConfig.cs* fichier, qui est nécessaire pour référencer les fichiers JavaScript et CSS jQuery ajoutés.</span><span class="sxs-lookup"><span data-stu-id="8da20-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="8da20-248">Vous devez suivre les instructions ci-dessous et référencer le regroupement mobile défini dans ce fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="8da20-249">fichiers jQuery Mobile CSS.</span><span class="sxs-lookup"><span data-stu-id="8da20-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="8da20-250">Un `ViewSwitcher` widget du contrôleur (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="8da20-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="8da20-251">fichiers JavaScript Mobile jQuery.</span><span class="sxs-lookup"><span data-stu-id="8da20-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="8da20-252">Un fichier de disposition de style Mobile jQuery (*Views\Shared\\_Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="8da20-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="8da20-253">Une vue partielle du sélecteur de vue *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) qui fournit un lien en haut de chaque page pour passer à partir de l’affichage du Bureau à l’affichage mobile et vice versa.</span><span class="sxs-lookup"><span data-stu-id="8da20-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="8da20-254">Plusieurs<em>.png</em> et <em>.gif</em> fichiers image dans le <em>Content\images</em> dossier.</span><span class="sxs-lookup"><span data-stu-id="8da20-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="8da20-255">Ouvrez le *Global.asax* fichier, puis ajoutez le code suivant en tant que la dernière ligne de la `Application_Start` (méthode).</span><span class="sxs-lookup"><span data-stu-id="8da20-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="8da20-256">Le code suivant montre l’ensemble *Global.asax* fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="8da20-257">Si vous utilisez Internet Explorer 9 et vous ne voyez pas le `BundleMobileConfig` ligne ci-dessus dans la mise en surbrillance jaune, cliquez sur le [bouton Affichage de compatibilité](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![image du bouton Affichage de compatibilité (désactivé)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg " Image du bouton Affichage de compatibilité (désactivé)") dans Internet Explorer pour modifier l’icône à partir d’un plan ![image du bouton Affichage de compatibilité (désactivé)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "image du bouton Affichage de compatibilité (désactivé) ") à une couleur unie ![image du bouton Affichage de compatibilité (on)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "image du bouton Affichage de compatibilité (on)").</span><span class="sxs-lookup"><span data-stu-id="8da20-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="8da20-258">Vous pouvez également afficher ce didacticiel dans FireFox ou Chrome.</span><span class="sxs-lookup"><span data-stu-id="8da20-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>


<span data-ttu-id="8da20-259">Ouvrez le *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* fichier, puis ajoutez le balisage suivant directement après le `Html.Partial` appeler :</span><span class="sxs-lookup"><span data-stu-id="8da20-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="8da20-260">L’ensemble *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* fichier est présenté ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="8da20-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="8da20-261">Générez l’application et dans votre émulateur de navigateur mobile, accédez à la *AllTags* vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="8da20-262">Vous consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="8da20-262">You see the following:</span></span>

<span data-ttu-id="8da20-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="8da20-264">Vous pouvez déboguer le code spécifique à mobile par [définissant la chaîne d’agent utilisateur](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) pour Internet Explorer ou Chrome pour iPhone, puis en utilisant les outils de développement F-12.</span><span class="sxs-lookup"><span data-stu-id="8da20-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="8da20-265">Si votre navigateur mobile n’affiche pas le **accueil**, **haut-parleur**, **balise**, et **Date** liens sous forme de boutons, les références à jQuery Mobile scripts et des fichiers CSS ne sont probablement pas corrects.</span><span class="sxs-lookup"><span data-stu-id="8da20-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>


<span data-ttu-id="8da20-266">En plus des modifications de style, vous voyez **affichage mobile** et un lien qui permet de changer d’affichage mobile en mode bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="8da20-267">Choisissez le **vue bureau** lien et l’affichage de bureau s’affiche.</span><span class="sxs-lookup"><span data-stu-id="8da20-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="8da20-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="8da20-269">L’affichage de bureau ne fournit pas un moyen de naviguer directement vers la vue mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="8da20-270">Vous corrigerez cela maintenant.</span><span class="sxs-lookup"><span data-stu-id="8da20-270">You'll fix that now.</span></span> <span data-ttu-id="8da20-271">Ouvrez le *Views\Shared\\_Layout.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="8da20-272">Juste en dessous de la page `body` élément, ajoutez le code suivant, qui restitue le widget sélecteur de vue :</span><span class="sxs-lookup"><span data-stu-id="8da20-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="8da20-273">Actualiser le *AllTags* affichage dans le navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="8da20-274">Vous pouvez désormais parcourir les vues mobiles et de bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="8da20-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="8da20-276">Remarque de débogage : Vous pouvez ajouter le code suivant à la fin de la Views\Shared\\_ViewSwitcher.cshtml pour aider à déboguer des vues lors de l’utilisation d’un chaîne d’agent utilisateur du navigateur sur un appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
>
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
>
>  <span data-ttu-id="8da20-277">et en ajoutant l’en-tête suivant pour le *Views\Shared\\_Layout.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="8da20-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>
>
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]


<span data-ttu-id="8da20-278">Accédez à la *AllTags* page dans un navigateur de bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="8da20-279">Le widget sélecteur de vue ne figure pas dans un navigateur de bureau, car il est ajouté uniquement à la page de disposition mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="8da20-280">Plus loin dans ce didacticiel, vous verrez comment vous pouvez ajouter le widget sélecteur de vue à l’affichage de bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="8da20-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="8da20-282">Amélioration de la liste intervenants</span><span class="sxs-lookup"><span data-stu-id="8da20-282">Improving the Speakers List</span></span>

<span data-ttu-id="8da20-283">Dans le navigateur mobile, sélectionnez le **haut-parleurs** lien.</span><span class="sxs-lookup"><span data-stu-id="8da20-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="8da20-284">Car il n’existe aucune vue mobile (*AllSpeakers.Mobile.cshtml*), affichent les haut-parleurs par défaut (*AllSpeakers.cshtml*) est restitué à l’aide de la vue disposition mobile ( *\_ Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="8da20-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="8da20-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="8da20-286">Vous pouvez globalement désactiver une vue de (non mobile) par défaut à partir de rendu à l’intérieur d’une disposition mobile en définissant `RequireConsistentDisplayMode` à `true` dans le *vues\\_ViewStart.cshtml* fichier, comme suit :</span><span class="sxs-lookup"><span data-stu-id="8da20-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="8da20-287">Lorsque `RequireConsistentDisplayMode` a la valeur `true`, la disposition mobile (<em>\_Layout.Mobile.cshtml</em>) est utilisé uniquement pour les vues mobiles.</span><span class="sxs-lookup"><span data-stu-id="8da20-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="8da20-288">(Autrement dit, le fichier de vue est au format <em>\*\* ViewName</em><em>. Mobile.cshtml</em>.) Vous souhaiterez peut-être définir `RequireConsistentDisplayMode` à `true` si votre disposition mobile ne fonctionne pas correctement avec les vues non mobiles.</span><span class="sxs-lookup"><span data-stu-id="8da20-288">(That is, the view file is of the form <em>\*\*ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="8da20-289">La capture d’écran ci-dessous montre comment la <em>haut-parleurs</em> page s’affiche lorsque `RequireConsistentDisplayMode` est défini sur `true`.</span><span class="sxs-lookup"><span data-stu-id="8da20-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="8da20-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="8da20-291">Vous pouvez désactiver le mode d’affichage cohérent dans une vue en définissant `RequireConsistentDisplayMode` à `false` dans le fichier d’affichage.</span><span class="sxs-lookup"><span data-stu-id="8da20-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="8da20-292">Le balisage suivant dans le *Views\Home\AllSpeakers.cshtml* fichier définit `RequireConsistentDisplayMode` à `false`:</span><span class="sxs-lookup"><span data-stu-id="8da20-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="8da20-293">Création d’une vue de haut-parleurs Mobile</span><span class="sxs-lookup"><span data-stu-id="8da20-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="8da20-294">Comme vous venez de voir, le *haut-parleurs* vue est lisible, mais les liens sont petits et sont difficiles à appuyer sur un appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="8da20-295">Dans cette section, vous allez créer un spécifique de mobile *haut-parleurs* vue qui ressemble à une application mobile moderne, elle affiche volumineux, facile à tap établit un lien et contient une zone de recherche pour trouver des intervenants rapidement.</span><span class="sxs-lookup"><span data-stu-id="8da20-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="8da20-296">Copie *AllSpeakers.cshtml* à *AllSpeakers.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="8da20-297">Ouvrez le *AllSpeakers.Mobile.cshtml* de fichiers et de supprimer le `<h2>` élément d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="8da20-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="8da20-298">Dans le `<ul>` , ajoutez le `data-role` d’attribut et définissez sa valeur sur `listview`.</span><span class="sxs-lookup"><span data-stu-id="8da20-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="8da20-299">Comme les autres [ `data-*` attributs](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` rend les éléments de liste volumineux plus facile de tirer parti.</span><span class="sxs-lookup"><span data-stu-id="8da20-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="8da20-300">Voici à quoi ressemble le balisage complet :</span><span class="sxs-lookup"><span data-stu-id="8da20-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="8da20-301">Actualisez le navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-301">Refresh the mobile browser.</span></span> <span data-ttu-id="8da20-302">L’affichage actualisé ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="8da20-302">The updated view looks like this:</span></span>

<span data-ttu-id="8da20-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="8da20-304">Bien que la vue mobile a été améliorée, il est difficile de parcourir la longue liste de haut-parleurs.</span><span class="sxs-lookup"><span data-stu-id="8da20-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="8da20-305">Pour résoudre ce problème, dans le `<ul>` , ajoutez le `data-filter` d’attribut et affectez-lui la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="8da20-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="8da20-306">Le code ci-dessous montre le `ul` balisage.</span><span class="sxs-lookup"><span data-stu-id="8da20-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="8da20-307">L’illustration suivante montre la zone de filtre de recherche en haut de la page qui résulte de la `data-filter` attribut.</span><span class="sxs-lookup"><span data-stu-id="8da20-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="8da20-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="8da20-309">Lorsque vous tapez chaque lettre dans la zone de recherche, jQuery Mobile filtre la liste affichée, comme indiqué dans l’image ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="8da20-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="8da20-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="8da20-311">Amélioration de la liste de balises</span><span class="sxs-lookup"><span data-stu-id="8da20-311">Improving the Tags List</span></span>

<span data-ttu-id="8da20-312">Comme la valeur par défaut *haut-parleurs* vue, le *balises* vue est lisible, mais les liens sont petits et difficiles à appuyer sur un appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="8da20-313">Dans cette section, vous allez résoudre le *balises* afficher de la même façon que vous avez corrigé le *haut-parleurs* vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="8da20-314">Supprimer le &quot;masquer&quot; suffixe pour le *Views\Home\AllTags.Mobile.cshtml.hide* est le nom de fichier *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="8da20-315">Ouvrez le fichier renommé et supprimez le `<h2>` élément.</span><span class="sxs-lookup"><span data-stu-id="8da20-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="8da20-316">Ajouter le `data-role` et `data-filter` des attributs pour le `<ul>` balise, comme illustré ici :</span><span class="sxs-lookup"><span data-stu-id="8da20-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="8da20-317">L’image ci-dessous montre la page de balises filtrage sur la lettre `J`.</span><span class="sxs-lookup"><span data-stu-id="8da20-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="8da20-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="8da20-319">Amélioration de la liste de Dates</span><span class="sxs-lookup"><span data-stu-id="8da20-319">Improving the Dates List</span></span>

<span data-ttu-id="8da20-320">Vous pouvez améliorer la *Dates* afficher la même façon que vous le *haut-parleurs* et *balises* vues, afin qu’il soit plus facile à utiliser sur un appareil mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="8da20-321">Copie le *Views\Home\AllDates.cshtml* fichier *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="8da20-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="8da20-322">Ouvrez le nouveau fichier et supprimez le `<h2>` élément.</span><span class="sxs-lookup"><span data-stu-id="8da20-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="8da20-323">Ajouter `data-role="listview"` à la `<ul>` balise, comme suit :</span><span class="sxs-lookup"><span data-stu-id="8da20-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="8da20-324">L’image ci-dessous montre à quoi le **Date** page ressemble à la `data-role` attribut en place.</span><span class="sxs-lookup"><span data-stu-id="8da20-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="8da20-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) remplacer le contenu de la *Views\Home\AllDates.Mobile.cshtml* fichier par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="8da20-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="8da20-326">Ce code regroupe toutes les sessions en jours.</span><span class="sxs-lookup"><span data-stu-id="8da20-326">This code groups all sessions by days.</span></span> <span data-ttu-id="8da20-327">Elle crée un séparateur de liste pour chaque nouveau jour, et il répertorie toutes les sessions pour chaque jour sous une ligne de séparation.</span><span class="sxs-lookup"><span data-stu-id="8da20-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="8da20-328">Voici à quoi elle ressemble lorsque ce code s’exécute :</span><span class="sxs-lookup"><span data-stu-id="8da20-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="8da20-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="8da20-330">Amélioration de la vue SessionsTable</span><span class="sxs-lookup"><span data-stu-id="8da20-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="8da20-331">Dans cette section, vous allez créer un affichage spécifique au mobile de sessions.</span><span class="sxs-lookup"><span data-stu-id="8da20-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="8da20-332">Modifications apportées seront plus étendues que dans les autres modes, que nous avons créé.</span><span class="sxs-lookup"><span data-stu-id="8da20-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="8da20-333">Dans le navigateur mobile, appuyez sur la **haut-parleur** bouton, puis entrez `Sc` dans la zone de recherche.</span><span class="sxs-lookup"><span data-stu-id="8da20-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="8da20-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="8da20-335">Appuyez sur la **Scott Hanselman** lien.</span><span class="sxs-lookup"><span data-stu-id="8da20-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="8da20-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="8da20-337">Comme vous pouvez le voir, l’affichage est difficile à lire sur un navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="8da20-338">La colonne de date est difficile à lire et la colonne de balises est en dehors de la vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="8da20-339">Pour résoudre ce problème, copiez *Views\Home\SessionsTable.cshtml* à *Views\Home\SessionsTable.Mobile.cshtml*, puis remplacez le contenu du fichier par le code suivant :</span><span class="sxs-lookup"><span data-stu-id="8da20-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="8da20-340">Le code supprime la salle d’étiquettes de colonnes et met en forme le titre, l’orateur et date verticalement, afin que toutes ces informations sont lisibles sur un navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="8da20-341">L’image ci-dessous reflète les modifications de code.</span><span class="sxs-lookup"><span data-stu-id="8da20-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="8da20-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="8da20-343">Amélioration de la vue SessionByCode</span><span class="sxs-lookup"><span data-stu-id="8da20-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="8da20-344">Enfin, vous allez créer un affichage spécifique au mobile de le *SessionByCode* vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="8da20-345">Dans le navigateur mobile, appuyez sur la **haut-parleur** bouton, puis entrez `Sc` dans la zone de recherche.</span><span class="sxs-lookup"><span data-stu-id="8da20-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="8da20-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="8da20-347">Appuyez sur la **Scott Hanselman** lien.</span><span class="sxs-lookup"><span data-stu-id="8da20-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="8da20-348">Les sessions de Scott Hanselman sont affichées.</span><span class="sxs-lookup"><span data-stu-id="8da20-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="8da20-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="8da20-350">Choisissez le **une vue d’ensemble de la pile d’amour MS Web** lien.</span><span class="sxs-lookup"><span data-stu-id="8da20-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="8da20-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="8da20-352">La vue bureau par défaut convient, mais vous pouvez l’améliorer.</span><span class="sxs-lookup"><span data-stu-id="8da20-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="8da20-353">Copie le *Views\Home\SessionByCode.cshtml* à *Views\Home\SessionByCode.Mobile.cshtml* et remplacez le contenu de la *Views\Home\SessionByCode.Mobile.cshtml*fichier avec le balisage suivant :</span><span class="sxs-lookup"><span data-stu-id="8da20-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="8da20-354">Le nouveau balisage utilise le `data-role` attribut pour améliorer la disposition de la vue.</span><span class="sxs-lookup"><span data-stu-id="8da20-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="8da20-355">Actualisez le navigateur mobile.</span><span class="sxs-lookup"><span data-stu-id="8da20-355">Refresh the mobile browser.</span></span> <span data-ttu-id="8da20-356">L’illustration suivante reflète les modifications de code que vous venez d’apporter :</span><span class="sxs-lookup"><span data-stu-id="8da20-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="8da20-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="8da20-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="8da20-358">Conclusion et révision</span><span class="sxs-lookup"><span data-stu-id="8da20-358">Wrapup and Review</span></span>

<span data-ttu-id="8da20-359">Ce didacticiel a introduit les nouvelles fonctionnalités mobiles d’ASP.NET MVC 4 Developer Preview.</span><span class="sxs-lookup"><span data-stu-id="8da20-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="8da20-360">Les fonctionnalités mobiles incluent :</span><span class="sxs-lookup"><span data-stu-id="8da20-360">The mobile features include:</span></span>

- <span data-ttu-id="8da20-361">La possibilité de remplacer la mise en page, des vues et des vues partielles, globalement et pour une vue spécifique.</span><span class="sxs-lookup"><span data-stu-id="8da20-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="8da20-362">Contrôler la disposition et la mise en œuvre de substitution partielle à l’aide du `RequireConsistentDisplayMode` propriété.</span><span class="sxs-lookup"><span data-stu-id="8da20-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="8da20-363">Un widget sélecteur de vue pour mobile vues que vous pouvez également afficher dans les vues de bureau.</span><span class="sxs-lookup"><span data-stu-id="8da20-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="8da20-364">Prise en charge pour prendre en charge des navigateurs spécifiques, tels que le navigateur iPhone.</span><span class="sxs-lookup"><span data-stu-id="8da20-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="8da20-365">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8da20-365">See Also</span></span>

- <span data-ttu-id="8da20-366">[jQuery Mobile](http://jquerymobile.com) site.</span><span class="sxs-lookup"><span data-stu-id="8da20-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="8da20-367">jQuery Mobile présentation</span><span class="sxs-lookup"><span data-stu-id="8da20-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="8da20-368">W3C Web Mobile Application meilleures pratiques pour les recommandations</span><span class="sxs-lookup"><span data-stu-id="8da20-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="8da20-369">Recommandation W3C pour les requêtes de média</span><span class="sxs-lookup"><span data-stu-id="8da20-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
