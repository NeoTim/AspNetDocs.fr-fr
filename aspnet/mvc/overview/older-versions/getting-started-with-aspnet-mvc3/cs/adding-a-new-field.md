---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-new-field
title: Ajout d’un nouveau champ à la table et au modèleC#Movie () | Microsoft Docs
author: Rick-Anderson
description: Ce didacticiel vous apprend les bases de la création d’une application Web ASP.NET MVC à l’aide de Microsoft Visual Web Developer 2010 Express Service Pack 1, qui est...
ms.author: riande
ms.date: 01/12/2011
ms.assetid: b4e76c1a-f66e-43a0-aa72-f39df79c07c1
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-a-new-field
msc.type: authoredcontent
ms.openlocfilehash: 40b02a2f608f07091ce6b5339688a1e6290e2e37
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77457440"
---
# <a name="adding-a-new-field-to-the-movie-model-and-table-c"></a><span data-ttu-id="5dfd8-103">Ajout d’un nouveau champ à la table et au modèle Movie (C#)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-103">Adding a New Field to the Movie Model and Table (C#)</span></span>

<span data-ttu-id="5dfd8-104">par [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> > [!NOTE]
> > <span data-ttu-id="5dfd8-105">Une version mise à jour de ce didacticiel est disponible [ici](../../../getting-started/introduction/getting-started.md) et utilise ASP.NET MVC 5 et Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-105">An updated version of this tutorial is available [here](../../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="5dfd8-106">Il est plus sûr, bien plus simple à suivre et qui illustre davantage de fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-106">It's more secure, much simpler to follow and demonstrates more features.</span></span>
> 
> 
> <span data-ttu-id="5dfd8-107">Ce didacticiel vous apprend les bases de la création d’une application Web ASP.NET MVC à l’aide de Microsoft Visual Web Developer 2010 Express Service Pack 1, qui est une version gratuite de Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-107">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="5dfd8-108">Avant de commencer, assurez-vous que vous avez installé les composants requis ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-108">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="5dfd8-109">Vous pouvez les installer en cliquant sur le lien suivant : [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="5dfd8-109">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="5dfd8-110">Vous pouvez également installer individuellement les composants requis à l’aide des liens suivants :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-110">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="5dfd8-111">Conditions préalables pour Visual Studio Web Developer Express SP1</span><span class="sxs-lookup"><span data-stu-id="5dfd8-111">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="5dfd8-112">Mise à jour des outils ASP.NET MVC 3</span><span class="sxs-lookup"><span data-stu-id="5dfd8-112">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="5dfd8-113">[SQL Server Compact 4,0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(prise en charge de Runtime + Tools)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="5dfd8-114">Si vous utilisez Visual Studio 2010 au lieu de Visual Web Developer 2010, installez les composants requis en cliquant sur le lien suivant : [Visual Studio 2010 Prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="5dfd8-114">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="5dfd8-115">Un projet Visual Web Developer C# avec le code source est disponible pour accompagner cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-115">A Visual Web Developer project with C# source code is available to accompany this topic.</span></span> <span data-ttu-id="5dfd8-116">[Téléchargez la C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="5dfd8-116">[Download the C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="5dfd8-117">Si vous préférez Visual Basic, passez à la [version Visual Basic](../vb/intro-to-aspnet-mvc-3.md) de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-117">If you prefer Visual Basic, switch to the [Visual Basic version](../vb/intro-to-aspnet-mvc-3.md) of this tutorial.</span></span>

<span data-ttu-id="5dfd8-118">Dans cette section, vous allez apporter des modifications aux classes de modèle et découvrir comment vous pouvez mettre à jour le schéma de base de données pour qu’il corresponde aux modifications du modèle.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-118">In this section you'll make some changes to the model classes and learn how you can update the database schema to match the model changes.</span></span>

## <a name="adding-a-rating-property-to-the-movie-model"></a><span data-ttu-id="5dfd8-119">Ajout d’une propriété Rating au modèle Movie</span><span class="sxs-lookup"><span data-stu-id="5dfd8-119">Adding a Rating Property to the Movie Model</span></span>

<span data-ttu-id="5dfd8-120">Commencez par ajouter une nouvelle propriété `Rating` à la classe `Movie` existante.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-120">Start by adding a new `Rating` property to the existing `Movie` class.</span></span> <span data-ttu-id="5dfd8-121">Ouvrez le fichier *Movie.cs* et ajoutez la propriété `Rating` comme celle-ci :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-121">Open the *Movie.cs* file and add the `Rating` property like this one:</span></span>

[!code-csharp[Main](adding-a-new-field/samples/sample1.cs)]

<span data-ttu-id="5dfd8-122">La classe `Movie` complète ressemble maintenant au code suivant :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-122">The complete `Movie` class now looks like the following code:</span></span>

[!code-csharp[Main](adding-a-new-field/samples/sample2.cs)]

<span data-ttu-id="5dfd8-123">Recompilez l’application à l’aide de la commande de menu **Déboguer** &gt;**générer un film** .</span><span class="sxs-lookup"><span data-stu-id="5dfd8-123">Recompile the application using the **Debug** &gt;**Build Movie** menu command.</span></span>

<span data-ttu-id="5dfd8-124">Maintenant que vous avez mis à jour la classe `Model`, vous devez également mettre à jour les modèles de vue *\Views\Movies\Index.cshtml* et *\Views\Movies\Create.cshtml* afin de prendre en charge la nouvelle propriété `Rating`.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-124">Now that you've updated the `Model` class, you also need to update the *\Views\Movies\Index.cshtml* and *\Views\Movies\Create.cshtml* view templates in order to support the new `Rating` property.</span></span>

<span data-ttu-id="5dfd8-125">Ouvrez le fichier *\Views\Movies\Index.cshtml* et ajoutez un en-tête de colonne `<th>Rating</th>` juste après la colonne **Price** .</span><span class="sxs-lookup"><span data-stu-id="5dfd8-125">Open the *\Views\Movies\Index.cshtml* file and add a `<th>Rating</th>` column heading just after the **Price** column.</span></span> <span data-ttu-id="5dfd8-126">Ajoutez ensuite une `<td>` colonne près de la fin du modèle pour afficher la valeur de `@item.Rating`.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-126">Then add a `<td>` column near the end of the template to render the `@item.Rating` value.</span></span> <span data-ttu-id="5dfd8-127">Voici à quoi ressemble le modèle de vue *index. cshtml* mis à jour :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-127">Below is what the updated *Index.cshtml* view template looks like:</span></span>

[!code-cshtml[Main](adding-a-new-field/samples/sample3.cshtml)]

<span data-ttu-id="5dfd8-128">Ensuite, ouvrez le fichier *\Views\Movies\Create.cshtml* et ajoutez le balisage suivant à la fin du formulaire.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-128">Next, open the *\Views\Movies\Create.cshtml* file and add the following markup near the end of the form.</span></span> <span data-ttu-id="5dfd8-129">Cela génère le rendu d’une zone de texte afin que vous puissiez spécifier une évaluation lors de la création d’un nouveau film.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-129">This renders a text box so that you can specify a rating when a new movie is created.</span></span>

[!code-cshtml[Main](adding-a-new-field/samples/sample4.cshtml)]

## <a name="managing-model-and-database-schema-differences"></a><span data-ttu-id="5dfd8-130">Gestion des différences de schéma de base de données et de modèle</span><span class="sxs-lookup"><span data-stu-id="5dfd8-130">Managing Model and Database Schema Differences</span></span>

<span data-ttu-id="5dfd8-131">Vous avez maintenant mis à jour le code de l’application pour prendre en charge la nouvelle propriété `Rating`.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-131">You've now updated the application code to support the new `Rating` property.</span></span>

<span data-ttu-id="5dfd8-132">Exécutez maintenant l’application et accédez à l’URL */movies* .</span><span class="sxs-lookup"><span data-stu-id="5dfd8-132">Now run the application and navigate to the */Movies* URL.</span></span> <span data-ttu-id="5dfd8-133">Lorsque vous procédez ainsi, l’erreur suivante s’affiche :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-133">When you do this, though, you'll see the following error:</span></span>

![](adding-a-new-field/_static/image1.png)

<span data-ttu-id="5dfd8-134">Vous voyez cette erreur, car la classe de modèle `Movie` mise à jour dans l’application est maintenant différente du schéma de la table `Movie` de la base de données existante.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-134">You're seeing this error because the updated `Movie` model class in the application is now different than the schema of the `Movie` table of the existing database.</span></span> <span data-ttu-id="5dfd8-135">(Il n’existe pas de colonne `Rating` dans la table de base de données.)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-135">(There's no `Rating` column in the database table.)</span></span>

<span data-ttu-id="5dfd8-136">Par défaut, lorsque vous utilisez Entity Framework Code First pour créer automatiquement une base de données, comme vous l’avez fait précédemment dans ce didacticiel, Code First ajoute une table à la base de données pour vous aider à déterminer si le schéma de la base de données est synchronisé avec les classes de modèle à partir desquelles il a été généré.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-136">By default, when you use Entity Framework Code First to automatically create a database, as you did earlier in this tutorial, Code First adds a table to the database to help track whether the schema of the database is in sync with the model classes it was generated from.</span></span> <span data-ttu-id="5dfd8-137">S’ils ne sont pas synchronisés, le Entity Framework génère une erreur.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-137">If they aren't in sync, the Entity Framework throws an error.</span></span> <span data-ttu-id="5dfd8-138">Cela facilite le suivi des problèmes au moment du développement, que vous ne pouvez trouver dans le cas contraire (par des erreurs obscures) au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-138">This makes it easier to track down issues at development time that you might otherwise only find (by obscure errors) at run time.</span></span> <span data-ttu-id="5dfd8-139">La fonctionnalité de vérification de la synchronisation permet d’afficher le message d’erreur que vous venez de constater.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-139">The sync-checking feature is what causes the error message to be displayed that you just saw.</span></span>

<span data-ttu-id="5dfd8-140">Il existe deux approches pour résoudre l’erreur :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-140">There are two approaches to resolving the error:</span></span>

1. <span data-ttu-id="5dfd8-141">Laissez Entity Framework supprimer et recréer automatiquement la base de données sur la base du nouveau schéma de classe de modèle.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-141">Have the Entity Framework automatically drop and re-create the database based on the new model class schema.</span></span> <span data-ttu-id="5dfd8-142">Cette approche est très pratique lors du développement actif sur une base de données de test, car elle vous permet de faire évoluer rapidement le schéma de base de données et le modèle.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-142">This approach is very convenient when doing active development on a test database, because it allows you to quickly evolve the model and database schema together.</span></span> <span data-ttu-id="5dfd8-143">L’inconvénient, cependant, est que vous perdez les données existantes dans la base de données, de sorte que vous *ne souhaitez pas* utiliser cette approche sur une base de données de production.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-143">The downside, though, is that you lose existing data in the database — so you *don't* want to use this approach on a production database!</span></span>
2. <span data-ttu-id="5dfd8-144">Modifiez explicitement le schéma de la base de données existante pour le faire correspondre aux classes du modèle.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-144">Explicitly modify the schema of the existing database so that it matches the model classes.</span></span> <span data-ttu-id="5dfd8-145">L’avantage de cette approche est que vous conservez vos données.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-145">The advantage of this approach is that you keep your data.</span></span> <span data-ttu-id="5dfd8-146">Vous pouvez apporter cette modification manuellement ou en créant un script de modification de la base de données.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-146">You can make this change either manually or by creating a database change script.</span></span>

<span data-ttu-id="5dfd8-147">Pour ce didacticiel, nous allons utiliser la première approche : vous aurez la Entity Framework Code First recréer automatiquement la base de données chaque fois que le modèle sera modifié.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-147">For this tutorial, we'll use the first approach — you'll have the Entity Framework Code First automatically re-create the database anytime the model changes.</span></span>

## <a name="automatically-re-creating-the-database-on-model-changes"></a><span data-ttu-id="5dfd8-148">Recréation automatique de la base de données lors des modifications du modèle</span><span class="sxs-lookup"><span data-stu-id="5dfd8-148">Automatically Re-Creating the Database on Model Changes</span></span>

<span data-ttu-id="5dfd8-149">Nous allons mettre à jour l’application afin que Code First supprime et recrée automatiquement la base de données chaque fois que vous modifiez le modèle de l’application.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-149">Let's update the application so that Code First automatically drops and re-creates the database anytime you change the model for the application.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="5dfd8-150">**Avertissement** Vous devez activer cette méthode de suppression et de recréation automatique de la base de données uniquement lorsque vous utilisez une base de données de développement ou de test, et *jamais* sur une base de données de production qui contient des données réelles.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-150">**Warning** You should enable this approach of automatically dropping and re-creating the database only when you're using a development or test database, and *never* on a production database that contains real data.</span></span> <span data-ttu-id="5dfd8-151">Son utilisation sur un serveur de production peut entraîner une perte de données.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-151">Using it on a production server can lead to data loss.</span></span>

<span data-ttu-id="5dfd8-152">Dans **Explorateur de solutions**, cliquez avec le bouton droit sur le dossier *modèles* , sélectionnez **Ajouter**, puis **classe**.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-152">In **Solution Explorer**, right click the *Models* folder, select **Add**, and then select **Class**.</span></span>

![](adding-a-new-field/_static/image2.png)

<span data-ttu-id="5dfd8-153">Nommez la classe « MovieInitializer ».</span><span class="sxs-lookup"><span data-stu-id="5dfd8-153">Name the class "MovieInitializer".</span></span> <span data-ttu-id="5dfd8-154">Mettez à jour la classe `MovieInitializer` pour qu’elle contienne le code suivant :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-154">Update the `MovieInitializer` class to contain the following code:</span></span>

[!code-csharp[Main](adding-a-new-field/samples/sample5.cs)]

<span data-ttu-id="5dfd8-155">La classe `MovieInitializer` spécifie que la base de données utilisée par le modèle doit être supprimée et automatiquement recréée si les classes de modèle changent.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-155">The `MovieInitializer` class specifies that the database used by the model should be dropped and automatically re-created if the model classes ever change.</span></span> <span data-ttu-id="5dfd8-156">Le code comprend une méthode `Seed` pour spécifier des données par défaut à ajouter automatiquement à la base de données à chaque fois qu’il est créé (ou recréé).</span><span class="sxs-lookup"><span data-stu-id="5dfd8-156">The code includes a `Seed` method to specify some default data to automatically add to the database any time it's created (or re-created).</span></span> <span data-ttu-id="5dfd8-157">Cela permet de remplir la base de données avec des exemples de données, sans que vous ayez besoin de la remplir manuellement chaque fois que vous apportez une modification au modèle.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-157">This provides a useful way to populate the database with some sample data, without requiring you to manually populate it each time you make a model change.</span></span>

<span data-ttu-id="5dfd8-158">Maintenant que vous avez défini la classe `MovieInitializer`, vous devez la connecter afin que chaque fois que l’application s’exécute, elle vérifie si les classes de modèle sont différentes du schéma dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-158">Now that you've defined the `MovieInitializer` class, you'll want to wire it up so that each time the application runs, it checks whether the model classes are different from the schema in the database.</span></span> <span data-ttu-id="5dfd8-159">Si c’est le cas, vous pouvez exécuter l’initialiseur pour recréer la base de données afin qu’elle corresponde au modèle, puis remplir la base de données avec les exemples de données.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-159">If they are, you can run the initializer to re-create the database to match the model and then populate the database with the sample data.</span></span>

<span data-ttu-id="5dfd8-160">Ouvrez le fichier *global. asax* situé à la racine du projet `MvcMovies` :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-160">Open the *Global.asax* file that's at the root of the `MvcMovies` project:</span></span>

[![](adding-a-new-field/_static/image4.png)](adding-a-new-field/_static/image3.png)

<span data-ttu-id="5dfd8-161">Le fichier *global. asax* contient la classe qui définit l’application entière pour le projet et contient une `Application_Start` gestionnaire d’événements qui s’exécute lorsque l’application démarre pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-161">The *Global.asax* file contains the class that defines the entire application for the project, and contains an `Application_Start` event handler that runs when the application first starts.</span></span>

<span data-ttu-id="5dfd8-162">Nous allons ajouter deux instructions using en haut du fichier.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-162">Let's add two using statements to the top of the file.</span></span> <span data-ttu-id="5dfd8-163">Le premier fait référence à l’espace de noms Entity Framework, tandis que le second référence l’espace de noms dans lequel notre classe `MovieInitializer` vit :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-163">The first references the Entity Framework namespace, and the second references the namespace where our `MovieInitializer` class lives:</span></span>

[!code-csharp[Main](adding-a-new-field/samples/sample6.cs)]

<span data-ttu-id="5dfd8-164">Recherchez ensuite la méthode `Application_Start` et ajoutez un appel à `Database.SetInitializer` au début de la méthode, comme indiqué ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-164">Then find the `Application_Start` method and add a call to `Database.SetInitializer` at the beginning of the method, as shown below:</span></span>

[!code-csharp[Main](adding-a-new-field/samples/sample7.cs)]

<span data-ttu-id="5dfd8-165">L’instruction `Database.SetInitializer` que vous venez d’ajouter indique que la base de données utilisée par l’instance `MovieDBContext` doit être automatiquement supprimée et recréée si le schéma et la base de données ne correspondent pas.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-165">The `Database.SetInitializer` statement you just added indicates that the database used by the `MovieDBContext` instance should be automatically deleted and re-created if the schema and the database don't match.</span></span> <span data-ttu-id="5dfd8-166">Comme vous l’avez vu, il remplit également la base de données avec les exemples de données qui sont spécifiés dans la classe `MovieInitializer`.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-166">And as you saw, it will also populate the database with the sample data that's specified in the `MovieInitializer` class.</span></span>

<span data-ttu-id="5dfd8-167">Fermez le fichier *global. asax* .</span><span class="sxs-lookup"><span data-stu-id="5dfd8-167">Close the *Global.asax* file.</span></span>

<span data-ttu-id="5dfd8-168">Réexécutez l’application et accédez à l’URL */movies* .</span><span class="sxs-lookup"><span data-stu-id="5dfd8-168">Re-run the application and navigate to the */Movies* URL.</span></span> <span data-ttu-id="5dfd8-169">Lorsque l’application démarre, elle détecte que la structure de modèle ne correspond plus au schéma de base de données.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-169">When the application starts, it detects that the model structure no longer matches the database schema.</span></span> <span data-ttu-id="5dfd8-170">Il recrée automatiquement la base de données pour qu’elle corresponde à la nouvelle structure de modèle et remplit la base de données avec les exemples de films :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-170">It automatically re-creates the database to match the new model structure and populates the database with the sample movies:</span></span>

![7_MyMovieList_SM](adding-a-new-field/_static/image5.png)

<span data-ttu-id="5dfd8-172">Cliquez sur le lien **Create New** pour ajouter un nouveau film.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-172">Click the **Create New** link to add a new movie.</span></span> <span data-ttu-id="5dfd8-173">Notez que vous pouvez ajouter une évaluation.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-173">Note that you can add a rating.</span></span>

<span data-ttu-id="5dfd8-174">[![7_CreateRioII](adding-a-new-field/_static/image7.png)](adding-a-new-field/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-174">[![7_CreateRioII](adding-a-new-field/_static/image7.png)](adding-a-new-field/_static/image6.png)</span></span>

<span data-ttu-id="5dfd8-175">Cliquez sur **Créer**.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-175">Click **Create**.</span></span> <span data-ttu-id="5dfd8-176">Le nouveau film, y compris l’évaluation, s’affiche désormais dans la liste des films :</span><span class="sxs-lookup"><span data-stu-id="5dfd8-176">The new movie, including the rating, now shows up in the movies listing:</span></span>

<span data-ttu-id="5dfd8-177">[![7_ourNewMovie_SM](adding-a-new-field/_static/image9.png)](adding-a-new-field/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-177">[![7_ourNewMovie_SM](adding-a-new-field/_static/image9.png)](adding-a-new-field/_static/image8.png)</span></span>

<span data-ttu-id="5dfd8-178">Dans cette section, vous avez vu comment vous pouvez modifier des objets de modèle et maintenir la synchronisation de la base de données avec les modifications.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-178">In this section you saw how you can modify model objects and keep the database in sync with the changes.</span></span> <span data-ttu-id="5dfd8-179">Vous avez également appris à remplir une base de données nouvellement créée avec des exemples de données afin de pouvoir essayer des scénarios.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-179">You also learned a way to populate a newly created database with sample data so you can try out scenarios.</span></span> <span data-ttu-id="5dfd8-180">Voyons ensuite comment vous pouvez ajouter une logique de validation plus riche aux classes de modèle et permettre l’application de certaines règles d’entreprise.</span><span class="sxs-lookup"><span data-stu-id="5dfd8-180">Next, let's look at how you can add richer validation logic to the model classes and enable some business rules to be enforced.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5dfd8-181">[Précédent](examining-the-edit-methods-and-edit-view.md)
> [Suivant](adding-validation-to-the-model.md)</span><span class="sxs-lookup"><span data-stu-id="5dfd8-181">[Previous](examining-the-edit-methods-and-edit-view.md)
[Next](adding-validation-to-the-model.md)</span></span>
