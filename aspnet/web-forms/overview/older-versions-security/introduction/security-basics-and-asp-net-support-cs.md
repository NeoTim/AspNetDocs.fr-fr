---
uid: web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-cs
title: Notions de base de la sécuritéC#et prise en charge de ASP.net () | Microsoft Docs
author: rick-anderson
description: Il s’agit du premier didacticiel d’une série de didacticiels qui explorent les techniques d’authentification des visiteurs via un formulaire Web, autorisant l’accès à une partie...
ms.author: riande
ms.date: 01/13/2008
ms.assetid: 07e15538-2f29-40c6-b2e7-e6115075ac83
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/security-basics-and-asp-net-support-cs
msc.type: authoredcontent
ms.openlocfilehash: 1ccaac101a83d0e28b07b220b8b7b61a9039227e
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78640251"
---
# <a name="security-basics-and-aspnet-support-c"></a><span data-ttu-id="1d9dc-103">Concepts de base et prise en charge de la sécurité par ASP.NET (C#)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-103">Security Basics and ASP.NET Support (C#)</span></span>

<span data-ttu-id="1d9dc-104">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="1d9dc-105">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="1d9dc-105">Download PDF</span></span>](https://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial01_Basics_cs.pdf)

> <span data-ttu-id="1d9dc-106">Il s’agit du premier didacticiel d’une série de didacticiels qui explorent les techniques d’authentification des visiteurs via un formulaire Web, qui autorisent l’accès à des pages et des fonctionnalités particulières et la gestion des comptes d’utilisateur dans une application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-106">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span>

## <a name="introduction"></a><span data-ttu-id="1d9dc-107">Introduction</span><span class="sxs-lookup"><span data-stu-id="1d9dc-107">Introduction</span></span>

<span data-ttu-id="1d9dc-108">Quelles sont les forums, les sites de commerce électronique, les sites Web de messagerie en ligne, les sites Web du portail et les sites de réseaux sociaux en commun ?</span><span class="sxs-lookup"><span data-stu-id="1d9dc-108">What is the one thing forums, eCommerce sites, online email websites, portal websites, and social network sites all have in common?</span></span> <span data-ttu-id="1d9dc-109">Ils proposent tous des *comptes d’utilisateur*.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-109">They all offer *user accounts*.</span></span> <span data-ttu-id="1d9dc-110">Les sites qui proposent des comptes d’utilisateur doivent fournir un certain nombre de services.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-110">Sites that offer user accounts must provide a number of services.</span></span> <span data-ttu-id="1d9dc-111">Au minimum, les nouveaux visiteurs doivent être en mesure de créer un compte et de renvoyer des visiteurs doivent être en mesure de se connecter.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-111">At a minimum, new visitors need to be able to create an account and returning visitors must be able to log in.</span></span> <span data-ttu-id="1d9dc-112">De telles applications Web peuvent prendre des décisions en fonction de l’utilisateur connecté : certaines pages ou actions peuvent être limitées uniquement aux utilisateurs connectés, ou à un certain sous-ensemble d’utilisateurs. d’autres pages peuvent afficher des informations spécifiques à l’utilisateur connecté, ou peuvent afficher plus ou moins d’informations, en fonction de l’utilisateur qui consulte la page.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-112">Such web applications can make decisions based on the logged in user: some pages or actions might be restricted to only logged in users, or to a certain subset of users; other pages might show information specific to the logged in user, or might show more or less information, depending on what user is viewing the page.</span></span>

<span data-ttu-id="1d9dc-113">Il s’agit du premier didacticiel d’une série de didacticiels qui explorent les techniques d’authentification des visiteurs via un formulaire Web, qui autorisent l’accès à des pages et des fonctionnalités particulières et la gestion des comptes d’utilisateur dans une application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-113">This is the first tutorial in a series of tutorials that will explore techniques for authenticating visitors through a web form, authorizing access to particular pages and functionality, and managing user accounts in an ASP.NET application.</span></span> <span data-ttu-id="1d9dc-114">Au cours de ces didacticiels, nous allons examiner comment :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-114">Over the course of these tutorials we will examine how to:</span></span>

- <span data-ttu-id="1d9dc-115">Identifier et connecter des utilisateurs à un site Web</span><span class="sxs-lookup"><span data-stu-id="1d9dc-115">Identify and log users in to a website</span></span>
- <span data-ttu-id="1d9dc-116">Utilisez ASP. Infrastructure d’appartenance NET pour gérer les comptes d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="1d9dc-116">Use ASP.NET's Membership framework to manage user accounts</span></span>
- <span data-ttu-id="1d9dc-117">Créer, mettre à jour et supprimer des comptes d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="1d9dc-117">Create, update, and delete user accounts</span></span>
- <span data-ttu-id="1d9dc-118">Limiter l’accès à une page Web, à un répertoire ou à des fonctionnalités spécifiques basées sur l’utilisateur connecté</span><span class="sxs-lookup"><span data-stu-id="1d9dc-118">Limit access to a web page, directory, or specific functionality based on the logged in user</span></span>
- <span data-ttu-id="1d9dc-119">Utilisez ASP. Infrastructure des rôles du réseau pour associer des comptes d’utilisateur à des rôles</span><span class="sxs-lookup"><span data-stu-id="1d9dc-119">Use ASP.NET's Roles framework to associate user accounts with roles</span></span>
- <span data-ttu-id="1d9dc-120">Gérer les rôles d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="1d9dc-120">Manage user roles</span></span>
- <span data-ttu-id="1d9dc-121">Limiter l’accès à une page Web, à un répertoire ou à des fonctionnalités spécifiques en fonction du rôle de l’utilisateur connecté</span><span class="sxs-lookup"><span data-stu-id="1d9dc-121">Limit access to a web page, directory, or specific functionality based on the logged in user's role</span></span>
- <span data-ttu-id="1d9dc-122">Personnaliser et étendre ASP. Contrôles Web de sécurité du réseau</span><span class="sxs-lookup"><span data-stu-id="1d9dc-122">Customize and extend ASP.NET's security Web controls</span></span>

<span data-ttu-id="1d9dc-123">Ces didacticiels sont destinés à être concis et fournissent des instructions pas à pas avec de nombreuses captures d’écran pour vous guider tout au long du processus.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-123">These tutorials are geared to be concise and provide step-by-step instructions with plenty of screen shots to walk you through the process visually.</span></span> <span data-ttu-id="1d9dc-124">Chaque Didacticiel est disponible dans C# et Visual Basic versions et comprend un téléchargement du code complet utilisé.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-124">Each tutorial is available in C# and Visual Basic versions and includes a download of the complete code used.</span></span> <span data-ttu-id="1d9dc-125">(Ce premier didacticiel se concentre sur les concepts de sécurité d’un point de vue de haut niveau et ne contient donc pas de code associé.)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-125">(This first tutorial focuses on security concepts from a high-level viewpoint and therefore does not contain any associated code.)</span></span>

<span data-ttu-id="1d9dc-126">Dans ce didacticiel, nous aborderons les concepts de sécurité importants et les fonctionnalités disponibles dans ASP.NET pour vous aider à implémenter l’authentification par formulaire, l’autorisation, les comptes d’utilisateurs et les rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-126">In this tutorial we will discuss important security concepts and what facilities are available in ASP.NET to assist in implementing forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="1d9dc-127">C’est parti !</span><span class="sxs-lookup"><span data-stu-id="1d9dc-127">Let's get started!</span></span>

> [!NOTE]
> <span data-ttu-id="1d9dc-128">La sécurité est un aspect important de toute application qui s’étend aux décisions physiques, technologiques et de stratégie, et qui requiert un degré élevé de connaissance de la planification et du domaine.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-128">Security is an important aspect of any application that spans physical, technological, and policy decisions and requires a high degree of planning and domain knowledge.</span></span> <span data-ttu-id="1d9dc-129">Cette série de didacticiels n’est pas conçue comme un guide pour le développement d’applications Web sécurisées.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-129">This tutorial series is not intended as a guide for developing secure web applications.</span></span> <span data-ttu-id="1d9dc-130">Au lieu de cela, elle se concentre spécifiquement sur l’authentification par formulaire, l’autorisation, les comptes d’utilisateurs et les rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-130">Rather, it focuses specifically on forms authentication, authorization, user accounts, and roles.</span></span> <span data-ttu-id="1d9dc-131">Bien que certains concepts de sécurité en rapport avec ces problèmes soient abordés dans cette série, d’autres ne sont pas explorés.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-131">While some security concepts revolving around these issues are discussed in this series, others are left unexplored.</span></span>

## <a name="authentication-authorization-user-accounts-and-roles"></a><span data-ttu-id="1d9dc-132">Authentification, autorisation, comptes d’utilisateurs et rôles</span><span class="sxs-lookup"><span data-stu-id="1d9dc-132">Authentication, Authorization, User Accounts, and Roles</span></span>

<span data-ttu-id="1d9dc-133">L’authentification, l’autorisation, les comptes d’utilisateurs et les rôles sont quatre termes qui seront très souvent utilisés dans cette série de didacticiels. J’aimerais donc prendre un moment rapide pour définir ces termes dans le contexte de la sécurité Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-133">Authentication, authorization, user accounts, and roles are four terms that will be used very often throughout this tutorial series, so I'd like to take a quick moment to define these terms within the context of web security.</span></span> <span data-ttu-id="1d9dc-134">Dans un modèle client-serveur, tel qu’Internet, il existe de nombreux scénarios dans lesquels le serveur doit identifier le client qui effectue la demande.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-134">In a client-server model, such as the Internet, there are many scenarios in which the server needs to identify the client making the request.</span></span> <span data-ttu-id="1d9dc-135">L' *authentification* est le processus qui consiste à déterminer l’identité du client.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-135">*Authentication* is the process of ascertaining the client's identity.</span></span> <span data-ttu-id="1d9dc-136">Un client qui a été identifié avec succès est dit *authentifié*.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-136">A client who has been successfully identified is said to be *authenticated*.</span></span> <span data-ttu-id="1d9dc-137">Un client non identifié est dit non *authentifié* ou *anonyme*.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-137">An unidentified client is said to be *unauthenticated* or *anonymous*.</span></span>

<span data-ttu-id="1d9dc-138">Les systèmes d’authentification sécurisés impliquent au moins l’une des trois facettes suivantes : [un nom que vous connaissez, un nom de votre choix ou un autre](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html)outil.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-138">Secure authentication systems involve at least one of the following three facets: [something you know, something you have, or something you are](http://www.cs.cornell.edu/Courses/cs513/2005fa/NNLauthPeople.html).</span></span> <span data-ttu-id="1d9dc-139">La plupart des applications Web s’appuient sur un élément connu du client, tel qu’un mot de passe ou un code PIN.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-139">Most web applications rely on something the client knows, such as a password or a PIN.</span></span> <span data-ttu-id="1d9dc-140">Les informations utilisées pour identifier un utilisateur, son nom d’utilisateur et son mot de passe, par exemple, sont appelées *informations d’identification*.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-140">The information used to identify a user - her username and password, for example - are referred to as *credentials*.</span></span> <span data-ttu-id="1d9dc-141">Cette série de didacticiels se concentre sur *l’authentification par formulaire*, qui est un modèle d’authentification dans lequel les utilisateurs se connectent au site en fournissant leurs informations d’identification dans un formulaire de page Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-141">This tutorial series focuses on *forms authentication*, which is an authentication model where users log in to the site by providing their credentials in a web page form.</span></span> <span data-ttu-id="1d9dc-142">Nous avons tous connu ce type d’authentification auparavant.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-142">We have all experienced this type of authentication before.</span></span> <span data-ttu-id="1d9dc-143">Accédez à n’importe quel site de commerce électronique.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-143">Go to any eCommerce site.</span></span> <span data-ttu-id="1d9dc-144">Lorsque vous êtes prêt à consulter, vous êtes invité à vous connecter en entrant votre nom d’utilisateur et votre mot de passe dans les zones de texte d’une page Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-144">When you are ready to check out you are asked to log in by entering your username and password into textboxes on a web page.</span></span>

<span data-ttu-id="1d9dc-145">En plus d’identifier les clients, un serveur peut avoir besoin de limiter les ressources ou les fonctionnalités accessibles en fonction du client qui effectue la demande.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-145">In addition to identifying clients, a server may need to limit what resources or functionalities are accessible depending on the client making the request.</span></span> <span data-ttu-id="1d9dc-146">L' *autorisation* est le processus qui consiste à déterminer si un utilisateur particulier a l’autorité nécessaire pour accéder à une ressource ou à une fonctionnalité spécifique.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-146">*Authorization* is the process of determining whether a particular user has the authority to access a specific resource or functionality.</span></span>

<span data-ttu-id="1d9dc-147">Un *compte d’utilisateur* est un magasin pour la conservation des informations relatives à un utilisateur particulier.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-147">A *user account* is a store for persisting information about a particular user.</span></span> <span data-ttu-id="1d9dc-148">Les comptes d’utilisateurs doivent inclure au minimum des informations qui identifient de façon unique l’utilisateur, telles que le nom de connexion et le mot de passe de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-148">User accounts must minimally include information that uniquely identifies the user, such as the user's login name and password.</span></span> <span data-ttu-id="1d9dc-149">Outre ces informations essentielles, les comptes d’utilisateurs peuvent inclure des éléments tels que l’adresse de messagerie de l’utilisateur. Date et heure de création du compte ; Date et heure de la dernière connexion ; prénom et nom ; Numéro de téléphone ; et adresse postale.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-149">Along with this essential information, user accounts may include things like: the user's email address; the date and time the account was created; the date and time they last logged in; first and last name; phone number; and mailing address.</span></span> <span data-ttu-id="1d9dc-150">Lors de l’utilisation de l’authentification par formulaire, les informations de compte d’utilisateur sont généralement stockées dans une base de données relationnelle comme Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-150">When using forms authentication, user account information is typically stored in a relational database like Microsoft SQL Server.</span></span>

<span data-ttu-id="1d9dc-151">Les applications Web qui prennent en charge les comptes d’utilisateur peuvent éventuellement regrouper des utilisateurs dans des *rôles*.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-151">Web applications that support user accounts may optionally group users into *roles*.</span></span> <span data-ttu-id="1d9dc-152">Un rôle est simplement une étiquette qui est appliquée à un utilisateur et fournit une abstraction pour la définition des règles d’autorisation et des fonctionnalités au niveau de la page.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-152">A role is simply a label that is applied to a user and provides an abstraction for defining authorization rules and page-level functionality.</span></span> <span data-ttu-id="1d9dc-153">Par exemple, un site Web peut inclure un rôle d’administrateur avec des règles d’autorisation qui interdisent à quiconque, mais également à un administrateur d’accéder à un ensemble spécifique de pages Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-153">For example, a website might include an Administrator role with authorization rules that prohibit anyone but an Administrator to access a particular set of web pages.</span></span> <span data-ttu-id="1d9dc-154">En outre, toute une série de pages accessibles à tous les utilisateurs (y compris les non-administrateurs) peut afficher des données supplémentaires ou offrir des fonctionnalités supplémentaires lorsqu’ils sont visités par les utilisateurs du rôle Administrateurs.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-154">Moreover, a variety of pages that are accessible to all users (including non-Administrators) might display additional data or offer extra functionality when visited by users in the Administrators role.</span></span> <span data-ttu-id="1d9dc-155">À l’aide de rôles, nous pouvons définir ces règles d’autorisation sur la base d’un rôle par rôle plutôt que d’un utilisateur par utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-155">Using roles, we can define these authorization rules on a role-by-role basis rather than user-by-user.</span></span>

## <a name="authenticating-users-in-an-aspnet-application"></a><span data-ttu-id="1d9dc-156">Authentification des utilisateurs dans une application ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1d9dc-156">Authenticating Users in an ASP.NET Application</span></span>

<span data-ttu-id="1d9dc-157">Lorsqu’un utilisateur entre une URL dans la fenêtre d’adresse de son navigateur ou clique sur un lien, le navigateur envoie une requête [http (Hypertext Transfer Protocol)](http://en.wikipedia.org/wiki/HTTP) au serveur Web pour le contenu spécifié, qu’il s’agisse d’une page ASP.net, d’une image, d’un fichier JavaScript ou de tout autre type de contenu.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-157">When a user enters a URL into their browser's address window or clicks on a link, the browser makes a [Hypertext Transfer Protocol (HTTP)](http://en.wikipedia.org/wiki/HTTP) request to the web server for the specified content, be it an ASP.NET page, an image, a JavaScript file, or any other type of content.</span></span> <span data-ttu-id="1d9dc-158">Le serveur Web est chargé de retourner le contenu demandé.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-158">The web server is tasked with returning the requested content.</span></span> <span data-ttu-id="1d9dc-159">Dans ce cas, il doit déterminer un certain nombre de choses sur la demande, notamment la personne qui a effectué la demande et si l’identité est autorisée à récupérer le contenu demandé.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-159">In doing so, it must determine a number of things about the request, including who made the request and whether the identity is authorized to retrieve the requested content.</span></span>

<span data-ttu-id="1d9dc-160">Par défaut, les navigateurs envoient des requêtes HTTP qui n’ont pas de type d’informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-160">By default, browsers send HTTP requests that lack any sort of identification information.</span></span> <span data-ttu-id="1d9dc-161">Toutefois, si le navigateur inclut des informations d’authentification, le serveur Web démarre le flux de travail d’authentification, qui tente d’identifier le client à l’origine de la demande.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-161">But if the browser does include authentication information then the web server starts the authentication workflow, which attempts to identify the client making the request.</span></span> <span data-ttu-id="1d9dc-162">Les étapes du flux de travail d’authentification dépendent du type d’authentification utilisé par l’application Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-162">The steps of the authentication workflow depend on the type of authentication being used by the web application.</span></span> <span data-ttu-id="1d9dc-163">ASP.NET prend en charge trois types d’authentification : Windows, Passport et formulaires.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-163">ASP.NET supports three types of authentication: Windows, Passport, and forms.</span></span> <span data-ttu-id="1d9dc-164">Cette série de didacticiels se concentre sur l’authentification par formulaire, mais nous allons prendre quelques minutes pour comparer les magasins d’utilisateurs et le flux de travail d’authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-164">This tutorial series focuses on forms authentication, but let's take a minute to compare and contrast Windows authentication user stores and workflow.</span></span>

### <a name="authentication-via-windows-authentication"></a><span data-ttu-id="1d9dc-165">Authentification via l’authentification Windows</span><span class="sxs-lookup"><span data-stu-id="1d9dc-165">Authentication via Windows Authentication</span></span>

<span data-ttu-id="1d9dc-166">Le flux de travail d’authentification Windows utilise l’une des techniques d’authentification suivantes :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-166">The Windows authentication workflow uses one of the following authentication techniques:</span></span>

- <span data-ttu-id="1d9dc-167">Authentification de base</span><span class="sxs-lookup"><span data-stu-id="1d9dc-167">Basic authentication</span></span>
- <span data-ttu-id="1d9dc-168">Authentification Digest</span><span class="sxs-lookup"><span data-stu-id="1d9dc-168">Digest authentication</span></span>
- <span data-ttu-id="1d9dc-169">Authentification Windows intégrée</span><span class="sxs-lookup"><span data-stu-id="1d9dc-169">Windows Integrated Authentication</span></span>

<span data-ttu-id="1d9dc-170">Les trois techniques fonctionnent à peu près de la même façon : lorsqu’une demande anonyme non autorisée arrive, le serveur Web renvoie une réponse HTTP indiquant que l’autorisation est requise pour continuer.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-170">All three techniques work in roughly the same way: when an unauthorized, anonymous request arrives, the web server sends back an HTTP response that indicates that authorization is required to continue.</span></span> <span data-ttu-id="1d9dc-171">Le navigateur affiche ensuite une boîte de dialogue modale qui invite l’utilisateur à entrer son nom d’utilisateur et son mot de passe (voir figure 1).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-171">The browser then displays a modal dialog box that prompts the user for their username and password (see Figure 1).</span></span> <span data-ttu-id="1d9dc-172">Ces informations sont ensuite renvoyées au serveur Web via un en-tête HTTP.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-172">This information is then sent back to the web server via an HTTP header.</span></span>

![Une boîte de dialogue modale invite l’utilisateur à entrer ses informations d’identification](security-basics-and-asp-net-support-cs/_static/image1.png)

<span data-ttu-id="1d9dc-174">**Figure 1**: une boîte de dialogue modale invite l’utilisateur à entrer ses informations d’identification</span><span class="sxs-lookup"><span data-stu-id="1d9dc-174">**Figure 1**: A Modal Dialog Box Prompts the User for His Credentials</span></span>

<span data-ttu-id="1d9dc-175">Les informations d’identification fournies sont validées par rapport au magasin d’utilisateurs Windows du serveur Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-175">The supplied credentials are validated against the web server's Windows User Store.</span></span> <span data-ttu-id="1d9dc-176">Cela signifie que chaque utilisateur authentifié dans votre application Web doit avoir un compte Windows dans votre organisation.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-176">This means that each authenticated user in your web application must have a Windows account in your organization.</span></span> <span data-ttu-id="1d9dc-177">Cette situation est courante dans les scénarios intranet.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-177">This is commonplace in intranet scenarios.</span></span> <span data-ttu-id="1d9dc-178">En fait, lors de l’utilisation de l’authentification intégrée de Windows dans un paramètre intranet, le navigateur fournit automatiquement au serveur Web les informations d’identification utilisées pour se connecter au réseau, supprimant ainsi la boîte de dialogue illustrée dans la figure 1.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-178">In fact, when using Windows Integrated Authentication in an intranet setting, the browser automatically provides the web server with the credentials used to log on to the network, thereby suppressing the dialog box shown in Figure 1.</span></span> <span data-ttu-id="1d9dc-179">Bien que l’authentification Windows soit idéale pour les applications intranet, elle est généralement irréalisable pour les applications Internet, car vous ne souhaitez pas créer de comptes Windows pour chaque utilisateur qui se connecte à votre site.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-179">While Windows authentication is great for intranet applications, it is usually unfeasible for Internet applications since you do not want to create Windows accounts for each and every user who signs up at your site.</span></span>

### <a name="authentication-via-forms-authentication"></a><span data-ttu-id="1d9dc-180">Authentification via l’authentification par formulaire</span><span class="sxs-lookup"><span data-stu-id="1d9dc-180">Authentication via Forms Authentication</span></span>

<span data-ttu-id="1d9dc-181">L’authentification par formulaire, en revanche, est idéale pour les applications Web Internet.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-181">Forms authentication, on the other hand, is ideal for Internet web applications.</span></span> <span data-ttu-id="1d9dc-182">Rappelez-vous que l’authentification par formulaire identifie l’utilisateur en l’invitant à entrer ses informations d’identification via un formulaire Web.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-182">Recall that forms authentication identifies the user by prompting them to enter their credentials through a web form.</span></span> <span data-ttu-id="1d9dc-183">Par conséquent, lorsqu’un utilisateur tente d’accéder à une ressource non autorisée, il est automatiquement redirigé vers la page de connexion où il peut entrer ses informations d’identification.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-183">Consequently, when a user attempts to access an unauthorized resource, they are automatically redirected to the login page where they can enter their credentials.</span></span> <span data-ttu-id="1d9dc-184">Les informations d’identification envoyées sont ensuite validées par rapport à un magasin d’utilisateurs personnalisé (généralement une base de données).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-184">The submitted credentials are then validated against a custom user store - usually a database.</span></span>

<span data-ttu-id="1d9dc-185">Après avoir vérifié les informations d’identification soumises, un *ticket d’authentification par formulaire* est créé pour l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-185">After verifying the submitted credentials, a *forms authentication ticket* is created for the user.</span></span> <span data-ttu-id="1d9dc-186">Ce ticket indique que l’utilisateur a été authentifié et inclut des informations d’identification, telles que le nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-186">This ticket indicates that the user has been authenticated and includes identifying information, such as the username.</span></span> <span data-ttu-id="1d9dc-187">Le ticket d’authentification par formulaire est (généralement) stocké en tant que cookie sur l’ordinateur client.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-187">The forms authentication ticket is (typically) stored as a cookie on the client computer.</span></span> <span data-ttu-id="1d9dc-188">Par conséquent, les visites suivantes du site Web incluent le ticket d’authentification par formulaire dans la requête HTTP, ce qui permet à l’application Web d’identifier l’utilisateur une fois qu’il s’est connecté.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-188">Therefore, subsequent visits to the website include the forms authentication ticket in the HTTP request, thereby enabling the web application to identify the user once they have logged in.</span></span>

<span data-ttu-id="1d9dc-189">La figure 2 illustre le flux de travail d’authentification par formulaire à partir d’un point bourré de haut niveau.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-189">Figure 2 illustrates the forms authentication workflow from a high-level vantage point.</span></span> <span data-ttu-id="1d9dc-190">Notez que les éléments d’authentification et d’autorisation dans ASP.NET agissent comme deux entités distinctes.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-190">Notice how the authentication and authorization pieces in ASP.NET act as two separate entities.</span></span> <span data-ttu-id="1d9dc-191">Le système d’authentification par formulaire identifie l’utilisateur (ou signale qu’il est anonyme).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-191">The forms authentication system identifies the user (or reports that they are anonymous).</span></span> <span data-ttu-id="1d9dc-192">Le système d’autorisation détermine si l’utilisateur a accès à la ressource demandée.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-192">The authorization system is what determines whether the user has access to the requested resource.</span></span> <span data-ttu-id="1d9dc-193">Si l’utilisateur n’est pas autorisé (comme c’est le cas dans la figure 2 lors d’une tentative de visite anonyme de ProtectedPage. aspx), le système d’autorisation signale que l’utilisateur est refusé, ce qui amène le système d’authentification des formulaires à rediriger automatiquement l’utilisateur vers la page de connexion.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-193">If the user is unauthorized (as they are in Figure 2 when attempting to anonymously visit ProtectedPage.aspx), the authorization system reports that the user is denied, causing the forms authentication system to automatically redirect the user to the login page.</span></span>

<span data-ttu-id="1d9dc-194">Une fois que l’utilisateur s’est connecté, les demandes HTTP suivantes incluent le ticket d’authentification par formulaire.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-194">Once the user has successfully logged in, subsequent HTTP requests include the forms authentication ticket.</span></span> <span data-ttu-id="1d9dc-195">Le système d’authentification par formulaire identifie simplement l’utilisateur : il s’agit du système d’autorisation qui détermine si l’utilisateur peut accéder à la ressource demandée.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-195">The forms authentication system merely identifies the user - it is the authorization system that determines whether the user can access the requested resource.</span></span>

![Flux de travail d’authentification par formulaire](security-basics-and-asp-net-support-cs/_static/image2.png)

<span data-ttu-id="1d9dc-197">**Figure 2**: flux de travail d’authentification par formulaire</span><span class="sxs-lookup"><span data-stu-id="1d9dc-197">**Figure 2**: The Forms Authentication Workflow</span></span>

<span data-ttu-id="1d9dc-198">Nous étudierons l’authentification par formulaire plus en détail dans les deux didacticiels suivants,[une vue d’ensemble de](an-overview-of-forms-authentication-cs.md) l’authentification par formulaire et de la configuration de l' [authentification par formulaire et des rubriques avancées](forms-authentication-configuration-and-advanced-topics-cs.md).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-198">We will dig into forms authentication in much greater detail in the next two tutorials,[An Overview of Forms Authentication](an-overview-of-forms-authentication-cs.md) and [Forms Authentication Configuration and Advanced Topics](forms-authentication-configuration-and-advanced-topics-cs.md).</span></span> <span data-ttu-id="1d9dc-199">Pour plus d’informations sur ASP. Les options d’authentification du réseau, consultez [authentification ASP.net](https://msdn.microsoft.com/library/eeyk640h.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-199">For more on ASP.NET's authentication options, see [ASP.NET Authentication](https://msdn.microsoft.com/library/eeyk640h.aspx).</span></span>

## <a name="limiting-access-to-web-pages-directories-and-page-functionality"></a><span data-ttu-id="1d9dc-200">Limitation de l’accès aux pages Web, aux répertoires et aux fonctionnalités de page</span><span class="sxs-lookup"><span data-stu-id="1d9dc-200">Limiting Access to Web Pages, Directories, and Page Functionality</span></span>

<span data-ttu-id="1d9dc-201">ASP.NET propose deux méthodes pour déterminer si un utilisateur particulier a l’autorité nécessaire pour accéder à un fichier ou à un répertoire spécifique :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-201">ASP.NET includes two ways to determine whether a particular user has authority to access a specific file or directory:</span></span>

- <span data-ttu-id="1d9dc-202">**Autorisation de fichier** : étant donné que les pages ASP.net et les services Web sont implémentés en tant que fichiers résidant sur le système de fichiers du serveur Web, l’accès à ces fichiers peut être spécifié par le biais de listes de Access Control (ACL).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-202">**File authorization** - since ASP.NET pages and web services are implemented as files that reside on the web server's file system, access to these files can be specified through Access Control Lists (ACLs).</span></span> <span data-ttu-id="1d9dc-203">L’autorisation de fichier est couramment utilisée avec l’authentification Windows, car les listes de contrôle d’accès sont des autorisations qui s’appliquent aux comptes Windows.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-203">File authorization is most commonly used with Windows authentication because ACLs are permissions that apply to Windows accounts.</span></span> <span data-ttu-id="1d9dc-204">Lors de l’utilisation de l’authentification par formulaire, toutes les demandes au niveau du système d’exploitation et du système de fichiers sont exécutées par le même compte Windows, quel que soit l’utilisateur visitant le site.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-204">When using forms authentication, all operating system- and file system-level requests are executed by the same Windows account, regardless of the user visiting the site.</span></span>
- <span data-ttu-id="1d9dc-205">**Autorisation d’URL**: avec l’autorisation d’URL, le développeur de pages spécifie les règles d’autorisation dans Web. config. Ces règles d’autorisation spécifient les utilisateurs ou les rôles autorisés ou non à accéder à certaines pages ou répertoires de l’application.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-205">**URL authorization**- with URL authorization, the page developer specifies authorization rules in Web.config. These authorization rules specify what users or roles are allowed to access or are denied from accessing certain pages or directories in the application.</span></span>

<span data-ttu-id="1d9dc-206">Autorisation de fichier et autorisation d’URL définissez des règles d’autorisation pour accéder à une page ASP.NET particulière ou à toutes les pages ASP.NET dans un répertoire particulier.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-206">File authorization and URL authorization define authorization rules for accessing a particular ASP.NET page or for all ASP.NET pages in a particular directory.</span></span> <span data-ttu-id="1d9dc-207">À l’aide de ces techniques, nous pouvons demander à ASP.NET de refuser des demandes à une page particulière pour un utilisateur particulier, ou d’autoriser l’accès à un ensemble d’utilisateurs et de refuser l’accès à tous les autres utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-207">Using these techniques we can instruct ASP.NET to deny requests to a particular page for a particular user, or allow access to a set of users and deny access to everyone else.</span></span> <span data-ttu-id="1d9dc-208">Qu’en est-il des scénarios dans lesquels tous les utilisateurs peuvent accéder à la page, mais les fonctionnalités de la page dépendent de l’utilisateur ?</span><span class="sxs-lookup"><span data-stu-id="1d9dc-208">What about scenarios where all of the users can access the page, but the page's functionality depends on the user?</span></span> <span data-ttu-id="1d9dc-209">Par exemple, de nombreux sites qui prennent en charge des comptes d’utilisateur ont des pages qui affichent du contenu ou des données différents pour les utilisateurs authentifiés par rapport aux utilisateurs anonymes.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-209">For example, many sites that support user accounts have pages that display different content or data for authenticated users versus anonymous users.</span></span> <span data-ttu-id="1d9dc-210">Un utilisateur anonyme peut voir un lien pour se connecter au site, tandis qu’un utilisateur authentifié voit à la place un message de bienvenue, de bienvenue et un *nom* d’utilisateur, ainsi qu’un lien pour se déconnecter. Autre exemple : lorsque vous affichez un article sur un site d’enchères, vous obtenez des informations différentes selon que vous êtes un enchérisseur ou l’un de ces enchères.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-210">An anonymous user might see a link to log in to the site, whereas an authenticated user would instead see a message like, Welcome back, *Username* along with a link to log out. Another example: when viewing an item at an auction site you see different information depending on whether you are a bidder or the one auctioning the item.</span></span>

<span data-ttu-id="1d9dc-211">Ces ajustements au niveau des pages peuvent être effectués de façon déclarative ou par programme.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-211">Such page-level adjustments can be accomplished declaratively or programmatically.</span></span> <span data-ttu-id="1d9dc-212">Pour afficher un contenu différent pour les utilisateurs authentifiés, il vous suffit de faire glisser un [contrôle LoginView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) sur votre page et d’entrer le contenu approprié dans ses modèles AnonymousTemplate et LoggedInTemplate.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-212">To show different content for anonymous than authenticated users, simply drag a [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) onto your page and enter the appropriate content into its AnonymousTemplate and LoggedInTemplate templates.</span></span> <span data-ttu-id="1d9dc-213">Vous pouvez également déterminer par programmation si la requête actuelle est authentifiée, qui est l’utilisateur, et à quels rôles ils appartiennent (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-213">Alternatively, you can programmatically determine whether the current request is authenticated, who the user is, and what roles they belong to (if any).</span></span> <span data-ttu-id="1d9dc-214">Vous pouvez utiliser ces informations pour afficher ou masquer des colonnes dans une grille ou des panneaux sur la page.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-214">You can use this information to then show or hide columns in a grid or Panels on the page.</span></span>

<span data-ttu-id="1d9dc-215">Cette série comprend trois didacticiels qui se concentrent sur l’autorisation.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-215">This series includes three tutorials that focus on authorization.</span></span> <span data-ttu-id="1d9dc-216">L' ***autorisation basée sur l’utilisateur***examine comment limiter l’accès à une page ou aux pages d’un répertoire pour des comptes d’utilisateur spécifiques. L' ***autorisation basée sur les rôles recherche des*** règles d’autorisation au niveau du rôle. Enfin, l' ***affichage du contenu basé sur le didacticiel utilisateur actuellement connecté*** explore la modification du contenu et des fonctionnalités d’une page particulière en fonction de l’utilisateur visitant la page.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-216">***User-Based Authorization***examines how to limit access to a page or pages in a directory for specific user accounts; ***Role-Based Authorization*** looks at supplying authorization rules at the role level; lastly, the ***Displaying Content Based on the Currently Logged In User*** tutorial explores modifying a particular page's content and functionality based on the user visiting the page.</span></span> <span data-ttu-id="1d9dc-217">Pour plus d’informations sur ASP. Les options d’autorisation du réseau, consultez [ASP.net Authorization](https://msdn.microsoft.com/library/wce3kxhd.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-217">For more on ASP.NET's authorization options, see [ASP.NET Authorization](https://msdn.microsoft.com/library/wce3kxhd.aspx).</span></span>

## <a name="user-accounts-and-roles"></a><span data-ttu-id="1d9dc-218">Comptes d’utilisateur et rôles</span><span class="sxs-lookup"><span data-stu-id="1d9dc-218">User Accounts and Roles</span></span>

<span data-ttu-id="1d9dc-219">ASP. L’authentification par formulaire de .NET fournit une infrastructure permettant aux utilisateurs de se connecter à un site et de faire en sorte que leur état authentifié soit mémorisé au fil des visites de page.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-219">ASP.NET's forms authentication provides an infrastructure for users to log in to a site and have their authenticated state remembered across page visits.</span></span> <span data-ttu-id="1d9dc-220">Et l’autorisation d’URL offre une infrastructure pour limiter l’accès à des fichiers ou des dossiers spécifiques dans une application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-220">And URL authorization offers a framework for limiting access to specific files or folders in an ASP.NET application.</span></span> <span data-ttu-id="1d9dc-221">Toutefois, aucune fonctionnalité ne fournit un moyen de stocker les informations de compte d’utilisateur ou de gérer les rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-221">Neither feature, however, supplies a means for storing user account information or managing roles.</span></span>

<span data-ttu-id="1d9dc-222">Avant ASP.NET 2,0, les développeurs étaient responsables de la création de leurs propres magasins d’utilisateurs et de rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-222">Prior to ASP.NET 2.0, developers were responsible for creating their own user and role stores.</span></span> <span data-ttu-id="1d9dc-223">Ils étaient également sur le crochet pour la conception des interfaces utilisateur et l’écriture du code pour les pages essentielles relatives au compte d’utilisateur, comme la page de connexion et la page pour créer un nouveau compte, entre autres.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-223">They were also on the hook for designing the user interfaces and writing the code for essential user account-related pages like the login page and the page to create a new account, among others.</span></span> <span data-ttu-id="1d9dc-224">Sans aucune infrastructure de compte d’utilisateur intégrée dans ASP.NET, chaque développeur qui implémente des comptes d’utilisateur devait parvenir à des décisions de conception sur des questions comme, Comment faire stocker des mots de passe ou d’autres informations sensibles ? et quelles directives dois-je imposer en ce qui concerne la longueur et la force du mot de passe ?</span><span class="sxs-lookup"><span data-stu-id="1d9dc-224">Without any built-in user account framework in ASP.NET, each developer implementing user accounts had to arrive at his own design decisions on questions like, How do I store passwords or other sensitive information? and What guidelines should I impose regarding password length and strength?</span></span>

<span data-ttu-id="1d9dc-225">Aujourd’hui, l’implémentation de comptes d’utilisateur dans une application ASP.NET est beaucoup plus simple grâce à l' *infrastructure d’appartenance* et aux contrôles Web de connexion intégrés.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-225">Today, implementing user accounts in an ASP.NET application is much simpler thanks to the *Membership framework* and the built-in Login Web controls.</span></span> <span data-ttu-id="1d9dc-226">L’infrastructure d’appartenance est un petit nombre de classes dans l' [espace de noms System. Web. Security](https://msdn.microsoft.com/library/system.web.security.aspx) qui fournissent des fonctionnalités permettant d’effectuer des tâches essentielles relatives au compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-226">The Membership framework is a handful of classes in the [System.Web.Security namespace](https://msdn.microsoft.com/library/system.web.security.aspx) that provide functionality for performing essential user account-related tasks.</span></span> <span data-ttu-id="1d9dc-227">La classe de clé dans l’infrastructure d’appartenance est la [classe d’appartenance](https://msdn.microsoft.com/library/system.web.security.membership.aspx), qui a des méthodes telles que :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-227">The key class in the Membership framework is the [Membership class](https://msdn.microsoft.com/library/system.web.security.membership.aspx), which has methods like:</span></span>

- <span data-ttu-id="1d9dc-228">CreateUser</span><span class="sxs-lookup"><span data-stu-id="1d9dc-228">CreateUser</span></span>
- <span data-ttu-id="1d9dc-229">DeleteUser</span><span class="sxs-lookup"><span data-stu-id="1d9dc-229">DeleteUser</span></span>
- <span data-ttu-id="1d9dc-230">GetAllUsers</span><span class="sxs-lookup"><span data-stu-id="1d9dc-230">GetAllUsers</span></span>
- <span data-ttu-id="1d9dc-231">GetUser</span><span class="sxs-lookup"><span data-stu-id="1d9dc-231">GetUser</span></span>
- <span data-ttu-id="1d9dc-232">UpdateUser</span><span class="sxs-lookup"><span data-stu-id="1d9dc-232">UpdateUser</span></span>
- <span data-ttu-id="1d9dc-233">ValidateUser</span><span class="sxs-lookup"><span data-stu-id="1d9dc-233">ValidateUser</span></span>

<span data-ttu-id="1d9dc-234">L’infrastructure d’appartenance utilise le [modèle de fournisseur](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), qui sépare correctement l’API de l’infrastructure d’appartenance de son implémentation.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-234">The Membership framework uses the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which cleanly separates the Membership framework's API from its implementation.</span></span> <span data-ttu-id="1d9dc-235">Cela permet aux développeurs d’utiliser une API commune, mais leur permet d’utiliser une implémentation qui répond aux besoins personnalisés de leur application.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-235">This enables developers to use a common API, but empowers them to use an implementation that meets their application's custom needs.</span></span> <span data-ttu-id="1d9dc-236">En bref, la classe d’appartenance définit la fonctionnalité essentielle de l’infrastructure (les méthodes, les propriétés et les événements), mais ne fournit pas réellement de détails d’implémentation.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-236">In short, the Membership class defines the essential functionality of the framework (the methods, properties, and events), but does not actually supply any implementation details.</span></span> <span data-ttu-id="1d9dc-237">Au lieu de cela, les méthodes de la classe d’appartenance appellent le fournisseur configuré, ce qui effectue le travail réel.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-237">Instead, the methods of the Membership class invoke the configured provider, which is what performs the actual work.</span></span> <span data-ttu-id="1d9dc-238">Par exemple, lorsque la méthode CreateUser de la classe d’appartenance est appelée, la classe d’appartenance ne connaît pas les détails du magasin de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-238">For example, when the Membership class's CreateUser method is invoked, the Membership class doesn't know the details of the user store.</span></span> <span data-ttu-id="1d9dc-239">Il ne sait pas si les utilisateurs sont maintenus dans une base de données ou dans un fichier XML ou dans un autre magasin.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-239">It doesn't know if users are being maintained in a database or in an XML file or in some other store.</span></span> <span data-ttu-id="1d9dc-240">La classe Membership examine la configuration de l’application Web pour déterminer quel fournisseur délègue l’appel à, et cette classe de fournisseur est chargée de créer le nouveau compte d’utilisateur dans le magasin d’utilisateurs approprié.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-240">The Membership class examines the web application's configuration to determine what provider to delegate the call to, and that provider class is responsible for actually creating the new user account in the appropriate user store.</span></span> <span data-ttu-id="1d9dc-241">Cette interaction est illustrée à la figure 3.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-241">This interaction is illustrated in Figure 3.</span></span>

<span data-ttu-id="1d9dc-242">Microsoft expédie deux classes de fournisseur d’appartenance dans le .NET Framework :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-242">Microsoft ships two Membership provider classes in the .NET Framework:</span></span>

- <span data-ttu-id="1d9dc-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) : implémente l’API d’appartenance dans les serveurs Active Directory et Active Directory en mode application (Adam).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-243">[ActiveDirectoryMembershipProvider](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) - implements the Membership API in Active Directory and Active Directory Application Mode (ADAM) servers.</span></span>
- <span data-ttu-id="1d9dc-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) : implémente l’API d’appartenance dans une base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-244">[SqlMembershipProvider](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx) - implements the Membership API in a SQL Server database.</span></span>

<span data-ttu-id="1d9dc-245">Cette série de didacticiels porte exclusivement sur SqlMembershipProvider.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-245">This tutorial series focuses exclusively on the SqlMembershipProvider.</span></span>

<span data-ttu-id="1d9dc-246">[![le modèle de fournisseur permet aux différentes implémentations d’être connectées en toute transparence au Framework&lt;/Strong&gt;](security-basics-and-asp-net-support-cs/_static/image4.png)](security-basics-and-asp-net-support-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-246">[![The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework&lt;/strong&gt;](security-basics-and-asp-net-support-cs/_static/image4.png)](security-basics-and-asp-net-support-cs/_static/image3.png)</span></span>

<span data-ttu-id="1d9dc-247">**Figure 03**: le modèle de fournisseur permet à différentes implémentations d’être connectées en toute transparence à l’infrastructure ([cliquez pour afficher l’image en taille réelle](security-basics-and-asp-net-support-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="1d9dc-247">**Figure 03**: The Provider Model Enables Different Implementations to be Seamlessly Plugged Into the Framework ([Click to view full-size image](security-basics-and-asp-net-support-cs/_static/image5.png))</span></span>

<span data-ttu-id="1d9dc-248">L’avantage du modèle de fournisseur est que les autres implémentations peuvent être développées par Microsoft, par des fournisseurs tiers ou par des développeurs individuels, et être connectées en toute transparence au Framework d’appartenance.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-248">The benefit of the provider model is that alternative implementations can be developed by Microsoft, third-party vendors, or individual developers and seamlessly plugged into the Membership framework.</span></span> <span data-ttu-id="1d9dc-249">Par exemple, Microsoft a publié [un fournisseur d’appartenances pour les bases de données Microsoft Access](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-249">For example, Microsoft has released [a Membership provider for Microsoft Access databases](https://download.microsoft.com/download/5/5/b/55bc291f-4316-4fd7-9269-dbf9edbaada8/sampleaccessproviders.vsi).</span></span> <span data-ttu-id="1d9dc-250">Pour plus d’informations sur les fournisseurs d’appartenances, reportez-vous à la [boîte à outils du fournisseur](https://msdn.microsoft.com/asp.net/aa336558.aspx), qui comprend une procédure pas à pas des fournisseurs d’appartenances, des exemples de fournisseurs personnalisés, plus de 100 pages de documentation sur le modèle de fournisseur et le code source complet pour les fournisseurs d’appartenances intégrés (à savoir, ActiveDirectoryMembershipProvider et SqlMembershipProvider).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-250">For more information on the Membership providers, refer to the [Provider Toolkit](https://msdn.microsoft.com/asp.net/aa336558.aspx), which includes a walkthrough of the Membership providers, sample custom providers, over 100 pages of documentation on the provider model, and the complete source code for the built-in Membership providers (namely, ActiveDirectoryMembershipProvider and SqlMembershipProvider).</span></span>

<span data-ttu-id="1d9dc-251">ASP.NET 2,0 a également introduit l’infrastructure des rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-251">ASP.NET 2.0 also introduced the Roles framework.</span></span> <span data-ttu-id="1d9dc-252">À l’instar de l’infrastructure d’appartenance, l’infrastructure de rôles est générée au-dessus du modèle de fournisseur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-252">Like the Membership framework, the Roles framework is built atop the provider model.</span></span> <span data-ttu-id="1d9dc-253">Son API est exposée via la [classe Roles](https://msdn.microsoft.com/library/system.web.security.roles.aspx) et le .NET Framework est fourni avec trois classes de fournisseur :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-253">Its API is exposed via the [Roles class](https://msdn.microsoft.com/library/system.web.security.roles.aspx) and the .NET Framework ships with three provider classes:</span></span>

- <span data-ttu-id="1d9dc-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) -gère les informations de rôle dans un magasin de stratégies du gestionnaire d’autorisations, tel que Active Directory ou Adam.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-254">[AuthorizationStoreRoleProvider](https://msdn.microsoft.com/library/system.web.security.authorizationstoreroleprovider.aspx) - manages role information in an authorization-manager policy store, such as Active Directory or ADAM.</span></span>
- <span data-ttu-id="1d9dc-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) : implémente des rôles dans une base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-255">[SqlRoleProvider](https://msdn.microsoft.com/library/system.web.security.sqlroleprovider.aspx) - implements roles in a SQL Server database.</span></span>
- <span data-ttu-id="1d9dc-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) : associe les informations de rôle en fonction du groupe Windows du visiteur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-256">[WindowsTokenRoleProvider](https://msdn.microsoft.com/library/system.web.security.windowstokenroleprovider.aspx) - associates role information based on the visitor's Windows group.</span></span> <span data-ttu-id="1d9dc-257">Cette méthode est généralement utilisée avec l’authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-257">This method is typically used with Windows authentication.</span></span>

<span data-ttu-id="1d9dc-258">Cette série de didacticiels porte exclusivement sur SqlRoleProvider.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-258">This tutorial series focuses exclusively on the SqlRoleProvider.</span></span>

<span data-ttu-id="1d9dc-259">Étant donné que le modèle de fournisseur comprend une API de transfert unique (classes d’appartenance et de rôles), il est possible de générer des fonctionnalités autour de cette API sans avoir à vous soucier des détails d’implémentation. ceux-ci sont gérés par les fournisseurs sélectionnés par la page. Revel.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-259">Since the provider model includes a single forward-facing API (the Membership and Roles classes), it is possible to build functionality around that API without having to worry about the implementation details - those are handled by the providers selected by the page developer.</span></span> <span data-ttu-id="1d9dc-260">Cette API unifiée permet à Microsoft et aux fournisseurs tiers de créer des contrôles Web qui s’interfacent avec les infrastructures d’appartenance et de rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-260">This unified API allows for Microsoft and third-party vendors to build Web controls that interface with the Membership and Roles frameworks.</span></span> <span data-ttu-id="1d9dc-261">ASP.NET est fourni avec un certain nombre de [contrôles Web de connexion](https://msdn.microsoft.com/library/ms178329.aspx) pour l’implémentation d’interfaces utilisateur de compte d’utilisateur courantes.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-261">ASP.NET ships with a number of [Login Web controls](https://msdn.microsoft.com/library/ms178329.aspx) for implementing common user account user interfaces.</span></span> <span data-ttu-id="1d9dc-262">Par exemple, le [contrôle de connexion](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx) invite l’utilisateur à entrer ses informations d’identification, les valide, puis les enregistre dans via l’authentification par formulaire.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-262">For example, the [Login control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.login.aspx) prompts a user for their credentials, validates them, and then logs them in via forms authentication.</span></span> <span data-ttu-id="1d9dc-263">Le [contrôle LoginView](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) offre des modèles permettant d’afficher des balises différentes pour les utilisateurs anonymes par rapport aux utilisateurs authentifiés, ou un autre balisage basé sur le rôle de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-263">The [LoginView control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.loginview.aspx) offers templates for displaying different markup to anonymous users versus authenticated users, or different markup based on the user's role.</span></span> <span data-ttu-id="1d9dc-264">Et le [contrôle CreateUserWizard](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx) fournit une interface utilisateur pas à pas pour créer un nouveau compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-264">And the [CreateUserWizard control](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.aspx) provides a step-by-step user interface for creating a new user account.</span></span>

<span data-ttu-id="1d9dc-265">Sous le couvre les différents contrôles de connexion interagissent avec les infrastructures d’appartenance et de rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-265">Underneath the covers the various Login controls interact with the Membership and Roles frameworks.</span></span> <span data-ttu-id="1d9dc-266">La plupart des contrôles de connexion peuvent être implémentés sans qu’il soit nécessaire d’écrire une seule ligne de code.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-266">Most Login controls can be implemented without having to write a single line of code.</span></span> <span data-ttu-id="1d9dc-267">Nous examinerons ces contrôles plus en détail dans les prochains didacticiels, y compris les techniques permettant d’étendre et de personnaliser leurs fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-267">We will examine these controls in greater detail in future tutorials, including techniques for extending and customizing their functionality.</span></span>

## <a name="summary"></a><span data-ttu-id="1d9dc-268">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="1d9dc-268">Summary</span></span>

<span data-ttu-id="1d9dc-269">Toutes les applications Web qui prennent en charge les comptes d’utilisateur nécessitent des fonctionnalités similaires, telles que : la possibilité pour les utilisateurs de se connecter et dont l’état de connexion est mémorisé sur les visites de page. une page Web pour les nouveaux visiteurs qui créent un compte ; et la possibilité pour le développeur de pages de spécifier la ressource, les données et les fonctionnalités disponibles pour les utilisateurs ou les rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-269">All web applications that support user accounts require similar features, such as: the ability for users to log in and have their log in status remembered across page visits; a web page for new visitors to create an account; and the ability to the page developer to specify what resource, data, and functionality are available to what users or roles.</span></span> <span data-ttu-id="1d9dc-270">Les tâches d’authentification et d’autorisation des utilisateurs et de gestion des comptes d’utilisateur et des rôles sont remarquablement faciles à accomplir dans les applications ASP.NET grâce à l’authentification par formulaire, à l’autorisation d’URL et aux infrastructures d’appartenance et de rôles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-270">The tasks of authenticating and authorizing users and of managing user accounts and roles is remarkably easy to accomplish in ASP.NET applications thanks to forms authentication, URL authorization, and the Membership and Roles frameworks.</span></span>

<span data-ttu-id="1d9dc-271">Au cours des prochains didacticiels, nous examinerons ces aspects en créant une application Web de travail de bout en bout, de manière pas à pas.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-271">Over the course of the next several tutorials we will examine these aspects by building a working web application from the ground up in a step-by-step fashion.</span></span> <span data-ttu-id="1d9dc-272">Dans les deux didacticiels suivants, nous explorerons l’authentification par formulaire en détail.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-272">In the next two tutorial we will explore forms authentication in detail.</span></span> <span data-ttu-id="1d9dc-273">Nous allons voir le flux de travail d’authentification des formulaires en action, étudier en détail le ticket d’authentification par formulaire, discuter des problèmes de sécurité et voir comment configurer le système d’authentification par formulaire-tout lors de la création d’une application Web qui permet aux visiteurs de se connecter et de se déconnecter.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-273">We will see the forms authentication workflow in action, dissect the forms authentication ticket, discuss security concerns, and see how to configure the forms authentication system - all while building a web application that allows visitors to log in and log out.</span></span>

<span data-ttu-id="1d9dc-274">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="1d9dc-274">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="1d9dc-275">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="1d9dc-275">Further Reading</span></span>

<span data-ttu-id="1d9dc-276">Pour plus d’informations sur les sujets abordés dans ce didacticiel, reportez-vous aux ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="1d9dc-276">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="1d9dc-277">ASP.NET 2,0 appartenance, rôles, authentification par formulaire et ressources de sécurité</span><span class="sxs-lookup"><span data-stu-id="1d9dc-277">ASP.NET 2.0 Membership, Roles, Forms Authentication, and Security Resources</span></span>](https://weblogs.asp.net/scottgu/ASP.NET-2.0-Membership_2C00_-Roles_2C00_-Forms-Authentication_2C00_-and-Security-Resources-)
- [<span data-ttu-id="1d9dc-278">Instructions de sécurité de ASP.NET 2,0</span><span class="sxs-lookup"><span data-stu-id="1d9dc-278">ASP.NET 2.0 Security Guidelines</span></span>](https://msdn.microsoft.com/library/ms998258.aspx)
- [<span data-ttu-id="1d9dc-279">Authentification ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1d9dc-279">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/library/eeyk640h.aspx)
- [<span data-ttu-id="1d9dc-280">Autorisation ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1d9dc-280">ASP.NET Authorization</span></span>](https://msdn.microsoft.com/library/wce3kxhd.aspx)
- [<span data-ttu-id="1d9dc-281">Vue d’ensemble des contrôles de connexion ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1d9dc-281">ASP.NET Login Controls Overview</span></span>](https://msdn.microsoft.com/library/ms178329.aspx)
- [<span data-ttu-id="1d9dc-282">Examen de l’appartenance, des rôles et du profil de ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="1d9dc-282">Examining ASP.NET 2.0's Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="1d9dc-283">Comment faire : sécuriser mon site à l’aide de l’appartenance et des rôles ?</span><span class="sxs-lookup"><span data-stu-id="1d9dc-283">How Do I: Secure My Site Using Membership and Roles?</span></span>](https://asp.net/learn/videos/video-45.aspx) <span data-ttu-id="1d9dc-284">Vidéosurveillance</span><span class="sxs-lookup"><span data-stu-id="1d9dc-284">(Video)</span></span>
- [<span data-ttu-id="1d9dc-285">Présentation de l’appartenance</span><span class="sxs-lookup"><span data-stu-id="1d9dc-285">Introduction to Membership</span></span>](https://msdn.microsoft.com/library/yh26yfzy.aspx)
- [<span data-ttu-id="1d9dc-286">Centre de développement de la sécurité MSDN</span><span class="sxs-lookup"><span data-stu-id="1d9dc-286">MSDN Security Developer Center</span></span>](https://msdn.microsoft.com/security/default.aspx)
- <span data-ttu-id="1d9dc-287">[Gestion de la sécurité, de l’appartenance et des rôles de ASP.net Professional 2,0](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN : 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-287">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="1d9dc-288">Boîte à outils du fournisseur</span><span class="sxs-lookup"><span data-stu-id="1d9dc-288">Provider Toolkit</span></span>](https://msdn.microsoft.com/asp.net/aa336558.aspx)

## <a name="about-the-author"></a><span data-ttu-id="1d9dc-289">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="1d9dc-289">About the Author</span></span>

<span data-ttu-id="1d9dc-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept livres ASP/ASP. net et fondateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec des technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-290">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1d9dc-291">Scott travaille en tant que consultant, formateur et auteur indépendant.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-291">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1d9dc-292">Son dernier livre est [*Sams vous apprend vous-même ASP.NET 2,0 en 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-292">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="1d9dc-293">Il peut être contacté à [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-293">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="1d9dc-294">ou via son blog, qui se trouve sur [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="1d9dc-294">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="1d9dc-295">Remerciements à</span><span class="sxs-lookup"><span data-stu-id="1d9dc-295">Special Thanks To</span></span>

<span data-ttu-id="1d9dc-296">Cette série de didacticiels a été examinée par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-296">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1d9dc-297">Le réviseur de leads pour ce didacticiel a été révisé par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-297">Lead reviewer for this tutorial was This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1d9dc-298">Les réviseurs de leads pour ce didacticiel incluent Alicja maziarz, John SURU et Teresa Murphy.</span><span class="sxs-lookup"><span data-stu-id="1d9dc-298">Lead reviewers for this tutorial include Alicja Maziarz, John Suru, and Teresa Murphy.</span></span> <span data-ttu-id="1d9dc-299">Vous souhaitez revoir mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="1d9dc-299">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1d9dc-300">Si c’est le cas, insérez une ligne sur [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="1d9dc-300">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="1d9dc-301">Next</span><span class="sxs-lookup"><span data-stu-id="1d9dc-301">Next</span></span>](an-overview-of-forms-authentication-cs.md)
