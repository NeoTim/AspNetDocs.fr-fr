---
uid: web-forms/overview/older-versions-security/admin/unlocking-and-approving-user-accounts-cs
title: Déverrouillage et approbation des comptes d’utilisateur (C#) | Microsoft Docs
author: rick-anderson
description: Ce didacticiel montre comment créer une page Web permettant aux administrateurs de gérer les États verrouillés et approuvés des utilisateurs. Nous verrons également comment approuver de nouveaux utilisateurs...
ms.author: riande
ms.date: 04/01/2008
ms.assetid: 5346aab1-9974-489f-a065-ae3883b8a350
msc.legacyurl: /web-forms/overview/older-versions-security/admin/unlocking-and-approving-user-accounts-cs
msc.type: authoredcontent
ms.openlocfilehash: c19f7dfac0ddd12c2b4f3388a71a8ca0f71cbb18
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74580179"
---
# <a name="unlocking-and-approving-user-accounts-c"></a><span data-ttu-id="de78c-104">Déblocage et approbation des comptes d’utilisateur (C#)</span><span class="sxs-lookup"><span data-stu-id="de78c-104">Unlocking and Approving User Accounts (C#)</span></span>

<span data-ttu-id="de78c-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="de78c-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="de78c-106">[Télécharger le code](https://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/CS.14.zip) ou [Télécharger le PDF](https://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/aspnet_tutorial14_UnlockAndApprove_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="de78c-106">[Download Code](https://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/CS.14.zip) or [Download PDF](https://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/aspnet_tutorial14_UnlockAndApprove_cs.pdf)</span></span>

> <span data-ttu-id="de78c-107">Ce didacticiel montre comment créer une page Web permettant aux administrateurs de gérer les États verrouillés et approuvés des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="de78c-107">This tutorial shows how to build a web page for administrators to manage users' locked out and approved statuses.</span></span> <span data-ttu-id="de78c-108">Nous verrons également comment approuver de nouveaux utilisateurs uniquement après avoir vérifié leur adresse de messagerie.</span><span class="sxs-lookup"><span data-stu-id="de78c-108">We will also see how to approve new users only after they have verified their email address.</span></span>

## <a name="introduction"></a><span data-ttu-id="de78c-109">Introduction</span><span class="sxs-lookup"><span data-stu-id="de78c-109">Introduction</span></span>

<span data-ttu-id="de78c-110">Avec un nom d’utilisateur, un mot de passe et un e-mail, chaque compte d’utilisateur a deux champs d’État qui déterminent si l’utilisateur peut se connecter au site : verrouillé et approuvé.</span><span class="sxs-lookup"><span data-stu-id="de78c-110">Along with a username, password, and email, each user account has two status fields that dictate whether the user can log into the site: locked out and approved.</span></span> <span data-ttu-id="de78c-111">Un utilisateur est automatiquement verrouillé s’il fournit des informations d’identification non valides un nombre spécifié de fois dans un nombre de minutes spécifié (les paramètres par défaut verrouillent un utilisateur après 5 tentatives de connexion non valides dans un délai de 10 minutes).</span><span class="sxs-lookup"><span data-stu-id="de78c-111">A user is automatically locked out if they provide invalid credentials a specified number of times within a specified number of minutes (the default settings lock a user out after 5 invalid login attempts within 10 minutes).</span></span> <span data-ttu-id="de78c-112">L’État approuvé est utile dans les scénarios où certaines actions doivent s’écouler avant qu’un nouvel utilisateur soit en mesure de se connecter au site.</span><span class="sxs-lookup"><span data-stu-id="de78c-112">The approved status is useful in scenarios where some action must transpire before a new user is able to log on to the site.</span></span> <span data-ttu-id="de78c-113">Par exemple, un utilisateur peut avoir besoin de vérifier son adresse de messagerie ou d’être approuvé par un administrateur avant de pouvoir se connecter.</span><span class="sxs-lookup"><span data-stu-id="de78c-113">For example, a user might need to first verify their email address or be approved by an administrator before being able to login.</span></span>

<span data-ttu-id="de78c-114">Étant donné qu’un utilisateur verrouillé ou non approuvé ne peut pas se connecter, il est seulement naturel de se demander comment ces États peuvent être réinitialisés.</span><span class="sxs-lookup"><span data-stu-id="de78c-114">Because a locked out or unapproved user cannot login, it's only natural to wonder how these statuses can be reset.</span></span> <span data-ttu-id="de78c-115">ASP.NET n’inclut pas de fonctionnalités intégrées ni de contrôles Web pour la gestion des États verrouillés et approuvés des utilisateurs, en partie parce que ces décisions doivent être gérées pour chaque site.</span><span class="sxs-lookup"><span data-stu-id="de78c-115">ASP.NET does not include any built-in functionality or Web controls for managing users' locked out and approved statuses, in part because these decisions need to be handled on a site-by-site basis.</span></span> <span data-ttu-id="de78c-116">Certains sites peuvent approuver automatiquement tous les nouveaux comptes d’utilisateur (comportement par défaut).</span><span class="sxs-lookup"><span data-stu-id="de78c-116">Some sites might automatically approve all new user accounts (the default behavior).</span></span> <span data-ttu-id="de78c-117">D’autres personnes ont un administrateur approuver les nouveaux comptes ou n’approuvent pas les utilisateurs tant qu’ils n’ont pas visité un lien envoyé à l’adresse de messagerie fournie lors de leur inscription.</span><span class="sxs-lookup"><span data-stu-id="de78c-117">Others have an administrator approve new accounts or do not approve users until they visit a link sent to the email address provided when they signed up.</span></span> <span data-ttu-id="de78c-118">De même, certains sites peuvent verrouiller les utilisateurs jusqu’à ce qu’un administrateur réinitialise leur état, tandis que les autres sites envoient un message électronique à l’utilisateur verrouillé avec une URL à laquelle ils peuvent accéder pour déverrouiller leur compte.</span><span class="sxs-lookup"><span data-stu-id="de78c-118">Likewise, some sites may lock out users until an administrator resets their status, while other sites send an email to the locked out user with a URL they can visit to unlock their account.</span></span>

<span data-ttu-id="de78c-119">Ce didacticiel montre comment créer une page Web permettant aux administrateurs de gérer les États verrouillés et approuvés des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="de78c-119">This tutorial shows how to build a web page for administrators to manage users' locked out and approved statuses.</span></span> <span data-ttu-id="de78c-120">Nous verrons également comment approuver de nouveaux utilisateurs uniquement après avoir vérifié leur adresse de messagerie.</span><span class="sxs-lookup"><span data-stu-id="de78c-120">We will also see how to approve new users only after they have verified their email address.</span></span>

## <a name="step-1-managing-users-locked-out-and-approved-statuses"></a><span data-ttu-id="de78c-121">Étape 1 : gestion des États verrouillés et approuvés des utilisateurs</span><span class="sxs-lookup"><span data-stu-id="de78c-121">Step 1: Managing Users' Locked Out and Approved Statuses</span></span>

<span data-ttu-id="de78c-122">Dans le <a id="Tutorial12"> </a>didacticiel [*création d’une interface pour sélectionner un compte d’utilisateur dans de nombreux*](building-an-interface-to-select-one-user-account-from-many-cs.md) didacticiels, nous avons créé une page qui répertorie chaque compte d’utilisateur dans un GridView filtré et paginé.</span><span class="sxs-lookup"><span data-stu-id="de78c-122">In the <a id="Tutorial12"></a>[*Building an Interface to Select One User Account from Many*](building-an-interface-to-select-one-user-account-from-many-cs.md) tutorial we constructed a page that listed each user account in a paged, filtered GridView.</span></span> <span data-ttu-id="de78c-123">La grille répertorie le nom et l’adresse de messagerie de chaque utilisateur, leurs États approuvés et verrouillés, s’ils sont actuellement en ligne et les commentaires relatifs à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-123">The grid lists each user's name and email, their approved and locked out statuses, whether they're currently online, and any comments about the user.</span></span> <span data-ttu-id="de78c-124">Pour gérer les États approuvés et verrouillés des utilisateurs, nous pouvons rendre cette grille modifiable.</span><span class="sxs-lookup"><span data-stu-id="de78c-124">To manage users' approved and locked out statuses, we could make this grid editable.</span></span> <span data-ttu-id="de78c-125">Pour modifier l’État approuvé d’un utilisateur, l’administrateur doit d’abord Rechercher le compte d’utilisateur, puis modifier la ligne GridView correspondante, en cochant ou en désélectionnant la case à cocher approuvé.</span><span class="sxs-lookup"><span data-stu-id="de78c-125">To change a user's approved status, the administrator would first locate the user account and then edit the corresponding GridView row, checking or unchecking the approved checkbox.</span></span> <span data-ttu-id="de78c-126">Vous pouvez également gérer les États approuvés et verrouillés via une page de ASP.NET distincte.</span><span class="sxs-lookup"><span data-stu-id="de78c-126">Alternatively, we could manage the approved and locked out statuses through a separate ASP.NET page.</span></span>

<span data-ttu-id="de78c-127">Pour ce didacticiel, nous allons utiliser deux pages ASP.NET : `ManageUsers.aspx` et `UserInformation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="de78c-127">For this tutorial let's use two ASP.NET pages: `ManageUsers.aspx` and `UserInformation.aspx`.</span></span> <span data-ttu-id="de78c-128">L’idée est que `ManageUsers.aspx` répertorie les comptes d’utilisateur dans le système, tandis que `UserInformation.aspx` permet à l’administrateur de gérer les États approuvés et verrouillés pour un utilisateur spécifique.</span><span class="sxs-lookup"><span data-stu-id="de78c-128">The idea here is that `ManageUsers.aspx` lists the user accounts in the system, while `UserInformation.aspx` enables the administrator to manage the approved and locked out statuses for a specific user.</span></span> <span data-ttu-id="de78c-129">Notre premier ordre d’activité consiste à compléter le contrôle GridView dans `ManageUsers.aspx` pour inclure un HyperLinkField, qui est restitué sous la forme d’une colonne de liens.</span><span class="sxs-lookup"><span data-stu-id="de78c-129">Our first order of business is to augment the GridView in `ManageUsers.aspx` to include a HyperLinkField, which renders as a column of links.</span></span> <span data-ttu-id="de78c-130">Nous souhaitons que chaque lien pointe vers `UserInformation.aspx?user=UserName`, où *username* est le nom de l’utilisateur à modifier.</span><span class="sxs-lookup"><span data-stu-id="de78c-130">We want each link to point to `UserInformation.aspx?user=UserName`, where *UserName* is the name of the user to edit.</span></span>

> [!NOTE]
> <span data-ttu-id="de78c-131">Si vous avez téléchargé le code pour <a id="Tutorial13"> </a>le didacticiel sur la [*récupération et la modification des mots de passe*](recovering-and-changing-passwords-cs.md) , vous avez peut-être remarqué que la page `ManageUsers.aspx` contient déjà un ensemble de liens « gérer » et que la page `UserInformation.aspx` fournit une interface permettant de modifier le mot de passe de l’utilisateur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="de78c-131">If you downloaded the code for the <a id="Tutorial13"></a>[*Recovering and Changing Passwords*](recovering-and-changing-passwords-cs.md) tutorial you may have noticed that the `ManageUsers.aspx` page already contains a set of "Manage" links and the `UserInformation.aspx` page provides an interface for changing the selected user's password.</span></span> <span data-ttu-id="de78c-132">J’ai décidé de ne pas répliquer cette fonctionnalité dans le code associé à ce didacticiel, car elle fonctionnait en contournant l’API d’appartenance et en opérant directement avec la base de données SQL Server pour modifier le mot de passe d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-132">I decided not to replicate that functionality in the code associated with this tutorial because it worked by circumventing the Membership API and operating directly with the SQL Server database to change a user's password.</span></span> <span data-ttu-id="de78c-133">Ce didacticiel commence à partir de zéro avec la page `UserInformation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="de78c-133">This tutorial starts from scratch with the `UserInformation.aspx` page.</span></span>

### <a name="adding-manage-links-to-theuseraccountsgridview"></a><span data-ttu-id="de78c-134">Ajout de liens « Manage » à la`UserAccounts`GridView</span><span class="sxs-lookup"><span data-stu-id="de78c-134">Adding "Manage" Links to the`UserAccounts`GridView</span></span>

<span data-ttu-id="de78c-135">Ouvrez la page `ManageUsers.aspx` et ajoutez un HyperLinkField au `UserAccounts` GridView.</span><span class="sxs-lookup"><span data-stu-id="de78c-135">Open the `ManageUsers.aspx` page and add a HyperLinkField to the `UserAccounts` GridView.</span></span> <span data-ttu-id="de78c-136">Affectez à la propriété `Text` de HyperLinkField la valeur « Manage » et à ses propriétés `DataNavigateUrlFields` et `DataNavigateUrlFormatString` la valeur `UserName` et « UserInformation. aspx ? User ={0}», respectivement.</span><span class="sxs-lookup"><span data-stu-id="de78c-136">Set the HyperLinkField's `Text` property to "Manage" and its `DataNavigateUrlFields` and `DataNavigateUrlFormatString` properties to `UserName` and "UserInformation.aspx?user={0}", respectively.</span></span> <span data-ttu-id="de78c-137">Ces paramètres configurent les HyperLinkField de manière à ce que tous les liens hypertexte affichent le texte « Manage », mais chaque lien transmet la valeur de *nom d’utilisateur* appropriée dans la chaîne de chaîne.</span><span class="sxs-lookup"><span data-stu-id="de78c-137">These settings configure the HyperLinkField such that all of the hyperlinks display the text "Manage", but each link passes in the appropriate *UserName* value into the querystring.</span></span>

<span data-ttu-id="de78c-138">Après avoir ajouté HyperLinkField au GridView, prenez un moment pour afficher la page `ManageUsers.aspx` dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-138">After adding the HyperLinkField to the GridView, take a moment to view the `ManageUsers.aspx` page through a browser.</span></span> <span data-ttu-id="de78c-139">Comme le montre la figure 1, chaque ligne GridView comprend maintenant un lien « gérer ».</span><span class="sxs-lookup"><span data-stu-id="de78c-139">As Figure 1 shows, each GridView row now includes a "Manage" link.</span></span> <span data-ttu-id="de78c-140">Le lien « gérer » pour Bruce pointe vers `UserInformation.aspx?user=Bruce`, tandis que le lien « gérer » pour Dave pointe vers `UserInformation.aspx?user=Dave`.</span><span class="sxs-lookup"><span data-stu-id="de78c-140">The "Manage" link for Bruce points to `UserInformation.aspx?user=Bruce`, whereas the "Manage" link for Dave points to `UserInformation.aspx?user=Dave`.</span></span>

<span data-ttu-id="de78c-141">[![HyperLinkField ajoute un](unlocking-and-approving-user-accounts-cs/_static/image2.png)](unlocking-and-approving-user-accounts-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-141">[![The HyperLinkField Adds a](unlocking-and-approving-user-accounts-cs/_static/image2.png)](unlocking-and-approving-user-accounts-cs/_static/image1.png)</span></span>

<span data-ttu-id="de78c-142">**Figure 1**: le HyperLinkField ajoute un lien « gérer » pour chaque compte d’utilisateur ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-142">**Figure 1**: The HyperLinkField Adds a "Manage" Link for Each User Account  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image3.png))</span></span>

<span data-ttu-id="de78c-143">Nous allons créer l’interface utilisateur et le code de la page `UserInformation.aspx` dans un moment, mais voyons tout d’abord comment modifier par programmation les États verrouillés et approuvés d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-143">We will create the user interface and code for the `UserInformation.aspx` page in a moment, but first let's talk about how to programmatically change a user's locked out and approved statuses.</span></span> <span data-ttu-id="de78c-144">La [classe`MembershipUser`](https://msdn.microsoft.com/library/system.web.security.membershipuser.aspx) a des propriétés [`IsLockedOut`](https://msdn.microsoft.com/library/system.web.security.membershipuser.islockedout.aspx) et [`IsApproved`](https://msdn.microsoft.com/library/system.web.security.membershipuser.isapproved.aspx).</span><span class="sxs-lookup"><span data-stu-id="de78c-144">The [`MembershipUser` class](https://msdn.microsoft.com/library/system.web.security.membershipuser.aspx) has [`IsLockedOut`](https://msdn.microsoft.com/library/system.web.security.membershipuser.islockedout.aspx) and [`IsApproved` properties](https://msdn.microsoft.com/library/system.web.security.membershipuser.isapproved.aspx).</span></span> <span data-ttu-id="de78c-145">La propriété `IsLockedOut` est en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="de78c-145">The `IsLockedOut` property is read-only.</span></span> <span data-ttu-id="de78c-146">Il n’existe aucun mécanisme permettant de verrouiller un utilisateur par programmation ; pour déverrouiller un utilisateur, utilisez la [méthode`UnlockUser`](https://msdn.microsoft.com/library/system.web.security.membershipuser.unlockuser.aspx)de la classe `MembershipUser`.</span><span class="sxs-lookup"><span data-stu-id="de78c-146">There is no mechanism to programmatically lock out a user; to unlock a user, use the `MembershipUser` class's [`UnlockUser` method](https://msdn.microsoft.com/library/system.web.security.membershipuser.unlockuser.aspx).</span></span> <span data-ttu-id="de78c-147">La propriété `IsApproved` est accessible en lecture et en écriture.</span><span class="sxs-lookup"><span data-stu-id="de78c-147">The `IsApproved` property is readable and writeable.</span></span> <span data-ttu-id="de78c-148">Pour enregistrer les modifications apportées à cette propriété, vous devez appeler la [méthode`UpdateUser`](https://msdn.microsoft.com/library/system.web.security.membership.updateuser.aspx)de la classe `Membership`, en passant l’objet `MembershipUser` modifié.</span><span class="sxs-lookup"><span data-stu-id="de78c-148">To save any changes to this property, we need to call the `Membership` class's [`UpdateUser` method](https://msdn.microsoft.com/library/system.web.security.membership.updateuser.aspx), passing in the modified `MembershipUser` object.</span></span>

<span data-ttu-id="de78c-149">Étant donné que la propriété `IsApproved` est lisible et accessible en écriture, un contrôle CheckBox est probablement le meilleur élément d’interface utilisateur pour la configuration de cette propriété.</span><span class="sxs-lookup"><span data-stu-id="de78c-149">Because the `IsApproved` property is readable and writeable, a CheckBox control is probably the best user interface element for configuring this property.</span></span> <span data-ttu-id="de78c-150">Toutefois, une case à cocher ne fonctionne pas pour la propriété `IsLockedOut`, car un administrateur ne peut pas verrouiller un utilisateur, elle peut uniquement déverrouiller un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-150">However, a CheckBox will not work for the `IsLockedOut` property because an administrator cannot lock out a user, she may only unlock a user.</span></span> <span data-ttu-id="de78c-151">Une interface utilisateur appropriée pour la propriété `IsLockedOut` est un bouton qui, lorsque vous cliquez dessus, déverrouille le compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-151">A suitable user interface for the `IsLockedOut` property is a Button that, when clicked, unlocks the user account.</span></span> <span data-ttu-id="de78c-152">Ce bouton ne doit être activé que si l’utilisateur est verrouillé.</span><span class="sxs-lookup"><span data-stu-id="de78c-152">This Button should only be enabled if the user is locked out.</span></span>

### <a name="creating-theuserinformationaspxpage"></a><span data-ttu-id="de78c-153">Création de la page`UserInformation.aspx`</span><span class="sxs-lookup"><span data-stu-id="de78c-153">Creating the`UserInformation.aspx`Page</span></span>

<span data-ttu-id="de78c-154">Nous sommes maintenant prêts à implémenter l’interface utilisateur dans `UserInformation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="de78c-154">We are now ready to implement the user interface in `UserInformation.aspx`.</span></span> <span data-ttu-id="de78c-155">Ouvrez cette page et ajoutez les contrôles Web suivants :</span><span class="sxs-lookup"><span data-stu-id="de78c-155">Open this page and add the following Web controls:</span></span>

- <span data-ttu-id="de78c-156">Contrôle de lien hypertexte qui, lorsque vous cliquez dessus, retourne l’administrateur à la page de `ManageUsers.aspx`.</span><span class="sxs-lookup"><span data-stu-id="de78c-156">A HyperLink control that, when clicked, returns the administrator to the `ManageUsers.aspx` page.</span></span>
- <span data-ttu-id="de78c-157">Contrôle Web d’étiquette permettant d’afficher le nom de l’utilisateur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="de78c-157">A Label Web control for displaying the selected user's name.</span></span> <span data-ttu-id="de78c-158">Définissez la `ID` de cette étiquette sur `UserNameLabel` et effacez sa propriété `Text`.</span><span class="sxs-lookup"><span data-stu-id="de78c-158">Set this Label's `ID` to `UserNameLabel` and clear out its `Text` property.</span></span>
- <span data-ttu-id="de78c-159">Contrôle CheckBox nommé `IsApproved`.</span><span class="sxs-lookup"><span data-stu-id="de78c-159">A CheckBox control named `IsApproved`.</span></span> <span data-ttu-id="de78c-160">Affectez à sa propriété `AutoPostBack` la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="de78c-160">Set its `AutoPostBack` property to `true`.</span></span>
- <span data-ttu-id="de78c-161">Contrôle d’étiquette pour afficher la date du dernier verrouillage verrouillé de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-161">A Label control for displaying the user's last locked out date.</span></span> <span data-ttu-id="de78c-162">Nommez cette étiquette `LastLockedOutDateLabel` et effacez sa propriété `Text`.</span><span class="sxs-lookup"><span data-stu-id="de78c-162">Name this Label `LastLockedOutDateLabel` and clear out its `Text` property.</span></span>
- <span data-ttu-id="de78c-163">Bouton permettant de déverrouiller l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-163">A Button for unlocking the user.</span></span> <span data-ttu-id="de78c-164">Nommez ce bouton `UnlockUserButton` et définissez sa propriété `Text` sur « Unlock User ».</span><span class="sxs-lookup"><span data-stu-id="de78c-164">Name this Button `UnlockUserButton` and set its `Text` property to "Unlock User".</span></span>
- <span data-ttu-id="de78c-165">Contrôle d’étiquette pour l’affichage des messages d’État, tel que « l’État approuvé de l’utilisateur a été mis à jour ».</span><span class="sxs-lookup"><span data-stu-id="de78c-165">A Label control for displaying status messages, such as, "The user's approved status has been updated."</span></span> <span data-ttu-id="de78c-166">Nommez ce contrôle `StatusMessage`, effacez sa propriété `Text` et définissez sa propriété `CssClass` sur `Important`.</span><span class="sxs-lookup"><span data-stu-id="de78c-166">Name this control `StatusMessage`, clear out its `Text` property, and set its `CssClass` property to `Important`.</span></span> <span data-ttu-id="de78c-167">(La classe CSS `Important` est définie dans le fichier de feuille de style `Styles.css`. elle affiche le texte correspondant dans une police large, rouge).</span><span class="sxs-lookup"><span data-stu-id="de78c-167">(The `Important` CSS class is defined in the `Styles.css` stylesheet file; it displays the corresponding text in a large, red font.)</span></span>

<span data-ttu-id="de78c-168">Après avoir ajouté ces contrôles, le Mode Création dans Visual Studio doit ressembler à la capture d’écran de la figure 2.</span><span class="sxs-lookup"><span data-stu-id="de78c-168">After adding these controls, the Design view in Visual Studio should look similar to the screen shot in Figure 2.</span></span>

<span data-ttu-id="de78c-169">[![créer l’interface utilisateur pour UserInformation. aspx](unlocking-and-approving-user-accounts-cs/_static/image5.png)](unlocking-and-approving-user-accounts-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-169">[![Create the User Interface for UserInformation.aspx](unlocking-and-approving-user-accounts-cs/_static/image5.png)](unlocking-and-approving-user-accounts-cs/_static/image4.png)</span></span>

<span data-ttu-id="de78c-170">**Figure 2**: créer l’interface utilisateur pour `UserInformation.aspx` ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-170">**Figure 2**: Create the User Interface for `UserInformation.aspx` ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image6.png))</span></span>

<span data-ttu-id="de78c-171">Une fois l’interface utilisateur terminée, la tâche suivante consiste à définir la case à cocher `IsApproved` et d’autres contrôles en fonction des informations de l’utilisateur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="de78c-171">With the user interface complete, our next task is to set the `IsApproved` CheckBox and other controls based on the selected user's information.</span></span> <span data-ttu-id="de78c-172">Créez un gestionnaire d’événements pour l’événement `Load` de la page et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="de78c-172">Create an event handler for the page's `Load` event and add the following code:</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample1.cs)]

<span data-ttu-id="de78c-173">Le code ci-dessus commence par s’assurer qu’il s’agit de la première visite de la page et non d’une publication (postback) suivante.</span><span class="sxs-lookup"><span data-stu-id="de78c-173">The above code starts by ensuring that this is the first visit to the page and not a subsequent postback.</span></span> <span data-ttu-id="de78c-174">Il lit ensuite le nom d’utilisateur transmis par le champ `user` QueryString et récupère des informations sur ce compte d’utilisateur via la méthode `Membership.GetUser(username)`.</span><span class="sxs-lookup"><span data-stu-id="de78c-174">It then reads the username passed through the `user` querystring field and retrieves information about that user account via the `Membership.GetUser(username)` method.</span></span> <span data-ttu-id="de78c-175">Si aucun nom d’utilisateur n’a été fourni via QueryString, ou si l’utilisateur spécifié est introuvable, l’administrateur est renvoyé à la page de `ManageUsers.aspx`.</span><span class="sxs-lookup"><span data-stu-id="de78c-175">If no username was supplied through the querystring, or if the specified user could not be found, the administrator is sent back to the `ManageUsers.aspx` page.</span></span>

<span data-ttu-id="de78c-176">La valeur de `UserName` de l’objet `MembershipUser` est ensuite affichée dans le `UserNameLabel` et la case à cocher `IsApproved` est activée en fonction de la valeur de la propriété `IsApproved`.</span><span class="sxs-lookup"><span data-stu-id="de78c-176">The `MembershipUser` object's `UserName` value is then displayed in the `UserNameLabel` and the `IsApproved` CheckBox is checked based on the `IsApproved` property value.</span></span>

<span data-ttu-id="de78c-177">La [propriété`LastLockoutDate`](https://msdn.microsoft.com/library/system.web.security.membershipuser.lastlockoutdate.aspx) de l’objet `MembershipUser` retourne une valeur de `DateTime` indiquant à quel moment l’utilisateur a été verrouillé pour la dernière fois. Si l’utilisateur n’a jamais été verrouillé, la valeur retournée dépend du fournisseur d’appartenances.</span><span class="sxs-lookup"><span data-stu-id="de78c-177">The `MembershipUser` object's [`LastLockoutDate` property](https://msdn.microsoft.com/library/system.web.security.membershipuser.lastlockoutdate.aspx) returns a `DateTime` value indicating when the user was last locked out. If the user has never been locked out, the value returned depends on the Membership provider.</span></span> <span data-ttu-id="de78c-178">Lorsqu’un nouveau compte est créé, le `SqlMembershipProvider` affecte la valeur `1754-01-01 12:00:00 AM`au champ `LastLockoutDate` de la table `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="de78c-178">When a new account is created, the `SqlMembershipProvider` sets the `aspnet_Membership` table's `LastLockoutDate` field to `1754-01-01 12:00:00 AM`.</span></span> <span data-ttu-id="de78c-179">Le code ci-dessus affiche une chaîne vide dans le `LastLockoutDateLabel` si la propriété `LastLockoutDate` se produit avant l’année 2000 ; dans le cas contraire, la partie Date de la propriété `LastLockoutDate` s’affiche dans l’étiquette.</span><span class="sxs-lookup"><span data-stu-id="de78c-179">The above code displays an empty string in the `LastLockoutDateLabel` if the `LastLockoutDate` property occurs before year 2000; otherwise, the date portion of the `LastLockoutDate` property is displayed in the Label.</span></span> <span data-ttu-id="de78c-180">La propriété `UnlockUserButton'` s `Enabled` est définie sur l’état verrouillé de l’utilisateur, ce qui signifie que ce bouton est activé uniquement si l’utilisateur est verrouillé.</span><span class="sxs-lookup"><span data-stu-id="de78c-180">The `UnlockUserButton'` s `Enabled` property is set to the user's locked out status, meaning that this Button will only be enabled if the user is locked out.</span></span>

<span data-ttu-id="de78c-181">Prenez un moment pour tester la page de `UserInformation.aspx` par le biais d’un navigateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-181">Take a moment to test the `UserInformation.aspx` page through a browser.</span></span> <span data-ttu-id="de78c-182">Bien entendu, vous devez commencer à `ManageUsers.aspx` et sélectionner un compte d’utilisateur à gérer.</span><span class="sxs-lookup"><span data-stu-id="de78c-182">You will, of course, need to start at `ManageUsers.aspx` and select a user account to manage.</span></span> <span data-ttu-id="de78c-183">Lors de l’arrivée à `UserInformation.aspx`, Notez que la case à cocher `IsApproved` n’est activée que si l’utilisateur est approuvé.</span><span class="sxs-lookup"><span data-stu-id="de78c-183">Upon arriving at `UserInformation.aspx`, note that the `IsApproved` CheckBox is only checked if the user is approved.</span></span> <span data-ttu-id="de78c-184">Si l’utilisateur a déjà été verrouillé, la date de son dernier verrouillage est affichée.</span><span class="sxs-lookup"><span data-stu-id="de78c-184">If the user has ever been locked out, their last locked out date is displayed.</span></span> <span data-ttu-id="de78c-185">Le bouton déverrouiller l’utilisateur est activé uniquement si l’utilisateur est actuellement verrouillé. L’activation ou la désactivation de la case à cocher `IsApproved` ou un clic sur le bouton déverrouiller l’utilisateur entraîne une publication, mais aucune modification n’est apportée au compte d’utilisateur, car nous n’avons pas encore créé de gestionnaires d’événements pour ces événements.</span><span class="sxs-lookup"><span data-stu-id="de78c-185">The Unlock User button is enabled only if the user is currently locked out. Checking or unchecking the `IsApproved` CheckBox or clicking the Unlock User button causes a postback, but no modifications are made to the user account because we've yet to create event handlers for these events.</span></span>

<span data-ttu-id="de78c-186">Revenez à Visual Studio et créez des gestionnaires d’événements pour le `IsApproved` `CheckedChanged` événement de la case à cocher et l’événement `Click` du bouton `UnlockUser`.</span><span class="sxs-lookup"><span data-stu-id="de78c-186">Return to Visual Studio and create event handlers for the `IsApproved` CheckBox's `CheckedChanged` event and the `UnlockUser` Button's `Click` event.</span></span> <span data-ttu-id="de78c-187">Dans le gestionnaire d’événements `CheckedChanged`, définissez la propriété `IsApproved` de l’utilisateur sur la propriété `Checked` de la case à cocher, puis enregistrez les modifications via un appel à `Membership.UpdateUser`.</span><span class="sxs-lookup"><span data-stu-id="de78c-187">In the `CheckedChanged` event handler, set the user's `IsApproved` property to the `Checked` property of the CheckBox and then save the changes via a call to `Membership.UpdateUser`.</span></span> <span data-ttu-id="de78c-188">Dans le gestionnaire d’événements `Click`, appelez simplement la méthode `UnlockUser` de l’objet `MembershipUser`.</span><span class="sxs-lookup"><span data-stu-id="de78c-188">In the `Click` event handler, simply call the `MembershipUser` object's `UnlockUser` method.</span></span> <span data-ttu-id="de78c-189">Dans les deux gestionnaires d’événements, affichez un message approprié dans l’étiquette `StatusMessage`.</span><span class="sxs-lookup"><span data-stu-id="de78c-189">In both event handlers, display a suitable message in the `StatusMessage` Label.</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample2.cs)]

### <a name="testing-theuserinformationaspxpage"></a><span data-ttu-id="de78c-190">Test de la page de`UserInformation.aspx`</span><span class="sxs-lookup"><span data-stu-id="de78c-190">Testing the`UserInformation.aspx`Page</span></span>

<span data-ttu-id="de78c-191">Une fois ces gestionnaires d’événements en place, réexaminez la page et désapprouvez un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-191">With these event handlers in place, revisit the page and unapproved a user.</span></span> <span data-ttu-id="de78c-192">Comme le montre la figure 3, vous devriez voir un bref message sur la page indiquant que la propriété de `IsApproved` de l’utilisateur a été correctement modifiée.</span><span class="sxs-lookup"><span data-stu-id="de78c-192">As Figure 3 shows, you should see a brief message on the page indicating that the user's `IsApproved` property was successfully modified.</span></span>

<span data-ttu-id="de78c-193">[![Chris n’a pas été approuvé](unlocking-and-approving-user-accounts-cs/_static/image8.png)](unlocking-and-approving-user-accounts-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-193">[![Chris has been Unapproved](unlocking-and-approving-user-accounts-cs/_static/image8.png)](unlocking-and-approving-user-accounts-cs/_static/image7.png)</span></span>

<span data-ttu-id="de78c-194">**Figure 3**: Chris n’a pas été approuvé ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-194">**Figure 3**: Chris has been Unapproved  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image9.png))</span></span>

<span data-ttu-id="de78c-195">Ensuite, déconnectez-vous, puis essayez de vous connecter en tant qu’utilisateur dont le compte n’a pas été approuvé.</span><span class="sxs-lookup"><span data-stu-id="de78c-195">Next, logout and try to login as the user whose account was just unapproved.</span></span> <span data-ttu-id="de78c-196">Étant donné que l’utilisateur n’est pas approuvé, il ne peut pas se connecter.</span><span class="sxs-lookup"><span data-stu-id="de78c-196">Because the user is not approved, they cannot login.</span></span> <span data-ttu-id="de78c-197">Par défaut, le contrôle de connexion affiche le même message si l’utilisateur ne peut pas se connecter, quelle que soit la raison.</span><span class="sxs-lookup"><span data-stu-id="de78c-197">By default, the Login control displays the same message if the user cannot login, regardless of the reason.</span></span> <span data-ttu-id="de78c-198">Mais dans le <a id="Tutorial6"> </a>didacticiel [*validation des informations d’identification de l’utilisateur par rapport au magasin de l’utilisateur d’appartenance*](../membership/validating-user-credentials-against-the-membership-user-store-cs.md) , nous avons examiné comment améliorer le contrôle de connexion pour afficher un message plus approprié.</span><span class="sxs-lookup"><span data-stu-id="de78c-198">But in the <a id="Tutorial6"></a>[*Validating User Credentials Against the Membership User Store*](../membership/validating-user-credentials-against-the-membership-user-store-cs.md) tutorial we looked at enhancing the Login control to display a more appropriate message.</span></span> <span data-ttu-id="de78c-199">Comme le montre la figure 4, Chris affiche un message expliquant qu’il ne peut pas se connecter, car son compte n’est pas encore approuvé.</span><span class="sxs-lookup"><span data-stu-id="de78c-199">As Figure 4 shows, Chris is shown a message explaining that he cannot login because his account is not yet approved.</span></span>

<span data-ttu-id="de78c-200">[![Chris ne peut pas se connecter, car son compte n’est pas approuvé](unlocking-and-approving-user-accounts-cs/_static/image11.png)](unlocking-and-approving-user-accounts-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-200">[![Chris Cannot Login Because His Account is Unapproved](unlocking-and-approving-user-accounts-cs/_static/image11.png)](unlocking-and-approving-user-accounts-cs/_static/image10.png)</span></span>

<span data-ttu-id="de78c-201">**Figure 4**: Chris ne peut pas se connecter, car son compte n’est pas approuvé ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-201">**Figure 4**: Chris Cannot Login Because His Account is Unapproved  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image12.png))</span></span>

<span data-ttu-id="de78c-202">Pour tester la fonctionnalité verrouillée, essayez de vous connecter en tant qu’utilisateur approuvé, mais utilisez un mot de passe incorrect.</span><span class="sxs-lookup"><span data-stu-id="de78c-202">To test the locked out functionality, attempt to login as an approved user, but use an incorrect password.</span></span> <span data-ttu-id="de78c-203">Répétez ce processus le nombre de fois nécessaire jusqu’à ce que le compte de l’utilisateur soit verrouillé. Le contrôle de connexion a également été mis à jour pour afficher un message personnalisé en cas de tentative de connexion à partir d’un compte verrouillé.</span><span class="sxs-lookup"><span data-stu-id="de78c-203">Repeat this process the necessary number of times until the user's account has been locked out. The Login control was also updated to show a custom message if attempting to login from a locked out account.</span></span> <span data-ttu-id="de78c-204">Vous savez qu’un compte a été verrouillé une fois que vous avez commencé à voir le message suivant sur la page de connexion : «votre compte a été verrouillé en raison d’un trop grand nombre de tentatives de connexion non valides.</span><span class="sxs-lookup"><span data-stu-id="de78c-204">You know that an account has been locked out once you start seeing the following message at the login page: "Your account has been locked out because of too many invalid login attempts.</span></span> <span data-ttu-id="de78c-205">Veuillez contacter l’administrateur pour déverrouiller votre compte.»</span><span class="sxs-lookup"><span data-stu-id="de78c-205">Please contact the administrator to have your account unlocked."</span></span>

<span data-ttu-id="de78c-206">Revenez à la page `ManageUsers.aspx`, puis cliquez sur le lien gérer pour l’utilisateur verrouillé.</span><span class="sxs-lookup"><span data-stu-id="de78c-206">Return to the `ManageUsers.aspx` page and click the Manage link for the locked out user.</span></span> <span data-ttu-id="de78c-207">Comme le montre la figure 5, une valeur doit s’afficher dans la `LastLockedOutDateLabel` le bouton déverrouiller l’utilisateur doit être activé.</span><span class="sxs-lookup"><span data-stu-id="de78c-207">As Figure 5 shows, you should see a value in the `LastLockedOutDateLabel` the Unlock User button should be enabled.</span></span> <span data-ttu-id="de78c-208">Cliquez sur le bouton déverrouiller l’utilisateur pour déverrouiller le compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-208">Click the Unlock User button to unlock the user account.</span></span> <span data-ttu-id="de78c-209">Une fois que vous avez déverrouillé l’utilisateur, celui-ci peut se reconnecter.</span><span class="sxs-lookup"><span data-stu-id="de78c-209">Once you have unlocked the user, they will be able to login again.</span></span>

<span data-ttu-id="de78c-210">[![Dave a été verrouillé à partir du système](unlocking-and-approving-user-accounts-cs/_static/image14.png)](unlocking-and-approving-user-accounts-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-210">[![Dave Has Been Locked Out of the System](unlocking-and-approving-user-accounts-cs/_static/image14.png)](unlocking-and-approving-user-accounts-cs/_static/image13.png)</span></span>

<span data-ttu-id="de78c-211">**Figure 5**: Dave a été verrouillé hors du système ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-211">**Figure 5**: Dave Has Been Locked Out of the System  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image15.png))</span></span>

## <a name="step-2-specifying-new-users-approved-status"></a><span data-ttu-id="de78c-212">Étape 2 : spécification de l’état d’approbation du nouvel utilisateur</span><span class="sxs-lookup"><span data-stu-id="de78c-212">Step 2: Specifying New Users' Approved Status</span></span>

<span data-ttu-id="de78c-213">L’État approuvé est utile dans les scénarios où vous souhaitez que des actions soient effectuées avant qu’un nouvel utilisateur puisse se connecter et accéder aux fonctionnalités spécifiques à l’utilisateur du site.</span><span class="sxs-lookup"><span data-stu-id="de78c-213">The approved status is useful in scenarios where you want some action to be performed before a new user is able to login and access the user-specific features of the site.</span></span> <span data-ttu-id="de78c-214">Par exemple, vous utilisez peut-être un site Web privé dans lequel toutes les pages, à l’exception des pages de connexion et d’abonnement, sont accessibles uniquement aux utilisateurs authentifiés.</span><span class="sxs-lookup"><span data-stu-id="de78c-214">For example, you may be running a private website where all pages, except for the login and signup pages, are accessible only to authenticated users.</span></span> <span data-ttu-id="de78c-215">Mais que se passe-t-il si un étranger atteint votre site Web, trouve la page d’inscription et crée un compte ?</span><span class="sxs-lookup"><span data-stu-id="de78c-215">But what happens if a stranger reaches your website, finds the signup page, and creates an account?</span></span> <span data-ttu-id="de78c-216">Pour éviter cela, vous pouvez déplacer la page d’inscription vers un dossier `Administration` et demander à un administrateur de créer manuellement chaque compte.</span><span class="sxs-lookup"><span data-stu-id="de78c-216">To prevent this from happening you could move the signup page to an `Administration` folder, and require that an administrator manually create each account.</span></span> <span data-ttu-id="de78c-217">Vous pouvez également autoriser quiconque à s’inscrire, mais interdire l’accès au site jusqu’à ce qu’un administrateur approuve le compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-217">Alternatively, you could allow anyone to signup, but prohibit site access until an administrator approves the user account.</span></span>

<span data-ttu-id="de78c-218">Par défaut, le contrôle CreateUserWizard approuve les nouveaux comptes.</span><span class="sxs-lookup"><span data-stu-id="de78c-218">By default, the CreateUserWizard control approves new accounts.</span></span> <span data-ttu-id="de78c-219">Vous pouvez configurer ce comportement à l’aide de la [propriété`DisableCreatedUser`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.disablecreateduser.aspx)du contrôle.</span><span class="sxs-lookup"><span data-stu-id="de78c-219">You can configure this behavior using the control's [`DisableCreatedUser` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.disablecreateduser.aspx).</span></span> <span data-ttu-id="de78c-220">Définissez cette propriété sur `true` pour ne pas approuver les nouveaux comptes d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-220">Set this property to `true` to not approve new user accounts.</span></span>

> [!NOTE]
> <span data-ttu-id="de78c-221">Par défaut, le contrôle CreateUserWizard ouvre automatiquement une session sur le nouveau compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-221">By default the CreateUserWizard control automatically logs on the new user account.</span></span> <span data-ttu-id="de78c-222">Ce comportement est dicté par la [propriété`LoginCreatedUser`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.logincreateduser.aspx)du contrôle.</span><span class="sxs-lookup"><span data-stu-id="de78c-222">This behavior is dictated by the control's [`LoginCreatedUser` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.logincreateduser.aspx).</span></span> <span data-ttu-id="de78c-223">Étant donné que les utilisateurs non approuvés ne peuvent pas se connecter au site, lorsque `DisableCreatedUser` est `true` le nouveau compte d’utilisateur n’est pas connecté au site, quelle que soit la valeur de la propriété `LoginCreatedUser`.</span><span class="sxs-lookup"><span data-stu-id="de78c-223">Because unapproved users cannot login to the site, when `DisableCreatedUser` is `true` the new user account is not logged into the site, regardless of the value of the `LoginCreatedUser` property.</span></span>

<span data-ttu-id="de78c-224">Si vous créez par programme des comptes d’utilisateur à l’aide de la méthode `Membership.CreateUser`, pour créer un compte d’utilisateur non approuvé, utilisez l’une des surcharges qui acceptent la valeur de la propriété `IsApproved` du nouvel utilisateur en tant que paramètre d’entrée.</span><span class="sxs-lookup"><span data-stu-id="de78c-224">If you are programmatically creating new user accounts via the `Membership.CreateUser` method, to create an unapproved user account use one of the overloads that accept the new user's `IsApproved` property value as an input parameter.</span></span>

## <a name="step-3-approving-users-by-verifying-their-email-address"></a><span data-ttu-id="de78c-225">Étape 3 : approbation des utilisateurs en vérifiant leur adresse de messagerie</span><span class="sxs-lookup"><span data-stu-id="de78c-225">Step 3: Approving Users By Verifying their Email Address</span></span>

<span data-ttu-id="de78c-226">De nombreux sites Web qui prennent en charge les comptes d’utilisateur n’approuvent pas les nouveaux utilisateurs jusqu’à ce qu’ils vérifient l’adresse de messagerie fournie lors de l’inscription.</span><span class="sxs-lookup"><span data-stu-id="de78c-226">Many websites that support user accounts do not approve new users until they verify the email address they supplied when registering.</span></span> <span data-ttu-id="de78c-227">Ce processus de vérification est couramment utilisé pour contrecarrer les robots, les spammeurs et les autres ne’er, car il nécessite une adresse e-mail vérifiée unique et ajoute une étape supplémentaire dans le processus d’inscription.</span><span class="sxs-lookup"><span data-stu-id="de78c-227">This verification process is commonly used to thwart bots, spammers, and other ne'er-do-wells as it requires a unique, verified email address and adds an extra step in the signup process.</span></span> <span data-ttu-id="de78c-228">Avec ce modèle, quand un nouvel utilisateur s’inscrit, il reçoit un message électronique contenant un lien vers une page de vérification.</span><span class="sxs-lookup"><span data-stu-id="de78c-228">With this model, when a new user signs up they are sent an email message that includes a link to a verification page.</span></span> <span data-ttu-id="de78c-229">En visitant le lien, l’utilisateur a prouvé qu’il a reçu l’e-mail et, par conséquent, que l’adresse de messagerie fournie est valide.</span><span class="sxs-lookup"><span data-stu-id="de78c-229">By visiting the link the user has proven that they received the email and, therefore, that the email address provided is valid.</span></span> <span data-ttu-id="de78c-230">La page vérification est chargée de l’approbation de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-230">The verification page is responsible for approving the user.</span></span> <span data-ttu-id="de78c-231">Cela peut se produire automatiquement, en approuvant tout utilisateur qui atteint cette page, ou uniquement après que l’utilisateur a fourni des informations supplémentaires, telles qu’un [captcha](http://en.wikipedia.org/wiki/Captcha).</span><span class="sxs-lookup"><span data-stu-id="de78c-231">This may happen automatically, thereby approving any user who reaches this page, or only after the user provides some additional information, such as a [CAPTCHA](http://en.wikipedia.org/wiki/Captcha).</span></span>

<span data-ttu-id="de78c-232">Pour prendre en charge ce flux de travail, nous devons tout d’abord mettre à jour la page de création de compte afin que les nouveaux utilisateurs ne soient pas approuvés.</span><span class="sxs-lookup"><span data-stu-id="de78c-232">To accommodate this workflow, we need to first update the account creation page so that new users are unapproved.</span></span> <span data-ttu-id="de78c-233">Ouvrez la page `EnhancedCreateUserWizard.aspx` dans le dossier `Membership` et affectez à la propriété `DisableCreatedUser` du contrôle CreateUserWizard la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="de78c-233">Open the `EnhancedCreateUserWizard.aspx` page in the `Membership` folder and set the CreateUserWizard control's `DisableCreatedUser` property to `true`.</span></span>

<span data-ttu-id="de78c-234">Ensuite, nous devons configurer le contrôle CreateUserWizard pour envoyer un message électronique au nouvel utilisateur, avec des instructions sur la façon de vérifier son compte.</span><span class="sxs-lookup"><span data-stu-id="de78c-234">Next, we need to configure the CreateUserWizard control to send an email to the new user with instructions on how to verify their account.</span></span> <span data-ttu-id="de78c-235">En particulier, nous inclurons un lien dans le message électronique sur la page `Verification.aspx` (que nous avons créée), en transmettant le `UserId` de l’utilisateur via la chaîne de chaîne.</span><span class="sxs-lookup"><span data-stu-id="de78c-235">In particular, we will include a link in the email to the `Verification.aspx` page (which we've yet to create), passing in the new user's `UserId` through the querystring.</span></span> <span data-ttu-id="de78c-236">La page `Verification.aspx` recherchera l’utilisateur spécifié et marquera qu’il sera approuvé.</span><span class="sxs-lookup"><span data-stu-id="de78c-236">The `Verification.aspx` page will lookup the specified user and mark them approved.</span></span>

### <a name="sending-a-verification-email-to-new-users"></a><span data-ttu-id="de78c-237">Envoi d’un E-mail de vérification aux nouveaux utilisateurs</span><span class="sxs-lookup"><span data-stu-id="de78c-237">Sending a Verification Email to New Users</span></span>

<span data-ttu-id="de78c-238">Pour envoyer un message électronique à partir du contrôle CreateUserWizard, configurez sa propriété `MailDefinition` de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="de78c-238">To send an email from the CreateUserWizard control, configure its `MailDefinition` property appropriately.</span></span> <span data-ttu-id="de78c-239">Comme indiqué dans le <a id="Tutorial13"> </a> [didacticiel précédent](recovering-and-changing-passwords-cs.md), les contrôles ChangePassword et PasswordRecovery incluent une [propriété`MailDefinition`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.maildefinition.aspx) qui fonctionne de la même façon que le du contrôle CreateUserWizard.</span><span class="sxs-lookup"><span data-stu-id="de78c-239">As discussed in the <a id="Tutorial13"></a>[previous tutorial](recovering-and-changing-passwords-cs.md), the ChangePassword and PasswordRecovery controls include a [`MailDefinition` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.maildefinition.aspx) that works in the same manner as the CreateUserWizard control's.</span></span>

> [!NOTE]
> <span data-ttu-id="de78c-240">Pour utiliser la propriété `MailDefinition`, vous devez spécifier les options de remise des messages dans `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="de78c-240">To use the `MailDefinition` property you need to specify mail delivery options in `Web.config`.</span></span> <span data-ttu-id="de78c-241">Pour plus d’informations, consultez [Envoyer un message électronique dans ASP.net](http://aspnet.4guysfromrolla.com/articles/072606-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="de78c-241">For more information, refer to [Sending Email in ASP.NET](http://aspnet.4guysfromrolla.com/articles/072606-1.aspx).</span></span>

<span data-ttu-id="de78c-242">Commencez par créer un modèle d’e-mail nommé `CreateUserWizard.txt` dans le dossier `EmailTemplates`.</span><span class="sxs-lookup"><span data-stu-id="de78c-242">Start by creating a new email template named `CreateUserWizard.txt` in the `EmailTemplates` folder.</span></span> <span data-ttu-id="de78c-243">Utilisez le texte suivant pour le modèle :</span><span class="sxs-lookup"><span data-stu-id="de78c-243">Use the following text for the template:</span></span>

[!code-aspx[Main](unlocking-and-approving-user-accounts-cs/samples/sample3.aspx)]

<span data-ttu-id="de78c-244">Définissez la propriété `MailDefinition'` s `BodyFileName` sur « ~/EmailTemplates/CreateUserWizard.txt » et sa propriété `Subject` sur «Bienvenue dans mon site Web !</span><span class="sxs-lookup"><span data-stu-id="de78c-244">Set the `MailDefinition'` s `BodyFileName` property to "~/EmailTemplates/CreateUserWizard.txt" and its `Subject` property to "Welcome to My Website!</span></span> <span data-ttu-id="de78c-245">Veuillez activer votre compte.»</span><span class="sxs-lookup"><span data-stu-id="de78c-245">Please activate your account."</span></span>

<span data-ttu-id="de78c-246">Notez que le modèle de courrier électronique `CreateUserWizard.txt` comprend un espace réservé `<%VerificationUrl%>`.</span><span class="sxs-lookup"><span data-stu-id="de78c-246">Note that the `CreateUserWizard.txt` email template includes a `<%VerificationUrl%>` placeholder.</span></span> <span data-ttu-id="de78c-247">C’est ici que l’URL de la page de `Verification.aspx` sera placée.</span><span class="sxs-lookup"><span data-stu-id="de78c-247">This is where the URL for the `Verification.aspx` page will be placed.</span></span> <span data-ttu-id="de78c-248">CreateUserWizard remplace automatiquement les espaces réservés `<%UserName%>` et `<%Password%>` par le nom d’utilisateur et le mot de passe du nouveau compte, mais il n’existe pas d’espace réservé `<%VerificationUrl%>` intégré.</span><span class="sxs-lookup"><span data-stu-id="de78c-248">The CreateUserWizard automatically replaces the `<%UserName%>` and `<%Password%>` placeholders with the new account's username and password, but there is no built-in `<%VerificationUrl%>` placeholder.</span></span> <span data-ttu-id="de78c-249">Nous devons la remplacer manuellement par l’URL de vérification appropriée.</span><span class="sxs-lookup"><span data-stu-id="de78c-249">We need to manually replace it with the appropriate verification URL.</span></span>

<span data-ttu-id="de78c-250">Pour ce faire, créez un gestionnaire d’événements pour l' [événement`SendingMail`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.sendingmail.aspx) de CreateUserWizard et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="de78c-250">To accomplish this, create an event handler for the CreateUserWizard's [`SendingMail` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.sendingmail.aspx) and add the following code:</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample4.cs)]

<span data-ttu-id="de78c-251">L’événement `SendingMail` se déclenche après l’événement `CreatedUser`, ce qui signifie que lors de l’exécution du gestionnaire d’événements ci-dessus, le nouveau compte d’utilisateur a déjà été créé.</span><span class="sxs-lookup"><span data-stu-id="de78c-251">The `SendingMail` event fires after the `CreatedUser` event, meaning that by the time the above event handler executes the new user account has already been created.</span></span> <span data-ttu-id="de78c-252">Nous pouvons accéder à la valeur de `UserId` du nouvel utilisateur en appelant la méthode `Membership.GetUser`, en transmettant le `UserName` entré dans le contrôle CreateUserWizard.</span><span class="sxs-lookup"><span data-stu-id="de78c-252">We can access the new user's `UserId` value by calling the `Membership.GetUser` method, passing in the `UserName` entered into the CreateUserWizard control.</span></span> <span data-ttu-id="de78c-253">Ensuite, l’URL de vérification est formée.</span><span class="sxs-lookup"><span data-stu-id="de78c-253">Next, the verification URL is formed.</span></span> <span data-ttu-id="de78c-254">L’instruction `Request.Url.GetLeftPart(UriPartial.Authority)` retourne la partie `http://yourserver.com` de l’URL ; `Request.ApplicationPath` retourne le chemin d’accès où l’application est enracinée.</span><span class="sxs-lookup"><span data-stu-id="de78c-254">The statement `Request.Url.GetLeftPart(UriPartial.Authority)` returns the `http://yourserver.com` portion of the URL; `Request.ApplicationPath` returns path where the application is rooted.</span></span> <span data-ttu-id="de78c-255">L’URL de vérification est ensuite définie en tant que `Verification.aspx?ID=userId`.</span><span class="sxs-lookup"><span data-stu-id="de78c-255">The verification URL is then defined as `Verification.aspx?ID=userId`.</span></span> <span data-ttu-id="de78c-256">Ces deux chaînes sont ensuite concaténées pour former l’URL complète.</span><span class="sxs-lookup"><span data-stu-id="de78c-256">These two strings are then concatenated to form the complete URL.</span></span> <span data-ttu-id="de78c-257">Enfin, le corps du message électronique (`e.Message.Body`) a toutes les occurrences de `<%VerificationUrl%>` remplacées par l’URL complète.</span><span class="sxs-lookup"><span data-stu-id="de78c-257">Finally, the email message body (`e.Message.Body`) has all occurrences of `<%VerificationUrl%>` replaced with the full URL.</span></span>

<span data-ttu-id="de78c-258">L’effet net est que les nouveaux utilisateurs ne sont pas approuvés, ce qui signifie qu’ils ne peuvent pas se connecter au site.</span><span class="sxs-lookup"><span data-stu-id="de78c-258">The net effect is that new users are unapproved, meaning that they cannot log into the site.</span></span> <span data-ttu-id="de78c-259">En outre, ils reçoivent automatiquement un e-mail contenant un lien vers l’URL de vérification (voir figure 6).</span><span class="sxs-lookup"><span data-stu-id="de78c-259">Furthermore, they are automatically sent an email with a link to the verification URL (see Figure 6).</span></span>

<span data-ttu-id="de78c-260">[![le nouvel utilisateur reçoit un message électronique contenant un lien vers l’URL de vérification](unlocking-and-approving-user-accounts-cs/_static/image17.png)](unlocking-and-approving-user-accounts-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-260">[![The New User Receives an Email with a Link to the Verification URL](unlocking-and-approving-user-accounts-cs/_static/image17.png)](unlocking-and-approving-user-accounts-cs/_static/image16.png)</span></span>

<span data-ttu-id="de78c-261">**Figure 6**: le nouvel utilisateur reçoit un message électronique contenant un lien vers l’URL de vérification ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-261">**Figure 6**: The New User Receives an Email with a Link to the Verification URL  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image18.png))</span></span>

> [!NOTE]
> <span data-ttu-id="de78c-262">L’étape CreateUserWizard par défaut du contrôle CreateUserWizard affiche un message indiquant à l’utilisateur que son compte a été créé et affiche un bouton continuer.</span><span class="sxs-lookup"><span data-stu-id="de78c-262">The CreateUserWizard control's default CreateUserWizard step displays a message informing the user their account has been created and displays a Continue button.</span></span> <span data-ttu-id="de78c-263">Le fait de cliquer sur cette option amène l’utilisateur à l’URL spécifiée par la propriété `ContinueDestinationPageUrl` du contrôle.</span><span class="sxs-lookup"><span data-stu-id="de78c-263">Clicking this takes the user to the URL specified by the control's `ContinueDestinationPageUrl` property.</span></span> <span data-ttu-id="de78c-264">Le CreateUserWizard dans `EnhancedCreateUserWizard.aspx` est configuré pour envoyer de nouveaux utilisateurs à l' `~/Membership/AdditionalUserInfo.aspx`, qui invite l’utilisateur à entrer son ville natale, son URL de page d’accueil et sa signature.</span><span class="sxs-lookup"><span data-stu-id="de78c-264">The CreateUserWizard in `EnhancedCreateUserWizard.aspx` is configured to send new users to the `~/Membership/AdditionalUserInfo.aspx`, which prompts the user for their hometown, homepage URL, and signature.</span></span> <span data-ttu-id="de78c-265">Étant donné que ces informations ne peuvent être ajoutées que par des utilisateurs connectés, il est judicieux de mettre à jour cette propriété pour renvoyer les utilisateurs vers la page d’accueil du site (`~/Default.aspx`).</span><span class="sxs-lookup"><span data-stu-id="de78c-265">Because this information can only be added by logged on users, it makes sense to update this property to send users back to the site's homepage (`~/Default.aspx`).</span></span> <span data-ttu-id="de78c-266">En outre, la page de `EnhancedCreateUserWizard.aspx` ou l’étape CreateUserWizard doit être augmentée pour informer l’utilisateur qu’un message de vérification a été envoyé et que son compte n’est pas activé tant qu’il n’a pas suivi les instructions contenues dans cet e-mail.</span><span class="sxs-lookup"><span data-stu-id="de78c-266">Moreover, the `EnhancedCreateUserWizard.aspx` page or the CreateUserWizard step should be augmented to inform the user that they have been sent a verification email and their account won't be activated until they follow the instructions in this email.</span></span> <span data-ttu-id="de78c-267">Je laisse ces modifications en tant qu’exercice pour le lecteur.</span><span class="sxs-lookup"><span data-stu-id="de78c-267">I leave these modifications as an exercise for the reader.</span></span>

### <a name="creating-the-verification-page"></a><span data-ttu-id="de78c-268">Création de la page de vérification</span><span class="sxs-lookup"><span data-stu-id="de78c-268">Creating the Verification Page</span></span>

<span data-ttu-id="de78c-269">La dernière tâche consiste à créer la page de `Verification.aspx`.</span><span class="sxs-lookup"><span data-stu-id="de78c-269">Our final task is to create the `Verification.aspx` page.</span></span> <span data-ttu-id="de78c-270">Ajoutez cette page au dossier racine, en l’associant à la page maître `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="de78c-270">Add this page to the root folder, associating it with the `Site.master` master page.</span></span> <span data-ttu-id="de78c-271">Comme nous l’avons fait avec la plupart des pages de contenu précédentes ajoutées au site, supprimez le contrôle de contenu qui référence le `LoginContent` ContentPlaceHolder afin que la page de contenu utilise le contenu par défaut de la page maître.</span><span class="sxs-lookup"><span data-stu-id="de78c-271">As we've done with most of the previous content pages added to the site, remove the Content control that references the `LoginContent` ContentPlaceHolder so that the content page uses the master page's default content.</span></span>

<span data-ttu-id="de78c-272">Ajoutez un contrôle Web Label à la page `Verification.aspx`, affectez à son `ID` la valeur `StatusMessage` et effacez sa propriété Text.</span><span class="sxs-lookup"><span data-stu-id="de78c-272">Add a Label Web control to the `Verification.aspx` page, set its `ID` to `StatusMessage` and clear out its text property.</span></span> <span data-ttu-id="de78c-273">Ensuite, créez le gestionnaire d’événements `Page_Load` et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="de78c-273">Next, create the `Page_Load` event handler and add the following code:</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample5.cs)]

<span data-ttu-id="de78c-274">La majeure partie du code ci-dessus vérifie que le `UserId` fourni par le QueryString existe, qu’il s’agit d’une valeur de `Guid` valide et qu’il fait référence à un compte d’utilisateur existant.</span><span class="sxs-lookup"><span data-stu-id="de78c-274">The bulk of the above code verifies that the `UserId` supplied through the querystring exists, that it is a valid `Guid` value, and that it references an existing user account.</span></span> <span data-ttu-id="de78c-275">Si toutes ces vérifications réussissent, le compte d’utilisateur est approuvé ; dans le cas contraire, un message d’état approprié est affiché.</span><span class="sxs-lookup"><span data-stu-id="de78c-275">If all of these checks pass, the user account is approved; otherwise, a suitable status message is displayed.</span></span>

<span data-ttu-id="de78c-276">La figure 7 illustre la page de `Verification.aspx` lorsqu’elle est visitée via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="de78c-276">Figure 7 shows the `Verification.aspx` page when visited through a browser.</span></span>

<span data-ttu-id="de78c-277">[![le nouveau compte d’utilisateur est désormais approuvé](unlocking-and-approving-user-accounts-cs/_static/image20.png)](unlocking-and-approving-user-accounts-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="de78c-277">[![The New User's Account is Now Approved](unlocking-and-approving-user-accounts-cs/_static/image20.png)](unlocking-and-approving-user-accounts-cs/_static/image19.png)</span></span>

<span data-ttu-id="de78c-278">**Figure 7**: le compte de nouvel utilisateur est maintenant approuvé ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="de78c-278">**Figure 7**: The New User's Account is Now Approved  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image21.png))</span></span>

## <a name="summary"></a><span data-ttu-id="de78c-279">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="de78c-279">Summary</span></span>

<span data-ttu-id="de78c-280">Tous les comptes d’utilisateur d’appartenance ont deux États qui déterminent si l’utilisateur peut se connecter au site : `IsLockedOut` et `IsApproved`.</span><span class="sxs-lookup"><span data-stu-id="de78c-280">All Membership user accounts have two statuses that determine whether the user can log into the site: `IsLockedOut` and `IsApproved`.</span></span> <span data-ttu-id="de78c-281">Ces deux propriétés doivent être `true` pour que l’utilisateur se connecte.</span><span class="sxs-lookup"><span data-stu-id="de78c-281">Both of these properties must be `true` for the user to login.</span></span>

<span data-ttu-id="de78c-282">L’état verrouillé de l’utilisateur est utilisé comme mesure de sécurité afin de réduire la probabilité qu’un pirate passe dans un site par le biais de méthodes en force brute.</span><span class="sxs-lookup"><span data-stu-id="de78c-282">The user's locked out status is used as a security measure to reduce the likelihood of a hacker breaking into a site through brute force methods.</span></span> <span data-ttu-id="de78c-283">Plus précisément, un utilisateur est verrouillé s’il existe un certain nombre de tentatives de connexion non valides dans une certaine fenêtre de temps.</span><span class="sxs-lookup"><span data-stu-id="de78c-283">Specifically, a user is locked out if there are a certain number of invalid login attempts within a certain window of time.</span></span> <span data-ttu-id="de78c-284">Ces limites sont configurables via les paramètres du fournisseur d’appartenances dans `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="de78c-284">These bounds are configurable through the Membership provider settings in `Web.config`.</span></span>

<span data-ttu-id="de78c-285">L’État approuvé est couramment utilisé pour empêcher les nouveaux utilisateurs de se connecter jusqu’à ce qu’une action soit dépassée.</span><span class="sxs-lookup"><span data-stu-id="de78c-285">The approved status is commonly used as a means to prohibit new users from logging in until some action has transpired.</span></span> <span data-ttu-id="de78c-286">Le site nécessite peut-être que les nouveaux comptes soient approuvés par l’administrateur ou, comme nous l’avons vu à l’étape 3, en vérifiant leur adresse de messagerie.</span><span class="sxs-lookup"><span data-stu-id="de78c-286">Perhaps the site requires that new accounts first be approved by the administrator or, as we saw in Step 3, by verifying their email address.</span></span>

<span data-ttu-id="de78c-287">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="de78c-287">Happy Programming!</span></span>

### <a name="about-the-author"></a><span data-ttu-id="de78c-288">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="de78c-288">About the Author</span></span>

<span data-ttu-id="de78c-289">Scott Mitchell, auteur de plusieurs ouvrages ASP/ASP. NET et fondateur de 4GuysFromRolla.com, travaille avec les technologies Web de Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="de78c-289">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="de78c-290">Scott travaille en tant que consultant, formateur et auteur indépendant.</span><span class="sxs-lookup"><span data-stu-id="de78c-290">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="de78c-291">Son dernier livre est *[Sams vous apprend vous-même ASP.NET 2,0 en 24 heures](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)* .</span><span class="sxs-lookup"><span data-stu-id="de78c-291">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="de78c-292">Scott peut être contacté au [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) ou via son blog à l’adresse [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="de78c-292">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="de78c-293">Remerciements à...</span><span class="sxs-lookup"><span data-stu-id="de78c-293">Special Thanks To…</span></span>

<span data-ttu-id="de78c-294">Cette série de didacticiels a été examinée par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="de78c-294">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="de78c-295">Vous souhaitez revoir mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="de78c-295">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="de78c-296">Dans ce cas, insérez une ligne à [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="de78c-296">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="de78c-297">[Précédent](recovering-and-changing-passwords-cs.md)
> [Suivant](building-an-interface-to-select-one-user-account-from-many-vb.md)</span><span class="sxs-lookup"><span data-stu-id="de78c-297">[Previous](recovering-and-changing-passwords-cs.md)
[Next](building-an-interface-to-select-one-user-account-from-many-vb.md)</span></span>
