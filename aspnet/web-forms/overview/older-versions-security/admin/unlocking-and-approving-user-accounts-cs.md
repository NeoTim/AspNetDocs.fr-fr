---
uid: web-forms/overview/older-versions-security/admin/unlocking-and-approving-user-accounts-cs
title: Le déverrouillage et l’approbation des comptes d’utilisateur (c#) | Microsoft Docs
author: rick-anderson
description: Ce didacticiel montre comment créer une page web pour les administrateurs gérer les utilisateurs verrouillés et approuvé les États. Nous verrons également comment approuver les nouveaux utilisateurs o...
ms.author: riande
ms.date: 04/01/2008
ms.assetid: 5346aab1-9974-489f-a065-ae3883b8a350
msc.legacyurl: /web-forms/overview/older-versions-security/admin/unlocking-and-approving-user-accounts-cs
msc.type: authoredcontent
ms.openlocfilehash: b27be9dff132989a37eca7d5ef3af7b0e1aaeb74
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65131303"
---
# <a name="unlocking-and-approving-user-accounts-c"></a><span data-ttu-id="970c7-104">Déblocage et approbation des comptes d’utilisateur (C#)</span><span class="sxs-lookup"><span data-stu-id="970c7-104">Unlocking and Approving User Accounts (C#)</span></span>

<span data-ttu-id="970c7-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="970c7-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="970c7-106">[Télécharger le Code](http://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/CS.14.zip) ou [télécharger le PDF](http://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/aspnet_tutorial14_UnlockAndApprove_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="970c7-106">[Download Code](http://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/CS.14.zip) or [Download PDF](http://download.microsoft.com/download/6/0/e/60e1bd94-e5f9-4d5a-a079-f23c98f4f67d/aspnet_tutorial14_UnlockAndApprove_cs.pdf)</span></span>

> <span data-ttu-id="970c7-107">Ce didacticiel montre comment créer une page web pour les administrateurs gérer les utilisateurs verrouillés et approuvé les États.</span><span class="sxs-lookup"><span data-stu-id="970c7-107">This tutorial shows how to build a web page for administrators to manage users' locked out and approved statuses.</span></span> <span data-ttu-id="970c7-108">Nous verrons également comment approuver les nouveaux utilisateurs uniquement une fois qu’ils ont vérifié leur e-mail.</span><span class="sxs-lookup"><span data-stu-id="970c7-108">We will also see how to approve new users only after they have verified their email address.</span></span>

## <a name="introduction"></a><span data-ttu-id="970c7-109">Introduction</span><span class="sxs-lookup"><span data-stu-id="970c7-109">Introduction</span></span>

<span data-ttu-id="970c7-110">Avec un nom d’utilisateur, le mot de passe et le courrier électronique, chaque compte d’utilisateur a deux champs d’état qui déterminent si l’utilisateur peut se connecter au site : verrouillé et approuvé.</span><span class="sxs-lookup"><span data-stu-id="970c7-110">Along with a username, password, and email, each user account has two status fields that dictate whether the user can log into the site: locked out and approved.</span></span> <span data-ttu-id="970c7-111">Un utilisateur est automatiquement verrouillé s’ils fournissent des informations d’identification non valides, un nombre spécifié de fois au sein d’un nombre spécifié de minutes (les paramètres par défaut verrouiller un utilisateur après 5 tentatives de connexion non valide dans les 10 minutes).</span><span class="sxs-lookup"><span data-stu-id="970c7-111">A user is automatically locked out if they provide invalid credentials a specified number of times within a specified number of minutes (the default settings lock a user out after 5 invalid login attempts within 10 minutes).</span></span> <span data-ttu-id="970c7-112">L’état approuvé est utile dans les scénarios où une action doit s’écouler avant un nouvel utilisateur est en mesure d’ouvrir une session sur le site.</span><span class="sxs-lookup"><span data-stu-id="970c7-112">The approved status is useful in scenarios where some action must transpire before a new user is able to log on to the site.</span></span> <span data-ttu-id="970c7-113">Par exemple, un utilisateur peut avoir besoin de vérifier tout d’abord leur adresse de messagerie ou être approuvé par un administrateur avant de pouvoir se connecter.</span><span class="sxs-lookup"><span data-stu-id="970c7-113">For example, a user might need to first verify their email address or be approved by an administrator before being able to login.</span></span>

<span data-ttu-id="970c7-114">Étant donné qu’un verrouillé out ou non approuvés l’utilisateur ne peut pas se connecter, il est naturel uniquement à se demander comment ces États peuvent être réinitialisés.</span><span class="sxs-lookup"><span data-stu-id="970c7-114">Because a locked out or unapproved user cannot login, it's only natural to wonder how these statuses can be reset.</span></span> <span data-ttu-id="970c7-115">ASP.NET n’inclut pas toutes les fonctionnalités intégrées ou les contrôles Web pour la gestion des utilisateurs verrouillés et approuvé les États, en partie parce que ces décisions doivent être traitées sur une base site par site.</span><span class="sxs-lookup"><span data-stu-id="970c7-115">ASP.NET does not include any built-in functionality or Web controls for managing users' locked out and approved statuses, in part because these decisions need to be handled on a site-by-site basis.</span></span> <span data-ttu-id="970c7-116">Certains sites peuvent approuver automatiquement tous les nouveaux comptes d’utilisateur (le comportement par défaut).</span><span class="sxs-lookup"><span data-stu-id="970c7-116">Some sites might automatically approve all new user accounts (the default behavior).</span></span> <span data-ttu-id="970c7-117">D’autres ont un administrateur approuve les nouveaux comptes ou n’approuvez pas les utilisateurs jusqu'à ce qu’ils visitent un lien envoyé à l’adresse de messagerie fournie lors de leur inscription.</span><span class="sxs-lookup"><span data-stu-id="970c7-117">Others have an administrator approve new accounts or do not approve users until they visit a link sent to the email address provided when they signed up.</span></span> <span data-ttu-id="970c7-118">De même, certains sites peuvent verrouiller les utilisateurs jusqu'à ce qu’un administrateur réinitialise leur état, tandis que les autres sites envoyer un e-mail à l’utilisateur bloqué avec une URL qu’ils peuvent visiter pour déverrouiller son compte.</span><span class="sxs-lookup"><span data-stu-id="970c7-118">Likewise, some sites may lock out users until an administrator resets their status, while other sites send an email to the locked out user with a URL they can visit to unlock their account.</span></span>

<span data-ttu-id="970c7-119">Ce didacticiel montre comment créer une page web pour les administrateurs gérer les utilisateurs verrouillés et approuvé les États.</span><span class="sxs-lookup"><span data-stu-id="970c7-119">This tutorial shows how to build a web page for administrators to manage users' locked out and approved statuses.</span></span> <span data-ttu-id="970c7-120">Nous verrons également comment approuver les nouveaux utilisateurs uniquement une fois qu’ils ont vérifié leur e-mail.</span><span class="sxs-lookup"><span data-stu-id="970c7-120">We will also see how to approve new users only after they have verified their email address.</span></span>

## <a name="step-1-managing-users-locked-out-and-approved-statuses"></a><span data-ttu-id="970c7-121">Étape 1 : La gestion des utilisateurs verrouillés et approuvé les États</span><span class="sxs-lookup"><span data-stu-id="970c7-121">Step 1: Managing Users' Locked Out and Approved Statuses</span></span>

<span data-ttu-id="970c7-122">Dans le <a id="Tutorial12"> </a> [ *création d’une Interface pour sélectionner un compte d’utilisateur de nombreux* ](building-an-interface-to-select-one-user-account-from-many-cs.md) didacticiel, nous avons également élaboré une page qui répertorié chaque compte d’utilisateur dans un paginée filtré GridView.</span><span class="sxs-lookup"><span data-stu-id="970c7-122">In the <a id="Tutorial12"></a>[*Building an Interface to Select One User Account from Many*](building-an-interface-to-select-one-user-account-from-many-cs.md) tutorial we constructed a page that listed each user account in a paged, filtered GridView.</span></span> <span data-ttu-id="970c7-123">La grille répertorie chaque nom de l’utilisateur et e-mail, leurs États approuvées et verrouillés, qu’ils se trouvent actuellement en ligne et des commentaires sur l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-123">The grid lists each user's name and email, their approved and locked out statuses, whether they're currently online, and any comments about the user.</span></span> <span data-ttu-id="970c7-124">Pour gérer les utilisateurs approuvés et verrouillé de statuts, nous pourrions éventuellement effectuer cette grille modifiable.</span><span class="sxs-lookup"><span data-stu-id="970c7-124">To manage users' approved and locked out statuses, we could make this grid editable.</span></span> <span data-ttu-id="970c7-125">Pour modifier le statut d’un utilisateur, l’administrateur serait d’abord localiser le compte d’utilisateur et puis modifiez la ligne correspondante de GridView, activant ou désactivant la case à cocher approuvée.</span><span class="sxs-lookup"><span data-stu-id="970c7-125">To change a user's approved status, the administrator would first locate the user account and then edit the corresponding GridView row, checking or unchecking the approved checkbox.</span></span> <span data-ttu-id="970c7-126">Nous pourrions également gérer les États approuvées et verrouillés via une page ASP.NET distincte.</span><span class="sxs-lookup"><span data-stu-id="970c7-126">Alternatively, we could manage the approved and locked out statuses through a separate ASP.NET page.</span></span>

<span data-ttu-id="970c7-127">Pour ce didacticiel, nous allons utiliser deux pages ASP.NET : `ManageUsers.aspx` et `UserInformation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="970c7-127">For this tutorial let's use two ASP.NET pages: `ManageUsers.aspx` and `UserInformation.aspx`.</span></span> <span data-ttu-id="970c7-128">L’idée ici est que `ManageUsers.aspx` répertorie les comptes d’utilisateur dans le système, tandis que `UserInformation.aspx` permet à l’administrateur gérer les États approuvées et verrouillés pour un utilisateur spécifique.</span><span class="sxs-lookup"><span data-stu-id="970c7-128">The idea here is that `ManageUsers.aspx` lists the user accounts in the system, while `UserInformation.aspx` enables the administrator to manage the approved and locked out statuses for a specific user.</span></span> <span data-ttu-id="970c7-129">Notre première chose consiste à augmenter le contrôle GridView dans `ManageUsers.aspx` pour inclure un HyperLinkField, qui effectue le rendu en tant que colonne de liens.</span><span class="sxs-lookup"><span data-stu-id="970c7-129">Our first order of business is to augment the GridView in `ManageUsers.aspx` to include a HyperLinkField, which renders as a column of links.</span></span> <span data-ttu-id="970c7-130">Nous voulons chaque lien pour pointer vers `UserInformation.aspx?user=UserName`, où *nom d’utilisateur* est le nom de l’utilisateur à modifier.</span><span class="sxs-lookup"><span data-stu-id="970c7-130">We want each link to point to `UserInformation.aspx?user=UserName`, where *UserName* is the name of the user to edit.</span></span>

> [!NOTE]
> <span data-ttu-id="970c7-131">Si vous avez téléchargé le code pour le <a id="Tutorial13"> </a> [ *récupération et modification des mots de passe* ](recovering-and-changing-passwords-cs.md) didacticiel, vous avez peut-être remarqué que le `ManageUsers.aspx` page contient déjà un ensemble de » Gérer les liens » et le `UserInformation.aspx` page fournit une interface pour la modification de mot de passe de l’utilisateur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="970c7-131">If you downloaded the code for the <a id="Tutorial13"></a>[*Recovering and Changing Passwords*](recovering-and-changing-passwords-cs.md) tutorial you may have noticed that the `ManageUsers.aspx` page already contains a set of "Manage" links and the `UserInformation.aspx` page provides an interface for changing the selected user's password.</span></span> <span data-ttu-id="970c7-132">J’ai décidé de ne pas répliquer cette fonctionnalité dans le code associé à ce didacticiel, car cela a fonctionné en contournant l’API d’appartenance et fonctionne directement avec la base de données SQL Server pour modifier un mot de passe utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-132">I decided not to replicate that functionality in the code associated with this tutorial because it worked by circumventing the Membership API and operating directly with the SQL Server database to change a user's password.</span></span> <span data-ttu-id="970c7-133">Ce didacticiel commence à partir de zéro avec le `UserInformation.aspx` page.</span><span class="sxs-lookup"><span data-stu-id="970c7-133">This tutorial starts from scratch with the `UserInformation.aspx` page.</span></span>

### <a name="adding-manage-links-to-theuseraccountsgridview"></a><span data-ttu-id="970c7-134">Ajout de « gérer » des liens vers les`UserAccounts`GridView</span><span class="sxs-lookup"><span data-stu-id="970c7-134">Adding "Manage" Links to the`UserAccounts`GridView</span></span>

<span data-ttu-id="970c7-135">Ouvrez le `ManageUsers.aspx` page et ajoutez un HyperLinkField à la `UserAccounts` GridView.</span><span class="sxs-lookup"><span data-stu-id="970c7-135">Open the `ManageUsers.aspx` page and add a HyperLinkField to the `UserAccounts` GridView.</span></span> <span data-ttu-id="970c7-136">Définir le HyperLinkField `Text` propriété à « Gérer » et ses `DataNavigateUrlFields` et `DataNavigateUrlFormatString` propriétés à `UserName` et « UserInformation.aspx?user={0}», respectivement.</span><span class="sxs-lookup"><span data-stu-id="970c7-136">Set the HyperLinkField's `Text` property to "Manage" and its `DataNavigateUrlFields` and `DataNavigateUrlFormatString` properties to `UserName` and "UserInformation.aspx?user={0}", respectively.</span></span> <span data-ttu-id="970c7-137">Ces paramètres configurent le HyperLinkField de sorte que tous les liens hypertexte affichent le texte « Gérer », mais chaque lien transmet le *nom d’utilisateur* valeur dans la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="970c7-137">These settings configure the HyperLinkField such that all of the hyperlinks display the text "Manage", but each link passes in the appropriate *UserName* value into the querystring.</span></span>

<span data-ttu-id="970c7-138">Après avoir ajouté le HyperLinkField GridView, prenez un moment pour afficher la `ManageUsers.aspx` page via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-138">After adding the HyperLinkField to the GridView, take a moment to view the `ManageUsers.aspx` page through a browser.</span></span> <span data-ttu-id="970c7-139">Comme le montre la Figure 1, chaque ligne GridView inclut désormais un lien « Gérer ».</span><span class="sxs-lookup"><span data-stu-id="970c7-139">As Figure 1 shows, each GridView row now includes a "Manage" link.</span></span> <span data-ttu-id="970c7-140">Le lien « Gérer » de Bruce pointe vers `UserInformation.aspx?user=Bruce`, tandis que le lien « Gérer » de Dave pointe vers `UserInformation.aspx?user=Dave`.</span><span class="sxs-lookup"><span data-stu-id="970c7-140">The "Manage" link for Bruce points to `UserInformation.aspx?user=Bruce`, whereas the "Manage" link for Dave points to `UserInformation.aspx?user=Dave`.</span></span>

<span data-ttu-id="970c7-141">[![Ajoute le HyperLinkField un](unlocking-and-approving-user-accounts-cs/_static/image2.png)](unlocking-and-approving-user-accounts-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-141">[![The HyperLinkField Adds a](unlocking-and-approving-user-accounts-cs/_static/image2.png)](unlocking-and-approving-user-accounts-cs/_static/image1.png)</span></span>

<span data-ttu-id="970c7-142">**Figure 1**: Le HyperLinkField ajoute un lien « Gérer » pour chaque compte d’utilisateur ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-142">**Figure 1**: The HyperLinkField Adds a "Manage" Link for Each User Account  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image3.png))</span></span>

<span data-ttu-id="970c7-143">Nous créer l’interface utilisateur et de code pour le `UserInformation.aspx` page dans un moment, mais le premier nous allons parler sur comment changer par programmation un utilisateur verrouillé et approuvé les États.</span><span class="sxs-lookup"><span data-stu-id="970c7-143">We will create the user interface and code for the `UserInformation.aspx` page in a moment, but first let's talk about how to programmatically change a user's locked out and approved statuses.</span></span> <span data-ttu-id="970c7-144">Le [ `MembershipUser` classe](https://msdn.microsoft.com/library/system.web.security.membershipuser.aspx) a [ `IsLockedOut` ](https://msdn.microsoft.com/library/system.web.security.membershipuser.islockedout.aspx) et [ `IsApproved` propriétés](https://msdn.microsoft.com/library/system.web.security.membershipuser.isapproved.aspx).</span><span class="sxs-lookup"><span data-stu-id="970c7-144">The [`MembershipUser` class](https://msdn.microsoft.com/library/system.web.security.membershipuser.aspx) has [`IsLockedOut`](https://msdn.microsoft.com/library/system.web.security.membershipuser.islockedout.aspx) and [`IsApproved` properties](https://msdn.microsoft.com/library/system.web.security.membershipuser.isapproved.aspx).</span></span> <span data-ttu-id="970c7-145">Le `IsLockedOut` propriété est en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="970c7-145">The `IsLockedOut` property is read-only.</span></span> <span data-ttu-id="970c7-146">Il n’existe aucun mécanisme pour par programmation verrouiller un utilisateur ; Pour déverrouiller un utilisateur, utilisez la `MembershipUser` la classe [ `UnlockUser` méthode](https://msdn.microsoft.com/library/system.web.security.membershipuser.unlockuser.aspx).</span><span class="sxs-lookup"><span data-stu-id="970c7-146">There is no mechanism to programmatically lock out a user; to unlock a user, use the `MembershipUser` class's [`UnlockUser` method](https://msdn.microsoft.com/library/system.web.security.membershipuser.unlockuser.aspx).</span></span> <span data-ttu-id="970c7-147">Le `IsApproved` propriété est accessible en lecture et en écriture.</span><span class="sxs-lookup"><span data-stu-id="970c7-147">The `IsApproved` property is readable and writeable.</span></span> <span data-ttu-id="970c7-148">Pour enregistrer les modifications à cette propriété, nous devons appeler le `Membership` la classe [ `UpdateUser` méthode](https://msdn.microsoft.com/library/system.web.security.membership.updateuser.aspx), en passant le texte modifié `MembershipUser` objet.</span><span class="sxs-lookup"><span data-stu-id="970c7-148">To save any changes to this property, we need to call the `Membership` class's [`UpdateUser` method](https://msdn.microsoft.com/library/system.web.security.membership.updateuser.aspx), passing in the modified `MembershipUser` object.</span></span>

<span data-ttu-id="970c7-149">Étant donné que le `IsApproved` propriété est accessible en lecture et en écriture, un contrôle de case à cocher est probablement le meilleur élément d’interface utilisateur pour la configuration de cette propriété.</span><span class="sxs-lookup"><span data-stu-id="970c7-149">Because the `IsApproved` property is readable and writeable, a CheckBox control is probably the best user interface element for configuring this property.</span></span> <span data-ttu-id="970c7-150">Toutefois, une case à cocher ne fonctionnera pas pour le `IsLockedOut` propriété, car un administrateur ne peut pas verrouiller un utilisateur, elle peut uniquement déverrouiller un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-150">However, a CheckBox will not work for the `IsLockedOut` property because an administrator cannot lock out a user, she may only unlock a user.</span></span> <span data-ttu-id="970c7-151">Une interface utilisateur appropriée pour le `IsLockedOut` propriété est un bouton qui, lorsque vous cliquez dessus, déverrouille le compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-151">A suitable user interface for the `IsLockedOut` property is a Button that, when clicked, unlocks the user account.</span></span> <span data-ttu-id="970c7-152">Ce bouton doit être activé uniquement si l’utilisateur est verrouillé.</span><span class="sxs-lookup"><span data-stu-id="970c7-152">This Button should only be enabled if the user is locked out.</span></span>

### <a name="creating-theuserinformationaspxpage"></a><span data-ttu-id="970c7-153">Création de le`UserInformation.aspx`Page</span><span class="sxs-lookup"><span data-stu-id="970c7-153">Creating the`UserInformation.aspx`Page</span></span>

<span data-ttu-id="970c7-154">Nous sommes maintenant prêts à implémenter l’interface utilisateur dans `UserInformation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="970c7-154">We are now ready to implement the user interface in `UserInformation.aspx`.</span></span> <span data-ttu-id="970c7-155">Ouvrez cette page et ajoutez les contrôles Web suivants :</span><span class="sxs-lookup"><span data-stu-id="970c7-155">Open this page and add the following Web controls:</span></span>

- <span data-ttu-id="970c7-156">Contrôler un lien hypertexte qui, en un clic, retourne l’administrateur de le `ManageUsers.aspx` page.</span><span class="sxs-lookup"><span data-stu-id="970c7-156">A HyperLink control that, when clicked, returns the administrator to the `ManageUsers.aspx` page.</span></span>
- <span data-ttu-id="970c7-157">Un contrôle Web Label pour afficher le nom de l’utilisateur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="970c7-157">A Label Web control for displaying the selected user's name.</span></span> <span data-ttu-id="970c7-158">Valeur de cette étiquette `ID` à `UserNameLabel` et effacer son `Text` propriété.</span><span class="sxs-lookup"><span data-stu-id="970c7-158">Set this Label's `ID` to `UserNameLabel` and clear out its `Text` property.</span></span>
- <span data-ttu-id="970c7-159">Un contrôle de case à cocher nommé `IsApproved`.</span><span class="sxs-lookup"><span data-stu-id="970c7-159">A CheckBox control named `IsApproved`.</span></span> <span data-ttu-id="970c7-160">Définissez ses `AutoPostBack` propriété `true`.</span><span class="sxs-lookup"><span data-stu-id="970c7-160">Set its `AutoPostBack` property to `true`.</span></span>
- <span data-ttu-id="970c7-161">Un contrôle d’étiquette pour l’affichage de l’utilisateur du dernier verrouillage de date.</span><span class="sxs-lookup"><span data-stu-id="970c7-161">A Label control for displaying the user's last locked out date.</span></span> <span data-ttu-id="970c7-162">Nommez cette étiquette `LastLockedOutDateLabel` et effacer son `Text` propriété.</span><span class="sxs-lookup"><span data-stu-id="970c7-162">Name this Label `LastLockedOutDateLabel` and clear out its `Text` property.</span></span>
- <span data-ttu-id="970c7-163">Un bouton pour le déverrouillage de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-163">A Button for unlocking the user.</span></span> <span data-ttu-id="970c7-164">Nommez ce bouton `UnlockUserButton` et définissez son `Text` propriété « Déverrouiller User ».</span><span class="sxs-lookup"><span data-stu-id="970c7-164">Name this Button `UnlockUserButton` and set its `Text` property to "Unlock User".</span></span>
- <span data-ttu-id="970c7-165">Un contrôle Label pour afficher les messages d’état, telles que « statut approuvé de l’utilisateur a été mis à jour. »</span><span class="sxs-lookup"><span data-stu-id="970c7-165">A Label control for displaying status messages, such as, "The user's approved status has been updated."</span></span> <span data-ttu-id="970c7-166">Nommez ce contrôle `StatusMessage`, désactivez out son `Text` propriété et définissez son `CssClass` propriété `Important`.</span><span class="sxs-lookup"><span data-stu-id="970c7-166">Name this control `StatusMessage`, clear out its `Text` property, and set its `CssClass` property to `Important`.</span></span> <span data-ttu-id="970c7-167">(Le `Important` classe CSS est défini dans le `Styles.css` fichier de feuille de style ; il affiche le texte correspondant dans une grande police rouge.)</span><span class="sxs-lookup"><span data-stu-id="970c7-167">(The `Important` CSS class is defined in the `Styles.css` stylesheet file; it displays the corresponding text in a large, red font.)</span></span>

<span data-ttu-id="970c7-168">Après avoir ajouté ces contrôles, la vue de conception dans Visual Studio doit ressembler à la capture d’écran de la Figure 2.</span><span class="sxs-lookup"><span data-stu-id="970c7-168">After adding these controls, the Design view in Visual Studio should look similar to the screen shot in Figure 2.</span></span>

<span data-ttu-id="970c7-169">[![Créer l’Interface utilisateur pour UserInformation.aspx](unlocking-and-approving-user-accounts-cs/_static/image5.png)](unlocking-and-approving-user-accounts-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-169">[![Create the User Interface for UserInformation.aspx](unlocking-and-approving-user-accounts-cs/_static/image5.png)](unlocking-and-approving-user-accounts-cs/_static/image4.png)</span></span>

<span data-ttu-id="970c7-170">**Figure 2**: Créer l’Interface utilisateur pour `UserInformation.aspx` ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-170">**Figure 2**: Create the User Interface for `UserInformation.aspx` ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image6.png))</span></span>

<span data-ttu-id="970c7-171">Avec l’interface utilisateur complète, la tâche suivante consiste à définir le `IsApproved` case à cocher et autres contrôles selon les informations de l’utilisateur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="970c7-171">With the user interface complete, our next task is to set the `IsApproved` CheckBox and other controls based on the selected user's information.</span></span> <span data-ttu-id="970c7-172">Créer un gestionnaire d’événements de la page `Load` événement et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="970c7-172">Create an event handler for the page's `Load` event and add the following code:</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample1.cs)]

<span data-ttu-id="970c7-173">Le code ci-dessus commence en veillant à ce qu’il s’agit de la première visite sur la page et pas une publication suivante.</span><span class="sxs-lookup"><span data-stu-id="970c7-173">The above code starts by ensuring that this is the first visit to the page and not a subsequent postback.</span></span> <span data-ttu-id="970c7-174">Elle lit ensuite le nom d’utilisateur transmis via le `user` champ querystring et récupère des informations sur ce compte d’utilisateur par le biais de la `Membership.GetUser(username)` (méthode).</span><span class="sxs-lookup"><span data-stu-id="970c7-174">It then reads the username passed through the `user` querystring field and retrieves information about that user account via the `Membership.GetUser(username)` method.</span></span> <span data-ttu-id="970c7-175">Si aucun nom d’utilisateur a été fourni par la chaîne de requête, ou si l’utilisateur spécifié est introuvable, l’administrateur est renvoyé à la `ManageUsers.aspx` page.</span><span class="sxs-lookup"><span data-stu-id="970c7-175">If no username was supplied through the querystring, or if the specified user could not be found, the administrator is sent back to the `ManageUsers.aspx` page.</span></span>

<span data-ttu-id="970c7-176">Le `MembershipUser` l’objet `UserName` valeur est ensuite affichée dans le `UserNameLabel` et le `IsApproved` case à cocher est activée en fonction de la `IsApproved` valeur de propriété.</span><span class="sxs-lookup"><span data-stu-id="970c7-176">The `MembershipUser` object's `UserName` value is then displayed in the `UserNameLabel` and the `IsApproved` CheckBox is checked based on the `IsApproved` property value.</span></span>

<span data-ttu-id="970c7-177">Le `MembershipUser` l’objet [ `LastLockoutDate` propriété](https://msdn.microsoft.com/library/system.web.security.membershipuser.lastlockoutdate.aspx) retourne un `DateTime` valeur qui indique quand l’utilisateur a été verrouillé. Si l’utilisateur n’a jamais été verrouillé, la valeur retournée varie selon le fournisseur d’appartenances.</span><span class="sxs-lookup"><span data-stu-id="970c7-177">The `MembershipUser` object's [`LastLockoutDate` property](https://msdn.microsoft.com/library/system.web.security.membershipuser.lastlockoutdate.aspx) returns a `DateTime` value indicating when the user was last locked out. If the user has never been locked out, the value returned depends on the Membership provider.</span></span> <span data-ttu-id="970c7-178">Lorsqu’un nouveau compte est créé, le `SqlMembershipProvider` définit le `aspnet_Membership` la table `LastLockoutDate` champ `1754-01-01 12:00:00 AM`.</span><span class="sxs-lookup"><span data-stu-id="970c7-178">When a new account is created, the `SqlMembershipProvider` sets the `aspnet_Membership` table's `LastLockoutDate` field to `1754-01-01 12:00:00 AM`.</span></span> <span data-ttu-id="970c7-179">Le code ci-dessus affiche une chaîne vide dans le `LastLockoutDateLabel` si le `LastLockoutDate` propriété se produit avant l’année 2000 ; sinon, la partie date de la `LastLockoutDate` propriété s’affiche dans l’étiquette.</span><span class="sxs-lookup"><span data-stu-id="970c7-179">The above code displays an empty string in the `LastLockoutDateLabel` if the `LastLockoutDate` property occurs before year 2000; otherwise, the date portion of the `LastLockoutDate` property is displayed in the Label.</span></span> <span data-ttu-id="970c7-180">Le `UnlockUserButton'` s `Enabled` propriété est définie à l’utilisateur verrouillé d’état, ce qui signifie que ce bouton sera activé uniquement si l’utilisateur est verrouillé.</span><span class="sxs-lookup"><span data-stu-id="970c7-180">The `UnlockUserButton'` s `Enabled` property is set to the user's locked out status, meaning that this Button will only be enabled if the user is locked out.</span></span>

<span data-ttu-id="970c7-181">Prenez un moment pour tester le `UserInformation.aspx` page via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-181">Take a moment to test the `UserInformation.aspx` page through a browser.</span></span> <span data-ttu-id="970c7-182">Vous, bien sûr, devez commencent à `ManageUsers.aspx` et sélectionnez un compte d’utilisateur à gérer.</span><span class="sxs-lookup"><span data-stu-id="970c7-182">You will, of course, need to start at `ManageUsers.aspx` and select a user account to manage.</span></span> <span data-ttu-id="970c7-183">Fonction arrivant à `UserInformation.aspx`, notez que le `IsApproved` case à cocher est activée uniquement si l’utilisateur est approuvé.</span><span class="sxs-lookup"><span data-stu-id="970c7-183">Upon arriving at `UserInformation.aspx`, note that the `IsApproved` CheckBox is only checked if the user is approved.</span></span> <span data-ttu-id="970c7-184">Si l’utilisateur a déjà été verrouillé, leur dernier verrouillé de date s’affiche.</span><span class="sxs-lookup"><span data-stu-id="970c7-184">If the user has ever been locked out, their last locked out date is displayed.</span></span> <span data-ttu-id="970c7-185">Le bouton de déverrouiller un utilisateur est activé uniquement si l’utilisateur est actuellement verrouillé. Activant ou désactivant la `IsApproved` case à cocher ou en cliquant sur le bouton de déverrouiller un utilisateur entraîne une publication, mais aucun modifications ne sont apportées au compte d’utilisateur, car il nous faut encore à créer des gestionnaires d’événements pour ces événements.</span><span class="sxs-lookup"><span data-stu-id="970c7-185">The Unlock User button is enabled only if the user is currently locked out. Checking or unchecking the `IsApproved` CheckBox or clicking the Unlock User button causes a postback, but no modifications are made to the user account because we've yet to create event handlers for these events.</span></span>

<span data-ttu-id="970c7-186">Revenez à Visual Studio et créer des gestionnaires d’événements pour le `IsApproved` la case à cocher `CheckedChanged` événement et le `UnlockUser` du bouton `Click` événement.</span><span class="sxs-lookup"><span data-stu-id="970c7-186">Return to Visual Studio and create event handlers for the `IsApproved` CheckBox's `CheckedChanged` event and the `UnlockUser` Button's `Click` event.</span></span> <span data-ttu-id="970c7-187">Dans le `CheckedChanged` Gestionnaire d’événements, définissez l’utilisateur `IsApproved` propriété le `Checked` propriété de la case à cocher, puis enregistrez les modifications apportées via un appel à `Membership.UpdateUser`.</span><span class="sxs-lookup"><span data-stu-id="970c7-187">In the `CheckedChanged` event handler, set the user's `IsApproved` property to the `Checked` property of the CheckBox and then save the changes via a call to `Membership.UpdateUser`.</span></span> <span data-ttu-id="970c7-188">Dans le `Click` Gestionnaire d’événements, il vous suffit d’appel la `MembershipUser` l’objet `UnlockUser` (méthode).</span><span class="sxs-lookup"><span data-stu-id="970c7-188">In the `Click` event handler, simply call the `MembershipUser` object's `UnlockUser` method.</span></span> <span data-ttu-id="970c7-189">Dans les deux gestionnaires d’événements, afficher un message approprié dans le `StatusMessage` étiquette.</span><span class="sxs-lookup"><span data-stu-id="970c7-189">In both event handlers, display a suitable message in the `StatusMessage` Label.</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample2.cs)]

### <a name="testing-theuserinformationaspxpage"></a><span data-ttu-id="970c7-190">Tester le`UserInformation.aspx`Page</span><span class="sxs-lookup"><span data-stu-id="970c7-190">Testing the`UserInformation.aspx`Page</span></span>

<span data-ttu-id="970c7-191">Ces gestionnaires d’événements en place, visitez la page et non approuvées un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-191">With these event handlers in place, revisit the page and unapproved a user.</span></span> <span data-ttu-id="970c7-192">Comme le montre la Figure 3, vous devez voir un bref message sur la page indiquant que l’utilisateur `IsApproved` propriété a été correctement modifiée.</span><span class="sxs-lookup"><span data-stu-id="970c7-192">As Figure 3 shows, you should see a brief message on the page indicating that the user's `IsApproved` property was successfully modified.</span></span>

<span data-ttu-id="970c7-193">[![Chris a été non approuvé](unlocking-and-approving-user-accounts-cs/_static/image8.png)](unlocking-and-approving-user-accounts-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-193">[![Chris has been Unapproved](unlocking-and-approving-user-accounts-cs/_static/image8.png)](unlocking-and-approving-user-accounts-cs/_static/image7.png)</span></span>

<span data-ttu-id="970c7-194">**Figure 3**: Chris a été non approuvé ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-194">**Figure 3**: Chris has been Unapproved  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image9.png))</span></span>

<span data-ttu-id="970c7-195">Ensuite, déconnexion et essayez de vous connecter en tant que l’utilisateur dont le compte a été simplement non approuvées.</span><span class="sxs-lookup"><span data-stu-id="970c7-195">Next, logout and try to login as the user whose account was just unapproved.</span></span> <span data-ttu-id="970c7-196">Étant donné que l’utilisateur n’est pas approuvé, ils ne peuvent pas se connecter.</span><span class="sxs-lookup"><span data-stu-id="970c7-196">Because the user is not approved, they cannot login.</span></span> <span data-ttu-id="970c7-197">Par défaut, le contrôle de connexion affiche le message même si l’utilisateur ne peut pas ouvrir une session, quelle que soit la raison.</span><span class="sxs-lookup"><span data-stu-id="970c7-197">By default, the Login control displays the same message if the user cannot login, regardless of the reason.</span></span> <span data-ttu-id="970c7-198">Mais, dans le <a id="Tutorial6"> </a> [ *validation utilisateur informations d’identification par rapport à l’appartenance utilisateur Store* ](../membership/validating-user-credentials-against-the-membership-user-store-cs.md) didacticiel, nous avons recherché à améliorer le contrôle de connexion pour afficher un message plus approprié.</span><span class="sxs-lookup"><span data-stu-id="970c7-198">But in the <a id="Tutorial6"></a>[*Validating User Credentials Against the Membership User Store*](../membership/validating-user-credentials-against-the-membership-user-store-cs.md) tutorial we looked at enhancing the Login control to display a more appropriate message.</span></span> <span data-ttu-id="970c7-199">Comme le montre la Figure 4, Chris voit un message expliquant qu’il ne peut pas se connecter, car son compte n’est pas encore approuvé.</span><span class="sxs-lookup"><span data-stu-id="970c7-199">As Figure 4 shows, Chris is shown a message explaining that he cannot login because his account is not yet approved.</span></span>

<span data-ttu-id="970c7-200">[![Chris impossible, car son compte de connexion est non approuvé](unlocking-and-approving-user-accounts-cs/_static/image11.png)](unlocking-and-approving-user-accounts-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-200">[![Chris Cannot Login Because His Account is Unapproved](unlocking-and-approving-user-accounts-cs/_static/image11.png)](unlocking-and-approving-user-accounts-cs/_static/image10.png)</span></span>

<span data-ttu-id="970c7-201">**Figure 4**: Chris impossible, car son compte de connexion est non approuvé ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-201">**Figure 4**: Chris Cannot Login Because His Account is Unapproved  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image12.png))</span></span>

<span data-ttu-id="970c7-202">Pour tester la fonctionnalité verrouillée, tentez de vous connecter en tant qu’un utilisateur approuvé, mais utiliser un mot de passe incorrect.</span><span class="sxs-lookup"><span data-stu-id="970c7-202">To test the locked out functionality, attempt to login as an approved user, but use an incorrect password.</span></span> <span data-ttu-id="970c7-203">Répétez ce processus, le nombre de fois jusqu'à ce que le compte d’utilisateur a été verrouillé nécessaires. Le contrôle de connexion a été également mis à jour pour afficher une personnalisée du message si vous tentez de vous connecter à partir d’un compte verrouillé.</span><span class="sxs-lookup"><span data-stu-id="970c7-203">Repeat this process the necessary number of times until the user's account has been locked out. The Login control was also updated to show a custom message if attempting to login from a locked out account.</span></span> <span data-ttu-id="970c7-204">Vous savez qu’un compte a été verrouillé une fois que vous commencer à voir le message suivant à la page de connexion : « Votre compte a été verrouillé en raison de trop de tentatives de connexion non valide.</span><span class="sxs-lookup"><span data-stu-id="970c7-204">You know that an account has been locked out once you start seeing the following message at the login page: "Your account has been locked out because of too many invalid login attempts.</span></span> <span data-ttu-id="970c7-205">Contactez l’administrateur pour que votre compte déverrouillé. »</span><span class="sxs-lookup"><span data-stu-id="970c7-205">Please contact the administrator to have your account unlocked."</span></span>

<span data-ttu-id="970c7-206">Retour à la `ManageUsers.aspx` page et cliquez sur le lien gérer pour l’utilisateur verrouillé.</span><span class="sxs-lookup"><span data-stu-id="970c7-206">Return to the `ManageUsers.aspx` page and click the Manage link for the locked out user.</span></span> <span data-ttu-id="970c7-207">Comme le montre la Figure 5, vous devez voir une valeur dans le `LastLockedOutDateLabel` le bouton de déverrouiller un utilisateur doit être activé.</span><span class="sxs-lookup"><span data-stu-id="970c7-207">As Figure 5 shows, you should see a value in the `LastLockedOutDateLabel` the Unlock User button should be enabled.</span></span> <span data-ttu-id="970c7-208">Cliquez sur le bouton de déverrouiller un utilisateur pour déverrouiller le compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-208">Click the Unlock User button to unlock the user account.</span></span> <span data-ttu-id="970c7-209">Une fois que vous avez déverrouillé l’utilisateur, ils seront en mesure de se reconnecter.</span><span class="sxs-lookup"><span data-stu-id="970c7-209">Once you have unlocked the user, they will be able to login again.</span></span>

<span data-ttu-id="970c7-210">[![Dave a été verrouillé pour le système](unlocking-and-approving-user-accounts-cs/_static/image14.png)](unlocking-and-approving-user-accounts-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-210">[![Dave Has Been Locked Out of the System](unlocking-and-approving-user-accounts-cs/_static/image14.png)](unlocking-and-approving-user-accounts-cs/_static/image13.png)</span></span>

<span data-ttu-id="970c7-211">**Figure 5**: Dave a été verrouillé hors du système ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-211">**Figure 5**: Dave Has Been Locked Out of the System  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image15.png))</span></span>

## <a name="step-2-specifying-new-users-approved-status"></a><span data-ttu-id="970c7-212">Étape 2 : Spécification des nouveaux utilisateurs approuvés état</span><span class="sxs-lookup"><span data-stu-id="970c7-212">Step 2: Specifying New Users' Approved Status</span></span>

<span data-ttu-id="970c7-213">L’état approuvé est utile dans les scénarios où vous souhaitez qu’une action à effectuer avant un nouvel utilisateur est en mesure de se connecter et accéder aux fonctionnalités spécifiques à l’utilisateur du site.</span><span class="sxs-lookup"><span data-stu-id="970c7-213">The approved status is useful in scenarios where you want some action to be performed before a new user is able to login and access the user-specific features of the site.</span></span> <span data-ttu-id="970c7-214">Par exemple, vous exécutez peut-être un site de Web privé où toutes les pages, sauf pour les pages d’inscription et la connexion, sont uniquement accessibles aux utilisateurs authentifiés.</span><span class="sxs-lookup"><span data-stu-id="970c7-214">For example, you may be running a private website where all pages, except for the login and signup pages, are accessible only to authenticated users.</span></span> <span data-ttu-id="970c7-215">Mais que se passe-t-il si un étranger atteint votre site Web, recherche de la page d’abonnement et crée un compte ?</span><span class="sxs-lookup"><span data-stu-id="970c7-215">But what happens if a stranger reaches your website, finds the signup page, and creates an account?</span></span> <span data-ttu-id="970c7-216">Pour éviter ce problème, vous pouvez déplacer la page d’abonnement à un `Administration` dossier et nécessitent qu’un administrateur crée manuellement chaque compte.</span><span class="sxs-lookup"><span data-stu-id="970c7-216">To prevent this from happening you could move the signup page to an `Administration` folder, and require that an administrator manually create each account.</span></span> <span data-ttu-id="970c7-217">Vous pouvez également autoriser tout le monde à l’inscription, mais interdire l’accès de site jusqu'à ce qu’un administrateur approuve le compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-217">Alternatively, you could allow anyone to signup, but prohibit site access until an administrator approves the user account.</span></span>

<span data-ttu-id="970c7-218">Par défaut, le contrôle CreateUserWizard approuve les nouveaux comptes.</span><span class="sxs-lookup"><span data-stu-id="970c7-218">By default, the CreateUserWizard control approves new accounts.</span></span> <span data-ttu-id="970c7-219">Vous pouvez configurer ce comportement à l’aide du contrôle [ `DisableCreatedUser` propriété](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.createuserwizard.disablecreateduser.aspx).</span><span class="sxs-lookup"><span data-stu-id="970c7-219">You can configure this behavior using the control's [`DisableCreatedUser` property](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.createuserwizard.disablecreateduser.aspx).</span></span> <span data-ttu-id="970c7-220">Définissez cette propriété sur `true` de ne pas approuver les nouveaux comptes d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-220">Set this property to `true` to not approve new user accounts.</span></span>

> [!NOTE]
> <span data-ttu-id="970c7-221">Par défaut le contrôle CreateUserWizard enregistre automatiquement sur le nouveau compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-221">By default the CreateUserWizard control automatically logs on the new user account.</span></span> <span data-ttu-id="970c7-222">Ce comportement est déterminé par le contrôle [ `LoginCreatedUser` propriété](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.createuserwizard.logincreateduser.aspx).</span><span class="sxs-lookup"><span data-stu-id="970c7-222">This behavior is dictated by the control's [`LoginCreatedUser` property](https://msdn.microsoft.com/en-gb/library/system.web.ui.webcontrols.createuserwizard.logincreateduser.aspx).</span></span> <span data-ttu-id="970c7-223">Étant donné que les utilisateurs non approuvés ne peuvent pas se connecter au site, lorsque `DisableCreatedUser` est `true` le nouveau compte d’utilisateur n’est pas connecté au site, quel que soit la valeur de la `LoginCreatedUser` propriété.</span><span class="sxs-lookup"><span data-stu-id="970c7-223">Because unapproved users cannot login to the site, when `DisableCreatedUser` is `true` the new user account is not logged into the site, regardless of the value of the `LoginCreatedUser` property.</span></span>

<span data-ttu-id="970c7-224">Si vous créez par programme des nouveaux comptes d’utilisateur par le biais de la `Membership.CreateUser` (méthode), pour créer un compte d’utilisateur non approuvé utilisez une des surcharges qui acceptent le nouvel utilisateur `IsApproved` valeur de propriété comme un paramètre d’entrée.</span><span class="sxs-lookup"><span data-stu-id="970c7-224">If you are programmatically creating new user accounts via the `Membership.CreateUser` method, to create an unapproved user account use one of the overloads that accept the new user's `IsApproved` property value as an input parameter.</span></span>

## <a name="step-3-approving-users-by-verifying-their-email-address"></a><span data-ttu-id="970c7-225">Étape 3 : L’approbation des utilisateurs en vérifiant leur adresse de messagerie</span><span class="sxs-lookup"><span data-stu-id="970c7-225">Step 3: Approving Users By Verifying their Email Address</span></span>

<span data-ttu-id="970c7-226">De nombreux sites Web qui prennent en charge les comptes d’utilisateur n’approuvent pas les nouveaux utilisateurs jusqu'à ce qu’elles vérifient l’adresse de messagerie qu’ils fournis lors de l’inscription.</span><span class="sxs-lookup"><span data-stu-id="970c7-226">Many websites that support user accounts do not approve new users until they verify the email address they supplied when registering.</span></span> <span data-ttu-id="970c7-227">Ce processus de vérification est couramment utilisé pour contrecarrer les robots, les expéditeurs de courrier indésirable et les autres ne'er-do-wells car elle requiert une adresse électronique unique et vérifiées et ajoute une étape supplémentaire dans le processus d’inscription.</span><span class="sxs-lookup"><span data-stu-id="970c7-227">This verification process is commonly used to thwart bots, spammers, and other ne'er-do-wells as it requires a unique, verified email address and adds an extra step in the signup process.</span></span> <span data-ttu-id="970c7-228">Avec ce modèle, quand un nouvel utilisateur s’inscrit, elles sont envoyées un message électronique qui inclut un lien vers une page de vérification.</span><span class="sxs-lookup"><span data-stu-id="970c7-228">With this model, when a new user signs up they are sent an email message that includes a link to a verification page.</span></span> <span data-ttu-id="970c7-229">En vous rendant sur le lien, l’utilisateur s’est avérée qu’ils reçu l’e-mail et que l’adresse de messagerie fournie n’est donc valide.</span><span class="sxs-lookup"><span data-stu-id="970c7-229">By visiting the link the user has proven that they received the email and, therefore, that the email address provided is valid.</span></span> <span data-ttu-id="970c7-230">La page de vérification est responsable de l’approbation de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-230">The verification page is responsible for approving the user.</span></span> <span data-ttu-id="970c7-231">Cela peut se produire d’automatiquement, ainsi l’approbation n’importe quel utilisateur qui a atteint cette page, ou uniquement une fois que l’utilisateur fournit des informations supplémentaires, comme un [CAPTCHA](http://en.wikipedia.org/wiki/Captcha).</span><span class="sxs-lookup"><span data-stu-id="970c7-231">This may happen automatically, thereby approving any user who reaches this page, or only after the user provides some additional information, such as a [CAPTCHA](http://en.wikipedia.org/wiki/Captcha).</span></span>

<span data-ttu-id="970c7-232">Pour prendre en charge ce flux de travail, nous devons tout d’abord mettre à jour de la page de création de compte afin que les nouveaux utilisateurs sont non approuvées.</span><span class="sxs-lookup"><span data-stu-id="970c7-232">To accommodate this workflow, we need to first update the account creation page so that new users are unapproved.</span></span> <span data-ttu-id="970c7-233">Ouvrez le `EnhancedCreateUserWizard.aspx` page dans le `Membership` dossier et appliquez le contrôle CreateUserWizard `DisableCreatedUser` propriété `true`.</span><span class="sxs-lookup"><span data-stu-id="970c7-233">Open the `EnhancedCreateUserWizard.aspx` page in the `Membership` folder and set the CreateUserWizard control's `DisableCreatedUser` property to `true`.</span></span>

<span data-ttu-id="970c7-234">Ensuite, nous devons configurer le contrôle CreateUserWizard pour envoyer un e-mail au nouvel utilisateur avec des instructions sur la façon de vérifier son compte.</span><span class="sxs-lookup"><span data-stu-id="970c7-234">Next, we need to configure the CreateUserWizard control to send an email to the new user with instructions on how to verify their account.</span></span> <span data-ttu-id="970c7-235">En particulier, nous inclurons un lien dans l’e-mail pour le `Verification.aspx` page (dont nous avons encore à créer), en passant le nouvel utilisateur `UserId` via la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="970c7-235">In particular, we will include a link in the email to the `Verification.aspx` page (which we've yet to create), passing in the new user's `UserId` through the querystring.</span></span> <span data-ttu-id="970c7-236">Le `Verification.aspx` page Rechercher l’utilisateur spécifié et les marquer approuvée.</span><span class="sxs-lookup"><span data-stu-id="970c7-236">The `Verification.aspx` page will lookup the specified user and mark them approved.</span></span>

### <a name="sending-a-verification-email-to-new-users"></a><span data-ttu-id="970c7-237">Envoyer un E-mail de vérification à de nouveaux utilisateurs</span><span class="sxs-lookup"><span data-stu-id="970c7-237">Sending a Verification Email to New Users</span></span>

<span data-ttu-id="970c7-238">Pour envoyer un e-mail à partir du contrôle CreateUserWizard, configurer ses `MailDefinition` propriété correctement.</span><span class="sxs-lookup"><span data-stu-id="970c7-238">To send an email from the CreateUserWizard control, configure its `MailDefinition` property appropriately.</span></span> <span data-ttu-id="970c7-239">Comme indiqué dans le <a id="Tutorial13"> </a> [didacticiel précédent](recovering-and-changing-passwords-cs.md), les contrôles ChangePassword et PasswordRecovery incluent un [ `MailDefinition` propriété](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.maildefinition.aspx) qui fonctionne de la même manière que CreateUserWizard du contrôle.</span><span class="sxs-lookup"><span data-stu-id="970c7-239">As discussed in the <a id="Tutorial13"></a>[previous tutorial](recovering-and-changing-passwords-cs.md), the ChangePassword and PasswordRecovery controls include a [`MailDefinition` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.maildefinition.aspx) that works in the same manner as the CreateUserWizard control's.</span></span>

> [!NOTE]
> <span data-ttu-id="970c7-240">Pour utiliser le `MailDefinition` options de propriété, vous devez spécifier la remise du courrier dans `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="970c7-240">To use the `MailDefinition` property you need to specify mail delivery options in `Web.config`.</span></span> <span data-ttu-id="970c7-241">Pour plus d’informations, consultez [envoi de courrier électronique dans ASP.NET](http://aspnet.4guysfromrolla.com/articles/072606-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="970c7-241">For more information, refer to [Sending Email in ASP.NET](http://aspnet.4guysfromrolla.com/articles/072606-1.aspx).</span></span>

<span data-ttu-id="970c7-242">Commencez par créer un modèle d’e-mail nommé `CreateUserWizard.txt` dans le `EmailTemplates` dossier.</span><span class="sxs-lookup"><span data-stu-id="970c7-242">Start by creating a new email template named `CreateUserWizard.txt` in the `EmailTemplates` folder.</span></span> <span data-ttu-id="970c7-243">Pour le modèle, utilisez le texte suivant :</span><span class="sxs-lookup"><span data-stu-id="970c7-243">Use the following text for the template:</span></span>

[!code-aspx[Main](unlocking-and-approving-user-accounts-cs/samples/sample3.aspx)]

<span data-ttu-id="970c7-244">Définir le `MailDefinition'` s `BodyFileName` propriété à « ~ / EmailTemplates/CreateUserWizard.txt » et ses `Subject` propriété à « Bienvenue dans mon site Web !</span><span class="sxs-lookup"><span data-stu-id="970c7-244">Set the `MailDefinition'` s `BodyFileName` property to "~/EmailTemplates/CreateUserWizard.txt" and its `Subject` property to "Welcome to My Website!</span></span> <span data-ttu-id="970c7-245">Activez votre compte. »</span><span class="sxs-lookup"><span data-stu-id="970c7-245">Please activate your account."</span></span>

<span data-ttu-id="970c7-246">Notez que le `CreateUserWizard.txt` modèle de message électronique inclut un `<%VerificationUrl%>` espace réservé.</span><span class="sxs-lookup"><span data-stu-id="970c7-246">Note that the `CreateUserWizard.txt` email template includes a `<%VerificationUrl%>` placeholder.</span></span> <span data-ttu-id="970c7-247">C’est là où l’URL pour le `Verification.aspx` page est placée.</span><span class="sxs-lookup"><span data-stu-id="970c7-247">This is where the URL for the `Verification.aspx` page will be placed.</span></span> <span data-ttu-id="970c7-248">CreateUserWizard remplace automatiquement le `<%UserName%>` et `<%Password%>` des espaces réservés avec le nouveau compte nom d’utilisateur et mot de passe, mais il n’intègre aucune `<%VerificationUrl%>` espace réservé.</span><span class="sxs-lookup"><span data-stu-id="970c7-248">The CreateUserWizard automatically replaces the `<%UserName%>` and `<%Password%>` placeholders with the new account's username and password, but there is no built-in `<%VerificationUrl%>` placeholder.</span></span> <span data-ttu-id="970c7-249">Nous devons remplacer manuellement par l’URL de vérification appropriées.</span><span class="sxs-lookup"><span data-stu-id="970c7-249">We need to manually replace it with the appropriate verification URL.</span></span>

<span data-ttu-id="970c7-250">Pour ce faire, créez un gestionnaire d’événements pour le CreateUserWizard [ `SendingMail` événement](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.sendingmail.aspx) et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="970c7-250">To accomplish this, create an event handler for the CreateUserWizard's [`SendingMail` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.createuserwizard.sendingmail.aspx) and add the following code:</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample4.cs)]

<span data-ttu-id="970c7-251">Le `SendingMail` événement est déclenché après le `CreatedUser` événement, ce qui signifie qu’au moment où le Gestionnaire d’événements ci-dessus exécute le nouvel utilisateur compte a déjà été créé.</span><span class="sxs-lookup"><span data-stu-id="970c7-251">The `SendingMail` event fires after the `CreatedUser` event, meaning that by the time the above event handler executes the new user account has already been created.</span></span> <span data-ttu-id="970c7-252">Nous pouvons accéder à du nouvel utilisateur `UserId` valeur en appelant le `Membership.GetUser` méthode, en passant le `UserName` entré dans le contrôle CreateUserWizard.</span><span class="sxs-lookup"><span data-stu-id="970c7-252">We can access the new user's `UserId` value by calling the `Membership.GetUser` method, passing in the `UserName` entered into the CreateUserWizard control.</span></span> <span data-ttu-id="970c7-253">Ensuite, l’URL de vérification est formée.</span><span class="sxs-lookup"><span data-stu-id="970c7-253">Next, the verification URL is formed.</span></span> <span data-ttu-id="970c7-254">L’instruction `Request.Url.GetLeftPart(UriPartial.Authority)` retourne la `http://yourserver.com` partie de l’URL ; `Request.ApplicationPath` renvoie le chemin où l’application est associé à une racine.</span><span class="sxs-lookup"><span data-stu-id="970c7-254">The statement `Request.Url.GetLeftPart(UriPartial.Authority)` returns the `http://yourserver.com` portion of the URL; `Request.ApplicationPath` returns path where the application is rooted.</span></span> <span data-ttu-id="970c7-255">La vérification d’URL est alors définie en tant que `Verification.aspx?ID=userId`.</span><span class="sxs-lookup"><span data-stu-id="970c7-255">The verification URL is then defined as `Verification.aspx?ID=userId`.</span></span> <span data-ttu-id="970c7-256">Ces deux chaînes sont ensuite concaténées pour former l’URL complète.</span><span class="sxs-lookup"><span data-stu-id="970c7-256">These two strings are then concatenated to form the complete URL.</span></span> <span data-ttu-id="970c7-257">Enfin, le corps du message électronique (`e.Message.Body`) a toutes les occurrences de `<%VerificationUrl%>` remplacé par l’URL complète.</span><span class="sxs-lookup"><span data-stu-id="970c7-257">Finally, the email message body (`e.Message.Body`) has all occurrences of `<%VerificationUrl%>` replaced with the full URL.</span></span>

<span data-ttu-id="970c7-258">L’effet net est que les nouveaux utilisateurs sont non approuvés, ce qui signifie qu’ils ne peuvent pas se connecter au site.</span><span class="sxs-lookup"><span data-stu-id="970c7-258">The net effect is that new users are unapproved, meaning that they cannot log into the site.</span></span> <span data-ttu-id="970c7-259">En outre, ils sont envoyés automatiquement un e-mail contenant un lien vers l’URL de vérification (voir Figure 6).</span><span class="sxs-lookup"><span data-stu-id="970c7-259">Furthermore, they are automatically sent an email with a link to the verification URL (see Figure 6).</span></span>

<span data-ttu-id="970c7-260">[![Le nouvel utilisateur reçoit un E-mail contenant un lien vers l’URL de vérification](unlocking-and-approving-user-accounts-cs/_static/image17.png)](unlocking-and-approving-user-accounts-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-260">[![The New User Receives an Email with a Link to the Verification URL](unlocking-and-approving-user-accounts-cs/_static/image17.png)](unlocking-and-approving-user-accounts-cs/_static/image16.png)</span></span>

<span data-ttu-id="970c7-261">**Figure 6**: Le nouvel utilisateur reçoit un E-mail contenant un lien vers l’URL de vérification ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-261">**Figure 6**: The New User Receives an Email with a Link to the Verification URL  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image18.png))</span></span>

> [!NOTE]
> <span data-ttu-id="970c7-262">Étape de CreateUserWizard par défaut du contrôle CreateUserWizard affiche un message informant l’utilisateur que son compte a été créé et affiche un bouton Continuer.</span><span class="sxs-lookup"><span data-stu-id="970c7-262">The CreateUserWizard control's default CreateUserWizard step displays a message informing the user their account has been created and displays a Continue button.</span></span> <span data-ttu-id="970c7-263">Cela amène l’utilisateur vers l’URL spécifiée par le contrôle `ContinueDestinationPageUrl` propriété.</span><span class="sxs-lookup"><span data-stu-id="970c7-263">Clicking this takes the user to the URL specified by the control's `ContinueDestinationPageUrl` property.</span></span> <span data-ttu-id="970c7-264">CreateUserWizard dans `EnhancedCreateUserWizard.aspx` est configuré pour envoyer les nouveaux utilisateurs à la `~/Membership/AdditionalUserInfo.aspx`, qui invite l’utilisateur pour leur ville natale, l’URL de la page d’accueil et signature.</span><span class="sxs-lookup"><span data-stu-id="970c7-264">The CreateUserWizard in `EnhancedCreateUserWizard.aspx` is configured to send new users to the `~/Membership/AdditionalUserInfo.aspx`, which prompts the user for their hometown, homepage URL, and signature.</span></span> <span data-ttu-id="970c7-265">Étant donné que ces informations ne peuvent être ajoutées par utilisateurs connectés, il est judicieux pour mettre à jour de cette propriété pour envoyer les utilisateurs vers la page d’accueil du site (`~/Default.aspx`).</span><span class="sxs-lookup"><span data-stu-id="970c7-265">Because this information can only be added by logged on users, it makes sense to update this property to send users back to the site's homepage (`~/Default.aspx`).</span></span> <span data-ttu-id="970c7-266">En outre, le `EnhancedCreateUserWizard.aspx` page ou l’étape CreateUserWizard doit être augmentée pour informer l’utilisateur qu’ils ont reçu un e-mail de vérification et son compte n’est pas activé jusqu'à ce qu’ils suivent les instructions de cet e-mail.</span><span class="sxs-lookup"><span data-stu-id="970c7-266">Moreover, the `EnhancedCreateUserWizard.aspx` page or the CreateUserWizard step should be augmented to inform the user that they have been sent a verification email and their account won't be activated until they follow the instructions in this email.</span></span> <span data-ttu-id="970c7-267">Je laisse ces modifications en guise d’exercice pour le lecteur.</span><span class="sxs-lookup"><span data-stu-id="970c7-267">I leave these modifications as an exercise for the reader.</span></span>

### <a name="creating-the-verification-page"></a><span data-ttu-id="970c7-268">Création de la Page de vérification</span><span class="sxs-lookup"><span data-stu-id="970c7-268">Creating the Verification Page</span></span>

<span data-ttu-id="970c7-269">La dernière tâche consiste à créer le `Verification.aspx` page.</span><span class="sxs-lookup"><span data-stu-id="970c7-269">Our final task is to create the `Verification.aspx` page.</span></span> <span data-ttu-id="970c7-270">Ajouter cette page dans le dossier racine, en association avec le `Site.master` page maître.</span><span class="sxs-lookup"><span data-stu-id="970c7-270">Add this page to the root folder, associating it with the `Site.master` master page.</span></span> <span data-ttu-id="970c7-271">Comme nous l’avons fait avec la plupart des pages de contenu précédents ajoutés sur le site, supprimez le contrôle de contenu qui référence le `LoginContent` ContentPlaceHolder afin que la page de contenu utilise la page maître de contenu par défaut.</span><span class="sxs-lookup"><span data-stu-id="970c7-271">As we've done with most of the previous content pages added to the site, remove the Content control that references the `LoginContent` ContentPlaceHolder so that the content page uses the master page's default content.</span></span>

<span data-ttu-id="970c7-272">Ajouter un contrôle étiquette à la `Verification.aspx` , définissez son `ID` à `StatusMessage` et d’effacer les sa propriété text.</span><span class="sxs-lookup"><span data-stu-id="970c7-272">Add a Label Web control to the `Verification.aspx` page, set its `ID` to `StatusMessage` and clear out its text property.</span></span> <span data-ttu-id="970c7-273">Ensuite, créez le `Page_Load` Gestionnaire d’événements et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="970c7-273">Next, create the `Page_Load` event handler and add the following code:</span></span>

[!code-csharp[Main](unlocking-and-approving-user-accounts-cs/samples/sample5.cs)]

<span data-ttu-id="970c7-274">La majeure partie du code ci-dessus vérifie que le `UserId` fourni par le biais de la chaîne de requête existe, qu’elle est valide `Guid` valeur, et qu’il fait référence à un compte d’utilisateur existant.</span><span class="sxs-lookup"><span data-stu-id="970c7-274">The bulk of the above code verifies that the `UserId` supplied through the querystring exists, that it is a valid `Guid` value, and that it references an existing user account.</span></span> <span data-ttu-id="970c7-275">Si toutes ces vérifications réussissent, le compte d’utilisateur est approuvé ; Sinon, un message d’état approprié est affiché.</span><span class="sxs-lookup"><span data-stu-id="970c7-275">If all of these checks pass, the user account is approved; otherwise, a suitable status message is displayed.</span></span>

<span data-ttu-id="970c7-276">La figure 7 illustre le `Verification.aspx` page quand consultées via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="970c7-276">Figure 7 shows the `Verification.aspx` page when visited through a browser.</span></span>

<span data-ttu-id="970c7-277">[![Le nouveau compte d’utilisateur est maintenant approuvées](unlocking-and-approving-user-accounts-cs/_static/image20.png)](unlocking-and-approving-user-accounts-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="970c7-277">[![The New User's Account is Now Approved](unlocking-and-approving-user-accounts-cs/_static/image20.png)](unlocking-and-approving-user-accounts-cs/_static/image19.png)</span></span>

<span data-ttu-id="970c7-278">**Figure 7**: Le nouveau compte d’utilisateur est maintenant approuvées ([cliquez pour afficher l’image en taille réelle](unlocking-and-approving-user-accounts-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="970c7-278">**Figure 7**: The New User's Account is Now Approved  ([Click to view full-size image](unlocking-and-approving-user-accounts-cs/_static/image21.png))</span></span>

## <a name="summary"></a><span data-ttu-id="970c7-279">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="970c7-279">Summary</span></span>

<span data-ttu-id="970c7-280">Tous les comptes d’utilisateur d’appartenance ont deux États qui déterminent si l’utilisateur peut se connecter au site : `IsLockedOut` et `IsApproved`.</span><span class="sxs-lookup"><span data-stu-id="970c7-280">All Membership user accounts have two statuses that determine whether the user can log into the site: `IsLockedOut` and `IsApproved`.</span></span> <span data-ttu-id="970c7-281">Ces deux propriétés doivent être `true` pour l’utilisateur de connexion.</span><span class="sxs-lookup"><span data-stu-id="970c7-281">Both of these properties must be `true` for the user to login.</span></span>

<span data-ttu-id="970c7-282">L’utilisateur de verrouillage de statut est utilisé comme mesure de sécurité pour réduire la probabilité d’un pirate avec rupture dans un site via des méthodes de force brute.</span><span class="sxs-lookup"><span data-stu-id="970c7-282">The user's locked out status is used as a security measure to reduce the likelihood of a hacker breaking into a site through brute force methods.</span></span> <span data-ttu-id="970c7-283">Plus précisément, un utilisateur est verrouillé s’il existe un certain nombre de tentatives de connexion non valide dans une certaine fenêtre de temps.</span><span class="sxs-lookup"><span data-stu-id="970c7-283">Specifically, a user is locked out if there are a certain number of invalid login attempts within a certain window of time.</span></span> <span data-ttu-id="970c7-284">Ces limites sont configurables via les paramètres du fournisseur d’appartenances dans `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="970c7-284">These bounds are configurable through the Membership provider settings in `Web.config`.</span></span>

<span data-ttu-id="970c7-285">L’état approuvé est couramment utilisé comme un moyen pour interdire les nouveaux utilisateurs de se connecter jusqu'à ce qu’une action a été dépassé.</span><span class="sxs-lookup"><span data-stu-id="970c7-285">The approved status is commonly used as a means to prohibit new users from logging in until some action has transpired.</span></span> <span data-ttu-id="970c7-286">Par exemple le site nécessite que des comptes de tout d’abord être approuvée par l’administrateur ou, comme nous l’avons vu à l’étape 3, en vérifiant son adresse e-mail.</span><span class="sxs-lookup"><span data-stu-id="970c7-286">Perhaps the site requires that new accounts first be approved by the administrator or, as we saw in Step 3, by verifying their email address.</span></span>

<span data-ttu-id="970c7-287">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="970c7-287">Happy Programming!</span></span>

### <a name="about-the-author"></a><span data-ttu-id="970c7-288">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="970c7-288">About the Author</span></span>

<span data-ttu-id="970c7-289">Scott Mitchell, auteur de plusieurs livres sur ASP/ASP.NET et fondateur de 4GuysFromRolla.com, travaille avec les technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="970c7-289">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="970c7-290">Scott fonctionne comme un consultant indépendant, formateur et writer.</span><span class="sxs-lookup"><span data-stu-id="970c7-290">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="970c7-291">Son dernier ouvrage est *[SAM animer vous-même ASP.NET 2.0 des dernières 24 heures](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span><span class="sxs-lookup"><span data-stu-id="970c7-291">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="970c7-292">Scott peut être atteint à [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) ou via son blog à [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="970c7-292">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="970c7-293">Remerciements particuliers à...</span><span class="sxs-lookup"><span data-stu-id="970c7-293">Special Thanks To…</span></span>

<span data-ttu-id="970c7-294">Cette série de didacticiels a été révisée par plusieurs réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="970c7-294">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="970c7-295">Qui souhaitent consulter mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="970c7-295">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="970c7-296">Dans ce cas, envoyez-moi une ligne à [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="970c7-296">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="970c7-297">[Précédent](recovering-and-changing-passwords-cs.md)
> [Suivant](building-an-interface-to-select-one-user-account-from-many-vb.md)</span><span class="sxs-lookup"><span data-stu-id="970c7-297">[Previous](recovering-and-changing-passwords-cs.md)
[Next](building-an-interface-to-select-one-user-account-from-many-vb.md)</span></span>
