---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
title: Déploiement de Packages Web | Microsoft Docs
author: jrjlee
description: Cette rubrique décrit comment vous pouvez publier des packages de déploiement web à un serveur distant à l’aide de l’outil de déploiement Web Internet Information Services (IIS) (Web...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: a5c5eed2-8683-40a5-a2e1-35c9f8d17c29
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-web-packages
msc.type: authoredcontent
ms.openlocfilehash: c42fa327c324ac2b721268c56782a24755ec7225
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59391063"
---
# <a name="deploying-web-packages"></a><span data-ttu-id="79f31-103">Déploiement de packages web</span><span class="sxs-lookup"><span data-stu-id="79f31-103">Deploying Web Packages</span></span>

<span data-ttu-id="79f31-104">par [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="79f31-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="79f31-105">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="79f31-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="79f31-106">Cette rubrique décrit comment vous pouvez publier des packages de déploiement web à un serveur distant à l’aide de l’outil de déploiement Web Internet Information Services (IIS) (Web Deploy) 2.0.</span><span class="sxs-lookup"><span data-stu-id="79f31-106">This topic describes how you can publish web deployment packages to a remote server by using the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) 2.0.</span></span>
> 
> <span data-ttu-id="79f31-107">Il existe deux façons dans lequel vous pouvez déployer un package web sur un serveur distant :</span><span class="sxs-lookup"><span data-stu-id="79f31-107">There are two main ways in which you can deploy a web package to a remote server:</span></span>
> 
> - <span data-ttu-id="79f31-108">Vous pouvez utiliser l’utilitaire de ligne de commande MSDeploy.exe directement.</span><span class="sxs-lookup"><span data-stu-id="79f31-108">You can use the MSDeploy.exe command-line utility directly.</span></span>
> - <span data-ttu-id="79f31-109">Vous pouvez exécuter la *[nom_projet].deploy.cmd* qui génère le processus de génération.</span><span class="sxs-lookup"><span data-stu-id="79f31-109">You can run the *[project name].deploy.cmd* file that the build process generates.</span></span>
> 
> <span data-ttu-id="79f31-110">Le résultat final est le même quel que soit l’approche que vous utilisez.</span><span class="sxs-lookup"><span data-stu-id="79f31-110">The end result is the same regardless of which approach you use.</span></span> <span data-ttu-id="79f31-111">En fait, toutes les *. deploy.cmd* fait le fichier consiste à exécuter MSDeploy.exe avec certaines valeurs prédéterminés, afin que vous n’êtes pas obligé de fournir autant d’informations afin de déployer le package.</span><span class="sxs-lookup"><span data-stu-id="79f31-111">Essentially, all the *.deploy.cmd* file does is to run MSDeploy.exe with some predetermined values, so that you don't have to provide as much information in order to deploy the package.</span></span> <span data-ttu-id="79f31-112">Cela simplifie le processus de déploiement.</span><span class="sxs-lookup"><span data-stu-id="79f31-112">This simplifies the deployment process.</span></span> <span data-ttu-id="79f31-113">En revanche, à l’aide de MSDeploy.exe directement vous donne une plus grande flexibilité sur exactement comment votre package est déployé.</span><span class="sxs-lookup"><span data-stu-id="79f31-113">On the other hand, using MSDeploy.exe directly gives you a lot more flexibility over exactly how your package is deployed.</span></span>
> 
> <span data-ttu-id="79f31-114">Approche que vous utilisez dépend de divers facteurs, notamment quel degré de contrôle que vous avez besoin sur le processus de déploiement et si vous ciblez le service Web déployer l’Agent à distance ou le Gestionnaire de déploiement Web.</span><span class="sxs-lookup"><span data-stu-id="79f31-114">Which approach you use will depend on a variety of factors, including how much control you require over the deployment process and whether you're targeting the Web Deploy Remote Agent service or the Web Deploy Handler.</span></span> <span data-ttu-id="79f31-115">Cette rubrique explique comment utiliser chaque approche et identifie quand chaque approche est appropriée.</span><span class="sxs-lookup"><span data-stu-id="79f31-115">This topic explains how to use each approach and identifies when each approach is appropriate.</span></span>
> 
> <span data-ttu-id="79f31-116">Les tâches et les procédures pas à pas dans cette rubrique supposent que :</span><span class="sxs-lookup"><span data-stu-id="79f31-116">The tasks and walkthroughs in this topic assume that:</span></span>
> 
> - <span data-ttu-id="79f31-117">Vous avez généré et empaqueté votre application web, comme décrit dans [génération et empaquetage Web Application Projects](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-117">You've built and packaged your web application, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
> - <span data-ttu-id="79f31-118">Vous avez modifié le *SetParameters.xml* fichier pour fournir les valeurs de paramètre de droite pour votre environnement cible, comme décrit dans [configuration des paramètres pour le déploiement du Package Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-118">You've modified the *SetParameters.xml* file to provide the right parameter values for your target environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>


<span data-ttu-id="79f31-119">En cours d’exécution le [*nom_projet*]*. deploy.cmd* fichier est la façon la plus simple pour déployer un package web.</span><span class="sxs-lookup"><span data-stu-id="79f31-119">Running the [*project name*]*.deploy.cmd* file is the simplest way to deploy a web package.</span></span> <span data-ttu-id="79f31-120">En particulier, à l’aide de la *. deploy.cmd* fichier offre les avantages suivants par rapport à l’aide de MSDeploy.exe directement :</span><span class="sxs-lookup"><span data-stu-id="79f31-120">In particular, using the *.deploy.cmd* file offers these advantages over using MSDeploy.exe directly:</span></span>

- <span data-ttu-id="79f31-121">Vous n’avez pas besoin de spécifier l’emplacement du package de déploiement web&#x2014;le *. deploy.cmd* fichier sait déjà où il est.</span><span class="sxs-lookup"><span data-stu-id="79f31-121">You don't need to specify the location of the web deployment package&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="79f31-122">Vous n’avez pas besoin de spécifier l’emplacement de la *SetParameters.xml* fichier&#x2014;le *. deploy.cmd* fichier sait déjà où il est.</span><span class="sxs-lookup"><span data-stu-id="79f31-122">You don't need to specify the location of the *SetParameters.xml* file&#x2014;the *.deploy.cmd* file already knows where it is.</span></span>
- <span data-ttu-id="79f31-123">Vous n’avez pas besoin de spécifier des fournisseurs de MSDeploy source et destination&#x2014;le *. deploy.cmd* fichier sait déjà les valeurs à utiliser.</span><span class="sxs-lookup"><span data-stu-id="79f31-123">You don't need to specify source and destination MSDeploy providers&#x2014;the *.deploy.cmd* file already knows which values to use.</span></span>
- <span data-ttu-id="79f31-124">Vous n’avez pas besoin de spécifier les paramètres d’opération MSDeploy&#x2014;le *. deploy.cmd* fichier ajoute automatiquement les valeurs couramment requises à la commande MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="79f31-124">You don't need to specify MSDeploy operation settings&#x2014;the *.deploy.cmd* file adds the commonly required values to the MSDeploy.exe command automatically.</span></span>

<span data-ttu-id="79f31-125">Avant d’utiliser le *. deploy.cmd* fichier pour déployer un package web, vous devez vous assurer que :</span><span class="sxs-lookup"><span data-stu-id="79f31-125">Before you use the *.deploy.cmd* file to deploy a web package, you should ensure that:</span></span>

- <span data-ttu-id="79f31-126">Le *. deploy.cmd* fichier, le [*nom_projet*]. *SetParameters.xml* fichier et le package web ([*nom_projet*]. *ZIP*) se trouvent dans le même dossier.</span><span class="sxs-lookup"><span data-stu-id="79f31-126">The *.deploy.cmd* file, the [*project name*].*SetParameters.xml* file, and the web package ([*project name*].*zip*) are in the same folder.</span></span>
- <span data-ttu-id="79f31-127">Web Deploy (MSDeploy.exe) est installé sur l’ordinateur qui exécute le *. deploy.cmd* fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-127">Web Deploy (MSDeploy.exe) is installed on the computer that runs the *.deploy.cmd* file.</span></span>

<span data-ttu-id="79f31-128">Le *. deploy.cmd* fichier prend en charge diverses options de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="79f31-128">The *.deploy.cmd* file supports various command-line options.</span></span> <span data-ttu-id="79f31-129">Lorsque vous exécutez le fichier à partir d’une invite de commandes, il s’agit de la syntaxe de base :</span><span class="sxs-lookup"><span data-stu-id="79f31-129">When you run the file from a command prompt, this is the basic syntax:</span></span>


[!code-console[Main](deploying-web-packages/samples/sample1.cmd)]


<span data-ttu-id="79f31-130">Vous devez spécifier soit un **/T** indicateur ou un **/Y** indicateur, pour indiquer si vous souhaitez effectuer un essai ou un déploiement en direct respectivement (n’utilisez pas les deux indicateurs dans la même commande).</span><span class="sxs-lookup"><span data-stu-id="79f31-130">You must specify either a **/T** flag or a **/Y** flag, to indicate whether you want to perform a trial run or a live deployment respectively (don't use both flags in the same command).</span></span> <span data-ttu-id="79f31-131">Ce tableau explique l’objectif de chacun de ces indicateurs.</span><span class="sxs-lookup"><span data-stu-id="79f31-131">This table explains the purpose of each of these flags.</span></span>

| <span data-ttu-id="79f31-132">Indicateur</span><span class="sxs-lookup"><span data-stu-id="79f31-132">Flag</span></span> | <span data-ttu-id="79f31-133">Description</span><span class="sxs-lookup"><span data-stu-id="79f31-133">Description</span></span> |
| --- | --- |
| <span data-ttu-id="79f31-134">**/T**</span><span class="sxs-lookup"><span data-stu-id="79f31-134">**/T**</span></span> | <span data-ttu-id="79f31-135">Appelle MSDeploy.exe avec le **– whatif** indicateur qui signale une tentative d’exécution.</span><span class="sxs-lookup"><span data-stu-id="79f31-135">Calls MSDeploy.exe with the **–whatif** flag, which indicates a trial run.</span></span> <span data-ttu-id="79f31-136">Plutôt que de déployer le package, il crée un rapport de ce qui se passerait si vous n’avez déployé le package.</span><span class="sxs-lookup"><span data-stu-id="79f31-136">Rather than deploying the package, it creates a report of what would happen if you did deploy the package.</span></span> |
| <span data-ttu-id="79f31-137">**/Y**</span><span class="sxs-lookup"><span data-stu-id="79f31-137">**/Y**</span></span> | <span data-ttu-id="79f31-138">Appelle MSDeploy.exe sans le **– whatif** indicateur.</span><span class="sxs-lookup"><span data-stu-id="79f31-138">Calls MSDeploy.exe without the **–whatif** flag.</span></span> <span data-ttu-id="79f31-139">Il déploie le package sur l’ordinateur local ou le serveur de destination spécifié.</span><span class="sxs-lookup"><span data-stu-id="79f31-139">This deploys the package to the local computer or the specified destination server.</span></span> |
| <span data-ttu-id="79f31-140">**/M**</span><span class="sxs-lookup"><span data-stu-id="79f31-140">**/M**</span></span> | <span data-ttu-id="79f31-141">Spécifie le serveur de destination nom ou URL du service.</span><span class="sxs-lookup"><span data-stu-id="79f31-141">Specifies the destination server name or service URL.</span></span> <span data-ttu-id="79f31-142">Pour plus d’informations sur les valeurs que vous pouvez fournir ici, consultez le **considérations sur le point de terminaison** dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="79f31-142">For more information on the values you can provide here, see the **Endpoint Considerations** section in this topic.</span></span> <span data-ttu-id="79f31-143">Si vous omettez le **/M** indicateur, le package sera déployé sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="79f31-143">If you omit the **/M** flag, the package will be deployed to the local computer.</span></span> |
| <span data-ttu-id="79f31-144">**/A**</span><span class="sxs-lookup"><span data-stu-id="79f31-144">**/A**</span></span> | <span data-ttu-id="79f31-145">Spécifie le type d’authentification que MSDeploy.exe doit utiliser pour effectuer le déploiement.</span><span class="sxs-lookup"><span data-stu-id="79f31-145">Specifies the authentication type that MSDeploy.exe should use to perform the deployment.</span></span> <span data-ttu-id="79f31-146">Les valeurs possibles sont **NTLM** et **base**.</span><span class="sxs-lookup"><span data-stu-id="79f31-146">Possible values are **NTLM** and **Basic**.</span></span> <span data-ttu-id="79f31-147">Si vous omettez le **/A** indicateur, le type d’authentification par défaut est **NTLM** pour le déploiement vers le service Web déployer l’Agent à distance et en **base** pour le déploiement sur le Web Deploy Gestionnaire.</span><span class="sxs-lookup"><span data-stu-id="79f31-147">If you omit the **/A** flag, the authentication type defaults to **NTLM** for deployment to the Web Deploy Remote Agent service and to **Basic** for deployment to the Web Deploy Handler.</span></span> |
| <span data-ttu-id="79f31-148">**/U**</span><span class="sxs-lookup"><span data-stu-id="79f31-148">**/U**</span></span> | <span data-ttu-id="79f31-149">Spécifie le nom d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="79f31-149">Specifies the user name.</span></span> <span data-ttu-id="79f31-150">Cela s’applique uniquement si vous utilisez l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="79f31-150">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="79f31-151">**/P**</span><span class="sxs-lookup"><span data-stu-id="79f31-151">**/P**</span></span> | <span data-ttu-id="79f31-152">Spécifie le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="79f31-152">Specifies the password.</span></span> <span data-ttu-id="79f31-153">Cela s’applique uniquement si vous utilisez l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="79f31-153">This applies only if you're using basic authentication.</span></span> |
| <span data-ttu-id="79f31-154">**/L**</span><span class="sxs-lookup"><span data-stu-id="79f31-154">**/L**</span></span> | <span data-ttu-id="79f31-155">Indique que le package doit être déployé à l’instance locale d’IIS Express.</span><span class="sxs-lookup"><span data-stu-id="79f31-155">Indicates that the package should be deployed to the local IIS Express instance.</span></span> |
| <span data-ttu-id="79f31-156">**/G**</span><span class="sxs-lookup"><span data-stu-id="79f31-156">**/G**</span></span> | <span data-ttu-id="79f31-157">Spécifie que le package est déployé à l’aide de la [paramètre de fournisseur tempAgent](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="79f31-157">Specifies that the package is deployed using the [tempAgent provider setting](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span> <span data-ttu-id="79f31-158">Si vous omettez le **/G** indicateur, la valeur par défaut est **false**.</span><span class="sxs-lookup"><span data-stu-id="79f31-158">If you omit the **/G** flag, the value defaults to **false**.</span></span> |

> [!NOTE]
> <span data-ttu-id="79f31-159">Chaque fois que le processus de génération crée un package web, il crée également un fichier nommé *[nom_projet] .deploy-readme.txt* qui explique ces options de déploiement.</span><span class="sxs-lookup"><span data-stu-id="79f31-159">Every time the build process creates a web package, it also creates a file named *[project name].deploy-readme.txt* that explains these deployment options.</span></span>


<span data-ttu-id="79f31-160">Outre ces indicateurs, vous pouvez spécifier des paramètres d’opération Web Deploy comme supplémentaires *. deploy.cmd* paramètres.</span><span class="sxs-lookup"><span data-stu-id="79f31-160">In addition to these flags, you can specify Web Deploy operation settings as additional *.deploy.cmd* parameters.</span></span> <span data-ttu-id="79f31-161">Tous les autres paramètres que vous spécifiez sont simplement transmises à la commande MSDeploy.exe sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="79f31-161">Any additional settings you specify are simply passed through to the underlying MSDeploy.exe command.</span></span> <span data-ttu-id="79f31-162">Pour plus d’informations sur ces paramètres, consultez [Web déployer des paramètres de fonctionnement](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="79f31-162">For more information on these settings, see [Web Deploy Operation Settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span>

<span data-ttu-id="79f31-163">Supposons que vous souhaitez déployer le projet d’application web ContactManager.Mvc dans un environnement de test en exécutant le *. deploy.cmd* fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-163">Suppose you want to deploy the ContactManager.Mvc web application project to a test environment by running the *.deploy.cmd* file.</span></span> <span data-ttu-id="79f31-164">Votre environnement de test est configuré pour utiliser le service Web déployer l’Agent à distance, comme décrit dans [configurer un serveur Web pour déployer publication sur le Web (Agent distant)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-164">Your test environment is configured to use the Web Deploy Remote Agent service, as described in [Configure a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span> <span data-ttu-id="79f31-165">Pour déployer l’application web, vous devez suivre les étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="79f31-165">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="79f31-166">**Pour déployer une application web à l’aide du. fichier deploy.cmd**</span><span class="sxs-lookup"><span data-stu-id="79f31-166">**To deploy a web application using the .deploy.cmd file**</span></span>

1. <span data-ttu-id="79f31-167">Générer et empaqueter le projet d’application web, comme décrit dans [génération et empaquetage Web Application Projects](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-167">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="79f31-168">Modifier le *ContactManager.Mvc.SetParameters.xml* fichier doit contenir des valeurs de paramètre correct pour votre environnement de test, comme décrit dans [configuration des paramètres pour le déploiement du Package Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-168">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your test environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="79f31-169">Ouvrez une fenêtre d’invite de commandes et accédez à l’emplacement de la *ContactManager.Mvc.deploy.cmd* fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-169">Open a Command Prompt window and navigate to the location of the *ContactManager.Mvc.deploy.cmd* file.</span></span>
4. <span data-ttu-id="79f31-170">Tapez la commande suivante et appuyez sur ENTRÉE :</span><span class="sxs-lookup"><span data-stu-id="79f31-170">Type this command, and then press Enter:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample2.cmd)]

<span data-ttu-id="79f31-171">Dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="79f31-171">In this example:</span></span>

- <span data-ttu-id="79f31-172">Le **/Y** indicateur indique que vous souhaitez déployer le package, au lieu de faire un essai d’exécuter.</span><span class="sxs-lookup"><span data-stu-id="79f31-172">The **/Y** flag indicates that you want to actually deploy the package, rather than doing a trial run.</span></span>
- <span data-ttu-id="79f31-173">Le **/M** indicateur indique que vous souhaitez déployer le package sur le serveur nommé TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="79f31-173">The **/M** flag indicates that you want to deploy the package to the server named TESTWEB1.</span></span> <span data-ttu-id="79f31-174">À partir de cette valeur, MSDeploy.exe va tenter de déployer le package sur le service Web déployer l’Agent à distance à http://TESTWEB1/MSDeployAgentService.</span><span class="sxs-lookup"><span data-stu-id="79f31-174">From this value, MSDeploy.exe will attempt to deploy the package to the Web Deploy Remote Agent service at http://TESTWEB1/MSDeployAgentService.</span></span>
- <span data-ttu-id="79f31-175">Le **/A** indicateur indique que vous souhaitez utiliser l’authentification NTLM.</span><span class="sxs-lookup"><span data-stu-id="79f31-175">The **/A** flag indicates that you want to use NTLM authentication.</span></span> <span data-ttu-id="79f31-176">Par conséquent, vous n’avez pas besoin de spécifier un nom d’utilisateur et le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="79f31-176">As such, you don't need to specify a user name and password.</span></span>

<span data-ttu-id="79f31-177">Pour illustrer comment l’utilisation du *. deploy.cmd* fichier simplifie le processus de déploiement, examinons la commande MSDeploy.exe qui obtient générée et exécutée lorsque vous exécutez *ContactManager.Mvc.deploy.cmd* en utilisant les options ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="79f31-177">To illustrate how using the *.deploy.cmd* file simplifies the deployment process, take a look at the MSDeploy.exe command that gets generated and executed when you run *ContactManager.Mvc.deploy.cmd* using the options shown above.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample3.cmd)]


<span data-ttu-id="79f31-178">Pour plus d’informations sur l’utilisation de la *. deploy.cmd* fichier pour déployer un package web, consultez [Comment : Installer un Package de déploiement à l’aide du fichier deploy.cmd](https://msdn.microsoft.com/library/ff356104.aspx).</span><span class="sxs-lookup"><span data-stu-id="79f31-178">For more information on using the *.deploy.cmd* file to deploy a web package, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

## <a name="using-msdeployexe"></a><span data-ttu-id="79f31-179">À l’aide de MSDeploy.exe</span><span class="sxs-lookup"><span data-stu-id="79f31-179">Using MSDeploy.exe</span></span>

<span data-ttu-id="79f31-180">Bien que l’utilisation du *. deploy.cmd* plus généralement, le fichier simplifie le processus de déploiement, il existe certaines situations lorsqu’il est préférable d’utiliser directement les MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="79f31-180">Although using the *.deploy.cmd* file generally simplifies the deployment process, there are some situations when it's preferable to use MSDeploy.exe directly.</span></span> <span data-ttu-id="79f31-181">Exemple :</span><span class="sxs-lookup"><span data-stu-id="79f31-181">For example:</span></span>

- <span data-ttu-id="79f31-182">Si vous souhaitez déployer sur le Gestionnaire de déploiement Web en tant qu’un utilisateur non-administrateur, vous ne pouvez pas utiliser le *. deploy.cmd* fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-182">If you want to deploy to the Web Deploy Handler as a non-administrator user, you can't use the *.deploy.cmd* file.</span></span> <span data-ttu-id="79f31-183">Il s’agit d’un bogue dans Web Deploy 2.0, comme décrit sous **considérations sur le point de terminaison**.</span><span class="sxs-lookup"><span data-stu-id="79f31-183">This is due to a bug in Web Deploy 2.0, as described under **Endpoint Considerations**.</span></span>
- <span data-ttu-id="79f31-184">Si vous souhaitez basculer manuellement entre les différents *SetParameters.xml* fichiers dans différents emplacements, vous pouvez utiliser directement les MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="79f31-184">If you want to manually switch between different *SetParameters.xml* files in different locations, you may prefer to use MSDeploy.exe directly.</span></span>
- <span data-ttu-id="79f31-185">Si vous souhaitez remplacer plusieurs arguments de ligne de commande MSDeploy.exe, vous pouvez utiliser directement les MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="79f31-185">If you want to override several MSDeploy.exe command-line arguments, you may prefer to use MSDeploy.exe directly.</span></span>

<span data-ttu-id="79f31-186">Lorsque vous utilisez MSDeploy.exe, vous devez fournir trois informations essentielles :</span><span class="sxs-lookup"><span data-stu-id="79f31-186">When you use MSDeploy.exe, you need to provide three key pieces of information:</span></span>

- <span data-ttu-id="79f31-187">Un **– source** paramètre indiquant d'où proviennent vos données.</span><span class="sxs-lookup"><span data-stu-id="79f31-187">A **–source** parameter that indicates where your data is coming from.</span></span>
- <span data-ttu-id="79f31-188">Un **– dest** paramètre qui indique où vos données va.</span><span class="sxs-lookup"><span data-stu-id="79f31-188">A **–dest** parameter that indicates where your data is going to.</span></span>
- <span data-ttu-id="79f31-189">Un **– verbe** paramètre qui indique le [opération](https://technet.microsoft.com/library/dd568989(WS.10).aspx) vous souhaitez effectuer.</span><span class="sxs-lookup"><span data-stu-id="79f31-189">A **–verb** parameter that indicates the [operation](https://technet.microsoft.com/library/dd568989(WS.10).aspx) you want to perform.</span></span>

<span data-ttu-id="79f31-190">MSDeploy.exe s’appuie sur [fournisseurs Web Deploy](https://technet.microsoft.com/library/dd569040(WS.10).aspx) pour traiter les données source et de destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-190">MSDeploy.exe relies on [Web Deploy providers](https://technet.microsoft.com/library/dd569040(WS.10).aspx) to process source and destination data.</span></span> <span data-ttu-id="79f31-191">Web Deploy inclut un grand nombre de fournisseurs qui représente la plage des applications et sources de données peut fonctionner avec&#x2014;, par exemple, il existe des fournisseurs pour les bases de données SQL Server, les serveurs web IIS, les certificats, les assemblys global assembly cache (GAC), différents différents fichiers de configuration et bien d’autres types de données.</span><span class="sxs-lookup"><span data-stu-id="79f31-191">Web Deploy includes a lot of providers that represent the range of applications and data sources it can work with&#x2014;for example, there are providers for SQL Server databases, IIS web servers, certificates, global assembly cache (GAC) assemblies, various different configuration files, and lots of other types of data.</span></span> <span data-ttu-id="79f31-192">Les deux le **– source** paramètre et le **– dest** paramètre doit spécifier un fournisseur, sous la forme **– source**: [*providerName*] = [*emplacement*].</span><span class="sxs-lookup"><span data-stu-id="79f31-192">Both the **–source** parameter and the **–dest** parameter must specify a provider, in the form **–source**:[*providerName*]=[*location*].</span></span> <span data-ttu-id="79f31-193">Lorsque vous déployez un package web sur un site Web IIS, vous devez utiliser ces valeurs :</span><span class="sxs-lookup"><span data-stu-id="79f31-193">When you're deploying a web package to an IIS website, you should use these values:</span></span>

- <span data-ttu-id="79f31-194">Le **– source** fournisseur est toujours [package](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="79f31-194">The **–source** provider is always [package](https://technet.microsoft.com/library/dd569019(WS.10).aspx).</span></span> <span data-ttu-id="79f31-195">Exemple :</span><span class="sxs-lookup"><span data-stu-id="79f31-195">For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample4.cmd)]
- <span data-ttu-id="79f31-196">Le **– dest** fournisseur est toujours [automatique](https://technet.microsoft.com/library/dd569016(WS.10).aspx). Exemple :</span><span class="sxs-lookup"><span data-stu-id="79f31-196">The **–dest** provider is always [auto](https://technet.microsoft.com/library/dd569016(WS.10).aspx). For example:</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample5.cmd)]
- <span data-ttu-id="79f31-197">Le **– verbe** est toujours **synchronisation**.</span><span class="sxs-lookup"><span data-stu-id="79f31-197">The **–verb** is always **sync**.</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample6.cmd)]

<span data-ttu-id="79f31-198">En outre, vous devez spécifier plusieurs autres [paramètres spécifiques au fournisseur](https://technet.microsoft.com/library/dd569001(WS.10).aspx) et général [paramètres d’opération](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="79f31-198">In addition, you'll need to specify various other [provider-specific settings](https://technet.microsoft.com/library/dd569001(WS.10).aspx) and general [operation settings](https://technet.microsoft.com/library/dd569089(WS.10).aspx).</span></span> <span data-ttu-id="79f31-199">Par exemple, supposons que vous souhaitez déployer l’application web de ContactManager.Mvc dans un environnement intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="79f31-199">For example, suppose you want to deploy the ContactManager.Mvc web application to a staging environment.</span></span> <span data-ttu-id="79f31-200">Le déploiement cible le Gestionnaire de déploiement Web et devez utiliser l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="79f31-200">The deployment will target the Web Deploy Handler and must use basic authentication.</span></span> <span data-ttu-id="79f31-201">Pour déployer l’application web, vous devez suivre les étapes suivantes.</span><span class="sxs-lookup"><span data-stu-id="79f31-201">To deploy the web application, you need to complete the next steps.</span></span>

<span data-ttu-id="79f31-202">**Pour déployer une application web à l’aide de MSDeploy.exe**</span><span class="sxs-lookup"><span data-stu-id="79f31-202">**To deploy a web application using MSDeploy.exe**</span></span>

1. <span data-ttu-id="79f31-203">Générer et empaqueter le projet d’application web, comme décrit dans [génération et empaquetage Web Application Projects](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-203">Build and package the web application project, as described in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>
2. <span data-ttu-id="79f31-204">Modifier le *ContactManager.Mvc.SetParameters.xml* fichier doit contenir des valeurs de paramètre correct pour votre environnement intermédiaire, comme décrit dans [configuration des paramètres pour le déploiement du Package Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-204">Modify the *ContactManager.Mvc.SetParameters.xml* file to contain the correct parameter values for your staging environment, as described in [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span>
3. <span data-ttu-id="79f31-205">Ouvrez une fenêtre d’invite de commandes et accédez à l’emplacement de MSDeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="79f31-205">Open a Command Prompt window and browse to the location of MSDeploy.exe.</span></span> <span data-ttu-id="79f31-206">Il s’agit généralement à %PROGRAMFILES%\IIS\Microsoft Web déployer V2\msdeploy.exe.</span><span class="sxs-lookup"><span data-stu-id="79f31-206">This is typically at %PROGRAMFILES%\IIS\Microsoft Web Deploy V2\msdeploy.exe.</span></span>
4. <span data-ttu-id="79f31-207">Tapez la commande suivante et appuyez sur entrée (ignorez les sauts de ligne) :</span><span class="sxs-lookup"><span data-stu-id="79f31-207">Type this command, and then press Enter (disregard the line breaks):</span></span>

    [!code-console[Main](deploying-web-packages/samples/sample7.cmd)]

<span data-ttu-id="79f31-208">Dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="79f31-208">In this example:</span></span>

- <span data-ttu-id="79f31-209">Le **– source** paramètre spécifie le **package** fournisseur et indique l’emplacement du package web.</span><span class="sxs-lookup"><span data-stu-id="79f31-209">The **–source** parameter specifies the **package** provider and indicates the location of the web package.</span></span>
- <span data-ttu-id="79f31-210">Le **– dest** paramètre spécifie le **automatique** fournisseur.</span><span class="sxs-lookup"><span data-stu-id="79f31-210">The **–dest** parameter specifies the **auto** provider.</span></span> <span data-ttu-id="79f31-211">Le **computerName** paramètre fournit l’URL du service du Gestionnaire de déploiement Web sur le serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-211">The **computerName** setting provides the service URL of the Web Deploy Handler on the destination server.</span></span> <span data-ttu-id="79f31-212">Le **authtype** paramètre indique que vous souhaitez utiliser l’authentification de base, et par conséquent, vous devez fournir un **nom d’utilisateur** et un **mot de passe**.</span><span class="sxs-lookup"><span data-stu-id="79f31-212">The **authtype** setting indicates that you want to use basic authentication, and as such you need to provide a **username** and a **password**.</span></span> <span data-ttu-id="79f31-213">Enfin, le **includeAcls = « False »** paramètre indique que vous ne souhaitez pas copier les listes de contrôle d’accès (ACL) des fichiers dans votre application de web source vers le serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-213">Finally, the **includeAcls="False"** setting indicates that you don't want to copy the access control lists (ACLs) of the files in your source web application to the destination server.</span></span>
- <span data-ttu-id="79f31-214">Le **– verbe : synchronisation** argument indique que vous souhaitez répliquer le contenu source sur le serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-214">The **–verb:sync** argument indicates that you want to replicate the source content on the destination server.</span></span>
- <span data-ttu-id="79f31-215">Le **– disableLink** arguments indiquent que vous ne souhaitez pas répliquer les pools d’applications, la configuration du répertoire virtuel ou certificats Secure Sockets Layer (SSL) sur le serveur de destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-215">The **–disableLink** arguments indicate that you don't want to replicate application pools, virtual directory configuration, or Secure Sockets Layer (SSL) certificates on the destination server.</span></span> <span data-ttu-id="79f31-216">Pour plus d’informations, consultez [Web Deploy lien Extensions](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="79f31-216">For more information, see [Web Deploy Link Extensions](https://technet.microsoft.com/library/dd569028(WS.10).aspx).</span></span>
- <span data-ttu-id="79f31-217">Le **– setParamFile** paramètre fournit l’emplacement de la *SetParameters.xml* fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-217">The **–setParamFile** parameter provides the location of the *SetParameters.xml* file.</span></span>
- <span data-ttu-id="79f31-218">Le **– allowUntrusted** commutateur indique que Web Deploy doit accepter des certificats SSL qui n’ont pas été émis par une autorité de certification approuvée.</span><span class="sxs-lookup"><span data-stu-id="79f31-218">The **–allowUntrusted** switch indicates that Web Deploy should accept SSL certificates that were not issued by a trusted certification authority.</span></span> <span data-ttu-id="79f31-219">Si vous déployez dans le Gestionnaire de déploiement Web et que vous avez utilisé un certificat auto-signé pour sécuriser l’URL du service, vous devez inclure ce commutateur.</span><span class="sxs-lookup"><span data-stu-id="79f31-219">If you're deploying to the Web Deploy Handler, and you've used a self-signed certificate to secure the service URL, you need to include this switch.</span></span>

## <a name="automating-web-package-deployment"></a><span data-ttu-id="79f31-220">Automatisation du déploiement du Package Web</span><span class="sxs-lookup"><span data-stu-id="79f31-220">Automating Web Package Deployment</span></span>

<span data-ttu-id="79f31-221">Dans de nombreux scénarios d’entreprise, vous souhaiterez déployer vos packages web en tant que partie d’une plus grande étape unique ou d’un déploiement automatisé.</span><span class="sxs-lookup"><span data-stu-id="79f31-221">In a lot of enterprise scenarios, you'll want to deploy your web packages as part of a larger single-step or automated deployment.</span></span> <span data-ttu-id="79f31-222">Que vous choisissiez de déployer vos packages web en exécutant la *. deploy.cmd* de fichiers ou à l’aide de MSDeploy.exe directement, vous pouvez paramétrer vos commandes et les appeler à partir d’une cible dans un Microsoft Build Engine (MSBuild) fichier de projet.</span><span class="sxs-lookup"><span data-stu-id="79f31-222">Regardless of whether you choose to deploy your web packages by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you can parameterize your commands and call them from a target in a Microsoft Build Engine (MSBuild) project file.</span></span>

<span data-ttu-id="79f31-223">Dans l’exemple de solution du Gestionnaire de contacts, examinons le **PublishWebPackages** cibler dans le *Publish.proj* fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-223">In the Contact Manager sample solution, take a look at the **PublishWebPackages** target in the *Publish.proj* file.</span></span> <span data-ttu-id="79f31-224">Cette cible s’exécute une fois pour chaque *. deploy.cmd* fichier identifié par une liste d’éléments nommée **PublishPackages**.</span><span class="sxs-lookup"><span data-stu-id="79f31-224">This target runs once for each *.deploy.cmd* file identified by an item list named **PublishPackages**.</span></span> <span data-ttu-id="79f31-225">La cible utilise les propriétés et métadonnées d’élément pour générer un ensemble complet de valeurs d’argument pour chaque *. deploy.cmd* fichier, puis utilise le **Exec** tâche pour exécuter la commande.</span><span class="sxs-lookup"><span data-stu-id="79f31-225">The target uses properties and item metadata to build up a full set of argument values for each *.deploy.cmd* file and then uses the **Exec** task to run the command.</span></span>


[!code-xml[Main](deploying-web-packages/samples/sample8.xml)]


> [!NOTE]
> <span data-ttu-id="79f31-226">Pour une vue d’ensemble plus large dans le fichier du modèle de projet dans l’exemple de solution et une introduction aux fichiers de projet personnalisé en général, consultez [présentation du fichier projet](understanding-the-project-file.md) et [comprendre le processus de génération](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-226">For a broader overview of the project file model in the sample solution, and an introduction to custom project files in general, see [Understanding the Project File](understanding-the-project-file.md) and [Understanding the Build Process](understanding-the-build-process.md).</span></span>


## <a name="endpoint-considerations"></a><span data-ttu-id="79f31-227">Considérations sur le point de terminaison</span><span class="sxs-lookup"><span data-stu-id="79f31-227">Endpoint Considerations</span></span>

<span data-ttu-id="79f31-228">Indépendamment de si vous déployez votre package web en exécutant la *. deploy.cmd* de fichiers ou à l’aide de MSDeploy.exe directement, vous devez spécifier un nom d’ordinateur ou un point de terminaison de service pour votre déploiement.</span><span class="sxs-lookup"><span data-stu-id="79f31-228">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify a computer name or a service endpoint for your deployment.</span></span>

<span data-ttu-id="79f31-229">Si le serveur web de destination est configuré pour le déploiement à l’aide du service Web déployer l’Agent à distance, vous spécifiez l’URL du service cible en tant que votre destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-229">If the destination web server is configured for deployment using the Web Deploy Remote Agent service, you specify the target service URL as your destination.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample9.cmd)]


<span data-ttu-id="79f31-230">Sinon, vous pouvez spécifier uniquement le nom du serveur en tant que votre destination et Web Deploy déduira l’URL du service agent distant.</span><span class="sxs-lookup"><span data-stu-id="79f31-230">Alternatively, you can specify the server name alone as your destination, and Web Deploy will infer the remote agent service URL.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample10.cmd)]


<span data-ttu-id="79f31-231">Si le serveur web de destination est configuré pour le déploiement à l’aide du Gestionnaire de déploiement Web, vous devez spécifier l’adresse de point de terminaison du Service de gestion IIS Web (WMSvc) en tant que votre destination.</span><span class="sxs-lookup"><span data-stu-id="79f31-231">If the destination web server is configured for deployment using the Web Deploy Handler, you need to specify the endpoint address of the IIS Web Management Service (WMSvc) as your destination.</span></span> <span data-ttu-id="79f31-232">Par défaut, cela prend la forme :</span><span class="sxs-lookup"><span data-stu-id="79f31-232">By default, this takes the form:</span></span>


[!code-console[Main](deploying-web-packages/samples/sample11.cmd)]


<span data-ttu-id="79f31-233">Vous pouvez cibler un de ces points de terminaison à l’aide du *. deploy.cmd* MSDeploy.exe directement ou fichier.</span><span class="sxs-lookup"><span data-stu-id="79f31-233">You can target any of these endpoints using either the *.deploy.cmd* file or MSDeploy.exe directly.</span></span> <span data-ttu-id="79f31-234">Toutefois, si vous souhaitez déployer sur le Gestionnaire de déploiement Web en tant qu’un utilisateur non-administrateur, comme décrit dans [configurer un serveur Web pour déployer publication sur le Web (Gestionnaire de déploiement Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), vous devez ajouter une chaîne de requête à l’adresse de point de terminaison de service.</span><span class="sxs-lookup"><span data-stu-id="79f31-234">However, if you want to deploy to the Web Deploy Handler as a non-administrator user, as described in [Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md), you need to add a query string to the service endpoint address.</span></span>


[!code-console[Main](deploying-web-packages/samples/sample12.cmd)]


<span data-ttu-id="79f31-235">Il s’agit, car l’utilisateur non administrateur n’a pas accès au niveau du serveur IIS ; il ou elle n’a accès à un site Web IIS spécifique.</span><span class="sxs-lookup"><span data-stu-id="79f31-235">This is because the non-administrator user doesn't have server-level access to IIS; he or she only has access to a specific IIS website.</span></span> <span data-ttu-id="79f31-236">Au moment de l’écriture, en raison d’un bogue dans le Pipeline de publication Web (WPP), vous ne pouvez pas exécuter le *. deploy.cmd* fichier à l’aide d’une adresse de point de terminaison qui inclut une chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="79f31-236">At the time of writing, due to a bug in the Web Publishing Pipeline (WPP), you can't run the *.deploy.cmd* file using an endpoint address that includes a query string.</span></span> <span data-ttu-id="79f31-237">Dans ce scénario, vous devez déployer votre package web à l’aide de MSDeploy.exe directement.</span><span class="sxs-lookup"><span data-stu-id="79f31-237">In this scenario, you need to deploy your web package by using MSDeploy.exe directly.</span></span>

> [!NOTE]
> <span data-ttu-id="79f31-238">Pour plus d’informations sur le service Web déployer l’Agent à distance et le Gestionnaire de déploiement Web, consultez [choix de l’approche de droite pour le déploiement Web](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-238">For more information on the Web Deploy Remote Agent service and the Web Deploy Handler, see [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md).</span></span> <span data-ttu-id="79f31-239">Pour obtenir des conseils sur la façon de configurer vos fichiers de projet spécifique à l’environnement pour déployer sur ces points de terminaison, consultez [configurer les propriétés de déploiement pour un environnement cible](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-239">For guidance on how to configure your environment-specific project files to deploy to these endpoints, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="authentication-considerations"></a><span data-ttu-id="79f31-240">Considérations relatives à l’authentification</span><span class="sxs-lookup"><span data-stu-id="79f31-240">Authentication Considerations</span></span>

<span data-ttu-id="79f31-241">Indépendamment de si vous déployez votre package web en exécutant la *. deploy.cmd* de fichiers ou à l’aide de MSDeploy.exe directement, vous devez spécifier un type d’authentification.</span><span class="sxs-lookup"><span data-stu-id="79f31-241">Regardless of whether you deploy your web package by running the *.deploy.cmd* file or by using MSDeploy.exe directly, you need to specify an authentication type.</span></span> <span data-ttu-id="79f31-242">Web Deploy accepte deux valeurs possibles : **NTLM** ou **base**.</span><span class="sxs-lookup"><span data-stu-id="79f31-242">Web Deploy accepts two possible values: **NTLM** or **Basic**.</span></span> <span data-ttu-id="79f31-243">Si vous spécifiez l’authentification de base, vous devez également fournir un nom d’utilisateur et le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="79f31-243">If you specify basic authentication, you also need to provide a user name and password.</span></span> <span data-ttu-id="79f31-244">Il existe différents facteurs, que vous devez être conscient lorsque vous sélectionnez un type d’authentification :</span><span class="sxs-lookup"><span data-stu-id="79f31-244">There are various factors you need to be aware of when you select an authentication type:</span></span>

- <span data-ttu-id="79f31-245">Si vous déployez dans le service Web déployer l’Agent à distance, vous devez utiliser l’authentification NTLM.</span><span class="sxs-lookup"><span data-stu-id="79f31-245">If you're deploying to the Web Deploy Remote Agent service, you must use NTLM authentication.</span></span> <span data-ttu-id="79f31-246">Le service de l’agent distant n’accepte pas les informations d’identification de l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="79f31-246">The remote agent service doesn't accept basic authentication credentials.</span></span>
- <span data-ttu-id="79f31-247">Si vous déployez dans le Gestionnaire de déploiement Web, vous pouvez utiliser NTLM ou l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="79f31-247">If you're deploying to the Web Deploy Handler, you can use either NTLM or basic authentication.</span></span> <span data-ttu-id="79f31-248">Le paramètre par défaut est l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="79f31-248">The default setting is basic authentication.</span></span> <span data-ttu-id="79f31-249">Bien que l’authentification de base s’appuie sur les noms d’utilisateur et mots de passe transmis en texte brut, vos informations d’identification sont protégées comme le Gestionnaire de déploiement Web utilise toujours le chiffrement SSL.</span><span class="sxs-lookup"><span data-stu-id="79f31-249">Although basic authentication relies on user names and passwords being transmitted in plain text, your credentials are protected as the Web Deploy Handler always uses SSL encryption.</span></span>
- <span data-ttu-id="79f31-250">Si votre package web inclut une base de données et le serveur web et le serveur de base de données sont des ordinateurs distincts, vous ne pourrez pas déployer la base de données à l’aide de l’authentification NTLM en raison du [limitation de NTLM « double saut »](https://go.microsoft.com/?linkid=9805120).</span><span class="sxs-lookup"><span data-stu-id="79f31-250">If your web package includes a database, and the web server and database server are separate machines, you won't be able to deploy the database using NTLM authentication due to the [NTLM "double-hop" limitation](https://go.microsoft.com/?linkid=9805120).</span></span> <span data-ttu-id="79f31-251">Vous devez utiliser les informations d’identification SQL Server dans votre chaîne de connexion de déploiement ou fournir des informations d’identification de l’authentification de base pour Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="79f31-251">You need to either use SQL Server credentials in your deployment connection string or supply basic authentication credentials to Web Deploy.</span></span> <span data-ttu-id="79f31-252">Ce problème est décrit plus en détail dans [déploiement de bases de données d’appartenance pour les environnements d’entreprise](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-252">This issue is described in more detail in [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="79f31-253">Conclusion</span><span class="sxs-lookup"><span data-stu-id="79f31-253">Conclusion</span></span>

<span data-ttu-id="79f31-254">Cette rubrique décrit comment déployer un package web en exécutant la *. deploy.cmd* fichier ou à l’aide de MSDeploy.exe directement.</span><span class="sxs-lookup"><span data-stu-id="79f31-254">This topic described how you can deploy a web package either by running the *.deploy.cmd* file or by using MSDeploy.exe directly.</span></span> <span data-ttu-id="79f31-255">Vous avez appris lorsque chaque approche peut être appropriée, et il décrit comment vous pouvez paramétrer et exécuter une commande de déploiement dans le cadre d’un processus plus vaste de build étape unique ou automatisés.</span><span class="sxs-lookup"><span data-stu-id="79f31-255">It explained when each approach might be appropriate, and it described how you can parameterize and run a deployment command as part of a larger single-step or automated build process.</span></span>

## <a name="further-reading"></a><span data-ttu-id="79f31-256">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="79f31-256">Further Reading</span></span>

<span data-ttu-id="79f31-257">Pour obtenir des conseils sur la façon de créer et de paramétrer un package de déploiement web, consultez [génération et empaquetage Web Application Projects](building-and-packaging-web-application-projects.md) et [configuration des paramètres pour le déploiement du Package Web](configuring-parameters-for-web-package-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-257">For guidance on how to create and parameterize a web deployment package, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Configuring Parameters for Web Package Deployment](configuring-parameters-for-web-package-deployment.md).</span></span> <span data-ttu-id="79f31-258">Pour obtenir des conseils sur la façon de créer et déployer des packages web à partir d’une instance de Team Foundation Server (TFS), consultez [configuration Team Foundation Server pour le déploiement de Web automatisée](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-258">For guidance on how to build and deploy web packages from a Team Foundation Server (TFS) instance, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span> <span data-ttu-id="79f31-259">Pour plus d’informations sur la façon de personnaliser et dépanner le processus de déploiement, consultez [à l’exclusion de fichiers et dossiers de déploiement](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="79f31-259">For information on how to customize and troubleshoot the deployment process, see [Excluding Files and Folders from Deployment](../advanced-enterprise-web-deployment/excluding-files-and-folders-from-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="79f31-260">[Précédent](configuring-parameters-for-web-package-deployment.md)
> [Suivant](deploying-database-projects.md)</span><span class="sxs-lookup"><span data-stu-id="79f31-260">[Previous](configuring-parameters-for-web-package-deployment.md)
[Next](deploying-database-projects.md)</span></span>
