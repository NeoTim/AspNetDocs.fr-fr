---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Configuration d’un serveur de base de données pour le Web de publication Deploy | Microsoft Docs
author: jrjlee
description: Cette rubrique décrit comment configurer un serveur de base de données SQL Server 2008 R2 pour prendre en charge la publication et déploiement web. Les tâches décrites dans cette rubrique sont co...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: 2cd99e23904276e89cf043a2332ad07c0f01716d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59415347"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="1a7ec-104">Configuration d’un serveur de base de données pour la publication Web Deploy</span><span class="sxs-lookup"><span data-stu-id="1a7ec-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="1a7ec-105">par [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="1a7ec-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="1a7ec-106">Télécharger le PDF</span><span class="sxs-lookup"><span data-stu-id="1a7ec-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="1a7ec-107">Cette rubrique décrit comment configurer un serveur de base de données SQL Server 2008 R2 pour prendre en charge la publication et déploiement web.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="1a7ec-108">Les tâches décrites dans cette rubrique sont communes à chaque scénario de déploiement&#x2014;peu importe si vos serveurs web sont configurés pour utiliser le Service de l’Agent distant d’outil de déploiement Web IIS (Web Deploy), le Gestionnaire de déploiement Web ou le déploiement en mode hors connexion ou votre application s’exécute sur un serveur web unique ou une batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="1a7ec-109">La façon de déployer la base de données peut-être changer en fonction des exigences de sécurité et d’autres considérations.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="1a7ec-110">Par exemple, vous pouvez déployer la base de données avec ou sans les exemples de données, et peut déployer des mappages de rôle d’utilisateur ou les configurer manuellement après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="1a7ec-111">Toutefois, la manière dont vous configurez le serveur de base de données reste le même.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-111">However, the way you configure the database server remains the same.</span></span>


<span data-ttu-id="1a7ec-112">Vous n’êtes pas obligé d’installer des produits supplémentaires ou des outils à la configuration d’un serveur de base de données pour prendre en charge le déploiement web.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="1a7ec-113">En supposant que votre serveur de base de données et votre serveur web s’exécutent sur des ordinateurs différents, vous devez simplement :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="1a7ec-114">Autoriser SQL Server à communiquer à l’aide de TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="1a7ec-115">Autoriser le trafic de SQL Server via les pare-feux.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="1a7ec-116">Donner le compte ordinateur du serveur web à une connexion SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="1a7ec-117">Mapper la connexion de compte d’ordinateur à des rôles de base de données requis.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="1a7ec-118">Accordez au compte qui exécutera le déploiement une autorisations de créateur de connexion et de la base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="1a7ec-119">Pour prendre en charge les déploiements répétés, mapper la connexion de compte de déploiement pour le **db\_propriétaire** rôle de base de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="1a7ec-120">Cette rubrique sera vous montrent comment effectuer chacune de ces procédures.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="1a7ec-121">Les tâches et les procédures pas à pas dans cette rubrique supposent que vous démarrez avec une instance par défaut de SQL Server 2008 R2 est en cours d’exécution sur Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="1a7ec-122">Avant de continuer, vérifiez que :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="1a7ec-123">Windows Server 2008 R2 Service Pack 1 et toutes les mises à jour disponibles sont installés.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="1a7ec-124">Le serveur est joint au domaine.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-124">The server is domain-joined.</span></span>
- <span data-ttu-id="1a7ec-125">Le serveur a une adresse IP statique.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-125">The server has a static IP address.</span></span>
- <span data-ttu-id="1a7ec-126">SQL Server 2008 R2 Service Pack 1 et toutes les mises à jour disponibles sont installés.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="1a7ec-127">L’instance de SQL Server doit uniquement inclure la **Services moteur de base de données** rôle, qui est inclus automatiquement dans toute installation de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="1a7ec-128">Toutefois, pour faciliter la configuration et de maintenance, nous vous conseillons d’inclure le **outils de gestion – de base** et **outils de gestion – complet** rôles de serveur.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="1a7ec-129">Pour plus d’informations sur la jonction des ordinateurs à un domaine, consultez [joindre des ordinateurs au domaine et journalisation](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="1a7ec-130">Pour plus d’informations sur la configuration des adresses IP statiques, consultez [configurer une adresse IP statique](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="1a7ec-131">Pour plus d’informations sur l’installation de SQL Server, consultez [l’installation de SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>


## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="1a7ec-132">Activer l’accès à distance à SQL Server</span><span class="sxs-lookup"><span data-stu-id="1a7ec-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="1a7ec-133">SQL Server utilise TCP/IP pour communiquer avec des ordinateurs distants.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="1a7ec-134">Si votre serveur de base de données et votre serveur web se trouvent sur des ordinateurs différents, vous devez :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="1a7ec-135">Configurer les paramètres de mise en réseau de SQL Server pour permettre la communication via TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="1a7ec-136">Configurer les pare-feu matériels ou logiciels pour autoriser le trafic TCP (et dans certains cas protocole UDP (User Datagram) le trafic) sur les ports utilisés par l’instance de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="1a7ec-137">Pour activer SQL Server de communiquer via TCP/IP, utilisez le Gestionnaire de Configuration SQL Server pour modifier la configuration réseau pour votre instance de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

**<span data-ttu-id="1a7ec-138">Pour activer SQL Server de communiquer à l’aide de TCP/IP</span><span class="sxs-lookup"><span data-stu-id="1a7ec-138">To enable SQL Server to communicate using TCP/IP</span></span>**

1. <span data-ttu-id="1a7ec-139">Sur le **Démarrer** menu, pointez sur **tous les programmes**, cliquez sur **Microsoft SQL Server 2008 R2**, cliquez sur **outils de Configuration**, puis cliquez sur **Gestionnaire de Configuration SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="1a7ec-140">Dans le volet d’arborescence, développez **Configuration du réseau SQL Server**, puis cliquez sur **protocoles pour MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="1a7ec-141">Si vous avez installé plusieurs instances de SQL Server, vous verrez un <strong>protocoles pour</strong><em>[NOM_INSTANCE]</em> élément pour chaque instance.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="1a7ec-142">Vous devez configurer les paramètres réseau sur une instance par instance base.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="1a7ec-143">Dans le volet détails, cliquez sur le **TCP/IP** de ligne, puis cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="1a7ec-144">Dans le **avertissement** boîte de dialogue, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="1a7ec-145">Vous devez redémarrer le service MSSQLSERVER que votre nouvelle configuration de réseau prennent effet.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="1a7ec-146">Vous pouvez faire à une invite de commandes, à partir de la console Services, ou à partir de SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="1a7ec-147">Dans cette procédure, vous allez utiliser SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="1a7ec-148">Fermez le Gestionnaire de Configuration SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="1a7ec-149">Sur le **Démarrer** menu, pointez sur **tous les programmes**, cliquez sur **Microsoft SQL Server 2008 R2**, puis cliquez sur **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="1a7ec-150">Dans le **se connecter au serveur** boîte de dialogue le **nom du serveur** zone, tapez le nom du serveur de base de données, puis cliquez sur **Connect**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="1a7ec-151">Dans le **Explorateur d’objets** volet, cliquez sur le nœud de serveur parent (par exemple, **TESTDB1**), puis cliquez sur **redémarrer**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="1a7ec-152">Dans le **Microsoft SQL Server Management Studio** boîte de dialogue, cliquez sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="1a7ec-153">Lorsque le service a redémarré, fermez SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="1a7ec-154">Pour autoriser le trafic de SQL Server à travers un pare-feu, vous devez d’abord savoir quels ports à l’aide de votre instance de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="1a7ec-155">Cela varie selon la façon dont l’instance de SQL Server a été créé et configuré :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="1a7ec-156">Un *instance par défaut* de SQL Server écoute (et répond aux) demandes sur le port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="1a7ec-157">Un *instance nommée* de SQL Server écoute (et répond aux) demandes sur un port TCP attribué dynamiquement.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="1a7ec-158">Si le service SQL Server Browser est activé, les clients peuvent interroger le service sur le port UDP 1434 pour déterminer le port TCP à utiliser pour une instance particulière de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="1a7ec-159">Toutefois, ce service est souvent désactivé pour des raisons de sécurité.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="1a7ec-160">En supposant que vous utilisez une instance par défaut de SQL Server, vous devez configurer votre pare-feu pour autoriser le trafic.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="1a7ec-161">Sens</span><span class="sxs-lookup"><span data-stu-id="1a7ec-161">Direction</span></span> | <span data-ttu-id="1a7ec-162">À partir du Port</span><span class="sxs-lookup"><span data-stu-id="1a7ec-162">From Port</span></span> | <span data-ttu-id="1a7ec-163">Au Port</span><span class="sxs-lookup"><span data-stu-id="1a7ec-163">To Port</span></span> | <span data-ttu-id="1a7ec-164">Type de port</span><span class="sxs-lookup"><span data-stu-id="1a7ec-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1a7ec-165">Trafic entrant</span><span class="sxs-lookup"><span data-stu-id="1a7ec-165">Inbound</span></span> | <span data-ttu-id="1a7ec-166">Any</span><span class="sxs-lookup"><span data-stu-id="1a7ec-166">Any</span></span> | <span data-ttu-id="1a7ec-167">1433</span><span class="sxs-lookup"><span data-stu-id="1a7ec-167">1433</span></span> | <span data-ttu-id="1a7ec-168">TCP</span><span class="sxs-lookup"><span data-stu-id="1a7ec-168">TCP</span></span> |
| <span data-ttu-id="1a7ec-169">Sortant</span><span class="sxs-lookup"><span data-stu-id="1a7ec-169">Outbound</span></span> | <span data-ttu-id="1a7ec-170">1433</span><span class="sxs-lookup"><span data-stu-id="1a7ec-170">1433</span></span> | <span data-ttu-id="1a7ec-171">Any</span><span class="sxs-lookup"><span data-stu-id="1a7ec-171">Any</span></span> | <span data-ttu-id="1a7ec-172">TCP</span><span class="sxs-lookup"><span data-stu-id="1a7ec-172">TCP</span></span> |
  

> [!NOTE]
> <span data-ttu-id="1a7ec-173">Techniquement, un ordinateur client utilisera un port TCP attribué de façon aléatoire entre 1024 et 5000 pour communiquer avec SQL Server, et vous pouvez limiter vos règles de pare-feu en conséquence.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="1a7ec-174">Pour plus d’informations sur les ports SQL Server et les pare-feu, consultez [les numéros de port TCP/IP nécessaires pour communiquer à SQL via un pare-feu](https://go.microsoft.com/?linkid=9805125) et [Comment : Configurer un serveur pour écouter un port de TCP spécifique (Gestionnaire de Configuration SQL Server)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>


<span data-ttu-id="1a7ec-175">Dans la plupart des environnements Windows Server, vous devrez probablement configurer des pare-feu de Windows sur le serveur de base de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="1a7ec-176">Par défaut, les pare-feu Windows autorise tout le trafic sortant, sauf si une règle lui interdit spécifiquement.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="1a7ec-177">Pour activer votre serveur web pour atteindre votre base de données, vous devez configurer une règle entrante qui autorise le trafic TCP sur le numéro de port qui utilise l’instance de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="1a7ec-178">Si vous utilisez une instance par défaut de SQL Server, vous pouvez utiliser la procédure suivante pour configurer cette règle.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

**<span data-ttu-id="1a7ec-179">Pour configurer le pare-feu Windows pour permettre la communication avec une instance de SQL Server par défaut</span><span class="sxs-lookup"><span data-stu-id="1a7ec-179">To configure Windows Firewall to allow communication with a default SQL Server instance</span></span>**

1. <span data-ttu-id="1a7ec-180">Sur le serveur de base de données, sur le **Démarrer** menu, pointez sur **outils d’administration**, puis cliquez sur **pare-feu Windows avec fonctions avancées de sécurité**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="1a7ec-181">Dans le volet d’arborescence, cliquez sur **règles de trafic entrant**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="1a7ec-182">Dans le **Actions** volet, sous **règles de trafic entrant**, cliquez sur **nouvelle règle**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="1a7ec-183">Dans le trafic entrant Assistant Nouvelle règle, sur le **Type de règle** page, sélectionnez **Port**, puis cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="1a7ec-184">Sur le **protocole et Ports** page, vérifiez que **TCP** est sélectionnée, puis, dans le **ports locaux spécifiques** , tapez **1433**, puis cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="1a7ec-185">Sur le **Action** page, laissez l’option **autoriser la connexion** sélectionné, cliquez sur **suivant**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="1a7ec-186">Sur le **profil** page, laissez l’option **domaine** sélectionné, désactivez le **privé** et **Public** cases à cocher, puis cliquez sur  **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="1a7ec-187">Sur le **nom** page, donnez un nom descriptif convenablement à la règle (par exemple, **instance par défaut de SQL Server – accès réseau**), puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="1a7ec-188">Pour plus d’informations sur la configuration des pare-feu de Windows pour SQL Server, en particulier si vous avez besoin communiquer avec SQL Server sur les ports non standards ou dynamiques, consultez [Comment : Configurer un pare-feu Windows pour accéder au moteur de base de données](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="1a7ec-189">Configurer des connexions et autorisations de base de données</span><span class="sxs-lookup"><span data-stu-id="1a7ec-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="1a7ec-190">Lorsque vous déployez une application web pour Internet Information Services (IIS), l’application s’exécute à l’aide de l’identité du pool d’applications.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="1a7ec-191">Dans un environnement de domaine, les identités du pool d’applications utilisent le compte d’ordinateur du serveur sur lequel elles s’exécutent à accéder aux ressources réseau.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="1a7ec-192">Comptes d’ordinateur prennent la forme <em>[Nom_domaine]</em><strong>\</strong ><em>[nom_machine]</em><strong>$</strong>&#x2014;, par exemple, <strong>FABRIKAM\TESTWEB1$</strong>.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="1a7ec-193">Pour permettre à votre application web pour accéder à une base de données sur le réseau, vous devez :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="1a7ec-194">Ajouter une connexion pour le compte ordinateur du serveur web à l’instance de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="1a7ec-195">Mapper la connexion de compte d’ordinateur à des rôles de base de données requis (en général **db\_datareader** et **db\_datawriter**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="1a7ec-196">Si votre application web s’exécute sur une batterie de serveurs, plutôt que sur un seul serveur, vous devez répéter ces procédures pour chaque serveur web de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="1a7ec-197">Pour plus d’informations sur les identités du pool d’applications et l’accès aux ressources réseau, consultez [identités du Pool d’applications](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>


<span data-ttu-id="1a7ec-198">Vous pouvez considérer ces tâches de différentes manières.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="1a7ec-199">Pour créer la connexion, vous pouvez :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-199">To create the login, you can either:</span></span>

- <span data-ttu-id="1a7ec-200">Créez la connexion manuellement sur le serveur de base de données, à l’aide de Transact-SQL ou SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="1a7ec-201">Utiliser un projet de serveur SQL Server 2008 dans Visual Studio pour créer et déployer la connexion.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="1a7ec-202">Une connexion SQL Server est un objet au niveau du serveur, plutôt que sur un objet de niveau de base de données, il n’est pas dépendante de la base de données que vous souhaitez déployer.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="1a7ec-203">Par conséquent, vous pouvez créer la connexion à tout moment, et l’approche la plus simple est souvent créer manuellement la connexion sur le serveur de base de données avant de commencer le déploiement de bases de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="1a7ec-204">Vous pouvez utiliser la procédure suivante pour créer une connexion dans SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

**<span data-ttu-id="1a7ec-205">Pour créer une connexion SQL Server pour le compte ordinateur du serveur web</span><span class="sxs-lookup"><span data-stu-id="1a7ec-205">To create a SQL Server login for the web server machine account</span></span>**

1. <span data-ttu-id="1a7ec-206">Sur le serveur de base de données, sur le **Démarrer** menu, pointez sur **tous les programmes**, cliquez sur **Microsoft SQL Server 2008 R2**, puis cliquez sur **SQL Server Management Studio** .</span><span class="sxs-lookup"><span data-stu-id="1a7ec-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="1a7ec-207">Dans le **se connecter au serveur** boîte de dialogue le **nom du serveur** zone, tapez le nom du serveur de base de données, puis cliquez sur **Connect**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="1a7ec-208">Dans le **Explorateur d’objets** volet, avec le bouton droit **sécurité**, pointez sur **New**, puis cliquez sur **connexion**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="1a7ec-209">Dans le **nouvelle connexion** boîte de dialogue le **nom_compte_de_connexion** , tapez le nom de votre compte ordinateur du serveur web (par exemple, **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="1a7ec-210">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-210">Click **OK**.</span></span>

<span data-ttu-id="1a7ec-211">À ce stade, votre serveur de base de données est prêt pour la publication Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="1a7ec-212">Toutefois, les solutions que vous déployez ne fonctionnent pas jusqu'à ce que vous mappez la connexion de compte d’ordinateur pour les rôles de base de données requis.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="1a7ec-213">Mappage de la connexion à des rôles de base de données nécessite beaucoup plus de réflexion, en tant que vous ne peut pas rôles de la carte jusqu'à ce qu’après avoir avez déployé la base de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="1a7ec-214">Pour mapper la connexion de compte d’ordinateur pour les rôles de base de données requis, vous pouvez :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="1a7ec-215">Attribuer les rôles de base de données à la connexion manuellement, une fois que vous avez déployé la base de données pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="1a7ec-216">Utiliser un script de post-déploiement pour attribuer les rôles de base de données à la connexion.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="1a7ec-217">Pour plus d’informations sur l’automatisation de la création des connexions et des mappages de rôle de base de données, consultez [déploiement des appartenances de rôle de base de données pour les environnements de Test](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="1a7ec-218">Ou bien, vous pouvez utiliser la procédure suivante pour mapper la connexion de compte d’ordinateur pour les rôles de base de données requis manuellement.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="1a7ec-219">N’oubliez pas que vous ne pouvez pas effectuer cette procédure jusqu'à ce que *après* vous avez déployé la base de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

**<span data-ttu-id="1a7ec-220">Pour mapper des rôles de base de données pour la connexion au compte ordinateur serveur web</span><span class="sxs-lookup"><span data-stu-id="1a7ec-220">To map database roles to the web server machine account login</span></span>**

1. <span data-ttu-id="1a7ec-221">Ouvrez SQL Server Management Studio comme avant.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="1a7ec-222">Dans le **Explorateur d’objets** volet, développez le **sécurité** nœud, développez le **connexions** nœud, puis double-cliquez sur la connexion de compte d’ordinateur (par exemple,  **FABRIKAM\TESTWEB1$**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="1a7ec-223">Dans le **propriétés de la connexion** boîte de dialogue, cliquez sur **mappage de l’utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="1a7ec-224">Dans le **utilisateurs mappés à cette connexion** table, sélectionnez le nom de votre base de données (par exemple, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="1a7ec-225">Dans le **appartenance au rôle de la base de données :** *[nom de la base de données]* , sélectionnez les autorisations requises.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="1a7ec-226">Dans le cas de l’exemple de solution du Gestionnaire de contacts, vous devez sélectionner le **db\_datareader** et **db\_datawriter** rôles.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="1a7ec-227">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-227">Click **OK**.</span></span>

<span data-ttu-id="1a7ec-228">Alors que le mappage manuellement les rôles de base de données est souvent plus largement suffisante pour les environnements de test, il est moins précise pour les déploiements automatisés ou un seul clic aux environnements de production ou intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="1a7ec-229">Vous trouverez plus d’informations sur l’automatisation de ce type de tâche à l’aide de scripts de post-déploiement dans [déploiement des appartenances de rôle de base de données pour les environnements de Test](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1a7ec-230">Pour plus d’informations sur les projets serveur et de base de données, consultez [projets de base de données Visual Studio 2010 SQL Server](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>


## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="1a7ec-231">Configurer des autorisations pour le compte de déploiement</span><span class="sxs-lookup"><span data-stu-id="1a7ec-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="1a7ec-232">Si le compte que vous utiliserez pour exécuter le déploiement n’est pas un administrateur de SQL Server, vous devrez également créer une connexion pour ce compte.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="1a7ec-233">Pour créer la base de données, le compte doit être un membre de la **dbcreator** rôle de serveur ou disposer d’autorisations équivalentes.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="1a7ec-234">Lorsque vous utilisez Web Deploy ou VSDBCMD pour déployer une base de données, vous pouvez utiliser les informations d’identification Windows ou SQL Server (si votre instance de SQL Server est configuré pour prendre en charge l’authentification en mode mixte).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="1a7ec-235">La procédure suivante suppose que vous souhaitez utiliser les informations d’identification Windows, mais rien ne vous empêche de spécifier un nom d’utilisateur SQL Server et le mot de passe dans votre chaîne de connexion lorsque vous configurez le déploiement.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>


**<span data-ttu-id="1a7ec-236">Pour définir des autorisations pour le compte de déploiement</span><span class="sxs-lookup"><span data-stu-id="1a7ec-236">To set up permissions for the deployment account</span></span>**

1. <span data-ttu-id="1a7ec-237">Ouvrez SQL Server Management Studio comme avant.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="1a7ec-238">Dans le **Explorateur d’objets** volet, avec le bouton droit **sécurité**, pointez sur **New**, puis cliquez sur **connexion**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="1a7ec-239">Dans le **nouvelle connexion** boîte de dialogue le **nom_compte_de_connexion** , tapez le nom de votre compte de déploiement (par exemple, **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="1a7ec-240">Dans le **sélectionner une page** volet, cliquez sur **rôles de serveur**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="1a7ec-241">Sélectionnez **dbcreator**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="1a7ec-242">Pour prendre en charge les déploiements suivants, vous devrez également ajouter le compte de déploiement à le **db\_propriétaire** sur la base de données après le premier déploiement.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="1a7ec-243">Il s’agit, car sur les déploiements suivants vous êtes la modification du schéma de base de données existante, au lieu de créer une nouvelle base de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="1a7ec-244">Comme décrit dans la section précédente, vous ne pouvez pas ajouter un utilisateur à un rôle de base de données jusqu'à ce que vous avez créé la base de données, pour des raisons évidentes.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

**<span data-ttu-id="1a7ec-245">Pour mapper la connexion de compte de déploiement pour la base de données\_rôle de propriétaire de la base de données</span><span class="sxs-lookup"><span data-stu-id="1a7ec-245">To map the deployment account login to the db\_owner database role</span></span>**

1. <span data-ttu-id="1a7ec-246">Ouvrez SQL Server Management Studio comme avant.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="1a7ec-247">Dans le **Explorateur d’objets** fenêtre, développez le **sécurité** nœud, développez le **connexions** nœud, puis double-cliquez sur la connexion de compte d’ordinateur (par exemple,  **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="1a7ec-248">Dans le **propriétés de la connexion** boîte de dialogue, cliquez sur **mappage de l’utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="1a7ec-249">Dans le **utilisateurs mappés à cette connexion** table, sélectionnez le nom de votre base de données (par exemple, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="1a7ec-250">Dans le **appartenance au rôle de la base de données :** *[nom de la base de données]* liste, sélectionnez le **db\_propriétaire** rôle.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="1a7ec-251">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="1a7ec-252">Conclusion</span><span class="sxs-lookup"><span data-stu-id="1a7ec-252">Conclusion</span></span>

<span data-ttu-id="1a7ec-253">Votre serveur de base de données doit désormais être prêt à accepter des déploiements de base de données distante et pour autoriser les serveurs web IIS à distance accéder à vos bases de données.</span><span class="sxs-lookup"><span data-stu-id="1a7ec-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="1a7ec-254">Avant de tenter de déployer et utiliser des bases de données, vous souhaiterez probablement vérifier ces points clés :</span><span class="sxs-lookup"><span data-stu-id="1a7ec-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="1a7ec-255">Vous avez configuré SQL Server pour accepter les connexions TCP/IP distantes ?</span><span class="sxs-lookup"><span data-stu-id="1a7ec-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="1a7ec-256">Avez-vous configuré tous les pare-feu pour autoriser le trafic SQL Server ?</span><span class="sxs-lookup"><span data-stu-id="1a7ec-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="1a7ec-257">Si vous avez créé une connexion de compte d’ordinateur pour chaque serveur web qui accède à SQL Server ?</span><span class="sxs-lookup"><span data-stu-id="1a7ec-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="1a7ec-258">Votre déploiement de base de données inclut-il un script pour créer des mappages de rôle d’utilisateur, ou vous devez les créer manuellement une fois que vous déployez la base de données pour la première fois ?</span><span class="sxs-lookup"><span data-stu-id="1a7ec-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="1a7ec-259">Vous avez créé une connexion pour le compte de déploiement et ajouté à la **dbcreator** rôle de serveur ?</span><span class="sxs-lookup"><span data-stu-id="1a7ec-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="1a7ec-260">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="1a7ec-260">Further Reading</span></span>

<span data-ttu-id="1a7ec-261">Pour obtenir des conseils sur le déploiement des projets de base de données, consultez [déploiement de projets de base de données](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="1a7ec-262">Pour obtenir des conseils sur la création des appartenances aux rôles de base de données en exécutant un script de post-déploiement, consultez [déploiement des appartenances de rôle de base de données pour les environnements de Test](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="1a7ec-263">Pour obtenir des conseils sur la façon de relever les défis de déploiement unique qui présentent des bases de données d’appartenance, consultez [déploiement de bases de données d’appartenance pour les environnements d’entreprise](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1a7ec-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1a7ec-264">[Précédent](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [Suivant](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="1a7ec-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>
