---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Configuration des propriétés de déploiement pour un environnement cible | Microsoft Docs
author: jrjlee
description: Cette rubrique décrit comment configurer les propriétés spécifiques à l’environnement pour déployer l’exemple de solution de gestionnaire de contacts dans un environnement cible spécifique...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 74fc0f4cb7d3ed7d1ef091cdb8fa829091af5a7a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59388684"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a><span data-ttu-id="30dd2-103">Configuration des propriétés de déploiement pour un environnement cible</span><span class="sxs-lookup"><span data-stu-id="30dd2-103">Configuring Deployment Properties for a Target Environment</span></span>

<span data-ttu-id="30dd2-104">par [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="30dd2-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="30dd2-105">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="30dd2-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="30dd2-106">Cette rubrique décrit comment configurer les propriétés spécifiques à l’environnement pour déployer l’exemple de solution de gestionnaire de contacts dans un environnement cible spécifique.</span><span class="sxs-lookup"><span data-stu-id="30dd2-106">This topic describes how to configure environment-specific properties in order to deploy the sample Contact Manager solution to a specific target environment.</span></span>


<span data-ttu-id="30dd2-107">Cette rubrique fait partie d’une série de didacticiels basées sur les exigences de déploiement d’entreprise de la société fictive Fabrikam, Inc. Cette série de didacticiels utilise un exemple de solution&#x2014;le [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;pour représenter une application web avec un niveau réaliste de complexité, y compris une application ASP.NET MVC 3, une Communication de Windows Foundation (WCF) service et un projet de base de données.</span><span class="sxs-lookup"><span data-stu-id="30dd2-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) solution&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="30dd2-108">La méthode de déploiement au cœur de ces didacticiels est basée sur l’approche de fichier de projet de fractionnement décrite dans [comprendre le processus de génération](../web-deployment-in-the-enterprise/understanding-the-build-process.md), dans lequel le processus de génération est contrôlé par deux fichiers de projet&#x2014;contenant un seul les instructions qui s’appliquent à chaque environnement de destination et celui qui contient les paramètres de génération et de déploiement spécifiques à l’environnement de génération.</span><span class="sxs-lookup"><span data-stu-id="30dd2-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="30dd2-109">Au moment de la génération, le fichier de projet spécifique à l’environnement est fusionné dans le fichier de projet d’indépendant de l’environnement pour former un ensemble complet d’instructions de génération.</span><span class="sxs-lookup"><span data-stu-id="30dd2-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="process-overview"></a><span data-ttu-id="30dd2-110">Vue d’ensemble du processus</span><span class="sxs-lookup"><span data-stu-id="30dd2-110">Process Overview</span></span>

<span data-ttu-id="30dd2-111">Le fichier de projet que vous utiliserez pour générer et déployer la solution Gestionnaire de contacts est divisé en deux fichiers physiques :</span><span class="sxs-lookup"><span data-stu-id="30dd2-111">The project file that you'll use to build and deploy the Contact Manager solution is split into two physical files:</span></span>

- <span data-ttu-id="30dd2-112">Une qui contient universel génère les paramètres et les instructions (le *Publish.proj* fichier).</span><span class="sxs-lookup"><span data-stu-id="30dd2-112">One that contains universal build settings and instructions (the *Publish.proj* file).</span></span>
- <span data-ttu-id="30dd2-113">Paramètres de build qui contient spécifiques à l’environnement (*Env-Dev.proj*, *Env-Stage.proj*, et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="30dd2-113">One that contains environment-specific build settings (*Env-Dev.proj*, *Env-Stage.proj*, and so on).</span></span>

<span data-ttu-id="30dd2-114">Au moment de la génération, le fichier de projet spécifiques à l’environnement approprié est fusionné dans universel *Publish.proj* fichier pour former un ensemble complet d’instructions de génération.</span><span class="sxs-lookup"><span data-stu-id="30dd2-114">At build time, the appropriate environment-specific project file is merged into the universal *Publish.proj* file to form a complete set of build instructions.</span></span> <span data-ttu-id="30dd2-115">Vous pouvez configurer le déploiement dans des environnements de destination spécifique en créant ou en personnalisant les fichiers de projet spécifique à un environnement avec des paramètres qui décrivent votre propre scénario de déploiement.</span><span class="sxs-lookup"><span data-stu-id="30dd2-115">You can configure deployment to specific destination environments by creating or customizing environment-specific project files with settings that describe your own deployment scenario.</span></span>

<span data-ttu-id="30dd2-116">Un grand nombre de ces valeurs est déterminé par la configuration de votre environnement de destination&#x2014;en particulier, si votre serveur web de cible est configuré pour utiliser le Service de l’Agent de déploiement Web (l’agent distant) ou le Gestionnaire de déploiement Web.</span><span class="sxs-lookup"><span data-stu-id="30dd2-116">Lots of these values are determined by how your destination environment is configured&#x2014;in particular, whether your target web server is configured to use the Web Deployment Agent Service (the remote agent) or the Web Deploy Handler.</span></span> <span data-ttu-id="30dd2-117">Pour plus d’informations sur ces approches et pour obtenir des conseils sur le choix de la bonne approche pour votre propre environnement, consultez [choix de l’approche de droite pour le déploiement Web](choosing-the-right-approach-to-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-117">For more information on these approaches, and for guidance on choosing the right approach for your own environment, see [Choosing the Right Approach to Web Deployment](choosing-the-right-approach-to-web-deployment.md).</span></span>

<span data-ttu-id="30dd2-118">Le [Contact Manager scénario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requiert deux fichiers de projet spécifique à l’environnement :</span><span class="sxs-lookup"><span data-stu-id="30dd2-118">The [Contact Manager scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) requires two environment-specific project files:</span></span>

- <span data-ttu-id="30dd2-119">Déploiement dans un environnement de test de développeur (*Env-Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="30dd2-119">Deployment to a developer test environment (*Env-Dev.proj*).</span></span> <span data-ttu-id="30dd2-120">L’environnement de test de développement est configuré pour accepter les déploiements à distance à l’aide de l’agent distant, comme décrit dans [scénario : Configuration d’un environnement de Test pour le déploiement Web](scenario-configuring-a-test-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-120">The developer test environment is configured to accept remote deployments using the remote agent, as described in [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="30dd2-121">Ce fichier doit fournir l’agent distant, adresse de point de terminaison ainsi que les paramètres spécifiques à l’emplacement tels que les chaînes de connexion et les points de terminaison de service.</span><span class="sxs-lookup"><span data-stu-id="30dd2-121">This file needs to provide the remote agent endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>
- <span data-ttu-id="30dd2-122">Déploiement dans un environnement intermédiaire (*Env-Stage.proj*).</span><span class="sxs-lookup"><span data-stu-id="30dd2-122">Deployment to a staging environment (*Env-Stage.proj*).</span></span> <span data-ttu-id="30dd2-123">L’environnement intermédiaire est configuré pour accepter les déploiements à distance à l’aide du Gestionnaire de déploiement Web, comme décrit dans [scénario : Configuration d’un environnement de préproduction pour le déploiement Web](scenario-configuring-a-staging-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-123">The staging environment is configured to accept remote deployments using the Web Deploy Handler, as described in [Scenario: Configuring a Staging Environment for Web Deployment](scenario-configuring-a-staging-environment-for-web-deployment.md).</span></span> <span data-ttu-id="30dd2-124">Ce fichier doit fournir l’adresse de point de terminaison de gestionnaire de déploiement Web ainsi que les paramètres de géolocalisation telles que des chaînes de connexion et de points de terminaison de service.</span><span class="sxs-lookup"><span data-stu-id="30dd2-124">This file needs to provide the Web Deploy Handler endpoint address as well as location-specific settings like connection strings and service endpoints.</span></span>

<span data-ttu-id="30dd2-125">Il est important de noter que les paramètres configurés dans le fichier de projet spécifique à l’environnement n’affectent pas le contenu du package web lui-même&#x2014;au lieu de cela, ils contrôlent la manière dont le package est déployé et les valeurs de paramètre sont fournies lorsque le package est extraits.</span><span class="sxs-lookup"><span data-stu-id="30dd2-125">It's important to note that the settings you configure in the environment-specific project file don't affect the contents of the web package itself&#x2014;instead, they control how the package is deployed and what parameter values are provided when the package is extracted.</span></span> <span data-ttu-id="30dd2-126">Vous importez le package web dans l’environnement de production manuellement, comme décrit dans [scénario : Configuration d’un environnement de Production pour le déploiement Web](scenario-configuring-a-production-environment-for-web-deployment.md) et [installer manuellement des Packages Web](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), de sorte que peu importe quels paramètres vous avez utilisé dans le fichier de projet spécifique à un environnement quand vous avez généré le package.</span><span class="sxs-lookup"><span data-stu-id="30dd2-126">You're importing the web package into the production environment manually, as described in [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md) and [Manually Installing Web Packages](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), so it doesn't matter what settings you used in the environment-specific project file when you generated the package.</span></span> <span data-ttu-id="30dd2-127">Gestionnaire des Services Internet (IIS) vous demandera des valeurs paramétrables, telles que des chaînes de connexion et les points de terminaison de service, lorsque vous importez le package.</span><span class="sxs-lookup"><span data-stu-id="30dd2-127">Internet Information Services (IIS) Manager will prompt you for any parameterized values, like connection strings and service endpoints, when you import the package.</span></span>

<span data-ttu-id="30dd2-128">Pour déployer la solution Gestionnaire de contacts sur votre propre environnement cible, vous pouvez personnaliser ce fichier ou utilisez-le comme modèle et créer votre propre fichier.</span><span class="sxs-lookup"><span data-stu-id="30dd2-128">To deploy the Contact Manager solution to your own target environment, you can either customize this file or use it as a template and create your own file.</span></span>

<span data-ttu-id="30dd2-129">**Pour configurer les paramètres spécifiques à l’environnement de déploiement pour la solution Gestionnaire de contacts**</span><span class="sxs-lookup"><span data-stu-id="30dd2-129">**To configure environment-specific deployment settings for the Contact Manager solution**</span></span>

1. <span data-ttu-id="30dd2-130">Ouvrez la solution ContactManager-WCF dans Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="30dd2-130">Open the ContactManager-WCF solution in Visual Studio 2010.</span></span>
2. <span data-ttu-id="30dd2-131">Dans le **l’Explorateur de solutions** fenêtre, développez le **publier** dossier, développez le **EnvConfig** dossier, puis double-cliquez sur **Env-Dev.proj**.</span><span class="sxs-lookup"><span data-stu-id="30dd2-131">In the **Solution Explorer** window, expand the **Publish** folder, expand the **EnvConfig** folder, and then double-click **Env-Dev.proj**.</span></span>

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. <span data-ttu-id="30dd2-132">Remplacez les valeurs de propriété dans le *Env-Dev.proj* fichier avec les valeurs correctes pour votre propre environnement de test.</span><span class="sxs-lookup"><span data-stu-id="30dd2-132">Replace the property values in the *Env-Dev.proj* file with the correct values for your own test environment.</span></span>

    > [!NOTE]
    > <span data-ttu-id="30dd2-133">Le tableau qui suit cette procédure fournit plus d’informations sur chacune de ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="30dd2-133">The table that follows this procedure provides more information on each of these properties.</span></span>
4. <span data-ttu-id="30dd2-134">Enregistrez votre travail et fermez le *Env-Dev.proj* fichier.</span><span class="sxs-lookup"><span data-stu-id="30dd2-134">Save your work, and then close the *Env-Dev.proj* file.</span></span>

## <a name="choosing-the-right-deployment-properties"></a><span data-ttu-id="30dd2-135">En choisissant les propriétés de déploiement appropriée</span><span class="sxs-lookup"><span data-stu-id="30dd2-135">Choosing the Right Deployment Properties</span></span>

<span data-ttu-id="30dd2-136">Ce tableau décrit l’objectif de chaque propriété dans l’exemple de fichier de projet spécifique à l’environnement, *Env-Dev.proj*et fournit des conseils sur les valeurs que vous devez fournir.</span><span class="sxs-lookup"><span data-stu-id="30dd2-136">This table describes the purpose of each property in the sample environment-specific project file, *Env-Dev.proj*, and provides some guidance on the values you should provide.</span></span>


|                                                        <span data-ttu-id="30dd2-137">Nom de la propriété</span><span class="sxs-lookup"><span data-stu-id="30dd2-137">Property Name</span></span>                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="30dd2-138">Détails</span><span class="sxs-lookup"><span data-stu-id="30dd2-138">Details</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <span data-ttu-id="30dd2-139"><strong>MSDeployComputerName</strong> le nom de la destination serveur ou le service point de terminaison web.</span><span class="sxs-lookup"><span data-stu-id="30dd2-139"><strong>MSDeployComputerName</strong> The name of the destination web server or service endpoint.</span></span>               |                                                                                                                                                                                                                                              <span data-ttu-id="30dd2-140">Si vous déployez dans le service de l’agent distant sur le serveur web de destination, vous pouvez spécifier le nom de l’ordinateur cible (par exemple, <strong>TESTWEB1</strong> ou <strong>TESTWEB1.fabrikam.net</strong>), ou vous pouvez spécifier l’instance distante point de terminaison de l’agent (par exemple, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span><span class="sxs-lookup"><span data-stu-id="30dd2-140">If you're deploying to the remote agent service on the destination web server, you can specify the target computer name (for example, <strong>TESTWEB1</strong> or <strong>TESTWEB1.fabrikam.net</strong>), or you can specify the remote agent endpoint (for example, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`).</span></span> <span data-ttu-id="30dd2-141">Le déploiement fonctionne de la même façon dans chaque cas.</span><span class="sxs-lookup"><span data-stu-id="30dd2-141">The deployment works the same way in each case.</span></span> <span data-ttu-id="30dd2-142">Si vous déployez dans le Gestionnaire de déploiement Web sur le serveur web de destination, vous devez spécifier le point de terminaison de service et inclure le nom du site Web IIS comme un paramètre de chaîne de requête (par exemple, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span><span class="sxs-lookup"><span data-stu-id="30dd2-142">If you're deploying to the Web Deploy Handler on the destination web server, you should specify the service endpoint and include the name of the IIS website as a query string parameter (for example, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).</span></span>                                                                                                                                                                                                                                              |
|         <span data-ttu-id="30dd2-143"><strong>MSDeployAuth</strong> la méthode de déploiement Web doit utiliser pour s’authentifier auprès de l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="30dd2-143"><strong>MSDeployAuth</strong> The method that Web Deploy should use to authenticate to the remote computer.</span></span>          |                                                                                                                                                                                                                          <span data-ttu-id="30dd2-144">Cela doit être défini sur <strong>NTLM</strong> ou <strong>base</strong>.</span><span class="sxs-lookup"><span data-stu-id="30dd2-144">This should be set to <strong>NTLM</strong> or <strong>Basic</strong>.</span></span> <span data-ttu-id="30dd2-145">En règle générale, vous allez utiliser <strong>NTLM</strong> si vous déployez vers le service de l’agent distant et <strong>base</strong> si vous déployez dans le Gestionnaire de déploiement Web.</span><span class="sxs-lookup"><span data-stu-id="30dd2-145">Typically, you'll use <strong>NTLM</strong> if you're deploying to the remote agent service and <strong>Basic</strong> if you're deploying to the Web Deploy Handler.</span></span> <span data-ttu-id="30dd2-146">Si vous utilisez l’authentification de base, vous devez également spécifier le nom d’utilisateur et le mot de passe que doit emprunter l’identité de l’outil de déploiement Web IIS (Web Deploy) afin d’effectuer le déploiement.</span><span class="sxs-lookup"><span data-stu-id="30dd2-146">If you use basic authentication, you also need to specify the user name and password that the IIS Web Deployment Tool (Web Deploy) should impersonate in order to perform the deployment.</span></span> <span data-ttu-id="30dd2-147">Dans cet exemple, ces valeurs sont fournies via le <strong>MSDeployUsername</strong> et <strong>MSDeployPassword</strong> propriétés.</span><span class="sxs-lookup"><span data-stu-id="30dd2-147">In this example, these values are provided through the <strong>MSDeployUsername</strong> and <strong>MSDeployPassword</strong> properties.</span></span> <span data-ttu-id="30dd2-148">Si vous utilisez l’authentification NTLM, vous pouvez omettre ces propriétés ou les laisser vide.</span><span class="sxs-lookup"><span data-stu-id="30dd2-148">If you use NTLM authentication, you can omit these properties or leave them blank.</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="30dd2-149"><strong>MSDeployUsername</strong> si vous utilisez l’authentification de base, Web Deploy utilisera ce compte sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="30dd2-149"><strong>MSDeployUsername</strong> If you use basic authentication, Web Deploy will use this account on the remote computer.</span></span>  |                                                                                                                                                                                                                                                                                                                                                                                                                       <span data-ttu-id="30dd2-150">Cela doit prendre la forme <em>domaine</em>\*\* nom d’utilisateur (par exemple, <strong>FABRIKAM\matt</strong>).</span><span class="sxs-lookup"><span data-stu-id="30dd2-150">This should take the form <em>DOMAIN</em>\*username\* (for example, <strong>FABRIKAM\matt</strong>).</span></span> <span data-ttu-id="30dd2-151">Cette valeur est utilisée uniquement si vous spécifiez l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="30dd2-151">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="30dd2-152">Si vous utilisez l’authentification NTLM, la propriété peut être omise.</span><span class="sxs-lookup"><span data-stu-id="30dd2-152">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="30dd2-153">Si une valeur est fournie, il sera ignoré.</span><span class="sxs-lookup"><span data-stu-id="30dd2-153">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="30dd2-154"><strong>MSDeployPassword</strong> si vous utilisez l’authentification de base, Web Deploy utilisera ce mot de passe sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="30dd2-154"><strong>MSDeployPassword</strong> If you use basic authentication, Web Deploy will use this password on the remote computer.</span></span> |                                                                                                                                                                                                                                                                                                                                                                                                                    <span data-ttu-id="30dd2-155">Il s’agit du mot de passe pour le compte d’utilisateur que vous avez spécifié dans le <strong>MSDeployUsername</strong> propriété.</span><span class="sxs-lookup"><span data-stu-id="30dd2-155">This is the password for the user account you specified in the <strong>MSDeployUsername</strong> property.</span></span> <span data-ttu-id="30dd2-156">Cette valeur est utilisée uniquement si vous spécifiez l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="30dd2-156">This value is only used if you specify basic authentication.</span></span> <span data-ttu-id="30dd2-157">Si vous utilisez l’authentification NTLM, la propriété peut être omise.</span><span class="sxs-lookup"><span data-stu-id="30dd2-157">If you use NTLM authentication, the property can be omitted.</span></span> <span data-ttu-id="30dd2-158">Si une valeur est fournie, il sera ignoré.</span><span class="sxs-lookup"><span data-stu-id="30dd2-158">If a value is supplied, it will be ignored.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <span data-ttu-id="30dd2-159"><strong>ContactManagerIisPath</strong> chemin d’accès IIS sur lequel vous souhaitez déployer l’application MVC de gestionnaire de contacts.</span><span class="sxs-lookup"><span data-stu-id="30dd2-159"><strong>ContactManagerIisPath</strong> The IIS path on which you want to deploy the Contact Manager MVC application.</span></span>     |                                                                                                                                                                                                                                                                                                                                                                        <span data-ttu-id="30dd2-160">Il doit s’agir du chemin d’accès tel qu’il apparaît dans le Gestionnaire des services Internet, sous la forme [<em>nom du site Web IIS</em>] / [<em>web</em><em>nom de l’application</em>].</span><span class="sxs-lookup"><span data-stu-id="30dd2-160">This should be the path as it appears in IIS Manager, in the form [<em>IIS website name</em>]/[<em>web</em><em>application name</em>].</span></span> <span data-ttu-id="30dd2-161">N’oubliez pas que le site Web IIS doit exister avant de déployer votre application.</span><span class="sxs-lookup"><span data-stu-id="30dd2-161">Remember that the IIS website needs to exist before you deploy your application.</span></span> <span data-ttu-id="30dd2-162">Par exemple, si vous avez créé un site Web IIS nommé DemoSite, vous pouvez spécifier le chemin d’accès IIS pour l’application MVC comme DemoSite/ContactManager.</span><span class="sxs-lookup"><span data-stu-id="30dd2-162">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the MVC application as DemoSite/ContactManager.</span></span>                                                                                                                                                                                                                                                                                                                                                                        |
|   <span data-ttu-id="30dd2-163"><strong>ContactManagerServiceIisPath</strong> chemin d’accès IIS sur lequel vous souhaitez déployer le service WCF de gestionnaire de contacts.</span><span class="sxs-lookup"><span data-stu-id="30dd2-163"><strong>ContactManagerServiceIisPath</strong> The IIS path on which you want to deploy the Contact Manager WCF service.</span></span>    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <span data-ttu-id="30dd2-164">Par exemple, si vous avez créé un site Web IIS nommé DemoSite, vous pouvez spécifier le chemin d’accès IIS pour le service WCF en tant que <strong>DemoSite/ContactManagerService</strong>.</span><span class="sxs-lookup"><span data-stu-id="30dd2-164">For example, if you've created an IIS website named DemoSite, you could specify the IIS path for the WCF service as <strong>DemoSite/ContactManagerService</strong>.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <span data-ttu-id="30dd2-165"><strong>ContactManagerTargetUrl</strong> l’URL à laquelle le service WCF peut être contacté.</span><span class="sxs-lookup"><span data-stu-id="30dd2-165"><strong>ContactManagerTargetUrl</strong> The URL at which the WCF service can be reached.</span></span>                   |                                                                                                                                                     <span data-ttu-id="30dd2-166">Cela prendra la forme [<em>URL racine du site Web IIS</em>] / [<em>nom de l’application service</em>] / [<em>point de terminaison de service</em>].</span><span class="sxs-lookup"><span data-stu-id="30dd2-166">This will take the form [<em>IIS website root URL</em>]/[<em>service application name</em>]/[<em>service endpoint</em>].</span></span> <span data-ttu-id="30dd2-167">Par exemple, si vous avez créé un site Web IIS sur le port 85, l’URL prendrait la forme `http://localhost:85/ContactManagerService/ContactService.svc`.</span><span class="sxs-lookup"><span data-stu-id="30dd2-167">For example, if you've created an IIS website on port 85, the URL would take the form `http://localhost:85/ContactManagerService/ContactService.svc`.</span></span> <span data-ttu-id="30dd2-168">N’oubliez pas que l’application MVC et le service WCF sont déployés sur le même serveur.</span><span class="sxs-lookup"><span data-stu-id="30dd2-168">Remember that the MVC application and the WCF service are deployed to the same server.</span></span> <span data-ttu-id="30dd2-169">Par conséquent, cette URL est uniquement accessible à partir de l’ordinateur sur lequel il est installé.</span><span class="sxs-lookup"><span data-stu-id="30dd2-169">As a result, this URL is only ever accessed from the machine on which it's installed.</span></span> <span data-ttu-id="30dd2-170">Pour cette raison, il est préférable d’utiliser localhost ou l’adresse IP, plutôt que le nom d’ordinateur ou un en-tête d’hôte, dans l’URL.</span><span class="sxs-lookup"><span data-stu-id="30dd2-170">Because of this, it's better to use localhost or the IP address, rather than the machine name or a host header, in the URL.</span></span> <span data-ttu-id="30dd2-171">Si vous utilisez le nom d’ordinateur ou un en-tête d’hôte, le [contrôle de bouclage](https://go.microsoft.com/?linkid=9805131) fonctionnalité de sécurité dans IIS peut-être bloquer l’URL et retourner un <strong>HTTP 401.1 - non autorisé</strong> erreur.</span><span class="sxs-lookup"><span data-stu-id="30dd2-171">If you use the machine name or a host header, the [loopback check](https://go.microsoft.com/?linkid=9805131) security feature in IIS may block the URL and return an <strong>HTTP 401.1 - Unauthorized</strong> error.</span></span>                                                                                                                                                     |
|                  <span data-ttu-id="30dd2-172"><strong>CmDatabaseConnectionString</strong> la chaîne de connexion pour le serveur de base de données.</span><span class="sxs-lookup"><span data-stu-id="30dd2-172"><strong>CmDatabaseConnectionString</strong> The connection string for the database server.</span></span>                  | <span data-ttu-id="30dd2-173">La chaîne de connexion détermine à la fois les informations d’identification VSDBCMD utilisera pour contacter le serveur de base de données et de créer la base de données et les informations d’identification que le pool d’applications de serveur web utilisera pour contacter le serveur de base de données et interagir avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="30dd2-173">The connection string determines both the credentials that VSDBCMD will use to contact the database server and create the database and the credentials that the web server application pool will use to contact the database server and interact with the database.</span></span> <span data-ttu-id="30dd2-174">Vous avez essentiellement ici deux possibilités.</span><span class="sxs-lookup"><span data-stu-id="30dd2-174">Essentially you have two choices here.</span></span> <span data-ttu-id="30dd2-175">Vous pouvez spécifier <strong>Integrated Security = true</strong>, auquel cas l’authentification Windows intégrée est utilisée : <strong>Source de données = TESTDB1 ; Integrated Security = true</strong> dans ce cas, la base de données est créé avec les informations d’identification de l’utilisateur qui exécute l’exécutable VSDBCMD, et l’application doit accéder à la base de données à l’aide de l’identité de l’ordinateur serveur web compte.</span><span class="sxs-lookup"><span data-stu-id="30dd2-175">You can specify <strong>Integrated Security=true</strong>, in which case integrated Windows authentication is used: <strong>Data Source=TESTDB1;Integrated Security=true</strong> In this case, the database will be created using the credentials of the user who runs the VSDBCMD executable, and the application will access the database using the identity of the web server machine account.</span></span> <span data-ttu-id="30dd2-176">Vous pouvez également spécifier le nom d’utilisateur et le mot de passe d’un compte SQL Server.</span><span class="sxs-lookup"><span data-stu-id="30dd2-176">Alternatively, you can specify the user name and password of a SQL Server account.</span></span> <span data-ttu-id="30dd2-177">Dans ce cas, les informations d’identification SQL Server sont utilisées par VSDBCMD pour créer la base de données et par le pool d’applications d’interagir avec la base de données : <strong>Source de données = TESTDB1 ; Id d’utilisateur = ASqlUser ; Mot de passe = Pa$ $w0rd</strong> les procédures de cette rubrique supposent que vous allez utiliser l’authentification Windows intégrée.</span><span class="sxs-lookup"><span data-stu-id="30dd2-177">In this case, the SQL Server credentials are used both by VSDBCMD to create the database and by the application pool to interact with the database: <strong>Data Source=TESTDB1;User Id=ASqlUser; Password=Pa$$w0rd</strong> The walkthroughs in this topic assume that you'll use integrated Windows authentication.</span></span> |
|        <span data-ttu-id="30dd2-178"><strong>CmTargetDatabase</strong> le nom que vous souhaitez donner à la base de données que vous allez créer sur le serveur de base de données.</span><span class="sxs-lookup"><span data-stu-id="30dd2-178"><strong>CmTargetDatabase</strong> The name you want to give the database you'll create on the database server.</span></span>        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     <span data-ttu-id="30dd2-179">La valeur que vous fournissez ici est ajoutée à la commande VSDBCMD en tant que paramètre.</span><span class="sxs-lookup"><span data-stu-id="30dd2-179">The value you provide here is added to the VSDBCMD command as a parameter.</span></span> <span data-ttu-id="30dd2-180">Il est également utilisé pour générer une chaîne de connexion complète que le pool d’applications sur le serveur web peut utiliser pour interagir avec la base de données.</span><span class="sxs-lookup"><span data-stu-id="30dd2-180">It's also used to build a full connection string that the application pool on the web server can use to interact with the database.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

<span data-ttu-id="30dd2-181">Ces exemples montrent comment vous pouvez configurer ces propriétés pour les scénarios de déploiement spécifiques.</span><span class="sxs-lookup"><span data-stu-id="30dd2-181">These examples show how you might configure these properties for specific deployment scenarios.</span></span>

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a><span data-ttu-id="30dd2-182">Exemple 1&#x2014;déploiement vers le Service Agent distant</span><span class="sxs-lookup"><span data-stu-id="30dd2-182">Example 1&#x2014;Deployment to the Remote Agent Service</span></span>

<span data-ttu-id="30dd2-183">Dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="30dd2-183">In this example:</span></span>

- <span data-ttu-id="30dd2-184">Que vous déployez sur le service de l’agent distant sur TESTWEB1.</span><span class="sxs-lookup"><span data-stu-id="30dd2-184">You're deploying to the remote agent service on TESTWEB1.</span></span>
- <span data-ttu-id="30dd2-185">Vous indiquez Web Deploy pour utiliser l’authentification NTLM.</span><span class="sxs-lookup"><span data-stu-id="30dd2-185">You're instructing Web Deploy to use NTLM authentication.</span></span> <span data-ttu-id="30dd2-186">Web Deploy s’exécute en utilisant les informations d’identification que vous avez utilisé pour appeler Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="30dd2-186">Web Deploy will run using the credentials you used to invoke the Microsoft Build Engine (MSBuild).</span></span>
- <span data-ttu-id="30dd2-187">Vous utilisez l’authentification intégrée pour déployer le **ContactManager** base de données TESTDB1.</span><span class="sxs-lookup"><span data-stu-id="30dd2-187">You're using integrated authentication to deploy the **ContactManager** database to TESTDB1.</span></span> <span data-ttu-id="30dd2-188">La base de données sera déployée à l’aide des informations d’identification que vous avez utilisé pour appeler MSBuild.</span><span class="sxs-lookup"><span data-stu-id="30dd2-188">The database will be deployed using the credentials you used to invoke MSBuild.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]


### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a><span data-ttu-id="30dd2-189">Exemple 2&#x2014;Gestionnaire de point de terminaison de déploiement de déploiement sur le Web</span><span class="sxs-lookup"><span data-stu-id="30dd2-189">Example 2&#x2014;Deployment to the Web Deploy Handler Endpoint</span></span>

<span data-ttu-id="30dd2-190">Dans cet exemple :</span><span class="sxs-lookup"><span data-stu-id="30dd2-190">In this example:</span></span>

- <span data-ttu-id="30dd2-191">Que vous déployez sur le point de terminaison du service Gestionnaire de déploiement Web sur STAGEWEB1.</span><span class="sxs-lookup"><span data-stu-id="30dd2-191">You're deploying to the Web Deploy Handler service endpoint on STAGEWEB1.</span></span>
- <span data-ttu-id="30dd2-192">Vous indiquez Web Deploy utilise l’authentification de base.</span><span class="sxs-lookup"><span data-stu-id="30dd2-192">You're instructing Web Deploy to use basic authentication.</span></span>
- <span data-ttu-id="30dd2-193">Vous spécifiez que Web Deploy doit emprunter l’identité du compte FABRIKAM\stagingdeployer sur l’ordinateur distant.</span><span class="sxs-lookup"><span data-stu-id="30dd2-193">You're specifying that Web Deploy should impersonate the FABRIKAM\stagingdeployer account on the remote computer.</span></span>
- <span data-ttu-id="30dd2-194">Vous utilisez l’authentification SQL Server pour déployer le **ContactManager** STAGEDB1 base de données.</span><span class="sxs-lookup"><span data-stu-id="30dd2-194">You're using SQL Server authentication to deploy the **ContactManager** database to STAGEDB1.</span></span>


[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]


## <a name="conclusion"></a><span data-ttu-id="30dd2-195">Conclusion</span><span class="sxs-lookup"><span data-stu-id="30dd2-195">Conclusion</span></span>

<span data-ttu-id="30dd2-196">À ce stade, vos fichiers projet sont entièrement configurés pour créer et déployer la solution Gestionnaire de contacts dans un ou plusieurs environnements de destination.</span><span class="sxs-lookup"><span data-stu-id="30dd2-196">At this point, your project files are fully configured to build and deploy the Contact Manager solution to one or more destination environments.</span></span>

<span data-ttu-id="30dd2-197">Pour utiliser ces fichiers de projet en tant que partie d’un processus de déploiement pas à pas, reproductibles, vous devez exécuter le *Publish.proj* fichier à l’aide de MSBuild et passer à l’emplacement du fichier de projet spécifique à un environnement en tant que paramètre.</span><span class="sxs-lookup"><span data-stu-id="30dd2-197">To use these project files as part of a single-step, repeatable deployment process, you need to execute the *Publish.proj* file using MSBuild and pass in the location of the environment-specific project file as a parameter.</span></span> <span data-ttu-id="30dd2-198">Pour cela, de différentes manières :</span><span class="sxs-lookup"><span data-stu-id="30dd2-198">You can do this in various ways:</span></span>

- <span data-ttu-id="30dd2-199">Pour une vue d’ensemble de MSBuild et une introduction aux fichiers de projet personnalisé, consultez [présentation du fichier projet](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-199">For an overview of MSBuild and an introduction to custom project files, see [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span>
- <span data-ttu-id="30dd2-200">Pour plus d’informations sur comment formuler une commande MSBuild qui exécute vos fichiers de projet personnalisé, consultez [déploiement des Packages Web](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-200">For information on how to formulate an MSBuild command that executes your custom project files, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>
- <span data-ttu-id="30dd2-201">Pour plus d’informations sur comment incorporer vos commandes MSBuild dans un fichier de commandes pour les déploiements étape unique, reproductibles, consultez [création et exécution d’un fichier de commandes de déploiement](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-201">For information on how to incorporate your MSBuild commands into a command file for single-step, repeatable deployments, see [Creating and Running a Deployment Command File](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).</span></span>
- <span data-ttu-id="30dd2-202">Pour plus d’informations sur la façon d’exécuter vos fichiers de projet personnalisés à partir de Team Build, consultez [création d’une définition de Build que le déploiement prend en charge](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="30dd2-202">For information on how to execute your custom project files from Team Build, see [Creating a Build Definition that Supports Deployment](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="30dd2-203">Précédent</span><span class="sxs-lookup"><span data-stu-id="30dd2-203">Previous</span></span>](creating-a-server-farm-with-the-web-farm-framework.md)
