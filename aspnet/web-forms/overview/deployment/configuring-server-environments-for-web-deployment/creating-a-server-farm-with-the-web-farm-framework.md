---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/creating-a-server-farm-with-the-web-farm-framework
title: Création d’une batterie de serveurs avec l’infrastructure de batterie de serveurs Web | Microsoft Docs
author: jrjlee
description: Cette rubrique explique comment utiliser l’infrastructure de batterie de serveurs Web (WFF) 2,0 pour créer et configurer une batterie de serveurs Web à partir d’une collection de serveurs.
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 656dd06d-806c-467c-863d-9fc45e5ba3ab
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/creating-a-server-farm-with-the-web-farm-framework
msc.type: authoredcontent
ms.openlocfilehash: 204996514bed336e60ab77f184a923f04e7e2bba
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78637248"
---
# <a name="creating-a-server-farm-with-the-web-farm-framework"></a><span data-ttu-id="5d07e-103">Création d’une batterie de serveurs avec le framework de batterie de serveurs web</span><span class="sxs-lookup"><span data-stu-id="5d07e-103">Creating a Server Farm with the Web Farm Framework</span></span>

<span data-ttu-id="5d07e-104">par [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="5d07e-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="5d07e-105">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="5d07e-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="5d07e-106">Cette rubrique explique comment utiliser l’infrastructure de batterie de serveurs Web (WFF) 2,0 pour créer et configurer une batterie de serveurs Web à partir d’une collection de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-106">This topic describes how to use the Web Farm Framework (WFF) 2.0 to create and configure a web server farm from a collection of servers.</span></span>

<span data-ttu-id="5d07e-107">WFF vous permet de synchroniser les produits et composants de plateforme Web, les applications Web, les sites Web et les paramètres de configuration sur plusieurs serveurs Web à charge équilibrée.</span><span class="sxs-lookup"><span data-stu-id="5d07e-107">WFF lets you synchronize web platform products and components, web applications, websites, and configuration settings across multiple load-balanced web servers.</span></span> <span data-ttu-id="5d07e-108">Dans les scénarios où vous avez besoin de plusieurs serveurs Web, comme des environnements intermédiaires et de production, cela peut considérablement simplifier votre processus de déploiement et de configuration.</span><span class="sxs-lookup"><span data-stu-id="5d07e-108">In scenarios where you need more than one web server, like staging and production environments, this can vastly simplify your deployment and configuration process.</span></span> <span data-ttu-id="5d07e-109">Vous pouvez déployer une application Web sur un seul serveur&#x2014;. le *serveur*&#x2014;principal et WFF répliquent automatiquement cette application Web sur tous les autres serveurs Web de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-109">You can deploy a web application to a single server&#x2014;the *primary server*&#x2014;and WFF will automatically replicate that web application on all the other web servers in the server farm.</span></span>

## <a name="understanding-the-web-farm-framework"></a><span data-ttu-id="5d07e-110">Fonctionnement de l’infrastructure de batterie de serveurs Web</span><span class="sxs-lookup"><span data-stu-id="5d07e-110">Understanding the Web Farm Framework</span></span>

<span data-ttu-id="5d07e-111">Vous pouvez utiliser WFF 2,0 pour approvisionner, gérer et déployer du contenu vers un groupe de serveurs Web.</span><span class="sxs-lookup"><span data-stu-id="5d07e-111">You can use WFF 2.0 to provision, manage, and deploy content to a group of web servers.</span></span> <span data-ttu-id="5d07e-112">Un déploiement WFF se compose de trois rôles de serveur clés :</span><span class="sxs-lookup"><span data-stu-id="5d07e-112">A WFF deployment consists of three key server roles:</span></span>

- <span data-ttu-id="5d07e-113">*Serveur contrôleur*.</span><span class="sxs-lookup"><span data-stu-id="5d07e-113">The *controller server*.</span></span> <span data-ttu-id="5d07e-114">Vous utilisez ce serveur pour créer et configurer des batteries de serveurs WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-114">You use this server to create and configure WFF server farms.</span></span> <span data-ttu-id="5d07e-115">Le serveur contrôleur gère la synchronisation des composants Web Platform, des paramètres de configuration et des applications entre les serveurs Web dans une batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-115">The controller server manages the synchronization of web platform components, configuration settings, and applications between the web servers in a server farm.</span></span> <span data-ttu-id="5d07e-116">Vous installez WFF 2,0 sur le serveur contrôleur, et le serveur de contrôleur installe à son tour l’agent WFF sur chacun des serveurs d’une batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-116">You install WFF 2.0 on the controller server, and the controller server will in turn install the WFF agent on each of the servers in a server farm.</span></span> <span data-ttu-id="5d07e-117">Le serveur contrôleur n’appartient pas de manière conceptuelle à une batterie de serveurs WFF, et un seul serveur contrôleur peut gérer plusieurs batteries de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-117">The controller server does not conceptually belong to any WFF server farm, and a single controller server can manage multiple server farms.</span></span> <span data-ttu-id="5d07e-118">Dans ce scénario, vous utilisez un seul serveur de contrôleur WFF pour créer et gérer la batterie de serveurs de test et la batterie de serveurs de production.</span><span class="sxs-lookup"><span data-stu-id="5d07e-118">In this scenario, you use a single WFF controller server to create and manage the staging server farm and the production server farm.</span></span>
- <span data-ttu-id="5d07e-119">*Serveur principal*.</span><span class="sxs-lookup"><span data-stu-id="5d07e-119">The *primary server*.</span></span> <span data-ttu-id="5d07e-120">Chaque batterie de serveurs WFF comprend un seul serveur principal.</span><span class="sxs-lookup"><span data-stu-id="5d07e-120">Each WFF server farm includes a single primary server.</span></span> <span data-ttu-id="5d07e-121">Lorsque vous installez des composants de plateforme Web ou que vous déployez des applications sur le serveur principal, WFF synchronise vos modifications sur tous les autres serveurs de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-121">When you install web platform components or deploy applications to the primary server, the WFF synchronizes your changes to all the other servers in the server farm.</span></span>
- <span data-ttu-id="5d07e-122">*Serveur secondaire*.</span><span class="sxs-lookup"><span data-stu-id="5d07e-122">The *secondary server*.</span></span> <span data-ttu-id="5d07e-123">Chaque batterie de serveurs WFF comprend un ou plusieurs serveurs secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-123">Each WFF server farm includes one or more secondary servers.</span></span> <span data-ttu-id="5d07e-124">Toutes les modifications que vous apportez au serveur principal sont répliquées sur chaque serveur secondaire de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-124">Any changes you make to the primary server are replicated to every secondary server within the server farm.</span></span>

<span data-ttu-id="5d07e-125">Cela montre comment ces rôles de serveur sont liés aux environnements de préproduction et de production de Fabrikam, Inc. :</span><span class="sxs-lookup"><span data-stu-id="5d07e-125">This shows how these server roles relate to the Fabrikam, Inc. staging and production environments:</span></span>

![](creating-a-server-farm-with-the-web-farm-framework/_static/image1.png)

<span data-ttu-id="5d07e-126">Dans ce scénario, l’environnement intermédiaire et l’environnement de production sont tous deux configurés en tant que batteries de serveurs WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-126">In this scenario, the staging environment and the production environment are both configured as WFF server farms.</span></span> <span data-ttu-id="5d07e-127">Un seul serveur de contrôleur WFF gère les deux batteries de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-127">A single WFF controller server manages both farms.</span></span> <span data-ttu-id="5d07e-128">Au sein de chaque batterie de serveurs, toute modification apportée au serveur principal est répliquée sur chaque serveur secondaire.</span><span class="sxs-lookup"><span data-stu-id="5d07e-128">Within each server farm, any changes to the primary server are replicated to every secondary server.</span></span>

<span data-ttu-id="5d07e-129">Avant de commencer à configurer vos environnements intermédiaires et de production, nous vous recommandons de lire les articles suivants pour vous familiariser avec les concepts clés de WFF 2,0 :</span><span class="sxs-lookup"><span data-stu-id="5d07e-129">Before you start to configure your staging and production environments, we recommend that you read these articles to familiarize yourself with the key concepts of WFF 2.0:</span></span>

- [<span data-ttu-id="5d07e-130">Vue d’ensemble de l’infrastructure de batterie de serveurs Web 2,0 pour IIS 7</span><span class="sxs-lookup"><span data-stu-id="5d07e-130">Overview of the Web Farm Framework 2.0 for IIS 7</span></span>](https://go.microsoft.com/?linkid=9805126)
- [<span data-ttu-id="5d07e-131">Configuration d’une batterie de serveurs avec l’infrastructure de batterie de serveurs Web 2,0 pour IIS 7</span><span class="sxs-lookup"><span data-stu-id="5d07e-131">Setting up a Server Farm with the Web Farm Framework 2.0 for IIS 7</span></span>](https://go.microsoft.com/?linkid=9805127)
- [<span data-ttu-id="5d07e-132">Configuration requise pour le système et la plateforme pour Web Farm Framework 2,0 pour IIS 7</span><span class="sxs-lookup"><span data-stu-id="5d07e-132">System and Platform Requirements for the Web Farm Framework 2.0 for IIS 7</span></span>](https://go.microsoft.com/?linkid=9805128)

## <a name="task-overview"></a><span data-ttu-id="5d07e-133">Vue d’ensemble des tâches</span><span class="sxs-lookup"><span data-stu-id="5d07e-133">Task Overview</span></span>

<span data-ttu-id="5d07e-134">Pour effectuer les tâches et procédures pas à pas de cette rubrique, vous devez disposer d’au&#x2014;moins trois serveurs, un contrôleur WFF, un serveur Web principal pour la batterie de serveurs et un ou plusieurs serveurs Web secondaires pour la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-134">To complete the tasks and walkthroughs in this topic, you'll need at least three servers&#x2014;one WFF controller, one primary web server for the server farm, and one or more secondary web servers for the server farm.</span></span> <span data-ttu-id="5d07e-135">Vous pouvez ajouter d’autres serveurs secondaires à une batterie de serveurs WFF à tout moment.</span><span class="sxs-lookup"><span data-stu-id="5d07e-135">You can add more secondary servers to a WFF server farm at any time.</span></span> <span data-ttu-id="5d07e-136">À un niveau élevé, pour créer et configurer une batterie de serveurs WFF pour votre environnement intermédiaire ou de production, vous devez :</span><span class="sxs-lookup"><span data-stu-id="5d07e-136">At a high level, to create and configure a WFF server farm for your staging or production environment you'll need to:</span></span>

- <span data-ttu-id="5d07e-137">Créez un serveur contrôleur en installant Internet Information Services (IIS) 7,5 et WFF 2,0.</span><span class="sxs-lookup"><span data-stu-id="5d07e-137">Create a controller server by installing Internet Information Services (IIS) 7.5 and WFF 2.0.</span></span>
- <span data-ttu-id="5d07e-138">Préparez les serveurs principaux et secondaires en créant un compte d’administrateur commun et en configurant les exceptions de pare-feu.</span><span class="sxs-lookup"><span data-stu-id="5d07e-138">Prepare primary and secondary servers by creating a common administrator account and configuring firewall exceptions.</span></span>
- <span data-ttu-id="5d07e-139">Configurez la batterie de serveurs à l’aide du gestionnaire des services Internet sur le serveur contrôleur.</span><span class="sxs-lookup"><span data-stu-id="5d07e-139">Configure the server farm by using IIS Manager on the controller server.</span></span>
- <span data-ttu-id="5d07e-140">Configurez l’équilibrage de charge à l’aide d’IIS Application Request Routing (ARR) ou d’une autre technologie d’équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="5d07e-140">Configure load balancing using IIS Application Request Routing (ARR) or an alternative load-balancing technology.</span></span>

<span data-ttu-id="5d07e-141">Les tâches et procédures pas à pas de cette rubrique partent du principe que vous commencez avec les builds de serveur propre exécutant Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="5d07e-141">The tasks and walkthroughs in this topic assume that you're starting with clean server builds running Windows Server 2008 R2.</span></span> <span data-ttu-id="5d07e-142">Avant de commencer, pour chaque serveur, assurez-vous que :</span><span class="sxs-lookup"><span data-stu-id="5d07e-142">Before you begin, for each server, ensure that:</span></span>

- <span data-ttu-id="5d07e-143">Windows Server 2008 R2 Service Pack 1 et toutes les mises à jour disponibles sont installées.</span><span class="sxs-lookup"><span data-stu-id="5d07e-143">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="5d07e-144">Le serveur est joint à un domaine.</span><span class="sxs-lookup"><span data-stu-id="5d07e-144">The server is domain-joined.</span></span>
- <span data-ttu-id="5d07e-145">Le serveur possède une adresse IP statique.</span><span class="sxs-lookup"><span data-stu-id="5d07e-145">The server has a static IP address.</span></span>

> [!NOTE]
> <span data-ttu-id="5d07e-146">Pour plus d’informations sur la jonction d’ordinateurs à un domaine, consultez [jonction d’ordinateurs au domaine et ouverture de session](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5d07e-146">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="5d07e-147">Pour plus d’informations sur la configuration d’adresses IP statiques, consultez [configurer une adresse IP statique](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="5d07e-147">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span>

## <a name="create-the-wff-controller-server"></a><span data-ttu-id="5d07e-148">Créer le serveur de contrôleur WFF</span><span class="sxs-lookup"><span data-stu-id="5d07e-148">Create the WFF Controller Server</span></span>

<span data-ttu-id="5d07e-149">Pour créer un serveur de contrôleur WFF, vous devez installer IIS 7 ou une version ultérieure et WFF 2,0 ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="5d07e-149">To create a WFF controller server, you'll need to install both IIS 7 or later and WFF 2.0 or later.</span></span> <span data-ttu-id="5d07e-150">En coulisses, WFF utilise l’outil de déploiement Web IIS (Web Deploy) 2. x pour synchroniser les serveurs de votre batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-150">Under the covers, WFF uses the IIS Web Deployment Tool (Web Deploy) 2.x to synchronize the servers in your farm.</span></span> <span data-ttu-id="5d07e-151">Si vous utilisez la Web Platform Installer pour installer WFF, le programme d’installation télécharge et installe automatiquement Web Deploy pour vous.</span><span class="sxs-lookup"><span data-stu-id="5d07e-151">If you use the Web Platform Installer to install WFF, the installer will automatically download and install Web Deploy for you.</span></span>

<span data-ttu-id="5d07e-152">**Pour créer le serveur de contrôleur WFF**</span><span class="sxs-lookup"><span data-stu-id="5d07e-152">**To create the WFF controller server**</span></span>

1. <span data-ttu-id="5d07e-153">Téléchargez et installez le [Web Platform Installer](https://go.microsoft.com/?linkid=9739157).</span><span class="sxs-lookup"><span data-stu-id="5d07e-153">Download and install the [Web Platform Installer](https://go.microsoft.com/?linkid=9739157).</span></span>
2. <span data-ttu-id="5d07e-154">En haut de la fenêtre **Web Platform Installer 3,0** , cliquez sur **produits**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-154">At the top of the **Web Platform Installer 3.0** window, click **Products**.</span></span>
3. <span data-ttu-id="5d07e-155">Sur le côté gauche de la fenêtre, dans le volet de navigation, cliquez sur **serveur**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-155">On the left side of the window, in the navigation pane, click **Server**.</span></span>
4. <span data-ttu-id="5d07e-156">Dans la ligne **Configuration recommandée pour IIS 7** , cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-156">In the **IIS 7 Recommended Configuration** row, click **Add**.</span></span>
5. <span data-ttu-id="5d07e-157">Dans l' <strong>infrastructure de batterie de serveurs Web 2.</strong> <em>x</em> ligne, cliquez sur <strong>Ajouter</strong>.</span><span class="sxs-lookup"><span data-stu-id="5d07e-157">In the <strong>Web Farm Framework 2.</strong><em>x</em> row, click <strong>Add</strong>.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image2.png)
6. <span data-ttu-id="5d07e-158">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-158">Click **Install**.</span></span> <span data-ttu-id="5d07e-159">Notez que le Web Platform Installer a ajouté l’outil de déploiement Web, ainsi que diverses autres dépendances, à la liste d’installation.</span><span class="sxs-lookup"><span data-stu-id="5d07e-159">Notice that the Web Platform Installer has added the Web Deployment Tool, along with various other dependencies, to the installation list.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image3.png)
7. <span data-ttu-id="5d07e-160">Passez en revue les termes du contrat de licence et, si vous en acceptez les termes, cliquez sur **J’accepte**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-160">Review the license terms, and if you consent to the terms, click **I Accept**.</span></span>
8. <span data-ttu-id="5d07e-161">Une fois l’installation terminée, cliquez sur **Terminer**, puis fermez la fenêtre **Web Platform Installer 3,0** .</span><span class="sxs-lookup"><span data-stu-id="5d07e-161">When the installation is complete, click **Finish**, and then close the **Web Platform Installer 3.0** window.</span></span>

## <a name="configure-the-primary-and-secondary-servers"></a><span data-ttu-id="5d07e-162">Configurer les serveurs principaux et secondaires</span><span class="sxs-lookup"><span data-stu-id="5d07e-162">Configure the Primary and Secondary Servers</span></span>

<span data-ttu-id="5d07e-163">Avant de créer une batterie de serveurs WFF, vous devez effectuer certaines tâches de préparation sur les serveurs Web qui composent la batterie :</span><span class="sxs-lookup"><span data-stu-id="5d07e-163">Before you create a WFF server farm, you should complete some preparation tasks on the web servers that will make up the farm:</span></span>

- <span data-ttu-id="5d07e-164">Ajoutez des exceptions de pare-feu pour permettre aux fonctionnalités de **réseau de base**, d' **administration à distance**et de **partage de fichiers et d’imprimantes** de communiquer avec le serveur de contrôleur WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-164">Add firewall exceptions to allow the **Core Networking**, **Remote Administration**, and **File and Printer Sharing** features to communicate with the WFF controller server.</span></span>
- <span data-ttu-id="5d07e-165">Créez un compte de domaine (par exemple, **FABRIKAM\stagingfarm**) dans Active Directory et ajoutez-le au groupe Administrateurs local sur chaque serveur.</span><span class="sxs-lookup"><span data-stu-id="5d07e-165">Create a domain account (for example, **FABRIKAM\stagingfarm**) in Active Directory and add it to the local administrators group on each server.</span></span> <span data-ttu-id="5d07e-166">Vous utiliserez ce compte en tant que compte d’administrateur de batterie de serveurs lors de la création de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-166">You'll use this account as the server farm administrator account when you create the server farm.</span></span>

<span data-ttu-id="5d07e-167">Pour plus d’informations sur la configuration de ces exceptions de pare-feu dans le pare-feu Windows, consultez [Configuration requise pour le système et la plateforme pour l’infrastructure de batterie de serveurs Web 2,0 pour IIS 7](https://go.microsoft.com/?linkid=9805128).</span><span class="sxs-lookup"><span data-stu-id="5d07e-167">For more information on how to configure these firewall exceptions in Windows Firewall, see [System and Platform Requirements for the Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805128).</span></span> <span data-ttu-id="5d07e-168">Pour les autres systèmes de pare-feu, consultez la documentation de votre produit.</span><span class="sxs-lookup"><span data-stu-id="5d07e-168">For other firewall systems, consult your product documentation.</span></span>

<span data-ttu-id="5d07e-169">Vous pouvez utiliser la procédure suivante pour ajouter un compte de domaine au groupe Administrateurs local dans Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="5d07e-169">You can use the next procedure to add a domain account to the local administrators group in Windows Server 2008 R2.</span></span> <span data-ttu-id="5d07e-170">Vous devez effectuer cette procédure sur chaque serveur que vous souhaitez ajouter à la batterie&#x2014;de serveurs en d’autres termes, ajouter le même compte de domaine au groupe Administrateurs local sur le serveur principal et sur chaque serveur secondaire.</span><span class="sxs-lookup"><span data-stu-id="5d07e-170">You should perform this procedure on every server that you want to add to the server farm&#x2014;in other words, add the same domain account to the local administrators group on the primary server and on each secondary server.</span></span>

<span data-ttu-id="5d07e-171">**Pour ajouter un compte de domaine au groupe Administrateurs local**</span><span class="sxs-lookup"><span data-stu-id="5d07e-171">**To add a domain account to the local administrators group**</span></span>

1. <span data-ttu-id="5d07e-172">Dans le menu **Démarrer** , pointez sur **Outils d’administration**, puis cliquez sur **Gestionnaire de serveur**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-172">On the **Start** menu, point to **Administrative Tools**, and then click **Server Manager**.</span></span>
2. <span data-ttu-id="5d07e-173">Dans la fenêtre **Gestionnaire de serveur** , dans le volet de l’arborescence, développez **configuration**, développez **utilisateurs et groupes locaux**, puis cliquez sur **groupes**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-173">In the **Server Manager** window, in the tree view pane, expand **Configuration**, expand **Local Users and Groups**, and then click **Groups**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image4.png)
3. <span data-ttu-id="5d07e-174">Dans le volet **groupes** , double-cliquez sur **administrateurs**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-174">In the **Groups** pane, double-click **Administrators**.</span></span>
4. <span data-ttu-id="5d07e-175">Dans la boîte de dialogue **Propriétés des administrateurs** , cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-175">In the **Administrators Properties** dialog box, click **Add**.</span></span>
5. <span data-ttu-id="5d07e-176">Dans la boîte de dialogue **Sélectionner les utilisateurs, les ordinateurs, les comptes de service ou les groupes** , tapez (ou accédez à) votre compte de domaine (par exemple, **FABRIKAM\stagingfarm**), puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-176">In the **Select Users, Computers, Service Accounts, or Groups** dialog box, type (or browse) to your domain account (for example, **FABRIKAM\stagingfarm**), and then click **OK**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image5.png)
6. <span data-ttu-id="5d07e-177">Dans la boîte de dialogue **Propriétés des administrateurs** , cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-177">In the **Administrators Properties** dialog box, click **OK**.</span></span>

<span data-ttu-id="5d07e-178">Vos serveurs sont maintenant prêts à être ajoutés à une batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-178">Your servers are now ready to be added to a server farm.</span></span> <span data-ttu-id="5d07e-179">Dans le cas du serveur principal, vous pouvez configurer le serveur pour qu’il réponde aux besoins de votre application avant ou après la&#x2014;création de la batterie de serveurs dans les deux cas, WFF synchronise les serveurs en déployant les mêmes produits, composants ou configurations sur vos serveurs secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-179">In the case of the primary server, you can configure the server to meet your application requirements before or after you create the server farm&#x2014;in both cases, the WFF will synchronize the servers by deploying the same products, components, or configuration to your secondary servers.</span></span> <span data-ttu-id="5d07e-180">Par souci de simplicité, ce didacticiel suppose que vous configurez le serveur principal lorsque vous avez terminé la création de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-180">For the sake of simplicity, this tutorial assumes that you'll configure the primary server when you've finished creating the server farm.</span></span>

## <a name="create-the-wff-server-farm"></a><span data-ttu-id="5d07e-181">Créer la batterie de serveurs WFF</span><span class="sxs-lookup"><span data-stu-id="5d07e-181">Create the WFF Server Farm</span></span>

<span data-ttu-id="5d07e-182">À ce stade, tous vos serveurs sont prêts à être ajoutés à une batterie de serveurs WFF :</span><span class="sxs-lookup"><span data-stu-id="5d07e-182">At this point, all your servers are ready to be added to a WFF server farm:</span></span>

- <span data-ttu-id="5d07e-183">Vous avez installé WFF sur le serveur contrôleur.</span><span class="sxs-lookup"><span data-stu-id="5d07e-183">You've installed WFF on the controller server.</span></span>
- <span data-ttu-id="5d07e-184">Vous avez configuré des exceptions de pare-feu sur vos serveurs Web principaux et secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-184">You've configured firewall exceptions on your primary and secondary web servers.</span></span>
- <span data-ttu-id="5d07e-185">Vous avez ajouté un compte de domaine au groupe Administrateurs local sur vos serveurs Web principaux et secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-185">You've added a domain account to the local administrators group on your primary and secondary web servers.</span></span>

<span data-ttu-id="5d07e-186">L’étape suivante consiste à créer la batterie de serveurs dans WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-186">The next step is to create the server farm in WFF.</span></span> <span data-ttu-id="5d07e-187">Vous pouvez le faire à partir du gestionnaire des services Internet sur le serveur du contrôleur WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-187">You can do this from IIS Manager on the WFF controller server.</span></span>

<span data-ttu-id="5d07e-188">**Pour créer une batterie de serveurs WFF**</span><span class="sxs-lookup"><span data-stu-id="5d07e-188">**To create a WFF server farm**</span></span>

1. <span data-ttu-id="5d07e-189">Sur le serveur de contrôleur WFF, dans le menu **Démarrer** , pointez sur **Outils d’administration**, puis cliquez sur **Gestionnaire de Internet Information Services (IIS)** .</span><span class="sxs-lookup"><span data-stu-id="5d07e-189">On the WFF controller server, on the **Start** menu, point to **Administrative Tools**, and then click **Internet Information Services (IIS) Manager**.</span></span>
2. <span data-ttu-id="5d07e-190">Dans le volet **connexions** , développez le nœud du serveur local, cliquez avec le bouton droit sur **batteries de serveurs**, puis cliquez sur créer une **batterie**de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-190">In the **Connections** pane, expand the local server node, right-click **Server Farms**, and then click **Create Server Farm**.</span></span>
3. <span data-ttu-id="5d07e-191">Dans la boîte de dialogue **créer une batterie** de serveurs, tapez un nom explicite pour la batterie de serveurs (par exemple, batterie de serveurs de **test**), puis sélectionnez **configurer une batterie**de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-191">In the **Create Server Farm** dialog box, type a meaningful name for the server farm (for example, **Staging Farm**), and then select **Provision server farm**.</span></span>
4. <span data-ttu-id="5d07e-192">Tapez le nom d’utilisateur et le mot de passe du compte de domaine que vous avez ajouté au groupe Administrateurs local sur chaque serveur.</span><span class="sxs-lookup"><span data-stu-id="5d07e-192">Type the user name and password of the domain account that you added to the local administrators group on each server.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image6.png)
5. <span data-ttu-id="5d07e-193">Cliquez sur **Next**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-193">Click **Next**.</span></span>
6. <span data-ttu-id="5d07e-194">Dans la page **Ajouter des serveurs** , tapez le nom de domaine complet (FQDN) du serveur principal, sélectionnez **serveur principal**, puis cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-194">On the **Add Servers** page, type the fully qualified domain name (FQDN) of the primary server, select **Primary Server**, and then click **Add**.</span></span>
7. <span data-ttu-id="5d07e-195">À ce stade, WFF tente de contacter le serveur principal à l’aide des informations d’identification que vous avez fournies.</span><span class="sxs-lookup"><span data-stu-id="5d07e-195">At this point, WFF will attempt to contact the primary server using the credentials you provided.</span></span> <span data-ttu-id="5d07e-196">Si la connexion est établie, le serveur principal est ajouté à la table dans la page **Ajouter des serveurs** .</span><span class="sxs-lookup"><span data-stu-id="5d07e-196">If the connection succeeds, the primary server will be added to the table on the **Add Servers** page.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image7.png)

    > [!NOTE]
    > <span data-ttu-id="5d07e-197">Vous avez peut-être remarqué que le **serveur est disponible pour l’équilibrage de charge** est sélectionné par défaut.</span><span class="sxs-lookup"><span data-stu-id="5d07e-197">You might have noticed that **Server is available for Load Balancing** is selected by default.</span></span> <span data-ttu-id="5d07e-198">WFF utilise le module IIS ARR pour implémenter l’équilibrage de charge et ainsi distribuer les demandes entre les serveurs Web de votre batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-198">WFF uses the IIS ARR module to implement load balancing and thereby distribute requests across the web servers in your server farm.</span></span> <span data-ttu-id="5d07e-199">Dans la plupart des scénarios, vous ne désactivez pas l’option le **serveur est disponible pour l’équilibrage de charge** si vous souhaitiez utiliser à la place une solution d’équilibrage de charge tierce.</span><span class="sxs-lookup"><span data-stu-id="5d07e-199">In most scenarios, you'd only clear the **Server is available for Load Balancing** option if you wanted to use a third-party load balancing solution instead.</span></span>
8. <span data-ttu-id="5d07e-200">Dans la page **Ajouter des serveurs** , tapez le nom de domaine complet de votre premier serveur secondaire, puis cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-200">On the **Add Servers** page, type the FQDN of your first secondary server, and then click **Add**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image8.png)
9. <span data-ttu-id="5d07e-201">Répétez l’étape 7 pour tous les serveurs secondaires supplémentaires de votre batterie, puis cliquez sur **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-201">Repeat step 7 for any additional secondary servers in your farm, and then click **Finish**.</span></span>

<span data-ttu-id="5d07e-202">Votre batterie de serveurs WFF est maintenant en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="5d07e-202">Your WFF server farm is now up and running.</span></span> <span data-ttu-id="5d07e-203">Tous les produits ou composants de plateforme Web que vous installez sur le serveur principal, ainsi que les applications Web ou le contenu que vous déployez sur le serveur principal, seront automatiquement approvisionnés sur tous vos serveurs secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-203">Any web platform products or components that you install on the primary server, and any web applications or content that you deploy to the primary server, will be automatically provisioned on all your secondary servers.</span></span>

<span data-ttu-id="5d07e-204">WFF est un sujet large et complexe, et vous pouvez en savoir plus à ce sujet sur le site Web de [Microsoft Web Farm Framework 2,0 pour IIS 7](https://go.microsoft.com/?linkid=9805129) .</span><span class="sxs-lookup"><span data-stu-id="5d07e-204">WFF is a broad and complex topic, and you can learn more about it on the [Microsoft Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805129) website.</span></span> <span data-ttu-id="5d07e-205">Toutefois, pour l’instant, il existe deux domaines de fonctionnalités que vous devez connaître :</span><span class="sxs-lookup"><span data-stu-id="5d07e-205">For the time being, however, there are two features areas that you need to be aware of:</span></span>

- <span data-ttu-id="5d07e-206">L' *approvisionnement d’applications* est le processus qui réplique le contenu à partir du serveur principal, comme les applications Web et les paramètres de configuration, sur tous les serveurs secondaires de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-206">*Application provisioning* is the process that replicates content from the primary server, like web applications and configuration settings, across all the secondary servers in the server farm.</span></span> <span data-ttu-id="5d07e-207">Par exemple, si vous déployez l’exemple de solution du gestionnaire de contacts sur votre serveur intermédiaire principal, le processus de provisionnement d’application WFF déploie cette solution sur tous vos serveurs de mise en lots secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-207">For example, if you deploy the Contact Manager sample solution to your primary staging server, the WFF application provisioning process will deploy this solution to all your secondary staging servers.</span></span> <span data-ttu-id="5d07e-208">Par défaut, le processus de configuration d’application s’exécute toutes les 30 secondes.</span><span class="sxs-lookup"><span data-stu-id="5d07e-208">By default, the application provisioning process runs every 30 seconds.</span></span>
- <span data-ttu-id="5d07e-209">L’approvisionnement de la *plateforme* est le processus qui synchronise les produits et composants de plateforme Web à partir du serveur principal sur tous les serveurs secondaires de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-209">*Platform provisioning* is the process that synchronizes web platform products and components from the primary server to all the secondary servers in the server farm.</span></span> <span data-ttu-id="5d07e-210">Par exemple, si vous installez ASP.NET MVC 3 sur votre serveur intermédiaire principal, le processus de configuration de la plateforme utilise le Web Platform Installer pour installer ASP.NET MVC 3 sur tous vos serveurs de mise en lots secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-210">For example, if you install ASP.NET MVC 3 on your primary staging server, the platform provisioning process will use the Web Platform Installer to install ASP.NET MVC 3 on all your secondary staging servers.</span></span> <span data-ttu-id="5d07e-211">Par défaut, le processus de configuration de la plateforme s’exécute toutes les cinq minutes.</span><span class="sxs-lookup"><span data-stu-id="5d07e-211">By default, the platform provisioning process runs every five minutes.</span></span>

<span data-ttu-id="5d07e-212">Vous pouvez gérer les paramètres de configuration de l’application et de la plateforme de base à partir du gestionnaire des services Internet sur votre serveur de contrôleur WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-212">You can manage basic application and platform provisioning settings from IIS Manager on your WFF controller server.</span></span>

<span data-ttu-id="5d07e-213">**Explorez les paramètres de configuration de l’application et de la plateforme**</span><span class="sxs-lookup"><span data-stu-id="5d07e-213">**Explore application and platform provisioning settings**</span></span>

1. <span data-ttu-id="5d07e-214">Dans le gestionnaire des services Internet, dans le volet **connexions** , sélectionnez votre batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-214">In IIS Manager, in the **Connections** pane, select your server farm.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image9.png)
2. <span data-ttu-id="5d07e-215">Dans le volet **batterie de serveurs** , double-cliquez sur approvisionnement de l' **application**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-215">In the **Server Farm** pane, double-click **Application Provisioning**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image10.png)
3. <span data-ttu-id="5d07e-216">Comme vous pouvez le voir, la batterie de serveurs est actuellement configurée pour synchroniser le contenu Web et les paramètres de configuration entre le serveur principal et les serveurs secondaires toutes les 30 secondes.</span><span class="sxs-lookup"><span data-stu-id="5d07e-216">As you can see, the server farm is currently configured to synchronize web content and configuration settings between the primary server and the secondary servers every 30 seconds.</span></span>
4. <span data-ttu-id="5d07e-217">Cliquez sur **précédent**, puis double-cliquez sur Configuration de la **plateforme**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-217">Click **Back**, and then double-click **Platform Provisioning**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image11.png)
5. <span data-ttu-id="5d07e-218">Comme vous pouvez le voir, la batterie de serveurs est actuellement configurée pour synchroniser les composants et les produits de plateforme Web entre le serveur principal et les serveurs secondaires toutes les cinq minutes.</span><span class="sxs-lookup"><span data-stu-id="5d07e-218">As you can see, the server farm is currently configured to synchronize web platform products and components between the primary server and the secondary servers every five minutes.</span></span>
6. <span data-ttu-id="5d07e-219">Cliquez sur **Précédent**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-219">Click **Back**.</span></span>
7. <span data-ttu-id="5d07e-220">Pour forcer la batterie de serveurs à synchroniser les produits de plateforme Web immédiatement, dans le volet **actions** , cliquez sur **configurer la plateforme**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-220">To force the server farm to synchronize web platform products immediately, in the **Actions** pane, click **Provision Platform**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image12.png)

    > [!NOTE]
    > <span data-ttu-id="5d07e-221">L’approvisionnement de la plateforme peut prendre un certain temps.</span><span class="sxs-lookup"><span data-stu-id="5d07e-221">Platform provisioning may take some time.</span></span> <span data-ttu-id="5d07e-222">Le processus d’installation s’exécute en arrière-plan sur les serveurs secondaires de votre batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-222">The installer process runs in the background on the secondary servers in your server farm.</span></span>
8. <span data-ttu-id="5d07e-223">Une fois que vous avez accordé suffisamment de temps pour terminer le processus d’approvisionnement, vous pouvez vérifier que les produits et composants que vous avez ajoutés au serveur principal ont été répliqués sur les serveurs secondaires.</span><span class="sxs-lookup"><span data-stu-id="5d07e-223">Once you've allowed sufficient time for the provisioning process to complete, you can verify that the products and components that you added to the primary server have now been replicated on the secondary servers.</span></span> <span data-ttu-id="5d07e-224">Par exemple, vous pouvez ouvrir une session sur un serveur secondaire et utiliser la fenêtre **Gestionnaire de serveur** pour vérifier que le rôle de serveur Web a été installé.</span><span class="sxs-lookup"><span data-stu-id="5d07e-224">For example, you can log on to a secondary server and use the **Server Manager** window to verify that the web server role has been installed.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image13.png)
9. <span data-ttu-id="5d07e-225">Vous pouvez également consulter la liste programmes installés pour vérifier que différents composants de la plateforme Web ont été ajoutés.</span><span class="sxs-lookup"><span data-stu-id="5d07e-225">You can also check the installed programs list to verify that various web platform components have been added.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image14.png)

## <a name="configure-load-balancing"></a><span data-ttu-id="5d07e-226">Configurer l’équilibrage de charge</span><span class="sxs-lookup"><span data-stu-id="5d07e-226">Configure Load Balancing</span></span>

<span data-ttu-id="5d07e-227">Lorsque vous créez une batterie de serveurs Web, vous devez configurer une certaine forme d’équilibrage de charge pour distribuer les requêtes HTTP entre vos serveurs Web.</span><span class="sxs-lookup"><span data-stu-id="5d07e-227">When you create a web farm, you need to set up some form of load balancing to distribute HTTP requests between your web servers.</span></span> <span data-ttu-id="5d07e-228">Il peut s’agir de l’équilibrage de charge réseau Windows Server 2008, d’IIS ARR ou d’une solution d’équilibrage de charge basée sur un matériel ou un logiciel tiers.</span><span class="sxs-lookup"><span data-stu-id="5d07e-228">This could be Windows Server 2008 network load balancing, IIS ARR, or a third-party software-based or hardware-based load balancing solution.</span></span>

<span data-ttu-id="5d07e-229">WFF est conçu pour s’intégrer étroitement avec IIS ARR.</span><span class="sxs-lookup"><span data-stu-id="5d07e-229">WFF is designed to integrate closely with IIS ARR.</span></span> <span data-ttu-id="5d07e-230">Pour tirer parti de cette intégration, vous devez installer le module ARR sur le serveur du contrôleur WFF.</span><span class="sxs-lookup"><span data-stu-id="5d07e-230">To take advantage of this integration, you need to install the ARR module on the WFF controller server.</span></span> <span data-ttu-id="5d07e-231">Vous dirigez ensuite tout votre trafic Web vers le serveur de contrôleur, en général en configurant les enregistrements DNS (Domain Name System).</span><span class="sxs-lookup"><span data-stu-id="5d07e-231">You then direct all your web traffic to the controller server, typically by configuring Domain Name System (DNS) records.</span></span> <span data-ttu-id="5d07e-232">Le serveur contrôleur répartit ensuite les demandes entrantes entre les serveurs de votre batterie, en fonction de la disponibilité du serveur et de divers autres critères.</span><span class="sxs-lookup"><span data-stu-id="5d07e-232">The controller server will then distribute incoming requests among the servers in your farm, based on server availability and various other criteria.</span></span>

> [!NOTE]
> <span data-ttu-id="5d07e-233">Vous n’avez pas besoin d’utiliser ARR avec WFF ; vous pouvez configurer WFF pour qu’il fonctionne avec des solutions d’équilibrage de charge tierces.</span><span class="sxs-lookup"><span data-stu-id="5d07e-233">You don't have to use ARR with WFF; you can configure WFF to work with third-party load balancing solutions.</span></span> <span data-ttu-id="5d07e-234">Pour plus d’informations, consultez [vue d’ensemble de l’infrastructure de batterie de serveurs Web 2,0 pour IIS 7](https://go.microsoft.com/?linkid=9805126).</span><span class="sxs-lookup"><span data-stu-id="5d07e-234">For more information, see [Overview of the Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805126).</span></span>

<span data-ttu-id="5d07e-235">L’équilibrage de charge à l’aide de ARR est un sujet complexe, dont la plupart dépasse le cadre de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="5d07e-235">Load balancing using ARR is a complex topic, most of which is beyond the scope of this tutorial.</span></span> <span data-ttu-id="5d07e-236">Toutefois, vous pouvez utiliser la procédure suivante pour installer le module ARR et prendre en main l’équilibrage de charge.</span><span class="sxs-lookup"><span data-stu-id="5d07e-236">However, you can use the next procedure to install the ARR module and get started with load balancing.</span></span>

<span data-ttu-id="5d07e-237">**Pour configurer l’équilibrage de charge sur le serveur de contrôleur WFF**</span><span class="sxs-lookup"><span data-stu-id="5d07e-237">**To set up load balancing on the WFF controller server**</span></span>

1. <span data-ttu-id="5d07e-238">Sur le serveur de contrôleur WFF, lancez le Web Platform Installer.</span><span class="sxs-lookup"><span data-stu-id="5d07e-238">On the WFF controller server, launch the Web Platform Installer.</span></span>
2. <span data-ttu-id="5d07e-239">En haut de la fenêtre **Web Platform Installer 3,0** , cliquez sur **produits**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-239">At the top of the **Web Platform Installer 3.0** window, click **Products**.</span></span>
3. <span data-ttu-id="5d07e-240">Sur le côté gauche de la fenêtre, dans le volet de navigation, cliquez sur **serveur**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-240">On the left side of the window, in the navigation pane, click **Server**.</span></span>
4. <span data-ttu-id="5d07e-241">Dans la ligne **Application Request Routing 2,5** , cliquez sur **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-241">In the **Application Request Routing 2.5** row, click **Add**.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image15.png)
5. <span data-ttu-id="5d07e-242">Cliquez sur **installer**, puis suivez les instructions de la fenêtre d’installation de la **plateforme Web** .</span><span class="sxs-lookup"><span data-stu-id="5d07e-242">Click **Install**, and then follow the instructions in the **Web Platform Installation** window.</span></span>
6. <span data-ttu-id="5d07e-243">Une fois l’installation terminée, lancez le gestionnaire des services Internet, puis dans le volet **connexions** , cliquez sur le nœud de votre batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-243">When the installation is complete, launch IIS Manager, and in the **Connections** pane, click your server farm node.</span></span> <span data-ttu-id="5d07e-244">Notez que plusieurs nouvelles icônes ont été ajoutées au volet **batterie de serveurs** .</span><span class="sxs-lookup"><span data-stu-id="5d07e-244">Notice that several new icons have been added to the **Server Farm** pane.</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image16.png)
7. <span data-ttu-id="5d07e-245">Dans le volet **batterie de serveurs** , double-cliquez sur équilibrage de la **charge**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-245">In the **Server Farm** pane, double-click **Load Balance**.</span></span>
8. <span data-ttu-id="5d07e-246">Dans le volet équilibrage de **charge** , sélectionnez un algorithme d’équilibrage de charge (par exemple, la **demande la moins courante**).</span><span class="sxs-lookup"><span data-stu-id="5d07e-246">In the **Load Balance** pane, select a load balance algorithm (for example, **Least current request**).</span></span>

    > [!NOTE]
    > <span data-ttu-id="5d07e-247">Pour plus d’informations sur les algorithmes d’équilibrage de charge et d’autres paramètres de configuration, consultez [application Request Routing module](https://go.microsoft.com/?linkid=9805130).</span><span class="sxs-lookup"><span data-stu-id="5d07e-247">For more information on load balancing algorithms and other configuration settings, see [Application Request Routing Module](https://go.microsoft.com/?linkid=9805130).</span></span>

    ![](creating-a-server-farm-with-the-web-farm-framework/_static/image17.png)
9. <span data-ttu-id="5d07e-248">Dans le volet **actions** , cliquez sur **appliquer**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-248">In the **Actions** pane, click **Apply**.</span></span>

<span data-ttu-id="5d07e-249">Vous avez maintenant configuré l’équilibrage de charge de base pour les serveurs de votre batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-249">You have now configured basic load balancing for the servers in your server farm.</span></span> <span data-ttu-id="5d07e-250">Si vous dirigez tout le trafic de votre batterie de serveurs Web vers le serveur contrôleur, les demandes sont distribuées entre les serveurs de votre batterie de serveurs en fonction de la disponibilité et de l’algorithme d’équilibrage de charge que vous avez sélectionné.</span><span class="sxs-lookup"><span data-stu-id="5d07e-250">If you direct all your web farm traffic to the controller server, the requests will be distributed between the servers in your farm according to availability and the load balancing algorithm you selected.</span></span>

<span data-ttu-id="5d07e-251">Pour plus d’informations sur la configuration de l’équilibrage de charge avec ARR, consultez [application Request Routing module](https://go.microsoft.com/?linkid=9805130).</span><span class="sxs-lookup"><span data-stu-id="5d07e-251">For more information on how to configure load balancing with ARR, see [Application Request Routing Module](https://go.microsoft.com/?linkid=9805130).</span></span>

## <a name="monitor-the-server-farm"></a><span data-ttu-id="5d07e-252">Surveiller la batterie de serveurs</span><span class="sxs-lookup"><span data-stu-id="5d07e-252">Monitor the Server Farm</span></span>

<span data-ttu-id="5d07e-253">Vous pouvez surveiller l’intégrité de votre batterie de serveurs à tout moment via le gestionnaire des services Internet sur le serveur contrôleur.</span><span class="sxs-lookup"><span data-stu-id="5d07e-253">You can monitor the health of your server farm at any time through IIS Manager on the controller server.</span></span> <span data-ttu-id="5d07e-254">Dans le volet **connexions** , développez votre batterie de serveurs, puis cliquez sur **serveurs**.</span><span class="sxs-lookup"><span data-stu-id="5d07e-254">In the **Connections** pane, expand your server farm, and then click **Servers**.</span></span> <span data-ttu-id="5d07e-255">Le volet central affiche un résumé de chaque serveur de la batterie de serveurs, ainsi qu’un journal des traces de l’activité récente.</span><span class="sxs-lookup"><span data-stu-id="5d07e-255">The center pane will show a summary of each server in the farm together with a trace log of recent activity.</span></span>

![](creating-a-server-farm-with-the-web-farm-framework/_static/image18.png)

## <a name="conclusion"></a><span data-ttu-id="5d07e-256">Conclusion</span><span class="sxs-lookup"><span data-stu-id="5d07e-256">Conclusion</span></span>

<span data-ttu-id="5d07e-257">Votre batterie de serveurs WFF doit maintenant être en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="5d07e-257">Your WFF server farm should now be up and running.</span></span> <span data-ttu-id="5d07e-258">Vous pouvez configurer le serveur principal pour qu’il prenne en charge&#x2014;l’approche de déploiement que vous préférez&#x2014;. pour plus d’informations, consultez la section relative à la lecture et votre configuration sera répliquée sur chaque serveur secondaire de la batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="5d07e-258">You can configure the primary server to support whichever deployment approach you prefer&#x2014;see the Further Reading section for details&#x2014;and your configuration will be replicated on each secondary server in the server farm.</span></span>

## <a name="further-reading"></a><span data-ttu-id="5d07e-259">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="5d07e-259">Further Reading</span></span>

<span data-ttu-id="5d07e-260">Pour plus d’informations sur tous les aspects de la configuration et de l’utilisation de WFF, consultez le site Web [de Microsoft Web Farm Framework 2,0 pour IIS 7](https://go.microsoft.com/?linkid=9805129) .</span><span class="sxs-lookup"><span data-stu-id="5d07e-260">For more guidance on all aspects of configuring and using the WFF, see the [Microsoft Web Farm Framework 2.0 for IIS 7](https://go.microsoft.com/?linkid=9805129) website.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5d07e-261">[Précédent](configuring-a-database-server-for-web-deploy-publishing.md)
> [Suivant](configuring-deployment-properties-for-a-target-environment.md)</span><span class="sxs-lookup"><span data-stu-id="5d07e-261">[Previous](configuring-a-database-server-for-web-deploy-publishing.md)
[Next](configuring-deployment-properties-for-a-target-environment.md)</span></span>
