---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Pages Maîtresses Microsoft Docs
author: rick-anderson
description: L’un des éléments clés d’un site Web réussi est un look et une sensation constants. Dans ASP.NET 1.x, les développeurs ont utilisé des contrôles utilisateur pour reproduire la page elem commune...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: b493feb21d2e3d6429f0a23df5aab66e0c4c5b07
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2020
ms.locfileid: "81543182"
---
# <a name="master-pages"></a><span data-ttu-id="17c95-104">Pages maîtres</span><span class="sxs-lookup"><span data-stu-id="17c95-104">Master Pages</span></span>

<span data-ttu-id="17c95-105">par [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="17c95-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="17c95-106">L’un des éléments clés d’un site Web réussi est un look et une sensation constants.</span><span class="sxs-lookup"><span data-stu-id="17c95-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="17c95-107">Dans ASP.NET 1.x, les développeurs ont utilisé des contrôles utilisateur pour reproduire des éléments de page communs sur une application Web.</span><span class="sxs-lookup"><span data-stu-id="17c95-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="17c95-108">Bien qu’il s’agit certainement d’une solution réalisable, l’utilisation des contrôles utilisateur a quelques inconvénients.</span><span class="sxs-lookup"><span data-stu-id="17c95-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="17c95-109">Par exemple, une modification de la position d’un contrôle utilisateur nécessite une modification de plusieurs pages sur un site.</span><span class="sxs-lookup"><span data-stu-id="17c95-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="17c95-110">Les contrôles de l’utilisateur ne sont pas non plus rendus dans la vue de conception après avoir été insérés sur une page.</span><span class="sxs-lookup"><span data-stu-id="17c95-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="17c95-111">L’un des éléments clés d’un site Web réussi est un look et une sensation constants.</span><span class="sxs-lookup"><span data-stu-id="17c95-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="17c95-112">Dans ASP.NET 1.x, les développeurs ont utilisé des contrôles utilisateur pour reproduire des éléments de page communs sur une application Web.</span><span class="sxs-lookup"><span data-stu-id="17c95-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="17c95-113">Bien qu’il s’agit certainement d’une solution réalisable, l’utilisation des contrôles utilisateur a quelques inconvénients.</span><span class="sxs-lookup"><span data-stu-id="17c95-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="17c95-114">Par exemple, une modification de la position d’un contrôle utilisateur nécessite une modification de plusieurs pages sur un site.</span><span class="sxs-lookup"><span data-stu-id="17c95-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="17c95-115">Les contrôles de l’utilisateur ne sont pas non plus rendus dans la vue de conception après avoir été insérés sur une page.</span><span class="sxs-lookup"><span data-stu-id="17c95-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="17c95-116">ASP.NET 2.0 introduit les pages Master comme un moyen de maintenir un look et une sensation cohérents, et comme vous le verrez bientôt, les pages Master représentent une amélioration significative par rapport à la méthode de contrôle de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="17c95-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="17c95-117">Pourquoi Master Pages ?</span><span class="sxs-lookup"><span data-stu-id="17c95-117">Why Master Pages?</span></span>

<span data-ttu-id="17c95-118">Vous vous demandez peut-être pourquoi des pages maîtresses ont été nécessaires dans ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="17c95-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="17c95-119">Après tout, les développeurs de sites Web utilisent déjà les contrôles des utilisateurs dans ASP.NET 1.x pour partager des zones de contenu entre les pages.</span><span class="sxs-lookup"><span data-stu-id="17c95-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="17c95-120">Il y a en fait plusieurs raisons pour lesquelles les contrôles utilisateur sont une solution moins que optimale pour créer une mise en page commune.</span><span class="sxs-lookup"><span data-stu-id="17c95-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="17c95-121">Les contrôles des utilisateurs ne définissent pas réellement la mise en page.</span><span class="sxs-lookup"><span data-stu-id="17c95-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="17c95-122">Au lieu de cela, ils définissent la mise en page et la fonctionnalité pour une partie d’une page.</span><span class="sxs-lookup"><span data-stu-id="17c95-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="17c95-123">La distinction entre ces deux est importante car elle rend la maniabilité d’une solution de contrôle utilisateur beaucoup plus difficile.</span><span class="sxs-lookup"><span data-stu-id="17c95-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="17c95-124">Par exemple, lorsque vous souhaitez modifier la position d’un contrôle utilisateur sur votre page, vous devez modifier la page réelle sur laquelle le contrôle utilisateur apparaît.</span><span class="sxs-lookup"><span data-stu-id="17c95-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="17c95-125">C’est bien si vous n’avez que quelques pages, mais dans les grands sites, il devient rapidement un cauchemar de gestion du site!</span><span class="sxs-lookup"><span data-stu-id="17c95-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="17c95-126">Un autre inconvénient de l’utilisation des contrôles utilisateur pour définir une mise en page commune est enracinée dans l’architecture de ASP.NET lui-même.</span><span class="sxs-lookup"><span data-stu-id="17c95-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="17c95-127">Si un membre public d’un contrôle utilisateur est modifié, il vous oblige à recomposer toutes les pages qui utilisent le contrôle de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="17c95-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="17c95-128">À leur tour, ASP.NET re-JIT vos pages quand ils sont d’abord consultés.</span><span class="sxs-lookup"><span data-stu-id="17c95-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="17c95-129">Cela, une fois de plus, produit une architecture non évolutive et un problème de gestion de site pour les grands sites.</span><span class="sxs-lookup"><span data-stu-id="17c95-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="17c95-130">Ces deux problèmes (et beaucoup plus) sont bien abordés par les pages maîtresses dans ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="17c95-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="17c95-131">Fonctionnement des pages-maîtres</span><span class="sxs-lookup"><span data-stu-id="17c95-131">How Master Pages Work</span></span>

<span data-ttu-id="17c95-132">Une page maîtresse est analogue à un modèle pour d’autres pages.</span><span class="sxs-lookup"><span data-stu-id="17c95-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="17c95-133">Les éléments de la page qui doivent être partagés entre d’autres pages (c.-à-d. menus, bordures, etc.) sont ajoutés à la page principale.</span><span class="sxs-lookup"><span data-stu-id="17c95-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="17c95-134">Lorsque de nouvelles pages sont ajoutées au site, vous pouvez les associer à une page maîtresse.</span><span class="sxs-lookup"><span data-stu-id="17c95-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="17c95-135">Une page associée à une page maîtresse s’appelle une **page de contenu**.</span><span class="sxs-lookup"><span data-stu-id="17c95-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="17c95-136">Par défaut, une page de contenu prend l’apparence de la page principale.</span><span class="sxs-lookup"><span data-stu-id="17c95-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="17c95-137">Toutefois, lorsque vous créez une page principale, vous pouvez définir des parties de la page que la page de contenu peut remplacer par son propre contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="17c95-138">Ces parties sont définies à l’aide d’un nouveau contrôle introduit dans ASP.NET 2.0; le contrôle **ContentPlaceHolder.**</span><span class="sxs-lookup"><span data-stu-id="17c95-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="17c95-139">Une page maîtresse peut contenir n’importe quel nombre de contrôles ContentPlaceHolder (ou aucun du tout.) Sur la page de contenu, le contenu des contrôles ContentPlaceHolder apparaît à l’intérieur des contrôles de **contenu,** un autre nouveau contrôle dans ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="17c95-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="17c95-140">Par défaut, les pages de contenu contrôlent le contenu afin que vous puissiez fournir votre propre contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="17c95-141">Si vous souhaitez utiliser le contenu de la page principale à l’intérieur des contrôles de contenu, vous pouvez le faire comme vous le verrez plus tard dans ce module.</span><span class="sxs-lookup"><span data-stu-id="17c95-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="17c95-142">Le contrôle du contenu est cartographié sur le contrôle ContentPlaceHolder via l’attribut ContentPlaceHolderID du contrôle de contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="17c95-143">Le code ci-dessous cartographie un contrôle de contenu à un contrôle ContentPlaceHolder appelé mainBody sur une page principale.</span><span class="sxs-lookup"><span data-stu-id="17c95-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="17c95-144">Vous entendrez souvent les gens décrire les pages maîtresses comme étant une classe de base pour d’autres pages.</span><span class="sxs-lookup"><span data-stu-id="17c95-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="17c95-145">Ce n’est pas vrai.</span><span class="sxs-lookup"><span data-stu-id="17c95-145">Thats actually not true.</span></span> <span data-ttu-id="17c95-146">La relation entre les pages maîtresses et les pages de contenu n’est pas celle de l’héritage.</span><span class="sxs-lookup"><span data-stu-id="17c95-146">The relationship between master pages and content pages is not one of inheritance.</span></span>

<span data-ttu-id="17c95-147">**La figure 1** affiche une page maîtresse et une page de contenu associée telles qu’elles apparaissent dans Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="17c95-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="17c95-148">Vous pouvez voir le contrôle ContentPlaceHolder dans la page principale et le contrôle de contenu correspondant dans la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="17c95-149">Notez que le contenu des pages maîtresses qui est en dehors du ContentPlaceHolder est visible mais grisé dans la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="17c95-150">Seul le contenu à l’intérieur du ContentPlaceHolder peut être supplanté par la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="17c95-151">Tous les autres contenus qui proviennent de la page principale sont immuables.</span><span class="sxs-lookup"><span data-stu-id="17c95-151">All other content that comes from the master page is immutable.</span></span>

![Une page maîtresse et sa page de contenu associée](master-pages/_static/image1.jpg)

<span data-ttu-id="17c95-153">**Figure 1**: Une page maîtresse et sa page de contenu associée</span><span class="sxs-lookup"><span data-stu-id="17c95-153">**Figure 1**: A master page and its associated content page</span></span>

## <a name="creating-a-master-page"></a><span data-ttu-id="17c95-154">Création d’une page Maîtresse</span><span class="sxs-lookup"><span data-stu-id="17c95-154">Creating a Master Page</span></span>

<span data-ttu-id="17c95-155">Pour créer une nouvelle page maîtresse :</span><span class="sxs-lookup"><span data-stu-id="17c95-155">To create a new master page:</span></span>

1. <span data-ttu-id="17c95-156">Ouvrez Visual Studio 2005 et créez un nouveau site Web.</span><span class="sxs-lookup"><span data-stu-id="17c95-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="17c95-157">Cliquez sur Fichier, Nouveau, Fichier.</span><span class="sxs-lookup"><span data-stu-id="17c95-157">Click File, New, File.</span></span>
3. <span data-ttu-id="17c95-158">Choisissez Master File parmi le dialogue Add New Item tel qu’indiqué dans **la figure 2**.</span><span class="sxs-lookup"><span data-stu-id="17c95-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="17c95-159">Cliquez sur Ajouter.</span><span class="sxs-lookup"><span data-stu-id="17c95-159">Click Add.</span></span>

![Création d’une nouvelle page Master](master-pages/_static/image2.jpg)

<span data-ttu-id="17c95-161">**Figure 2**: Création d’une nouvelle page Master</span><span class="sxs-lookup"><span data-stu-id="17c95-161">**Figure 2**: Creating a New Master Page</span></span>

<span data-ttu-id="17c95-162">Notez que l’extension du fichier pour une page principale est *.master*.</span><span class="sxs-lookup"><span data-stu-id="17c95-162">Notice that the file extension for a master page is *.master*.</span></span> <span data-ttu-id="17c95-163">C’est l’une des façons dont une page maîtresse diffère d’une page ordinaire.</span><span class="sxs-lookup"><span data-stu-id="17c95-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="17c95-164">L’autre différence principale est @Page qu’au lieu d’une directive, la page principale contient une @Master directive.</span><span class="sxs-lookup"><span data-stu-id="17c95-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="17c95-165">Passez à Source View pour la page principale que vous venez de créer et examinez le code.</span><span class="sxs-lookup"><span data-stu-id="17c95-165">Switch to Source View for the master page you've just created and review the code.</span></span>

<span data-ttu-id="17c95-166">Une nouvelle page principale aura un contrôle ContentPlaceHolder par défaut.</span><span class="sxs-lookup"><span data-stu-id="17c95-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="17c95-167">Dans la plupart des cas, il est plus logique de créer les éléments de page communs d’abord, puis d’insérer les contrôles ContentPlaceHolder où le contenu personnalisé est souhaité.</span><span class="sxs-lookup"><span data-stu-id="17c95-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="17c95-168">Dans ces cas, les développeurs voudront supprimer le contrôle par défaut contentPlaceHolder et en insérer de nouveaux au fur et à mesure que la page sera développée.</span><span class="sxs-lookup"><span data-stu-id="17c95-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="17c95-169">Les contrôles ContentPlaceHolder ne sont pas resizables malgré le fait qu’ils affichent des poignées de dimensionnement.</span><span class="sxs-lookup"><span data-stu-id="17c95-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="17c95-170">Les tailles de contrôle ContentPlaceHolder sont automatiquement basées sur le contenu qu’il contient à une exception près ; si vous placez un contrôle ContentPlaceHolder à l’intérieur d’un élément de bloc tel qu’une cellule de table, il taillera en fonction de la taille de l’élément.</span><span class="sxs-lookup"><span data-stu-id="17c95-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="17c95-171">Laboratoire 1 Travailler avec les Pages Master</span><span class="sxs-lookup"><span data-stu-id="17c95-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="17c95-172">Dans ce laboratoire, vous créerez une nouvelle page maître et définirez trois contrôles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="17c95-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="17c95-173">Vous créerez ensuite une nouvelle page de contenu et remplacerez le contenu à partir d’au moins un des contrôles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="17c95-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="17c95-174">Créez une page maîtresse et insérez les contrôles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="17c95-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="17c95-175">Créez une nouvelle page maîtresse comme décrit ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="17c95-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="17c95-176">Supprimer le contrôle par défaut ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="17c95-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="17c95-177">Sélectionnez le contrôle ContentPlaceHolder en cliquant sur la bordure supérieure ombragée du contrôle, puis supprimez-le en frappant la touche DEL sur votre clavier.</span><span class="sxs-lookup"><span data-stu-id="17c95-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="17c95-178">Insérez une nouvelle table à l’aide de *l’en-tête et* du modèle latéral comme indiqué dans la figure 3.</span><span class="sxs-lookup"><span data-stu-id="17c95-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="17c95-179">Changez la largeur et la hauteur à 90% chacun de sorte que toute la table est visible dans le concepteur.</span><span class="sxs-lookup"><span data-stu-id="17c95-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>

![](master-pages/_static/image3.jpg)

<span data-ttu-id="17c95-180">**Figure 3**</span><span class="sxs-lookup"><span data-stu-id="17c95-180">**Figure 3**</span></span>

1. <span data-ttu-id="17c95-181">Placez le curseur dans chaque cellule de la table et placez la propriété *valign* *au dessus.*</span><span class="sxs-lookup"><span data-stu-id="17c95-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="17c95-182">De la boîte à outils, insérez un contrôle ContentPlaceHolder dans la cellule supérieure de la table (la cellule d’en-tête.)</span><span class="sxs-lookup"><span data-stu-id="17c95-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="17c95-183">Lorsque vous insérez ce contrôle ContentPlaceHolder, vous remarquerez que la hauteur de la ligne prendra presque toute la page comme indiqué dans la figure 4.</span><span class="sxs-lookup"><span data-stu-id="17c95-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="17c95-184">Ne vous inquiétez pas à ce sujet à ce stade.</span><span class="sxs-lookup"><span data-stu-id="17c95-184">Don't be concerned about that at this point.</span></span>

![L’espace vide est dans la même cellule que le ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="17c95-186">**Figure 4**: L’espace vide est dans la même cellule que le ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="17c95-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>

1. <span data-ttu-id="17c95-187">Placez un contrôle ContentPlaceHolder dans les deux autres cellules.</span><span class="sxs-lookup"><span data-stu-id="17c95-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="17c95-188">Une fois que les autres contrôles ContentPlaceHolder ont été insérés, la taille des cellules de table devrait être comme vous vous y attendriez.</span><span class="sxs-lookup"><span data-stu-id="17c95-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="17c95-189">La page doit maintenant ressembler à la page indiquée dans **la figure 5**.</span><span class="sxs-lookup"><span data-stu-id="17c95-189">The page should now look like the page shown in **figure 5**.</span></span>

![Le Master avec tous les contrôles ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="17c95-192">**Figure 5**: Le Maître avec tous les contrôles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="17c95-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="17c95-193">Notez que la hauteur de la cellule pour la cellule d’en-tête est maintenant ce qu’elle devrait être</span><span class="sxs-lookup"><span data-stu-id="17c95-193">Notice that the cell height for the header cell is now what it should be</span></span>

1. <span data-ttu-id="17c95-194">Entrez un texte de votre choix dans chacun des trois contrôles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="17c95-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="17c95-195">Enregistrer la page principale comme exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="17c95-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="17c95-196">Créez un nouveau formulaire Web et associez-le à la page maître exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="17c95-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="17c95-197">Sélectionnez Fichier, Nouveau, Fichier dans Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="17c95-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="17c95-198">Sélectionnez **formulaire Web** dans le dialogue Ajouter un nouvel élément.</span><span class="sxs-lookup"><span data-stu-id="17c95-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="17c95-199">Assurez-vous que la case à cocher de la page principale Select est vérifiée comme indiqué dans la figure 6.</span><span class="sxs-lookup"><span data-stu-id="17c95-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>

![Ajout d’une nouvelle page de contenu](master-pages/_static/image3.gif)

<span data-ttu-id="17c95-201">**Figure 6**: Ajout d’une nouvelle page de contenu</span><span class="sxs-lookup"><span data-stu-id="17c95-201">**Figure 6**: Adding a new Content Page</span></span>

1. <span data-ttu-id="17c95-202">Cliquez sur Ajouter.</span><span class="sxs-lookup"><span data-stu-id="17c95-202">Click Add.</span></span>
2. <span data-ttu-id="17c95-203">Sélectionnez exercise1.master dans le Sélectionnez un dialogue de page principale tel qu’indiqué dans la figure 7.</span><span class="sxs-lookup"><span data-stu-id="17c95-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="17c95-204">Cliquez sur OK pour ajouter la nouvelle page de contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="17c95-205">La nouvelle page de contenu apparaît dans Visual Studio avec un contrôle de contenu pour chaque contrôle ContentPlaceHolder sur la page principale.</span><span class="sxs-lookup"><span data-stu-id="17c95-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="17c95-206">Par défaut, les contrôles de contenu sont vides afin que vous puissiez ajouter votre propre contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="17c95-207">Si vous souhaitez qu’ils utilisent le contenu du contrôle ContentPlaceHolder sur la page principale, il suffit de cliquer sur le symbole de l’étiquette intelligente (la petite flèche noire dans le coin supérieur droit du contrôle) et choisissez *par défaut de contenu de maîtres à* partir de l’étiquette intelligente comme indiqué dans la figure **8**.</span><span class="sxs-lookup"><span data-stu-id="17c95-207">If you'd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="17c95-208">Lorsque vous le faites, l’élément du menu change pour *créer du contenu personnalisé*.</span><span class="sxs-lookup"><span data-stu-id="17c95-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="17c95-209">En cliquant à ce moment-là, supprime le contenu de la page principale vous permettant de définir du contenu personnalisé pour ce contrôle de contenu particulier.</span><span class="sxs-lookup"><span data-stu-id="17c95-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>

![Définir un contrôle de contenu par défaut au contenu des pages Master](master-pages/_static/image4.gif)

<span data-ttu-id="17c95-211">**Figure 7**: Définir un contrôle de contenu par défaut au contenu des pages maîtresses</span><span class="sxs-lookup"><span data-stu-id="17c95-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>

## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="17c95-212">Connexion des pages Master Page et Contenu</span><span class="sxs-lookup"><span data-stu-id="17c95-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="17c95-213">L’association entre une page maîtresse et une page de contenu peut être configurée de l’une des quatre façons différentes :</span><span class="sxs-lookup"><span data-stu-id="17c95-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="17c95-214"><strong>L’attribut MasterPageFile</strong> de la @Page directive</span><span class="sxs-lookup"><span data-stu-id="17c95-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="17c95-215">Définir la propriété **Page.MasterPageFile** en code.</span><span class="sxs-lookup"><span data-stu-id="17c95-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="17c95-216">\*\* &lt;L’élément pages&gt; \*\* dans le fichier de configuration des applications (web.config dans le dossier racine de l’application)</span><span class="sxs-lookup"><span data-stu-id="17c95-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="17c95-217">\*\* &lt;L’élément pages&gt; \*\* dans un fichier de configuration de sous-plieurs (web.config dans un sous-pli)</span><span class="sxs-lookup"><span data-stu-id="17c95-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="17c95-218">Attribut MasterPageFile</span><span class="sxs-lookup"><span data-stu-id="17c95-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="17c95-219">L’attribut MasterPageFile facilite l’application d’une page maîtresse à une page ASP.NET particulière.</span><span class="sxs-lookup"><span data-stu-id="17c95-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="17c95-220">C’est aussi la méthode utilisée pour appliquer la page principale lorsque vous vérifiez la case à cocher **Select Master Page** comme vous l’avez fait dans l’exercice 1.</span><span class="sxs-lookup"><span data-stu-id="17c95-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="17c95-221">Définir Page.MasterPageFile dans le Code</span><span class="sxs-lookup"><span data-stu-id="17c95-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="17c95-222">En définissant la propriété MasterPageFile en code, vous pouvez appliquer une page maîtresse particulière à votre contenu à l’heure d’exécution.</span><span class="sxs-lookup"><span data-stu-id="17c95-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="17c95-223">Ceci est utile dans les cas où vous devrez peut-être appliquer une page principale spécifique basée sur un rôle d’utilisateur ou d’autres critères.</span><span class="sxs-lookup"><span data-stu-id="17c95-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="17c95-224">La propriété MasterPageFile doit être définie dans la méthode PreInit.</span><span class="sxs-lookup"><span data-stu-id="17c95-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="17c95-225">S’il est réglé après la méthode PreInit, une modification invalide sera lancée.</span><span class="sxs-lookup"><span data-stu-id="17c95-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="17c95-226">La page sur laquelle cette propriété est définie doit également avoir un contrôle de contenu comme le contrôle de haut niveau pour la page.</span><span class="sxs-lookup"><span data-stu-id="17c95-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="17c95-227">Sinon, une impression httpexception sera lancée lorsque la propriété MasterPageFile sera définie.</span><span class="sxs-lookup"><span data-stu-id="17c95-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="17c95-228">Utilisation &lt;des&gt; pages Element</span><span class="sxs-lookup"><span data-stu-id="17c95-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="17c95-229">Vous pouvez configurer une page maîtresse pour vos pages &lt;en&gt; définissant l’attribut masterPageFile dans l’élément pages du fichier web.config.</span><span class="sxs-lookup"><span data-stu-id="17c95-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="17c95-230">Lors de l’utilisation de cette méthode, gardez à l’esprit que les fichiers web.config plus bas dans la structure d’application peuvent remplacer ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="17c95-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="17c95-231">Tout attribut MasterPageFile @Page défini dans une directive remplacera également ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="17c95-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="17c95-232">L’utilisation&gt; de l’élément pages facilite la &lt;création d’une page maître *qui* peut être remplacée si nécessaire dans des dossiers ou des fichiers particuliers.</span><span class="sxs-lookup"><span data-stu-id="17c95-232">Using the &lt;pages&gt; element makes it simple to create a *master* master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="17c95-233">Propriétés dans les pages maîtresses</span><span class="sxs-lookup"><span data-stu-id="17c95-233">Properties in Master Pages</span></span>

<span data-ttu-id="17c95-234">Une page maîtresse peut exposer les propriétés en rendant simplement ces propriétés publiques dans la page principale.</span><span class="sxs-lookup"><span data-stu-id="17c95-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="17c95-235">Par exemple, le code suivant définit une propriété appelée SomeProperty :</span><span class="sxs-lookup"><span data-stu-id="17c95-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="17c95-236">Pour accéder à la propriété SomeProperty à partir de la page Contenu, vous devrez utiliser la propriété Master comme il le souhaitez :</span><span class="sxs-lookup"><span data-stu-id="17c95-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="17c95-237">Pages Maîtresses de nidification</span><span class="sxs-lookup"><span data-stu-id="17c95-237">Nesting Master Pages</span></span>

<span data-ttu-id="17c95-238">Les pages maîtresses sont la solution parfaite pour assurer un look et une sensation communs à travers une grande application Web.</span><span class="sxs-lookup"><span data-stu-id="17c95-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="17c95-239">Cependant, il n’est pas rare que certaines parties d’un grand site partagent une interface commune tandis que d’autres parties partagent une interface différente.</span><span class="sxs-lookup"><span data-stu-id="17c95-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="17c95-240">Pour répondre à ce besoin, plusieurs pages maîtresses sont la solution parfaite.</span><span class="sxs-lookup"><span data-stu-id="17c95-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="17c95-241">Toutefois, cela ne tient toujours pas compte du fait qu’une grande application peut avoir certains composants (comme un menu, par exemple) qui sont partagés entre toutes les pages et autres composants qui ne sont partagés qu’entre certaines sections du site.</span><span class="sxs-lookup"><span data-stu-id="17c95-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="17c95-242">Pour ce type de situation, les pages maîtresses imbriquées remplissent bien le besoin.</span><span class="sxs-lookup"><span data-stu-id="17c95-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="17c95-243">Comme vous l’avez vu, une page principale normale se compose d’une page maîtresse et d’une page de contenu.</span><span class="sxs-lookup"><span data-stu-id="17c95-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="17c95-244">Dans une situation de page principale imbriquée, il y a deux pages maîtresses ; un maître parent et un maître d’enfant.</span><span class="sxs-lookup"><span data-stu-id="17c95-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="17c95-245">La page maître enfant est également une page de contenu et son maître est la page principale parent.</span><span class="sxs-lookup"><span data-stu-id="17c95-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="17c95-246">Voici le code d’une page maîtresse typique :</span><span class="sxs-lookup"><span data-stu-id="17c95-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="17c95-247">Dans un scénario de maître imbriqué, ce serait le maître parent.</span><span class="sxs-lookup"><span data-stu-id="17c95-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="17c95-248">Une autre page principale utiliserait cette page comme sa page principale, et ce code ressemblerait à ceci :</span><span class="sxs-lookup"><span data-stu-id="17c95-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="17c95-249">Notez que dans ce scénario, le maître de l’enfant est également une page de contenu pour le maître parent.</span><span class="sxs-lookup"><span data-stu-id="17c95-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="17c95-250">Tout le contenu du maître de l’enfant apparaît à l’intérieur d’un contrôle de contenu qui tire son contenu du contrôle contentPlaceHolder du parent.</span><span class="sxs-lookup"><span data-stu-id="17c95-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="17c95-251">Le support du concepteur n’est pas disponible pour les pages maîtresses imbriquées.</span><span class="sxs-lookup"><span data-stu-id="17c95-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="17c95-252">Lorsque vous développez à l’aide de maîtres imbriqués, vous devrez utiliser la vue source.</span><span class="sxs-lookup"><span data-stu-id="17c95-252">When you are developing using nested masters, you will need to use source view.</span></span>

<span data-ttu-id="17c95-253">Cette vidéo montre une procédure pas à pas d’utilisation de pages maîtresses imbriquées.</span><span class="sxs-lookup"><span data-stu-id="17c95-253">This video shows a walkthrough of using nested master pages.</span></span>

![](master-pages/_static/image1.png)

[<span data-ttu-id="17c95-254">Ouvrez la vidéo plein écran</span><span class="sxs-lookup"><span data-stu-id="17c95-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)

![Sélection d’une page Master](master-pages/_static/image4.jpg)

<span data-ttu-id="17c95-256">**Figure 8**: Sélection d’une page maîtresse</span><span class="sxs-lookup"><span data-stu-id="17c95-256">**Figure 8**: Selecting a Master Page</span></span>
