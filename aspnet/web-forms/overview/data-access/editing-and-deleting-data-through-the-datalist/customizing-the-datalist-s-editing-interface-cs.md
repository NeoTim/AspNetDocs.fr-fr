---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
title: Personnalisation de l’interface de modification du contrôleC#DataList () | Microsoft Docs
author: rick-anderson
description: Dans ce didacticiel, nous allons créer une interface de modification plus riche pour la DataList, une qui comprend DropDownList et une case à cocher.
ms.author: riande
ms.date: 10/30/2006
ms.assetid: a5d13067-ddfb-4c36-8209-0f69fd40e45c
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/customizing-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: 81f5a7f6737f544f577447f263dbd37dbc8279d9
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74623859"
---
# <a name="customizing-the-datalists-editing-interface-c"></a><span data-ttu-id="2c2b1-103">Personnalisation de l’interface de modification du contrôle DataList (C#)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-103">Customizing the DataList's Editing Interface (C#)</span></span>

<span data-ttu-id="2c2b1-104">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="2c2b1-105">[Télécharger l’exemple d’application](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) ou [Télécharger le PDF](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_40_CS.exe) or [Download PDF](customizing-the-datalist-s-editing-interface-cs/_static/datatutorial40cs1.pdf)</span></span>

> <span data-ttu-id="2c2b1-106">Dans ce didacticiel, nous allons créer une interface de modification plus riche pour la DataList, une qui comprend DropDownList et une case à cocher.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-106">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span>

## <a name="introduction"></a><span data-ttu-id="2c2b1-107">Introduction</span><span class="sxs-lookup"><span data-stu-id="2c2b1-107">Introduction</span></span>

<span data-ttu-id="2c2b1-108">Le balisage et les contrôles Web dans le contrôle DataList `EditItemTemplate` définissent son interface modifiable.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-108">The markup and Web controls in the DataList s `EditItemTemplate` define its editable interface.</span></span> <span data-ttu-id="2c2b1-109">Dans tous les exemples DataList modifiables que nous avons examinés jusqu’à présent, l’interface modifiable est composée de contrôles Web TextBox.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-109">In all of the editable DataList examples we ve examined thus far, the editable interface has been composed of TextBox Web controls.</span></span> <span data-ttu-id="2c2b1-110">Dans le [didacticiel précédent](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) , nous avons amélioré l’expérience utilisateur de modification en ajoutant des contrôles de validation.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-110">In the [preceding tutorial](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md) we improved the edit-time user experience by adding validation controls.</span></span>

<span data-ttu-id="2c2b1-111">Le `EditItemTemplate` peut être développé pour inclure des contrôles Web autres que la zone de texte, tels que DropDownList, RadioButtonLists, calendars, etc.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-111">The `EditItemTemplate` can be further expanded to include Web controls other than the TextBox, such as DropDownLists, RadioButtonLists, Calendars, and so on.</span></span> <span data-ttu-id="2c2b1-112">Comme pour les zones de texte, lorsque vous personnalisez l’interface de modification pour inclure d’autres contrôles Web, utilisez les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-112">As with TextBoxes, when customizing the editing interface to include other Web controls, employ the following steps:</span></span>

1. <span data-ttu-id="2c2b1-113">Ajoutez le contrôle Web au `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-113">Add the Web control to the `EditItemTemplate`.</span></span>
2. <span data-ttu-id="2c2b1-114">Utilisez la syntaxe DataBinding pour assigner la valeur du champ de données correspondant à la propriété appropriée.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-114">Use databinding syntax to assign the corresponding data field value to the appropriate property.</span></span>
3. <span data-ttu-id="2c2b1-115">Dans le gestionnaire d’événements `UpdateCommand`, accédez par programmation à la valeur de contrôle Web et transmettez-la dans la méthode BLL appropriée.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-115">In the `UpdateCommand` event handler, programmatically access the Web control value and pass it into the appropriate BLL method.</span></span>

<span data-ttu-id="2c2b1-116">Dans ce didacticiel, nous allons créer une interface de modification plus riche pour la DataList, une qui comprend DropDownList et une case à cocher.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-116">In this tutorial we will create a richer editing interface for the DataList, one that includes DropDownLists and a CheckBox.</span></span> <span data-ttu-id="2c2b1-117">En particulier, nous allons créer un contrôle DataList qui répertorie les informations produit et permet de mettre à jour le nom du produit, le fournisseur, la catégorie et l’État abandonné (voir figure 1).</span><span class="sxs-lookup"><span data-stu-id="2c2b1-117">In particular, we'll create a DataList that lists product information and permits the product s name, supplier, category, and discontinued status to be updated (see Figure 1).</span></span>

<span data-ttu-id="2c2b1-118">[![l’interface de modification contient une zone de texte, deux DropDownList et une case à cocher](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-118">[![The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox](customizing-the-datalist-s-editing-interface-cs/_static/image2.png)](customizing-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="2c2b1-119">**Figure 1**: l’interface de modification contient une zone de texte, deux DropDownList et une case à cocher ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-119">**Figure 1**: The Editing Interface Includes a TextBox, Two DropDownLists, and a CheckBox ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>

## <a name="step-1-displaying-product-information"></a><span data-ttu-id="2c2b1-120">Étape 1 : affichage des informations sur le produit</span><span class="sxs-lookup"><span data-stu-id="2c2b1-120">Step 1: Displaying Product Information</span></span>

<span data-ttu-id="2c2b1-121">Avant de pouvoir créer l’interface modifiable DataList, nous devons tout d’abord créer l’interface en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-121">Before we can create the DataList s editable interface, we first need to build the read-only interface.</span></span> <span data-ttu-id="2c2b1-122">Commencez par ouvrir la page `CustomizedUI.aspx` dans le dossier `EditDeleteDataList` et, à partir du concepteur, ajoutez un contrôle DataList à la page, en affectant à sa propriété `ID` la valeur `Products`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-122">Start by opening the `CustomizedUI.aspx` page from the `EditDeleteDataList` folder and, from the Designer, add a DataList to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="2c2b1-123">À partir de la balise active de DataList s, créez un nouvel ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-123">From the DataList s smart tag, create a new ObjectDataSource.</span></span> <span data-ttu-id="2c2b1-124">Nommez ce nouvel ObjectDataSource `ProductsDataSource` et configurez-le pour extraire les données de la méthode `GetProducts` de la classe `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-124">Name this new ObjectDataSource `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts` method.</span></span> <span data-ttu-id="2c2b1-125">Comme avec les didacticiels DataList modifiables précédents, nous allons mettre à jour les informations du produit édité en accédant directement à la couche de logique métier.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-125">As with the previous editable DataList tutorials, we'll update the edited product s information by going directly to the Business Logic Layer.</span></span> <span data-ttu-id="2c2b1-126">Par conséquent, définissez les listes déroulantes dans les onglets mettre à jour, insérer et supprimer sur (aucun).</span><span class="sxs-lookup"><span data-stu-id="2c2b1-126">Accordingly, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None).</span></span>

<span data-ttu-id="2c2b1-127">[![définir les listes déroulantes des onglets mettre à jour, insérer et supprimer sur (aucun)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-127">[![Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None)](customizing-the-datalist-s-editing-interface-cs/_static/image5.png)](customizing-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="2c2b1-128">**Figure 2**: définir les listes déroulantes des onglets mettre à jour, insérer et supprimer sur (aucun) ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-128">**Figure 2**: Set the UPDATE, INSERT, and DELETE Tabs Drop-Down Lists to (None) ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>

<span data-ttu-id="2c2b1-129">Après la configuration de l’ObjectDataSource, Visual Studio crée un `ItemTemplate` par défaut pour le contrôle DataList qui répertorie le nom et la valeur de chacun des champs de données retournés.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-129">After configuring the ObjectDataSource, Visual Studio will create a default `ItemTemplate` for the DataList that lists the name and value for each of the data fields returned.</span></span> <span data-ttu-id="2c2b1-130">Modifiez la `ItemTemplate` afin que le modèle répertorie le nom du produit dans un élément `<h4>` avec le nom de la catégorie, le nom du fournisseur, le prix et l’État abandonné.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-130">Modify the `ItemTemplate` so that the template lists the product name in an `<h4>` element along with the category name, supplier name, price, and discontinued status.</span></span> <span data-ttu-id="2c2b1-131">En outre, ajoutez un bouton modifier, en vous assurant que sa propriété `CommandName` est définie sur Edit.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-131">Moreover, add an Edit button, making sure that its `CommandName` property is set to Edit.</span></span> <span data-ttu-id="2c2b1-132">Le balisage déclaratif pour mon `ItemTemplate` suit :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-132">The declarative markup for my `ItemTemplate` follows:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="2c2b1-133">Le balisage ci-dessus présente les informations sur le produit à l’aide d’un en-tête &lt;H4&gt; pour le nom du produit et un `<table>` de quatre colonnes pour les champs restants.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-133">The above markup lays out the product information using an &lt;h4&gt; heading for the product s name and a four-column `<table>` for the remaining fields.</span></span> <span data-ttu-id="2c2b1-134">Les classes CSS `ProductPropertyLabel` et `ProductPropertyValue`, définies dans `Styles.css`, ont été abordées dans les didacticiels précédents.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-134">The `ProductPropertyLabel` and `ProductPropertyValue` CSS classes, defined in `Styles.css`, have been discussed in previous tutorials.</span></span> <span data-ttu-id="2c2b1-135">La figure 3 illustre notre progression dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-135">Figure 3 shows our progress when viewed through a browser.</span></span>

<span data-ttu-id="2c2b1-136">[![le nom, le fournisseur, la catégorie, l’État abandonné et le prix de chaque produit s’affichent.](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-136">[![The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed](customizing-the-datalist-s-editing-interface-cs/_static/image8.png)](customizing-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="2c2b1-137">**Figure 3**: affichage du nom, du fournisseur, de la catégorie, de l’État abandonné et du prix de chaque produit ([cliquez pour afficher l’image en plein écran](customizing-the-datalist-s-editing-interface-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-137">**Figure 3**: The Name, Supplier, Category, Discontinued Status, and Price of Each Product is Displayed ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>

## <a name="step-2-adding-the-web-controls-to-the-editing-interface"></a><span data-ttu-id="2c2b1-138">Étape 2 : ajout des contrôles Web à l’interface de modification</span><span class="sxs-lookup"><span data-stu-id="2c2b1-138">Step 2: Adding the Web Controls to the Editing Interface</span></span>

<span data-ttu-id="2c2b1-139">La première étape de la création de l’interface de modification DataList personnalisée consiste à ajouter les contrôles Web nécessaires au `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-139">The first step in building the customized DataList editing interface is to add the needed Web controls to the `EditItemTemplate`.</span></span> <span data-ttu-id="2c2b1-140">En particulier, nous avons besoin d’un contrôle DropDownList pour la catégorie, un autre pour le fournisseur et une case à cocher pour l’État abandonné.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-140">In particular, we need a DropDownList for the category, another for the supplier, and a CheckBox for the discontinued state.</span></span> <span data-ttu-id="2c2b1-141">Étant donné que le prix du produit n’est pas modifiable dans cet exemple, nous pouvons continuer à l’afficher à l’aide d’un contrôle Web Label.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-141">Since the product s price is not editable in this example, we can continue displaying it using a Label Web control.</span></span>

<span data-ttu-id="2c2b1-142">Pour personnaliser l’interface de modification, cliquez sur le lien modifier les modèles dans la balise active de DataList s et choisissez l’option `EditItemTemplate` dans la liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-142">To customize the editing interface, click on the Edit Templates link from the DataList s smart tag and choose the `EditItemTemplate` option from the drop-down list.</span></span> <span data-ttu-id="2c2b1-143">Ajoutez un DropDownList au `EditItemTemplate` et affectez à son `ID` la valeur `Categories`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-143">Add a DropDownList to the `EditItemTemplate` and set its `ID` to `Categories`.</span></span>

<span data-ttu-id="2c2b1-144">[![ajouter un DropDownList pour les catégories](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-144">[![Add a DropDownList for the Categories](customizing-the-datalist-s-editing-interface-cs/_static/image11.png)](customizing-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="2c2b1-145">**Figure 4**: ajouter un DropDownList pour les catégories ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-145">**Figure 4**: Add a DropDownList for the Categories ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>

<span data-ttu-id="2c2b1-146">Ensuite, dans la balise active DropDownList, sélectionnez l’option choisir la source de données et créez une nouvelle ObjectDataSource nommée `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-146">Next, from the DropDownList s smart tag, select the Choose Data Source option and create a new ObjectDataSource named `CategoriesDataSource`.</span></span> <span data-ttu-id="2c2b1-147">Configurez cet ObjectDataSource pour utiliser la méthode `CategoriesBLL` classe s `GetCategories()` (voir figure 5).</span><span class="sxs-lookup"><span data-stu-id="2c2b1-147">Configure this ObjectDataSource to use the `CategoriesBLL` class s `GetCategories()` method (see Figure 5).</span></span> <span data-ttu-id="2c2b1-148">Ensuite, l’Assistant Configuration de source de données DropDownList s vous invite à entrer les champs de données à utiliser pour chaque `ListItem` s `Text` et `Value` propriétés.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-148">Next, the DropDownList s Data Source Configuration Wizard prompts for the data fields to use for each `ListItem` s `Text` and `Value` properties.</span></span> <span data-ttu-id="2c2b1-149">Si le DropDownList affiche le champ de données `CategoryName` et utilise le `CategoryID` comme valeur, comme illustré à la figure 6.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-149">Have the DropDownList display the `CategoryName` data field and use the `CategoryID` as the value, as shown in Figure 6.</span></span>

<span data-ttu-id="2c2b1-150">[![créer un ObjectDataSource nommé CategoriesDataSource](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-150">[![Create a New ObjectDataSource Named CategoriesDataSource](customizing-the-datalist-s-editing-interface-cs/_static/image14.png)](customizing-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="2c2b1-151">**Figure 5**: créer un ObjectDataSource nommé `CategoriesDataSource` ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-151">**Figure 5**: Create a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>

<span data-ttu-id="2c2b1-152">[![configurer les champs d’affichage et de valeur DropDownList](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-152">[![Configure the DropDownList s Display and Value Fields](customizing-the-datalist-s-editing-interface-cs/_static/image17.png)](customizing-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="2c2b1-153">**Figure 6**: configurer les champs d’affichage et de valeur DropDownList ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-153">**Figure 6**: Configure the DropDownList s Display and Value Fields ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>

<span data-ttu-id="2c2b1-154">Répétez cette série d’étapes pour créer un DropDownList pour les fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-154">Repeat this series of steps to create a DropDownList for the suppliers.</span></span> <span data-ttu-id="2c2b1-155">Définissez le `ID` de ce DropDownList sur `Suppliers` et nommez son `SuppliersDataSource`ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-155">Set the `ID` for this DropDownList to `Suppliers` and name its ObjectDataSource `SuppliersDataSource`.</span></span>

<span data-ttu-id="2c2b1-156">Après avoir ajouté les deux DropDownList, ajoutez une case à cocher pour l’État abandonné et une zone de texte pour le nom du produit s.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-156">After adding the two DropDownLists, add a CheckBox for the discontinued state and a TextBox for the product s name.</span></span> <span data-ttu-id="2c2b1-157">Définissez la `ID` s pour la case à cocher et la zone de texte sur `Discontinued` et `ProductName`, respectivement.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-157">Set the `ID` s for the CheckBox and TextBox to `Discontinued` and `ProductName`, respectively.</span></span> <span data-ttu-id="2c2b1-158">Ajoutez un RequiredFieldValidator pour vous assurer que l’utilisateur fournit une valeur pour le nom du produit.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-158">Add a RequiredFieldValidator to ensure that the user provides a value for the product s name.</span></span>

<span data-ttu-id="2c2b1-159">Enfin, ajoutez les boutons mettre à jour et annuler.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-159">Lastly, add the Update and Cancel buttons.</span></span> <span data-ttu-id="2c2b1-160">N’oubliez pas que pour ces deux boutons, il est impératif que leurs propriétés `CommandName` soient définies sur Update et Cancel, respectivement.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-160">Remember that for these two buttons it is imperative that their `CommandName` properties are set to Update and Cancel, respectively.</span></span>

<span data-ttu-id="2c2b1-161">N’hésitez pas à disposer l’interface de modification comme vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-161">Feel free to lay out the editing interface however you like.</span></span> <span data-ttu-id="2c2b1-162">J’ai choisi d’utiliser la même disposition de `<table>` à quatre colonnes à partir de l’interface en lecture seule, comme l’illustre la syntaxe déclarative et la capture d’écran suivantes :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-162">I ve opted to use the same four-column `<table>` layout from the read-only interface, as the following declarative syntax and screen shot illustrates:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample2.aspx)]

<span data-ttu-id="2c2b1-163">[![l’interface de modification est présentée comme l’interface en lecture seule](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-163">[![The Editing Interface is Laid Out like the Read-Only Interface](customizing-the-datalist-s-editing-interface-cs/_static/image20.png)](customizing-the-datalist-s-editing-interface-cs/_static/image19.png)</span></span>

<span data-ttu-id="2c2b1-164">**Figure 7**: l’interface de modification est présentée comme l’interface en lecture seule ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-164">**Figure 7**: The Editing Interface is Laid Out like the Read-Only Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image21.png))</span></span>

## <a name="step-3-creating-the-editcommand-and-cancelcommand-event-handlers"></a><span data-ttu-id="2c2b1-165">Étape 3 : création des gestionnaires d’événements EditCommand et CancelCommand</span><span class="sxs-lookup"><span data-stu-id="2c2b1-165">Step 3: Creating the EditCommand and CancelCommand Event Handlers</span></span>

<span data-ttu-id="2c2b1-166">Actuellement, il n’y a pas de syntaxe DataBinding dans le `EditItemTemplate` (à l’exception de la `UnitPriceLabel`, qui a été copiée sur Verbatim à partir du `ItemTemplate`).</span><span class="sxs-lookup"><span data-stu-id="2c2b1-166">Currently, there is no databinding syntax in the `EditItemTemplate` (except for the `UnitPriceLabel`, which was copied over verbatim from the `ItemTemplate`).</span></span> <span data-ttu-id="2c2b1-167">Nous ajouterons la syntaxe DataBinding momentanément, mais commençons par créer les gestionnaires d’événements pour les événements DataList `EditCommand` et `CancelCommand`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-167">We'll add the databinding syntax momentarily, but first let s create the event handlers for the DataList s `EditCommand` and `CancelCommand` events.</span></span> <span data-ttu-id="2c2b1-168">Rappelez-vous que la responsabilité du gestionnaire d’événements `EditCommand` consiste à afficher l’interface de modification pour l’élément DataList sur lequel l’utilisateur a cliqué sur le bouton modifier, tandis que le travail `CancelCommand` est de ramener le contrôle DataList à son état antérieur à la modification.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-168">Recall that the responsibility of the `EditCommand` event handler is to render the editing interface for the DataList item whose Edit button was clicked, whereas the `CancelCommand` s job is to return the DataList to its pre-editing state.</span></span>

<span data-ttu-id="2c2b1-169">Créez ces deux gestionnaires d’événements et utilisez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-169">Create these two event handlers and have them use the following code:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample3.cs)]

<span data-ttu-id="2c2b1-170">Une fois ces deux gestionnaires d’événements en place, cliquez sur le bouton modifier pour afficher l’interface de modification et cliquer sur le bouton Annuler pour retourner l’élément modifié en mode lecture seule.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-170">With these two event handlers in place, clicking the Edit button displays the editing interface and clicking the Cancel button returns the edited item to its read-only mode.</span></span> <span data-ttu-id="2c2b1-171">La figure 8 illustre le contrôle DataList une fois que vous avez cliqué sur le bouton modifier pour chef de s Gumbo Mix.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-171">Figure 8 shows the DataList after the Edit button has been clicked for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="2c2b1-172">Étant donné que nous avons encore ajouté une syntaxe DataBinding à l’interface de modification, la zone de texte `ProductName` est vide, la case `Discontinued` désactivée et les premiers éléments sélectionnés dans la `Categories` et `Suppliers` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-172">Since we ve yet to add any databinding syntax to the editing interface, the `ProductName` TextBox is blank, the `Discontinued` CheckBox unchecked, and the first items selected from the `Categories` and `Suppliers` DropDownLists.</span></span>

<span data-ttu-id="2c2b1-173">[![cliquant sur le bouton modifier affiche l’interface de modification](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-173">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image23.png)](customizing-the-datalist-s-editing-interface-cs/_static/image22.png)</span></span>

<span data-ttu-id="2c2b1-174">**Figure 8**: lorsque vous cliquez sur le bouton modifier, l’interface de modification s’affiche ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-174">**Figure 8**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image24.png))</span></span>

## <a name="step-4-adding-the-databinding-syntax-to-the-editing-interface"></a><span data-ttu-id="2c2b1-175">Étape 4 : ajout de la syntaxe DataBinding à l’interface de modification</span><span class="sxs-lookup"><span data-stu-id="2c2b1-175">Step 4: Adding the DataBinding Syntax to the Editing Interface</span></span>

<span data-ttu-id="2c2b1-176">Pour que l’interface de modification affiche les valeurs s du produit actuel, nous devons utiliser la syntaxe DataBinding pour assigner les valeurs de champ de données aux valeurs de contrôle Web appropriées.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-176">To have the editing interface display the current product s values, we need to use databinding syntax to assign the data field values to the appropriate Web control values.</span></span> <span data-ttu-id="2c2b1-177">La syntaxe DataBinding peut être appliquée par le biais du concepteur en accédant à l’écran modifier les modèles et en sélectionnant le lien modifier les DataBindings dans les balises actives des contrôles Web.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-177">The databinding syntax can be applied through the Designer by going to the Edit Templates screen and selecting the Edit DataBindings link from the Web controls smart tags.</span></span> <span data-ttu-id="2c2b1-178">La syntaxe DataBinding peut également être ajoutée directement à la balise déclarative.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-178">Alternatively, the databinding syntax can be added directly to the declarative markup.</span></span>

<span data-ttu-id="2c2b1-179">Affectez la valeur du champ de données `ProductName` à la propriété `ProductName` TextBox s `Text`, les valeurs de champ de données `CategoryID` et `SupplierID` aux propriétés `Categories` et `Suppliers` DropDownList `SelectedValue`, et la valeur de champ de données `Discontinued` à la propriété `Discontinued` s `Checked`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-179">Assign the `ProductName` data field value to the `ProductName` TextBox s `Text` property, the `CategoryID` and `SupplierID` data field values to the `Categories` and `Suppliers` DropDownLists `SelectedValue` properties, and the `Discontinued` data field value to the `Discontinued` CheckBox s `Checked` property.</span></span> <span data-ttu-id="2c2b1-180">Après avoir apporté ces modifications, par le biais du concepteur ou directement via le balisage déclaratif, réexaminez la page via un navigateur, puis cliquez sur le bouton modifier pour chef Anton s Gumbo Mix.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-180">After making these changes, either through the Designer or directly through the declarative markup, revisit the page through a browser and click the Edit button for Chef Anton s Gumbo Mix.</span></span> <span data-ttu-id="2c2b1-181">Comme le montre la figure 9, la syntaxe DataBinding a ajouté les valeurs actuelles dans les zones de texte, DropDownList et CheckBox.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-181">As Figure 9 shows, the databinding syntax has added the current values into the TextBox, DropDownLists, and CheckBox.</span></span>

<span data-ttu-id="2c2b1-182">[![cliquant sur le bouton modifier affiche l’interface de modification](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-182">[![Clicking the Edit Button Displays the Editing Interface](customizing-the-datalist-s-editing-interface-cs/_static/image26.png)](customizing-the-datalist-s-editing-interface-cs/_static/image25.png)</span></span>

<span data-ttu-id="2c2b1-183">**Figure 9**: Si vous cliquez sur le bouton modifier, l’interface de modification s’affiche ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-183">**Figure 9**: Clicking the Edit Button Displays the Editing Interface ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image27.png))</span></span>

## <a name="step-5-saving-the-user-s-changes-in-the-updatecommand-event-handler"></a><span data-ttu-id="2c2b1-184">Étape 5 : enregistrement des modifications apportées aux utilisateurs dans le gestionnaire d’événements UpdateCommand</span><span class="sxs-lookup"><span data-stu-id="2c2b1-184">Step 5: Saving the User s Changes in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="2c2b1-185">Lorsque l’utilisateur modifie un produit et clique sur le bouton mettre à jour, une publication (postback) se produit et l’événement de `UpdateCommand` DataList est déclenché.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-185">When the user edits a product and clicks the Update button, a postback occurs and the DataList s `UpdateCommand` event fires.</span></span> <span data-ttu-id="2c2b1-186">Dans le gestionnaire d’événements, nous devons lire les valeurs des contrôles Web dans le `EditItemTemplate` et l’interface avec la couche BLL pour mettre à jour le produit dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-186">In the event handler, we need to read the values from the Web controls in the `EditItemTemplate` and interface with the BLL to update the product in the database.</span></span> <span data-ttu-id="2c2b1-187">Comme nous l’avons vu dans les didacticiels précédents, le `ProductID` du produit mis à jour est accessible via le regroupement `DataKeys`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-187">As we ve seen in previous tutorials, the `ProductID` of the updated product is accessible through the `DataKeys` collection.</span></span> <span data-ttu-id="2c2b1-188">Les champs entrés par l’utilisateur sont accessibles en référençant par programmation les contrôles Web à l’aide de `FindControl("controlID")`, comme le montre le code suivant :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-188">The user-entered fields are accessed by programmatically referencing the Web controls using `FindControl("controlID")`, as the following code shows:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample4.cs)]

<span data-ttu-id="2c2b1-189">Le code commence par consulter la propriété `Page.IsValid` pour s’assurer que tous les contrôles de validation de la page sont valides.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-189">The code starts out by consulting the `Page.IsValid` property to ensure that all the validation controls on the page are valid.</span></span> <span data-ttu-id="2c2b1-190">Si `Page.IsValid` est `True`, la valeur `ProductID` du produit modifié est lue à partir de la collection `DataKeys` et les contrôles Web de saisie de données dans le `EditItemTemplate` sont référencés par programmation.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-190">If `Page.IsValid` is `True`, the edited product s `ProductID` value is read from the `DataKeys` collection and the data entry Web controls in the `EditItemTemplate` are programmatically referenced.</span></span> <span data-ttu-id="2c2b1-191">Ensuite, les valeurs de ces contrôles Web sont lues dans des variables qui sont ensuite transmises à la surcharge de `UpdateProduct` appropriée.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-191">Next, the values from these Web controls are read into variables that are then passed into the appropriate `UpdateProduct` overload.</span></span> <span data-ttu-id="2c2b1-192">Après la mise à jour des données, la DataList est retournée à son état antérieur à la modification.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-192">After updating the data, the DataList is returned to its pre-editing state.</span></span>

> [!NOTE]
> <span data-ttu-id="2c2b1-193">J’ai omis la logique de gestion des exceptions ajoutée dans le didacticiel de [gestion des exceptions de niveau BLL et dal](handling-bll-and-dal-level-exceptions-cs.md) afin de garder le code et cet exemple concentrés.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-193">I ve omitted the exception handling logic added in the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial in order to keep the code and this example focused.</span></span> <span data-ttu-id="2c2b1-194">En guise d’exercice, ajoutez cette fonctionnalité une fois ce didacticiel terminé.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-194">As an exercise, add this functionality after completing this tutorial.</span></span>

## <a name="step-6-handling-null-categoryid-and-supplierid-values"></a><span data-ttu-id="2c2b1-195">Étape 6 : gestion des valeurs CategoryID et RéfFournisseur NULL</span><span class="sxs-lookup"><span data-stu-id="2c2b1-195">Step 6: Handling NULL CategoryID and SupplierID Values</span></span>

<span data-ttu-id="2c2b1-196">La base de données Northwind permet de `NULL` des valeurs pour les colonnes `Products` table s `CategoryID` et `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-196">The Northwind database allows for `NULL` values for the `Products` table s `CategoryID` and `SupplierID` columns.</span></span> <span data-ttu-id="2c2b1-197">Toutefois, notre interface de modification ne prend actuellement pas en charge les valeurs `NULL`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-197">However, our editing interface doesn t currently accommodate `NULL` values.</span></span> <span data-ttu-id="2c2b1-198">Si nous tentons de modifier un produit qui a une valeur de `NULL` pour ses colonnes `CategoryID` ou `SupplierID`, nous obtenons un `ArgumentOutOfRangeException` avec un message d’erreur semblable à : *« categories » a une valeur SelectedValue qui n’est pas valide, car elle n’existe pas dans la liste d’éléments.*</span><span class="sxs-lookup"><span data-stu-id="2c2b1-198">If we attempt to edit a product that has a `NULL` value for either its `CategoryID` or `SupplierID` columns, we'll get an `ArgumentOutOfRangeException` with an error message similar to: *'Categories' has a SelectedValue which is invalid because it does not exist in the list of items.*</span></span> <span data-ttu-id="2c2b1-199">En outre, il n’existe actuellement aucun moyen de modifier la valeur d’une catégorie ou d’un fournisseur de produit à partir d’une valeur non`NULL` en `NULL` un.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-199">Also, there s currently no way to change a product s category or supplier value from a non-`NULL` value to a `NULL` one.</span></span>

<span data-ttu-id="2c2b1-200">Pour prendre en charge les valeurs de `NULL` pour les DropDownList Category et supplier, nous devons ajouter un `ListItem`supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-200">To support `NULL` values for the category and supplier DropDownLists, we need to add an additional `ListItem`.</span></span> <span data-ttu-id="2c2b1-201">J’ai choisi d’utiliser (aucun) comme valeur de `Text` pour cette `ListItem`, mais vous pouvez la remplacer par une autre valeur (telle qu’une chaîne vide) si vous aimez.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-201">I ve chosen to use (None) as the `Text` value for this `ListItem`, but you can change it to something else (such as an empty string) if you d like.</span></span> <span data-ttu-id="2c2b1-202">Enfin, n’oubliez pas de définir la `AppendDataBoundItems` DropDownList sur `True`; Si vous oubliez de le faire, les catégories et les fournisseurs liés à la DropDownList remplacent la `ListItem`ajoutée statiquement.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-202">Finally, remember to set the DropDownLists `AppendDataBoundItems` to `True`; if you forget to do so, the categories and suppliers bound to the DropDownList will overwrite the statically-added `ListItem`.</span></span>

<span data-ttu-id="2c2b1-203">Une fois ces modifications apportées, le balisage DropDownList dans la DataList s `EditItemTemplate` doit ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-203">After making these changes, the DropDownLists markup in the DataList s `EditItemTemplate` should look similar to the following:</span></span>

[!code-aspx[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample5.aspx)]

> [!NOTE]
> <span data-ttu-id="2c2b1-204">Les `ListItem` statiques peuvent être ajoutées à un DropDownList par le biais du concepteur ou directement par le biais de la syntaxe déclarative.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-204">Static `ListItem` s can be added to a DropDownList through the Designer or directly through the declarative syntax.</span></span> <span data-ttu-id="2c2b1-205">Quand vous ajoutez un élément DropDownList pour représenter une valeur de `NULL` de base de données, veillez à ajouter le `ListItem` par le biais de la syntaxe déclarative.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-205">When adding a DropDownList item to represent a database `NULL` value, be sure to add the `ListItem` through the declarative syntax.</span></span> <span data-ttu-id="2c2b1-206">Si vous utilisez l’éditeur de collections `ListItem` dans le concepteur, la syntaxe déclarative générée omet le paramètre `Value` en même temps lorsqu’une chaîne vide est assignée, créant ainsi un balisage déclaratif comme : `<asp:ListItem>(None)</asp:ListItem>`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-206">If you use the `ListItem` Collection Editor in the Designer, the generated declarative syntax will omit the `Value` setting altogether when assigned a blank string, creating declarative markup like: `<asp:ListItem>(None)</asp:ListItem>`.</span></span> <span data-ttu-id="2c2b1-207">Bien que cela puisse paraître inoffensif, le `Value` manquant entraîne l’utilisation par le DropDownList de la valeur de propriété `Text` à la place.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-207">While this may look harmless, the missing `Value` causes the DropDownList to use the `Text` property value in its place.</span></span> <span data-ttu-id="2c2b1-208">Cela signifie que si ce `NULL` `ListItem` est sélectionné, la valeur (aucune) sera tentée pour être assignée au champ de données du produit (`CategoryID` ou `SupplierID`, dans ce didacticiel), ce qui entraînera une exception.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-208">That means that if this `NULL` `ListItem` is selected, the value (None) will be attempted to be assigned to the product data field (`CategoryID` or `SupplierID`, in this tutorial), which will result in an exception.</span></span> <span data-ttu-id="2c2b1-209">En définissant explicitement `Value=""`, une valeur de `NULL` est assignée au champ de données du produit lorsque la `ListItem` `NULL` est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-209">By explicitly setting `Value=""`, a `NULL` value will be assigned to the product data field when the `NULL` `ListItem` is selected.</span></span>

<span data-ttu-id="2c2b1-210">Prenez un moment pour voir notre progression dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-210">Take a moment to view our progress through a browser.</span></span> <span data-ttu-id="2c2b1-211">Lorsque vous modifiez un produit, Notez que les `Categories` et `Suppliers` DropDownList ont une option (aucune) au début du DropDownList.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-211">When editing a product, note that the `Categories` and `Suppliers` DropDownLists both have a (None) option at the start of the DropDownList.</span></span>

<span data-ttu-id="2c2b1-212">[![les catégories et les fournisseurs DropDownList incluent une option (aucune)](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-212">[![The Categories and Suppliers DropDownLists include a (None) Option](customizing-the-datalist-s-editing-interface-cs/_static/image29.png)](customizing-the-datalist-s-editing-interface-cs/_static/image28.png)</span></span>

<span data-ttu-id="2c2b1-213">**Figure 10**: l' `Categories` et `Suppliers` DropDownList incluent une option (aucune) ([cliquez pour afficher l’image en taille réelle](customizing-the-datalist-s-editing-interface-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="2c2b1-213">**Figure 10**: The `Categories` and `Suppliers` DropDownLists include a (None) Option ([Click to view full-size image](customizing-the-datalist-s-editing-interface-cs/_static/image30.png))</span></span>

<span data-ttu-id="2c2b1-214">Pour enregistrer l’option (None) comme valeur de base de données `NULL`, nous devons revenir au gestionnaire d’événements `UpdateCommand`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-214">To save the (None) option as a database `NULL` value, we need to return to the `UpdateCommand` event handler.</span></span> <span data-ttu-id="2c2b1-215">Modifiez les variables `categoryIDValue` et `supplierIDValue` pour qu’elles soient des entiers Nullable et attribuez-leur une valeur autre que `Nothing` uniquement si le DropDownList s `SelectedValue` n’est pas une chaîne vide :</span><span class="sxs-lookup"><span data-stu-id="2c2b1-215">Change the `categoryIDValue` and `supplierIDValue` variables to be nullable integers and assign them a value other than `Nothing` only if the DropDownList s `SelectedValue` is not an empty string:</span></span>

[!code-csharp[Main](customizing-the-datalist-s-editing-interface-cs/samples/sample6.cs)]

<span data-ttu-id="2c2b1-216">Avec cette modification, une valeur de `Nothing` est transmise dans la méthode BLL `UpdateProduct` si l’utilisateur a sélectionné l’option (aucune) dans l’une des listes déroulantes, ce qui correspond à une valeur de base de données `NULL`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-216">With this change, a value of `Nothing` will be passed into the `UpdateProduct` BLL method if the user selected the (None) option from either of the drop-down lists, which corresponds to a `NULL` database value.</span></span>

## <a name="summary"></a><span data-ttu-id="2c2b1-217">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="2c2b1-217">Summary</span></span>

<span data-ttu-id="2c2b1-218">Dans ce didacticiel, nous avons vu comment créer une interface de modification DataList plus complexe qui comprenait trois contrôles Web d’entrée différents, une zone de texte, deux DropDownList et une case à cocher, ainsi que des contrôles de validation.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-218">In this tutorial we saw how to create a more complex DataList editing interface that included three different input Web controls a TextBox, two DropDownLists, and a CheckBox along with validation controls.</span></span> <span data-ttu-id="2c2b1-219">Lors de la génération de l’interface de modification, les étapes sont les mêmes, quels que soient les contrôles Web utilisés : commencez par ajouter les contrôles Web aux contrôles DataList `EditItemTemplate`; Utilisez la syntaxe DataBinding pour assigner les valeurs de champ de données correspondantes avec les propriétés de contrôle Web appropriées ; et, dans le gestionnaire d’événements `UpdateCommand`, accéder par programmation aux contrôles Web et à leurs propriétés appropriées, en passant leurs valeurs dans la couche BLL.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-219">When building the editing interface, the steps are the same regardless of the Web controls being used: start by adding the Web controls to the DataList s `EditItemTemplate`; use databinding syntax to assign the corresponding data field values with the appropriate Web control properties; and, in the `UpdateCommand` event handler, programmatically access the Web controls and their appropriate properties, passing their values into the BLL.</span></span>

<span data-ttu-id="2c2b1-220">Lors de la création d’une interface de modification, qu’elle soit composée uniquement de zones de texte ou d’une collection de contrôles Web différents, veillez à gérer correctement les valeurs de `NULL` de base de données.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-220">When creating an editing interface, whether it s composed of just TextBoxes or a collection of different Web controls, be sure to correctly handle database `NULL` values.</span></span> <span data-ttu-id="2c2b1-221">Lors de la gestion des `NULL`, il est impératif que vous affichiez non seulement une valeur de `NULL` existante dans l’interface de modification, mais également que vous offrez un moyen de marquer une valeur comme `NULL`.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-221">When accounting for `NULL` s, it is imperative that you not only correctly display an existing `NULL` value in the editing interface, but also that you offer a means for marking a value as `NULL`.</span></span> <span data-ttu-id="2c2b1-222">Pour DropDownList dans DataLists, cela signifie généralement que l’ajout d’un `ListItem` statique dont la propriété `Value` est explicitement définie sur une chaîne vide (`Value=""`) et l’ajout d’un peu de code au gestionnaire d’événements `UpdateCommand` pour déterminer si le `NULL``ListItem` a ou non été sélectionné.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-222">For DropDownLists in DataLists, that typically means adding a static `ListItem` whose `Value` property is explicitly set to an empty string (`Value=""`), and adding a bit of code to the `UpdateCommand` event handler to determine whether or not the `NULL``ListItem` was selected.</span></span>

<span data-ttu-id="2c2b1-223">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="2c2b1-223">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="2c2b1-224">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="2c2b1-224">About the Author</span></span>

<span data-ttu-id="2c2b1-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept livres ASP/ASP. net et fondateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec des technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-225">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="2c2b1-226">Scott travaille en tant que consultant, formateur et auteur indépendant.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-226">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="2c2b1-227">Son dernier livre est [*Sams vous apprend vous-même ASP.NET 2,0 en 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="2c2b1-227">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="2c2b1-228">Il peut être contacté à [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-228">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="2c2b1-229">ou via son blog, qui se trouve sur [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="2c2b1-229">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="2c2b1-230">Remerciements à</span><span class="sxs-lookup"><span data-stu-id="2c2b1-230">Special Thanks To</span></span>

<span data-ttu-id="2c2b1-231">Cette série de didacticiels a été examinée par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-231">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="2c2b1-232">Les réviseurs de leads pour ce didacticiel étaient Denis Patterson, David SURU et Randy Schmidt.</span><span class="sxs-lookup"><span data-stu-id="2c2b1-232">Lead reviewers for this tutorial were Dennis Patterson, David Suru, and Randy Schmidt.</span></span> <span data-ttu-id="2c2b1-233">Vous souhaitez revoir mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="2c2b1-233">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="2c2b1-234">Si c’est le cas, insérez une ligne sur [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-234">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="2c2b1-235">[Précédent](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
> [Suivant](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="2c2b1-235">[Previous](adding-validation-controls-to-the-datalist-s-editing-interface-cs.md)
[Next](an-overview-of-editing-and-deleting-data-in-the-datalist-vb.md)</span></span>
