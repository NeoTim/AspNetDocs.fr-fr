---
uid: web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs
title: Maître/détail utilisant un GridView maître avec une DetailView des détails (c#) | Microsoft Docs
author: rick-anderson
description: Ce didacticiel aura un GridView dont les lignes incluent le nom et le prix de chaque produit ainsi que d’un bouton Sélectionner. En cliquant sur le bouton Sélectionner pour un particu...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 0f982827-f8f9-420d-b36b-57b23f5aa519
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs
msc.type: authoredcontent
ms.openlocfilehash: 9d75c80b4c1bac5011acc896d91ff2fcd5a19298
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57064796"
---
<a name="masterdetail-using-a-selectable-master-gridview-with-a-details-detailview-c"></a><span data-ttu-id="5a7e0-104">Représentation maître/détail utilisant un GridView maître pouvant être sélectionné avec une DetailView des détails (C#)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-104">Master/Detail Using a Selectable Master GridView with a Details DetailView (C#)</span></span>
====================
<span data-ttu-id="5a7e0-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="5a7e0-106">[Télécharger l’exemple d’application](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_10_CS.exe) ou [télécharger le PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/datatutorial10cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-106">[Download Sample App](http://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_10_CS.exe) or [Download PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/datatutorial10cs1.pdf)</span></span>

> <span data-ttu-id="5a7e0-107">Ce didacticiel aura un GridView dont les lignes incluent le nom et le prix de chaque produit ainsi que d’un bouton Sélectionner.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-107">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="5a7e0-108">En cliquant sur le bouton Sélectionner pour un produit particulier entraîne son détails complets afin d’être affiché dans un contrôle DetailsView sur la même page.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-108">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>


## <a name="introduction"></a><span data-ttu-id="5a7e0-109">Introduction</span><span class="sxs-lookup"><span data-stu-id="5a7e0-109">Introduction</span></span>

<span data-ttu-id="5a7e0-110">Dans le [didacticiel précédent](master-detail-filtering-across-two-pages-cs.md) nous avons vu comment créer un rapport maître/détail à l’aide de deux pages web : une page web « maître », à partir duquel nous affiche la liste des fournisseurs et une page web « détails » répertorié ces produits fournis par le texte sélectionné fournisseur.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-110">In the [previous tutorial](master-detail-filtering-across-two-pages-cs.md) we saw how to create a master/detail report using two web pages: a "master" web page, from which we displayed the list of suppliers; and a "details" web page that listed those products provided by the selected supplier.</span></span> <span data-ttu-id="5a7e0-111">Ce format de page de rapport peut être condensé dans une page.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-111">This two page report format can be condensed into one page.</span></span> <span data-ttu-id="5a7e0-112">Ce didacticiel aura un GridView dont les lignes incluent le nom et le prix de chaque produit ainsi que d’un bouton Sélectionner.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-112">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="5a7e0-113">En cliquant sur le bouton Sélectionner pour un produit particulier entraîne son détails complets afin d’être affiché dans un contrôle DetailsView sur la même page.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-113">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>


<span data-ttu-id="5a7e0-114">[![En cliquant sur le bouton de sélection affiche les détails du produit](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-114">[![Clicking the Select Button Displays the Product's Details](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image1.png)</span></span>

<span data-ttu-id="5a7e0-115">**Figure 1**: En cliquant sur le bouton de sélection affiche les détails du produit ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-115">**Figure 1**: Clicking the Select Button Displays the Product's Details ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image3.png))</span></span>


## <a name="step-1-creating-a-selectable-gridview"></a><span data-ttu-id="5a7e0-116">Étape 1 : Création d’un GridView sélectionnable</span><span class="sxs-lookup"><span data-stu-id="5a7e0-116">Step 1: Creating a Selectable GridView</span></span>

<span data-ttu-id="5a7e0-117">Souvenez-vous que dans le deux pages maître/détail signaler que chaque enregistrement maître inclus un lien hypertexte qui, lorsque vous cliquez dessus, envoyé à l’utilisateur à la page de détails en passant de la ligne de l’utilisateur a cliqué dessue `SupplierID` valeur dans la chaîne de requête.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-117">Recall that in the two-page master/detail report that each master record included a hyperlink that, when clicked, sent the user to the details page passing the clicked row's `SupplierID` value in the querystring.</span></span> <span data-ttu-id="5a7e0-118">Tel un lien hypertexte a été ajouté à chaque ligne GridView à l’aide d’un HyperLinkField.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-118">Such a hyperlink was added to each GridView row using a HyperLinkField.</span></span> <span data-ttu-id="5a7e0-119">Pour le rapport maître/détails de la page unique, nous aurons besoin un bouton pour chaque GridView ligne qui, lorsque vous cliquez dessus, affiche les détails.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-119">For the single page master/details report, we will need a Button for each GridView row that, when clicked, shows the details.</span></span> <span data-ttu-id="5a7e0-120">Le contrôle GridView peut être configuré pour inclure un bouton Sélectionner pour chaque ligne qui provoque une publication (postback) et marque cette ligne comme le GridView [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-120">The GridView control can be configured to include a Select button for each row that causes a postback and marks that row as the GridView's [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span></span>

<span data-ttu-id="5a7e0-121">Commencez par ajouter un contrôle GridView à la `DetailsBySelecting.aspx` page dans le `Filtering` dossier, définissez son `ID` propriété `ProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-121">Start by adding a GridView control to the `DetailsBySelecting.aspx` page in the `Filtering` folder, setting its `ID` property to `ProductsGrid`.</span></span> <span data-ttu-id="5a7e0-122">Ensuite, ajoutez un nouveau ObjectDataSource nommé `AllProductsDataSource` qui appelle le `ProductsBLL` la classe `GetProducts()` (méthode).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-122">Next, add a new ObjectDataSource named `AllProductsDataSource` that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span>


<span data-ttu-id="5a7e0-123">[![Créer un ObjectDataSource nommé AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-123">[![Create an ObjectDataSource Named AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image4.png)</span></span>

<span data-ttu-id="5a7e0-124">**Figure 2**: Créer un nommé ObjectDataSource `AllProductsDataSource` ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-124">**Figure 2**: Create an ObjectDataSource Named `AllProductsDataSource` ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image6.png))</span></span>


<span data-ttu-id="5a7e0-125">[![Utilisez la classe ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-125">[![Use the ProductsBLL Class](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image7.png)</span></span>

<span data-ttu-id="5a7e0-126">**Figure 3**: Utilisez le `ProductsBLL` classe ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-126">**Figure 3**: Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image9.png))</span></span>


<span data-ttu-id="5a7e0-127">[![Configurer l’ObjectDataSource pour appeler la méthode GetProducts()](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-127">[![Configure the ObjectDataSource to Invoke the GetProducts() Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image10.png)</span></span>

<span data-ttu-id="5a7e0-128">**Figure 4**: Configurer l’ObjectDataSource Invoke le `GetProducts()` (méthode) ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-128">**Figure 4**: Configure the ObjectDataSource to Invoke the `GetProducts()` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image12.png))</span></span>


<span data-ttu-id="5a7e0-129">Modifier les champs du contrôle GridView supprimer tout sauf la `ProductName` et `UnitPrice` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-129">Edit the GridView's fields removing all but the `ProductName` and `UnitPrice` BoundFields.</span></span> <span data-ttu-id="5a7e0-130">En outre, n’hésitez pas à personnaliser ces BoundFields en fonction des besoins, telles que la mise en forme le `UnitPrice` BoundField sous forme de devise et en modifiant le `HeaderText` propriétés de la BoundFields.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-130">Also, feel free to customize these BoundFields as needed, such as formatting the `UnitPrice` BoundField as a currency and changing the `HeaderText` properties of the BoundFields.</span></span> <span data-ttu-id="5a7e0-131">Peuvent être accomplies ces étapes sous forme de graphique, en cliquant sur le lien Modifier les colonnes à partir de la balise active le contrôle GridView ou en configurant manuellement la syntaxe déclarative.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-131">These steps can be accomplished graphically, by clicking the Edit Columns link from the GridView's smart tag, or by manually configuring the declarative syntax.</span></span>


<span data-ttu-id="5a7e0-132">[![Supprimer tous sauf le ProductName et UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-132">[![Remove All But the ProductName and UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image13.png)</span></span>

<span data-ttu-id="5a7e0-133">**Figure 5**: Supprimer tous les mais la `ProductName` et `UnitPrice` BoundFields ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-133">**Figure 5**: Remove All But the `ProductName` and `UnitPrice` BoundFields ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image15.png))</span></span>


<span data-ttu-id="5a7e0-134">Le balisage final pour le contrôle GridView est :</span><span class="sxs-lookup"><span data-stu-id="5a7e0-134">The final markup for the GridView is:</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample1.aspx)]

<span data-ttu-id="5a7e0-135">Ensuite, nous devons marquer le contrôle GridView comme sélectionnables, qui ajoute un bouton Sélectionner pour chaque ligne.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-135">Next, we need to mark the GridView as selectable, which will add a Select button to each row.</span></span> <span data-ttu-id="5a7e0-136">Pour ce faire, simplement cocher la case à cocher Activer la sélection dans la balise active le contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-136">To accomplish this, simply check the Enable Selection checkbox in the GridView's smart tag.</span></span>


<span data-ttu-id="5a7e0-137">[![Rendre lignes le contrôle GridView sélectionnables](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-137">[![Make the GridView's Rows Selectable](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image16.png)</span></span>

<span data-ttu-id="5a7e0-138">**Figure 6**: Rendre lignes sélectionnables le GridView ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-138">**Figure 6**: Make the GridView's Rows Selectable ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image18.png))</span></span>


<span data-ttu-id="5a7e0-139">La vérification de l’option de sélection de l’activation ajoute un CommandField à la `ProductsGrid` GridView avec son `ShowSelectButton` propriété définie sur True.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-139">Checking the Enabling Selection option adds a CommandField to the `ProductsGrid` GridView with its `ShowSelectButton` property set to True.</span></span> <span data-ttu-id="5a7e0-140">Cela entraîne un bouton Sélectionner pour chaque ligne du contrôle GridView, comme le montre la Figure 6.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-140">This results in a Select button for each row of the GridView, as Figure 6 illustrates.</span></span> <span data-ttu-id="5a7e0-141">Par défaut, les boutons de sélection sont rendus sous forme de type LinkButton, mais vous pouvez utiliser à la place boutons ou ImageButtons via le CommandField `ButtonType` propriété.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-141">By default, the Select buttons are rendered as LinkButtons, but you can use Buttons or ImageButtons instead through the CommandField's `ButtonType` property.</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample2.aspx)]

<span data-ttu-id="5a7e0-142">Lorsque l’utilisateur clique sur le bouton de sélection d’une ligne GridView une publication (postback) s’ensuit et le GridView `SelectedRow` propriété est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-142">When a GridView row's Select button is clicked a postback ensues and the GridView's `SelectedRow` property is updated.</span></span> <span data-ttu-id="5a7e0-143">Outre le `SelectedRow` propriété, le contrôle GridView fournit le [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), et [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) propriétés.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-143">In addition to the `SelectedRow` property, the GridView provides the [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), and [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) properties.</span></span> <span data-ttu-id="5a7e0-144">Le `SelectedIndex` propriété retourne l’index de la ligne sélectionnée, alors que le `SelectedValue` et `SelectedDataKey` propriétés retournent des valeurs en fonction de la GridView [propriété DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-144">The `SelectedIndex` property returns the index of the selected row, whereas the `SelectedValue` and `SelectedDataKey` properties return values based upon the GridView's [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span></span>

<span data-ttu-id="5a7e0-145">Le `DataKeyNames` propriété est utilisée pour associer un ou plusieurs champs de données des valeurs avec chaque ligne et couramment utilisée pour attribuer des informations d’identification de manière unique à partir des données sous-jacentes avec chaque ligne GridView.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-145">The `DataKeyNames` property is used to associate one or more data field values with each row and is commonly used to attribute uniquely identifying information from the underlying data with each GridView row.</span></span> <span data-ttu-id="5a7e0-146">Le `SelectedValue` propriété retourne la valeur de la première `DataKeyNames` champ de données pour la ligne sélectionnée alors que le `SelectedDataKey` propriété retourne la ligne sélectionnée `DataKey` objet qui contient toutes les valeurs pour les champs de clé de données spécifié pour Cette ligne.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-146">The `SelectedValue` property returns the value of the first `DataKeyNames` data field for the selected row where as the `SelectedDataKey` property returns the selected row's `DataKey` object, which contains all of the values for the specified data key fields for that row.</span></span>

<span data-ttu-id="5a7e0-147">Le `DataKeyNames` propriété est automatiquement définie sur le champ de données en identifiant de manière unique lorsque vous liez une source de données à un GridView, DetailsView ou FormView via le concepteur.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-147">The `DataKeyNames` property is automatically set to the uniquely-identifying data field(s) when you bind a data source to a GridView, DetailsView, or FormView through the Designer.</span></span> <span data-ttu-id="5a7e0-148">Bien que cette propriété a été définie automatiquement pour nous dans les didacticiels précédents, les exemples aurait fonctionné sans le `DataKeyNames` propriété spécifiée.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-148">While this property has been set for us automatically in the preceding tutorials, the examples would have worked without the `DataKeyNames` property specified.</span></span> <span data-ttu-id="5a7e0-149">Toutefois, pour le contrôle GridView sélectionnable dans ce didacticiel, ainsi que pour les didacticiels futures dans lequel nous allons examiner insertion, de la mise à jour et de suppression, le `DataKeyNames` propriété doit être définie correctement.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-149">However, for the selectable GridView in this tutorial, as well as for future tutorials in which we'll be examining inserting, updating, and deleting, the `DataKeyNames` property must be set properly.</span></span> <span data-ttu-id="5a7e0-150">Prenez un moment pour vous assurer que votre contrôle GridView `DataKeyNames` propriété est définie sur `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-150">Take a moment to ensure that your GridView's `DataKeyNames` property is set to `ProductID`.</span></span>

<span data-ttu-id="5a7e0-151">Examinons notre progression jusqu'à présent via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-151">Let's view our progress thus far through a browser.</span></span> <span data-ttu-id="5a7e0-152">Notez que le contrôle GridView répertorie le nom et le prix de tous les produits, ainsi que d’un LinkButton sélectionnez.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-152">Note that the GridView lists the name and price for all of the products along with a Select LinkButton.</span></span> <span data-ttu-id="5a7e0-153">En cliquant sur le bouton de sélection entraîne une publication (postback).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-153">Clicking the Select button causes a postback.</span></span> <span data-ttu-id="5a7e0-154">À l’étape 2, nous verrons comment faire en sorte d’un contrôle DetailsView en réponse à cette publication (postback) en affichant les détails pour le produit sélectionné.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-154">In Step 2 we'll see how to have a DetailsView respond to this postback by displaying the details for the selected product.</span></span>


<span data-ttu-id="5a7e0-155">[![Chaque ligne de produit contient un LinkButton Select](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-155">[![Each Product Row Contains a Select LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image19.png)</span></span>

<span data-ttu-id="5a7e0-156">**Figure 7**: Chaque ligne de produit contient un LinkButton sélectionnez ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-156">**Figure 7**: Each Product Row Contains a Select LinkButton ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image21.png))</span></span>


### <a name="highlighting-the-selected-row"></a><span data-ttu-id="5a7e0-157">Mise en surbrillance de la ligne sélectionnée</span><span class="sxs-lookup"><span data-stu-id="5a7e0-157">Highlighting the Selected Row</span></span>

<span data-ttu-id="5a7e0-158">Le `ProductsGrid` contrôle GridView présente un `SelectedRowStyle` propriété qui peut être utilisée pour dicter le style visuel de la ligne sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-158">The `ProductsGrid` GridView has a `SelectedRowStyle` property that can be used to dictate the visual style for the selected row.</span></span> <span data-ttu-id="5a7e0-159">Utilisée correctement, cela peut améliorer l’expérience utilisateur en plus clairement indiquant quelle ligne du contrôle GridView est actuellement sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-159">Used properly, this can improve the user's experience by more clearly showing which row of the GridView is currently selected.</span></span> <span data-ttu-id="5a7e0-160">Pour ce didacticiel, nous allons avoir la ligne sélectionnée mise en surbrillance avec un arrière-plan jaune.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-160">For this tutorial, let's have the selected row be highlighted with a yellow background.</span></span>

<span data-ttu-id="5a7e0-161">Comme avec nos didacticiels précédents, nous allons vous efforcer de garder les paramètres liés à esthétique définis en tant que classes CSS.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-161">As with our earlier tutorials, let's strive to keep the aesthetic-related settings defined as CSS classes.</span></span> <span data-ttu-id="5a7e0-162">Par conséquent, créez une classe CSS dans `Styles.css` nommé `SelectedRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-162">Therefore, create a new CSS class in `Styles.css` named `SelectedRowStyle`.</span></span>


[!code-css[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample3.css)]

<span data-ttu-id="5a7e0-163">Pour appliquer cette classe CSS à le `SelectedRowStyle` propriété de *tous les* contrôles GridView dans notre série de didacticiels, modifier le `GridView.skin` d’apparence dans le `DataWebControls` thème à inclure le `SelectedRowStyle` paramètres comme indiqué ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="5a7e0-163">To apply this CSS class to the `SelectedRowStyle` property of *all* GridViews in our tutorial series, edit the `GridView.skin` Skin in the `DataWebControls` Theme to include the `SelectedRowStyle` settings as shown below:</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/samples/sample4.aspx)]

<span data-ttu-id="5a7e0-164">Avec cet ajout, la ligne sélectionnée de la GridView est maintenant en surbrillance avec une couleur d’arrière-plan jaune.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-164">With this addition, the selected GridView row is now highlighted with a yellow background color.</span></span>


<span data-ttu-id="5a7e0-165">[![Personnaliser l’apparence de la ligne sélectionnée à l’aide de la propriété de SelectedRowStyle le contrôle GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-165">[![Customize the Selected Row's Appearance Using the GridView's SelectedRowStyle Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image22.png)</span></span>

<span data-ttu-id="5a7e0-166">**Figure 8**: Personnaliser une apparence d’à l’aide la ligne sélectionnée de la GridView `SelectedRowStyle` propriété ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-166">**Figure 8**: Customize the Selected Row's Appearance Using the GridView's `SelectedRowStyle` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image24.png))</span></span>


## <a name="step-2-displaying-the-selected-products-details-in-a-detailsview"></a><span data-ttu-id="5a7e0-167">Étape 2 : Affichage des détails du produit sélectionné dans un contrôle DetailsView</span><span class="sxs-lookup"><span data-stu-id="5a7e0-167">Step 2: Displaying the Selected Product's Details in a DetailsView</span></span>

<span data-ttu-id="5a7e0-168">Avec le `ProductsGrid` terminer GridView, tout ce qui reste consiste à ajouter un contrôle DetailsView qui affiche des informations sur le produit sélectionné.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-168">With the `ProductsGrid` GridView complete, all that remains is to add a DetailsView that displays information about the particular product selected.</span></span> <span data-ttu-id="5a7e0-169">Ajouter un contrôle DetailsView au-dessus de la GridView et créer un nouveau ObjectDataSource nommé `ProductDetailsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-169">Add a DetailsView control above the GridView and create a new ObjectDataSource named `ProductDetailsDataSource`.</span></span> <span data-ttu-id="5a7e0-170">Étant donné que nous voulons que ce contrôle DetailsView afin d’afficher des informations spécifiques sur le produit sélectionné, configurer le `ProductDetailsDataSource` à utiliser le `ProductsBLL` la classe `GetProductByProductID(productID)` (méthode).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-170">Since we want this DetailsView to display particular information about the selected product, configure the `ProductDetailsDataSource` to use the `ProductsBLL` class's `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="5a7e0-171">[![Appeler la méthode de GetProductByProductID(productID) de la classe ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-171">[![Invoke the ProductsBLL Class's GetProductByProductID(productID) Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image25.png)</span></span>

<span data-ttu-id="5a7e0-172">**Figure 9**: Appeler le `ProductsBLL` la classe `GetProductByProductID(productID)` (méthode) ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-172">**Figure 9**: Invoke the `ProductsBLL` Class's `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image27.png))</span></span>


<span data-ttu-id="5a7e0-173">Avoir le *`productID`* valeur du paramètre obtenu à partir du contrôle GridView `SelectedValue` propriété.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-173">Have the *`productID`* parameter's value obtained from the GridView control's `SelectedValue` property.</span></span> <span data-ttu-id="5a7e0-174">Comme indiqué précédemment, le GridView `SelectedValue` propriété retourne la première clé de données la valeur de la ligne sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-174">As we discussed earlier, the GridView's `SelectedValue` property returns the first data key value for the selected row.</span></span> <span data-ttu-id="5a7e0-175">Par conséquent, il est impératif que le GridView `DataKeyNames` propriété est définie sur `ProductID`, de sorte que la ligne sélectionnée `ProductID` valeur est retournée par `SelectedValue`.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-175">Therefore, it's imperative that the GridView's `DataKeyNames` property is set to `ProductID`, so that the selected row's `ProductID` value is returned by `SelectedValue`.</span></span>


<span data-ttu-id="5a7e0-176">[![Définir le paramètre de productID à la propriété SelectedValue du contrôle GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-176">[![Set the productID Parameter to the GridView's SelectedValue Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image28.png)</span></span>

<span data-ttu-id="5a7e0-177">**Figure 10**: Définir le *`productID`* paramètre pour le contrôle GridView `SelectedValue` propriété ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-177">**Figure 10**: Set the *`productID`* Parameter to the GridView's `SelectedValue` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image30.png))</span></span>


<span data-ttu-id="5a7e0-178">Une fois le `productDetailsDataSource` ObjectDataSource a été correctement configuré et liée à DetailsView, ce didacticiel est terminé !</span><span class="sxs-lookup"><span data-stu-id="5a7e0-178">Once the `productDetailsDataSource` ObjectDataSource has been configured correctly and bound to the DetailsView, this tutorial is complete!</span></span> <span data-ttu-id="5a7e0-179">Lorsque la page est visitée en premier, aucune ligne n’est sélectionnée, par conséquent, le contrôle GridView `SelectedValue` retourne de la propriété `null`.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-179">When the page is first visited no row is selected, so the GridView's `SelectedValue` property returns `null`.</span></span> <span data-ttu-id="5a7e0-180">Dans la mesure où aucun produit avec un `NULL` `ProductID` valeur, aucun enregistrements ne retournés par la `GetProductByProductID(productID)` méthode, ce qui signifie que le contrôle DetailsView n’est pas affiché (voir Figure 11).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-180">Since there are no products with a `NULL` `ProductID` value, no records are returned by the `GetProductByProductID(productID)` method, meaning that the DetailsView isn't displayed (see Figure 11).</span></span> <span data-ttu-id="5a7e0-181">Après avoir cliqué sur le bouton de sélection d’une ligne GridView, s’ensuit une publication (postback) et le contrôle DetailsView est actualisé.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-181">Upon clicking a GridView row's Select button, a postback ensues and the DetailsView is refreshed.</span></span> <span data-ttu-id="5a7e0-182">Cette fois le GridView `SelectedValue` propriété retourne le `ProductID` de la ligne sélectionnée, le `GetProductByProductID(productID)` méthode retourne un `ProductsDataTable` avec des informations sur ce produit et le contrôle DetailsView montre ces détails (voir Figure 12).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-182">This time the GridView's `SelectedValue` property returns the `ProductID` of the selected row, the `GetProductByProductID(productID)` method returns a `ProductsDataTable` with information about that particular product, and the DetailsView shows these details (see Figure 12).</span></span>


<span data-ttu-id="5a7e0-183">[![Quand visité premier, uniquement le contrôle GridView est affiché](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-183">[![When First Visited, Only the GridView is Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image31.png)</span></span>

<span data-ttu-id="5a7e0-184">**Figure 11**: Lors de la première visite, uniquement le contrôle GridView est affiché ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-184">**Figure 11**: When First Visited, Only the GridView is Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image33.png))</span></span>


<span data-ttu-id="5a7e0-185">[![Lors de la sélection d’une ligne, les détails du produit sont affichés](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-185">[![Upon Selecting a Row, the Product's Details are Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image34.png)</span></span>

<span data-ttu-id="5a7e0-186">**Figure 12**: Lors de la sélection d’une ligne, les détails du produit sont affichés ([cliquez pour afficher l’image en taille réelle](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="5a7e0-186">**Figure 12**: Upon Selecting a Row, the Product's Details are Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs/_static/image36.png))</span></span>


## <a name="summary"></a><span data-ttu-id="5a7e0-187">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="5a7e0-187">Summary</span></span>

<span data-ttu-id="5a7e0-188">Dans cette section et les didacticiels de trois précédents, nous avons vu un certain nombre de techniques permettant d’afficher les rapports maître/détail.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-188">In this and the preceding three tutorials we've seen a number of techniques for displaying master/detail reports.</span></span> <span data-ttu-id="5a7e0-189">Dans ce didacticiel, que nous avons examiné utilisant un GridView sélectionnable pour héberger les enregistrements maîtres et un contrôle DetailsView afin d’afficher des détails sur l’enregistrement principal sélectionné sur la même page.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-189">In this tutorial we examined using a selectable GridView to house the master records and a DetailsView to display details about the selected master record on the same page.</span></span> <span data-ttu-id="5a7e0-190">Dans les didacticiels précédents, nous avons vu comment afficher les rapports maître/détails à l’aide de DropDownList et l’affichage des enregistrements principaux sur une page web et les enregistrements de détail sur un autre.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-190">In the earlier tutorials we looked at how to display master/details reports using DropDownLists and displaying master records on one web page and detail records on another.</span></span>

<span data-ttu-id="5a7e0-191">Ce didacticiel conclut notre examen des rapports maître/détail.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-191">This tutorial concludes our examination of master/detail reports.</span></span> <span data-ttu-id="5a7e0-192">En commençant par le suivant tutorialwe allons commencer notre exploration de la mise en forme personnalisée avec le GridView, DetailsView et FormView.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-192">Starting with the next tutorialwe'll begin our exploration of customized formatting with the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="5a7e0-193">Nous verrons comment personnaliser l’apparence de ces contrôles en fonction des données liées, comment synthétiser des données dans le pied de page du GridView et comment utiliser des modèles pour obtenir un degré plus élevé de contrôle sur la disposition.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-193">We'll see how to customize the appearance of these controls based on the data bound to them, how to summarize data in the GridView's footer, and how to use templates to obtain a greater degree of control over the layout.</span></span>

<span data-ttu-id="5a7e0-194">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="5a7e0-194">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="5a7e0-195">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="5a7e0-195">About the Author</span></span>

<span data-ttu-id="5a7e0-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept les livres sur ASP/ASP.NET et fondateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec les technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="5a7e0-197">Scott fonctionne comme un consultant indépendant, formateur et writer.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-197">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="5a7e0-198">Son dernier ouvrage est [*SAM animer vous-même ASP.NET 2.0 des dernières 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-198">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="5a7e0-199">Il peut être contacté à [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-199">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="5a7e0-200">ou via son blog, qui se trouve à [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="5a7e0-200">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="5a7e0-201">Remerciements</span><span class="sxs-lookup"><span data-stu-id="5a7e0-201">Special Thanks To</span></span>

<span data-ttu-id="5a7e0-202">Cette série de didacticiels a été révisée par plusieurs réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-202">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="5a7e0-203">Entraîner un réviseur pour ce didacticiel a été Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="5a7e0-203">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="5a7e0-204">Qui souhaitent consulter mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="5a7e0-204">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="5a7e0-205">Dans ce cas, envoyez-moi une ligne à [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-205">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5a7e0-206">[Précédent](master-detail-filtering-across-two-pages-cs.md)
> [Suivant](master-detail-filtering-with-a-dropdownlist-vb.md)</span><span class="sxs-lookup"><span data-stu-id="5a7e0-206">[Previous](master-detail-filtering-across-two-pages-cs.md)
[Next](master-detail-filtering-with-a-dropdownlist-vb.md)</span></span>
