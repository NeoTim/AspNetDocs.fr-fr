---
uid: web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
title: Contrôles Web de données imbriquéesC#() | Microsoft Docs
author: rick-anderson
description: Dans ce didacticiel, nous allons découvrir comment utiliser un répéteur imbriqué dans un autre répéteur. Les exemples illustrent comment remplir le répéteur interne à la fois d...
ms.author: riande
ms.date: 09/13/2006
ms.assetid: ad3cb0ec-26cf-42d7-b81b-184a34ec9f86
msc.legacyurl: /web-forms/overview/data-access/displaying-data-with-the-datalist-and-repeater/nested-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: 8ef15bebb2c29976274b0cca1d6ace434ccc55ce
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74640264"
---
# <a name="nested-data-web-controls-c"></a><span data-ttu-id="e2f6f-104">Contrôles web de données imbriquées (C#)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-104">Nested Data Web Controls (C#)</span></span>

<span data-ttu-id="e2f6f-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="e2f6f-106">[Télécharger l’exemple d’application](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) ou [Télécharger le PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-106">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_32_CS.exe) or [Download PDF](nested-data-web-controls-cs/_static/datatutorial32cs1.pdf)</span></span>

> <span data-ttu-id="e2f6f-107">Dans ce didacticiel, nous allons découvrir comment utiliser un répéteur imbriqué dans un autre répéteur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-107">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="e2f6f-108">Les exemples illustrent comment remplir le répéteur interne à la fois de façon déclarative et par programme.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-108">The examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>

## <a name="introduction"></a><span data-ttu-id="e2f6f-109">Introduction</span><span class="sxs-lookup"><span data-stu-id="e2f6f-109">Introduction</span></span>

<span data-ttu-id="e2f6f-110">En plus de la syntaxe statique HTML et DataBinding, les modèles peuvent également inclure des contrôles Web et des contrôles utilisateur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-110">In addition to static HTML and databinding syntax, templates can also include Web controls and User Controls.</span></span> <span data-ttu-id="e2f6f-111">Ces contrôles Web peuvent avoir leurs propriétés assignées par le biais de la syntaxe déclarative, DataBinding, ou être accessibles par programme dans les gestionnaires d’événements côté serveur appropriés.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-111">These Web controls can have their properties assigned via declarative, databinding syntax, or can be accessed programmatically in the appropriate server-side event handlers.</span></span>

<span data-ttu-id="e2f6f-112">En incorporant des contrôles dans un modèle, l’apparence et l’expérience utilisateur peuvent être personnalisées et améliorées sur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-112">By embedding controls within a template, the appearance and user experience can be customized and improved upon.</span></span> <span data-ttu-id="e2f6f-113">Par exemple, dans le didacticiel [utilisation de TemplateFields dans le contrôle GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) , nous avons vu comment personnaliser l’affichage des GridView s en ajoutant un contrôle de calendrier dans un TemplateField pour afficher la date d’embauche d’un employé. dans [Ajout de contrôles de validation aux interfaces de modification et d’insertion](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) et [Personnalisation des](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) didacticiels sur l’interface de modification des données, nous avons vu comment personnaliser les interfaces de modification et d’insertion en ajoutant des contrôles de validation, des zones de texte, des DropDownList et d’autres contrôles Web.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-113">For example, in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial, we saw how to customize the GridView s display by adding a Calendar control in a TemplateField to show an employee s hire date; in the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials, we saw how to customize the editing and inserting interfaces by adding validation controls, TextBoxes, DropDownLists, and other Web controls.</span></span>

<span data-ttu-id="e2f6f-114">Les modèles peuvent également contenir d’autres contrôles Web de données.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-114">Templates can also contain other data Web controls.</span></span> <span data-ttu-id="e2f6f-115">Autrement dit, nous pouvons avoir un contrôle DataList qui contient un autre contrôle DataList (ou Repeater ou GridView ou DetailsView, etc.) dans ses modèles.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-115">That is, we can have a DataList that contains another DataList (or Repeater or GridView or DetailsView, and so on) within its templates.</span></span> <span data-ttu-id="e2f6f-116">Le défi avec une telle interface consiste à lier les données appropriées au contrôle Web des données internes.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-116">The challenge with such an interface is binding the appropriate data to the inner data Web control.</span></span> <span data-ttu-id="e2f6f-117">Il existe plusieurs approches disponibles, allant des options déclaratives utilisant ObjectDataSource à celles de programmation.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-117">There are a few different approaches available, ranging from declarative options using the ObjectDataSource to programmatic ones.</span></span>

<span data-ttu-id="e2f6f-118">Dans ce didacticiel, nous allons découvrir comment utiliser un répéteur imbriqué dans un autre répéteur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-118">In this tutorial we will explore how to use a Repeater nested inside another Repeater.</span></span> <span data-ttu-id="e2f6f-119">Le répétiteur externe contient un élément pour chaque catégorie dans la base de données, affichant le nom et la description de la catégorie.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-119">The outer Repeater will contain an item for each category in the database, displaying the category s name and description.</span></span> <span data-ttu-id="e2f6f-120">Chaque répéteur interne d’élément de catégorie affiche des informations pour chaque produit appartenant à cette catégorie (voir figure 1) dans une liste à puces.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-120">Each category item s inner Repeater will display information for each product belonging to that category (see Figure 1) in a bulleted list.</span></span> <span data-ttu-id="e2f6f-121">Nos exemples illustrent comment remplir le répéteur interne à la fois de façon déclarative et par programme.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-121">Our examples will illustrate how to populate the inner Repeater both declaratively and programmatically.</span></span>

<span data-ttu-id="e2f6f-122">[![chaque catégorie, ainsi que ses produits, sont répertoriés](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-122">[![Each Category, Along with its Products, are Listed](nested-data-web-controls-cs/_static/image2.png)](nested-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="e2f6f-123">**Figure 1**: chaque catégorie, ainsi que ses produits, sont répertoriés ([cliquez pour afficher l’image en taille réelle](nested-data-web-controls-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="e2f6f-123">**Figure 1**: Each Category, Along with its Products, are Listed ([Click to view full-size image](nested-data-web-controls-cs/_static/image3.png))</span></span>

## <a name="step-1-creating-the-category-listing"></a><span data-ttu-id="e2f6f-124">Étape 1 : création de la liste des catégories</span><span class="sxs-lookup"><span data-stu-id="e2f6f-124">Step 1: Creating the Category Listing</span></span>

<span data-ttu-id="e2f6f-125">Lors de la création d’une page qui utilise des contrôles Web de données imbriqués, je trouve qu’il est utile de concevoir, de créer et de tester d’abord le contrôle Web de données le plus à l’extérieur, sans même vous soucier du contrôle imbriqué interne.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-125">When building a page that uses nested data Web controls, I find it helpful to design, create, and test the outermost data Web control first, without even worrying about the inner nested control.</span></span> <span data-ttu-id="e2f6f-126">Par conséquent, commençons par parcourir les étapes nécessaires pour ajouter un Repeater à la page qui répertorie le nom et la description de chaque catégorie.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-126">Therefore, let s start by walking through the steps necessary to add a Repeater to the page that lists the name and description for each category.</span></span>

<span data-ttu-id="e2f6f-127">Commencez par ouvrir la page `NestedControls.aspx` dans le dossier `DataListRepeaterBasics` et ajoutez un contrôle Repeater à la page, en affectant à sa propriété `ID` la valeur `CategoryList`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-127">Start by opening the `NestedControls.aspx` page in the `DataListRepeaterBasics` folder and add a Repeater control to the page, setting its `ID` property to `CategoryList`.</span></span> <span data-ttu-id="e2f6f-128">À partir de la balise active de Repeater s, choisissez de créer un ObjectDataSource nommé `CategoriesDataSource`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-128">From the Repeater s smart tag, choose to create a new ObjectDataSource named `CategoriesDataSource`.</span></span>

<span data-ttu-id="e2f6f-129">[![nommez le nouveau ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-129">[![Name the New ObjectDataSource CategoriesDataSource](nested-data-web-controls-cs/_static/image5.png)](nested-data-web-controls-cs/_static/image4.png)</span></span>

<span data-ttu-id="e2f6f-130">**Figure 2**: nommer le nouvel ObjectDataSource `CategoriesDataSource` ([cliquez pour afficher l’image en taille réelle](nested-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="e2f6f-130">**Figure 2**: Name the New ObjectDataSource `CategoriesDataSource` ([Click to view full-size image](nested-data-web-controls-cs/_static/image6.png))</span></span>

<span data-ttu-id="e2f6f-131">Configurez le ObjectDataSource afin qu’il extraie ses données de la méthode de `GetCategories` de la classe `CategoriesBLL`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-131">Configure the ObjectDataSource so that it pulls its data from the `CategoriesBLL` class s `GetCategories` method.</span></span>

<span data-ttu-id="e2f6f-132">[![configurer ObjectDataSource pour utiliser la méthode GetCategories de la classe CategoriesBLL s](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-132">[![Configure the ObjectDataSource to Use the CategoriesBLL Class s GetCategories Method](nested-data-web-controls-cs/_static/image8.png)](nested-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="e2f6f-133">**Figure 3**: configurer ObjectDataSource pour utiliser la méthode `CategoriesBLL` classe s `GetCategories` ([cliquez pour afficher l’image en taille réelle](nested-data-web-controls-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="e2f6f-133">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class s `GetCategories` Method ([Click to view full-size image](nested-data-web-controls-cs/_static/image9.png))</span></span>

<span data-ttu-id="e2f6f-134">Pour spécifier le contenu du modèle Repeater s, vous devez accéder à la vue source et entrer manuellement la syntaxe déclarative.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-134">To specify the Repeater s template content we need to go to the Source view and manually enter the declarative syntax.</span></span> <span data-ttu-id="e2f6f-135">Ajoutez un `ItemTemplate` qui affiche le nom de la catégorie dans un élément `<h4>` et la description de la catégorie dans un élément paragraph (`<p>`).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-135">Add an `ItemTemplate` that displays the category s name in an `<h4>` element and the category s description in a paragraph element (`<p>`).</span></span> <span data-ttu-id="e2f6f-136">En outre, nous allons séparer chaque catégorie par une règle horizontale (`<hr>`).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-136">Furthermore, let s separate each category with a horizontal rule (`<hr>`).</span></span> <span data-ttu-id="e2f6f-137">Après avoir apporté ces modifications, votre page doit contenir une syntaxe déclarative pour le Repeater et ObjectDataSource similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-137">After making these changes your page should contain declarative syntax for the Repeater and ObjectDataSource that is similar to the following:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="e2f6f-138">La figure 4 illustre notre progression dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-138">Figure 4 shows our progress when viewed through a browser.</span></span>

<span data-ttu-id="e2f6f-139">[![chaque nom et description de catégorie est listé, séparé par une règle horizontale](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-139">[![Each Category s Name and Description is Listed, Separated by a Horizontal Rule](nested-data-web-controls-cs/_static/image11.png)](nested-data-web-controls-cs/_static/image10.png)</span></span>

<span data-ttu-id="e2f6f-140">**Figure 4**: chaque nom et description de catégorie est listé, séparé par une règle horizontale ([cliquez pour afficher l’image en taille réelle](nested-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="e2f6f-140">**Figure 4**: Each Category s Name and Description is Listed, Separated by a Horizontal Rule ([Click to view full-size image](nested-data-web-controls-cs/_static/image12.png))</span></span>

## <a name="step-2-adding-the-nested-product-repeater"></a><span data-ttu-id="e2f6f-141">Étape 2 : ajout du répéteur de produit imbriqué</span><span class="sxs-lookup"><span data-stu-id="e2f6f-141">Step 2: Adding the Nested Product Repeater</span></span>

<span data-ttu-id="e2f6f-142">Une fois la liste des catégories terminée, la tâche suivante consiste à ajouter un répéteur au `CategoryList` s `ItemTemplate` qui affiche des informations sur les produits appartenant à la catégorie appropriée.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-142">With the category listing complete, our next task is to add a Repeater to the `CategoryList` s `ItemTemplate` that displays information about those products belonging to the appropriate category.</span></span> <span data-ttu-id="e2f6f-143">Il existe plusieurs façons de récupérer les données pour ce répéteur interne, dont deux nous allons explorer bientôt.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-143">There are a number of ways we can retrieve the data for this inner Repeater, two of which we'll explore shortly.</span></span> <span data-ttu-id="e2f6f-144">Pour le moment, il suffit de créer le répéteur Products dans le `ItemTemplate``CategoryList` Repeater s.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-144">For now, let s just create the products Repeater within the `CategoryList` Repeater s `ItemTemplate`.</span></span> <span data-ttu-id="e2f6f-145">En particulier, laissez le répéteur de produit afficher chaque produit dans une liste à puces avec chaque élément de liste, y compris le nom et le prix du produit.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-145">Specifically, let s have the product Repeater display each product in a bulleted list with each list item including the product s name and price.</span></span>

<span data-ttu-id="e2f6f-146">Pour créer ce répéteur, nous devons entrer manuellement la syntaxe déclarative et les modèles Inner Repeater s dans le `ItemTemplate``CategoryList` s.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-146">To create this Repeater we need to manually enter the inner Repeater s declarative syntax and templates into the `CategoryList` s `ItemTemplate`.</span></span> <span data-ttu-id="e2f6f-147">Ajoutez le balisage suivant dans le `ItemTemplate``CategoryList` Repeater :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-147">Add the following markup within the `CategoryList` Repeater s `ItemTemplate`:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample2.aspx)]

## <a name="step-3-binding-the-category-specific-products-to-the-productsbycategorylist-repeater"></a><span data-ttu-id="e2f6f-148">Étape 3 : liaison des produits spécifiques aux catégories au répétiteur ProductsByCategoryList</span><span class="sxs-lookup"><span data-stu-id="e2f6f-148">Step 3: Binding the Category-Specific Products to the ProductsByCategoryList Repeater</span></span>

<span data-ttu-id="e2f6f-149">Si vous accédez à la page par le biais d’un navigateur à ce stade, votre écran sera le même que dans la figure 4, car nous avons encore lié les données au répéteur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-149">If you visit the page through a browser at this point, your screen will look the same as in Figure 4 because we ve yet to bind any data to the Repeater.</span></span> <span data-ttu-id="e2f6f-150">Il existe plusieurs façons de récupérer les enregistrements de produits appropriés et de les lier au répéteur, plus efficaces que d’autres.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-150">There are a few ways that we can grab the appropriate product records and bind them to the Repeater, some more efficient than others.</span></span> <span data-ttu-id="e2f6f-151">Le principal défi ici est de récupérer les produits appropriés pour la catégorie spécifiée.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-151">The main challenge here is getting back the appropriate products for the specified category.</span></span>

<span data-ttu-id="e2f6f-152">Les données à lier au contrôle de répéteur interne sont accessibles de façon déclarative, par le biais d’un ObjectDataSource dans le `CategoryList` Repeater s `ItemTemplate`, ou par programme, à partir de la page code-behind de la page ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-152">The data to bind to the inner Repeater control can either be accessed declaratively, through an ObjectDataSource in the `CategoryList` Repeater s `ItemTemplate`, or programmatically, from the ASP.NET page s code-behind page.</span></span> <span data-ttu-id="e2f6f-153">De même, ces données peuvent être liées au répéteur interne de façon déclarative, par le biais de la propriété Inner Repeater s `DataSourceID` ou par le biais d’une syntaxe de liaison de données déclarative ou par programme, en référençant le Repeater interne dans le gestionnaire d’événements `CategoryList` Repeater s `ItemDataBound`, en définissant sa propriété `DataSource` par programmation et en appelant sa méthode `DataBind()`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-153">Similarly, this data can be bound to the inner Repeater either declaratively - through the inner Repeater s `DataSourceID` property or through declarative databinding syntax or programmatically by referencing the inner Repeater in the `CategoryList` Repeater s `ItemDataBound` event handler, programmatically setting its `DataSource` property, and calling its `DataBind()` method.</span></span> <span data-ttu-id="e2f6f-154">Examinons chacune de ces approches.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-154">Let s explore each of these approaches.</span></span>

## <a name="accessing-the-data-declaratively-with-an-objectdatasource-control-and-theitemdataboundevent-handler"></a><span data-ttu-id="e2f6f-155">Accès aux données de façon déclarative à l’aide d’un contrôle ObjectDataSource et du gestionnaire d’événements`ItemDataBound`</span><span class="sxs-lookup"><span data-stu-id="e2f6f-155">Accessing the Data Declaratively with an ObjectDataSource Control and the`ItemDataBound`Event Handler</span></span>

<span data-ttu-id="e2f6f-156">Étant donné que nous avons largement utilisé ObjectDataSource dans cette série de didacticiels, le choix le plus naturel pour accéder aux données de cet exemple consiste à respecter l’ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-156">Since we ve used the ObjectDataSource extensively throughout this tutorial series, the most natural choice for accessing data for this example is to stick with the ObjectDataSource.</span></span> <span data-ttu-id="e2f6f-157">La classe `ProductsBLL` a une méthode `GetProductsByCategoryID(categoryID)` qui retourne des informations sur les produits qui appartiennent au *`categoryID`* spécifié.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-157">The `ProductsBLL` class has a `GetProductsByCategoryID(categoryID)` method that returns information about those products that belong to the specified *`categoryID`*.</span></span> <span data-ttu-id="e2f6f-158">Par conséquent, nous pouvons ajouter un ObjectDataSource aux `CategoryList` Repeater s `ItemTemplate` et le configurer pour accéder à ses données à partir de cette méthode de classe s.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-158">Therefore, we can add an ObjectDataSource to the `CategoryList` Repeater s `ItemTemplate` and configure it to access its data from this class s method.</span></span>

<span data-ttu-id="e2f6f-159">Malheureusement, le Repeater n’autorise pas la modification de ses modèles via le Mode Création donc nous devons ajouter la syntaxe déclarative pour ce contrôle ObjectDataSource à la main.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-159">Unfortunately, the Repeater doesn t allow its templates to be edited through the Design view so we need to add the declarative syntax for this ObjectDataSource control by hand.</span></span> <span data-ttu-id="e2f6f-160">La syntaxe suivante montre le `ItemTemplate` `CategoryList` Repeater s après l’ajout de ce nouvel ObjectDataSource (`ProductsByCategoryDataSource`) :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-160">The following syntax shows the `CategoryList` Repeater s `ItemTemplate` after adding this new ObjectDataSource (`ProductsByCategoryDataSource`):</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample3.aspx)]

<span data-ttu-id="e2f6f-161">Lorsque vous utilisez l’approche ObjectDataSource, nous devons définir la propriété `ProductsByCategoryList` Repeater s `DataSourceID` sur la `ID` de l’ObjectDataSource (`ProductsByCategoryDataSource`).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-161">When using the ObjectDataSource approach we need to set the `ProductsByCategoryList` Repeater s `DataSourceID` property to the `ID` of the ObjectDataSource (`ProductsByCategoryDataSource`).</span></span> <span data-ttu-id="e2f6f-162">Notez également que notre ObjectDataSource a un élément `<asp:Parameter>` qui spécifie la valeur *`categoryID`* qui sera passée à la méthode `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-162">Also, notice that our ObjectDataSource has an `<asp:Parameter>` element that specifies the *`categoryID`* value that will be passed into the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="e2f6f-163">Mais comment spécifier cette valeur ?</span><span class="sxs-lookup"><span data-stu-id="e2f6f-163">But how do we specify this value?</span></span> <span data-ttu-id="e2f6f-164">Idéalement, nous sommes en mesure de définir simplement la propriété `DefaultValue` de l’élément `<asp:Parameter>` à l’aide de la syntaxe DataBinding, comme suit :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-164">Ideally, we d be able to just set the `DefaultValue` property of the `<asp:Parameter>` element using databinding syntax, like so:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample4.aspx)]

<span data-ttu-id="e2f6f-165">Malheureusement, la syntaxe de liaison de liaison n’est valide que dans les contrôles qui ont un événement `DataBinding`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-165">Unfortunately, databinding syntax is only valid in controls that have a `DataBinding` event.</span></span> <span data-ttu-id="e2f6f-166">La classe `Parameter` ne dispose pas d’un tel événement et, par conséquent, la syntaxe ci-dessus est illégale et génère une erreur d’exécution.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-166">The `Parameter` class lacks such an event and therefore the above syntax is illegal and will result in a runtime error.</span></span>

<span data-ttu-id="e2f6f-167">Pour définir cette valeur, vous devez créer un gestionnaire d’événements pour l’événement `CategoryList` Repeater s `ItemDataBound`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-167">To set this value, we need to create an event handler for the `CategoryList` Repeater s `ItemDataBound` event.</span></span> <span data-ttu-id="e2f6f-168">Rappelez-vous que l’événement `ItemDataBound` se déclenche une fois pour chaque élément lié au répéteur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-168">Recall that the `ItemDataBound` event fires once for each item bound to the Repeater.</span></span> <span data-ttu-id="e2f6f-169">Par conséquent, chaque fois que cet événement est déclenché pour le répéteur externe, nous pouvons affecter la valeur actuelle `CategoryID` au paramètre `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-169">Therefore, each time this event fires for the outer Repeater we can assign the current `CategoryID` value to the `ProductsByCategoryDataSource` ObjectDataSource s `CategoryID` parameter.</span></span>

<span data-ttu-id="e2f6f-170">Créez un gestionnaire d’événements pour l’événement `CategoryList` Repeater s `ItemDataBound` à l’aide du code suivant :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-170">Create an event handler for the `CategoryList` Repeater s `ItemDataBound` event with the following code:</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample5.cs)]

<span data-ttu-id="e2f6f-171">Ce gestionnaire d’événements commence par s’assurer que nous retraitons un élément de données plutôt que l’en-tête, le pied de page ou l’élément de séparateur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-171">This event handler starts by ensuring that we re dealing with a data item rather than the header, footer, or separator item.</span></span> <span data-ttu-id="e2f6f-172">Ensuite, nous référençons l’instance de `CategoriesRow` réelle qui vient d’être liée à la `RepeaterItem`actuelle.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-172">Next, we reference the actual `CategoriesRow` instance that has just been bound to the current `RepeaterItem`.</span></span> <span data-ttu-id="e2f6f-173">Enfin, nous référençons l’ObjectDataSource dans le `ItemTemplate` et affectons sa valeur de paramètre `CategoryID` à la `CategoryID` du `RepeaterItem`actuel.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-173">Finally, we reference the ObjectDataSource in the `ItemTemplate` and assign its `CategoryID` parameter value to the `CategoryID` of the current `RepeaterItem`.</span></span>

<span data-ttu-id="e2f6f-174">Avec ce gestionnaire d’événements, le `ProductsByCategoryList` Repeater dans chaque `RepeaterItem` est lié à ces produits dans la catégorie `RepeaterItem` s.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-174">With this event handler, the `ProductsByCategoryList` Repeater in each `RepeaterItem` is bound to those products in the `RepeaterItem` s category.</span></span> <span data-ttu-id="e2f6f-175">La figure 5 illustre une capture d’écran de la sortie obtenue.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-175">Figure 5 shows a screen shot of the resulting output.</span></span>

<span data-ttu-id="e2f6f-176">[![le répéteur externe répertorie chaque catégorie ; la partie interne répertorie les produits pour cette catégorie](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-176">[![The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category](nested-data-web-controls-cs/_static/image14.png)](nested-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="e2f6f-177">**Figure 5**: le répéteur externe répertorie chaque catégorie ; la partie interne répertorie les produits pour cette catégorie ([cliquez pour afficher l’image en taille réelle](nested-data-web-controls-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="e2f6f-177">**Figure 5**: The Outer Repeater Lists Each Category; the Inner One Lists the Products for that Category ([Click to view full-size image](nested-data-web-controls-cs/_static/image15.png))</span></span>

## <a name="accessing-the-products-by-category-data-programmatically"></a><span data-ttu-id="e2f6f-178">Accès aux produits par catégorie données par programmation</span><span class="sxs-lookup"><span data-stu-id="e2f6f-178">Accessing the Products by Category Data Programmatically</span></span>

<span data-ttu-id="e2f6f-179">Au lieu d’utiliser un ObjectDataSource pour récupérer les produits de la catégorie actuelle, nous pourrions créer une méthode dans la classe code-behind de la page ASP.NET s (ou dans le dossier `App_Code` ou dans un projet de bibliothèque de classes distinct) qui retourne l’ensemble de produits approprié lorsqu’il est passé dans une `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-179">Instead of using an ObjectDataSource to retrieve the products for the current category, we could create a method in our ASP.NET page s code-behind class (or in the `App_Code` folder or in a separate Class Library project) that returns the appropriate set of products when passed in a `CategoryID`.</span></span> <span data-ttu-id="e2f6f-180">Imaginez que nous avions une telle méthode dans la classe code-behind de la page ASP.NET s et qu’elle était nommée `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-180">Imagine that we had such a method in our ASP.NET page s code-behind class and that it was named `GetProductsInCategory(categoryID)`.</span></span> <span data-ttu-id="e2f6f-181">Une fois cette méthode en place, nous pourrions lier les produits de la catégorie actuelle au répéteur interne à l’aide de la syntaxe déclarative suivante :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-181">With this method in place we could bind the products for the current category to the inner Repeater using the following declarative syntax:</span></span>

[!code-aspx[Main](nested-data-web-controls-cs/samples/sample6.aspx)]

<span data-ttu-id="e2f6f-182">La propriété Repeater s `DataSource` utilise la syntaxe DataBinding pour indiquer que ses données proviennent de la méthode `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-182">The Repeater s `DataSource` property uses the databinding syntax to indicate that its data comes from the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="e2f6f-183">Étant donné que `Eval("CategoryID")` retourne une valeur de type `Object`, nous castons l’objet en un `Integer` avant de le passer à la méthode `GetProductsInCategory(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-183">Since `Eval("CategoryID")` returns a value of type `Object`, we cast the object to an `Integer` before passing it into the `GetProductsInCategory(categoryID)` method.</span></span> <span data-ttu-id="e2f6f-184">Notez que le `CategoryID` accessible via la syntaxe DataBinding est le `CategoryID` dans le Repeater *externe* (`CategoryList`), celui qui est lié aux enregistrements dans la table `Categories`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-184">Note that the `CategoryID` accessed here via the databinding syntax is the `CategoryID` in the *outer* Repeater (`CategoryList`), the one that s bound to the records in the `Categories` table.</span></span> <span data-ttu-id="e2f6f-185">Par conséquent, nous savons que `CategoryID` ne peut pas être une valeur de `NULL` de base de données, c’est pourquoi nous pouvons convertier la méthode de `Eval` sans vérifier si nous reprenons un `DBNull`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-185">Therefore, we know that `CategoryID` cannot be a database `NULL` value, which is why we can blindly cast the `Eval` method without checking if we re dealing with a `DBNull`.</span></span>

<span data-ttu-id="e2f6f-186">Avec cette approche, nous devons créer la méthode `GetProductsInCategory(categoryID)` et faire en sorte qu’elle récupère l’ensemble de produits approprié en fonction du *`categoryID`* fourni.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-186">With this approach, we need to create the `GetProductsInCategory(categoryID)` method and have it retrieve the appropriate set of products given the supplied *`categoryID`*.</span></span> <span data-ttu-id="e2f6f-187">Pour ce faire, il suffit de retourner le `ProductsDataTable` retourné par la méthode `ProductsBLL` classe s `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-187">We can do this by simply returning the `ProductsDataTable` returned by the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="e2f6f-188">Créons la méthode `GetProductsInCategory(categoryID)` dans la classe code-behind pour notre page de `NestedControls.aspx`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-188">Let s create the `GetProductsInCategory(categoryID)` method in the code-behind class for our `NestedControls.aspx` page.</span></span> <span data-ttu-id="e2f6f-189">Pour ce faire, utilisez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="e2f6f-189">Do so using the following code:</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="e2f6f-190">Cette méthode crée simplement une instance de la méthode `ProductsBLL` et retourne les résultats de la méthode `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-190">This method simply creates an instance of the `ProductsBLL` method and returns the results of the `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="e2f6f-191">Notez que la méthode doit être marquée `Public` ou `Protected`; Si la méthode est marquée `Private`, elle ne sera pas accessible à partir du balisage déclaratif de la page ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-191">Note that the method must be marked `Public` or `Protected`; if the method is marked `Private`, it will not be accessible from the ASP.NET page s declarative markup.</span></span>

<span data-ttu-id="e2f6f-192">Après avoir apporté ces modifications pour utiliser cette nouvelle technique, prenez un moment pour afficher la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-192">After making these changes to use this new technique, take a moment to view the page through a browser.</span></span> <span data-ttu-id="e2f6f-193">La sortie doit être identique à la sortie lorsque vous utilisez l’approche ObjectDataSource et `ItemDataBound` gestionnaire d’événements (reportez-vous à la figure 5 pour voir une capture d’écran).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-193">The output should be identical to the output when using the ObjectDataSource and `ItemDataBound` event handler approach (refer back to Figure 5 to see a screen shot).</span></span>

> [!NOTE]
> <span data-ttu-id="e2f6f-194">Il peut sembler que charge crée la méthode `GetProductsInCategory(categoryID)` dans la classe code-behind ASP.NET page s.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-194">It may seem like busywork to create the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="e2f6f-195">Après tout, cette méthode crée simplement une instance de la classe `ProductsBLL` et retourne les résultats de sa méthode `GetProductsByCategoryID(categoryID)`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-195">After all, this method simply creates an instance of the `ProductsBLL` class and returns the results of its `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="e2f6f-196">Pourquoi ne pas simplement appeler cette méthode directement à partir de la syntaxe DataBinding dans le Repeater interne, comme : `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span><span class="sxs-lookup"><span data-stu-id="e2f6f-196">Why not just call this method directly from the databinding syntax in the inner Repeater, like: `DataSource='<%# ProductsBLL.GetProductsByCategoryID((int)(Eval("CategoryID"))) %>'`?</span></span> <span data-ttu-id="e2f6f-197">Bien que cette syntaxe ne fonctionne pas avec notre implémentation actuelle de la classe `ProductsBLL` (étant donné que la méthode `GetProductsByCategoryID(categoryID)` est une méthode d’instance), vous pouvez modifier `ProductsBLL` pour inclure une méthode `GetProductsByCategoryID(categoryID)` statique ou faire en sorte que la classe inclue une méthode `Instance()` statique pour retourner une nouvelle instance de la classe `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-197">Although this syntax won't work with our current implementation of the `ProductsBLL` class (since the `GetProductsByCategoryID(categoryID)` method is an instance method), you could modify `ProductsBLL` to include a static `GetProductsByCategoryID(categoryID)` method or have the class include a static `Instance()` method to return a new instance of the `ProductsBLL` class.</span></span>

<span data-ttu-id="e2f6f-198">Bien que ces modifications éliminent le besoin de la méthode `GetProductsInCategory(categoryID)` dans la classe code-behind de la page ASP.NET, la méthode de la classe code-behind nous offre plus de flexibilité dans l’utilisation des données récupérées, comme nous le verrons bientôt.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-198">While such modifications would eliminate the need for the `GetProductsInCategory(categoryID)` method in the ASP.NET page s code-behind class, the code-behind class method gives us more flexibility in working with the data retrieved, as we'll see shortly.</span></span>

## <a name="retrieving-all-of-the-product-information-at-once"></a><span data-ttu-id="e2f6f-199">Récupération de toutes les informations sur le produit en même temps</span><span class="sxs-lookup"><span data-stu-id="e2f6f-199">Retrieving All of the Product Information at Once</span></span>

<span data-ttu-id="e2f6f-200">Les deux techniques précédemment déplacées que nous avons examinées récupèrent ces produits pour la catégorie actuelle en effectuant un appel à la méthode de la classe `ProductsBLL` s `GetProductsByCategoryID(categoryID)` (la première approche effectuée par le biais d’un ObjectDataSource, la seconde via la méthode `GetProductsInCategory(categoryID)` dans la classe code-behind).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-200">The two pervious techniques we ve examined grab those products for the current category by making a call to the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method (the first approach did so through an ObjectDataSource, the second through the `GetProductsInCategory(categoryID)` method in the code-behind class).</span></span> <span data-ttu-id="e2f6f-201">Chaque fois que cette méthode est appelée, la couche de logique métier appelle la couche d’accès aux données, qui interroge la base de données avec une instruction SQL qui retourne les lignes de la table `Products` dont le champ `CategoryID` correspond au paramètre d’entrée fourni.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-201">Each time this method is invoked, the Business Logic Layer calls down to the Data Access Layer, which queries the database with a SQL statement that returns rows from the `Products` table whose `CategoryID` field matches the supplied input parameter.</span></span>

<span data-ttu-id="e2f6f-202">Étant donné *n* catégories dans le système, cette approche reporte *n* + 1 appels à la base de données une requête de base de données pour obtenir toutes les catégories, puis *n* appels pour obtenir les produits spécifiques à chaque catégorie.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-202">Given *N* categories in the system, this approach nets *N* + 1 calls to the database one database query to get all of the categories and then *N* calls to get the products specific to each category.</span></span> <span data-ttu-id="e2f6f-203">Toutefois, nous pouvons récupérer toutes les données nécessaires dans deux appels de base de données, un appel pour obtenir toutes les catégories et une autre pour obtenir tous les produits.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-203">We can, however, retrieve all the needed data in just two database calls one call to get all of the categories and another to get all of the products.</span></span> <span data-ttu-id="e2f6f-204">Une fois que nous disposons de tous les produits, nous pouvons filtrer ces produits afin que seuls les produits correspondant à la `CategoryID` actuelle soient liés à ce répéteur interne de catégorie.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-204">Once we have all of the products, we can filter those products so that only the products matching the current `CategoryID` are bound to that category s inner Repeater.</span></span>

<span data-ttu-id="e2f6f-205">Pour fournir cette fonctionnalité, nous devons uniquement apporter une légère modification à la méthode `GetProductsInCategory(categoryID)` dans notre classe code-behind de la page ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-205">To provide this functionality, we only need to make a slight modification to the `GetProductsInCategory(categoryID)` method in our ASP.NET page s code-behind class.</span></span> <span data-ttu-id="e2f6f-206">Au lieu de retourner aveuglément les résultats de la méthode de `GetProductsByCategoryID(categoryID)` de la classe `ProductsBLL`, nous pouvons à la place accéder tout d’abord à *tous* les produits (s’ils n’ont pas encore été consultés), puis retourner uniquement la vue filtrée des produits en fonction de la `CategoryID`transmise.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-206">Rather than blindly returning the results of the `ProductsBLL` class s `GetProductsByCategoryID(categoryID)` method, we can instead first access *all* of the products (if they haven't been accessed already) and then return just the filtered view of the products based on the passed-in `CategoryID`.</span></span>

[!code-csharp[Main](nested-data-web-controls-cs/samples/sample8.cs)]

<span data-ttu-id="e2f6f-207">Notez l’ajout de la variable au niveau de la page, `allProducts`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-207">Note the addition of the page-level variable, `allProducts`.</span></span> <span data-ttu-id="e2f6f-208">Elle contient des informations sur tous les produits et est remplie la première fois que la méthode `GetProductsInCategory(categoryID)` est appelée.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-208">This holds information about all of the products and is populated the first time the `GetProductsInCategory(categoryID)` method is invoked.</span></span> <span data-ttu-id="e2f6f-209">Après vous être assuré que l’objet `allProducts` a été créé et rempli, la méthode filtre les résultats de DataTable, de telle sorte que seules les lignes dont `CategoryID` correspond à la `CategoryID` spécifiée sont accessibles.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-209">After ensuring that the `allProducts` object has been created and populated, the method filters the DataTable s results such that only those rows whose `CategoryID` matches the specified `CategoryID` are accessible.</span></span> <span data-ttu-id="e2f6f-210">Cette approche réduit le nombre de fois où la base de données est accessible de *N* + 1 à deux.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-210">This approach reduces the number of times the database is accessed from *N* + 1 down to two.</span></span>

<span data-ttu-id="e2f6f-211">Cette amélioration n’introduit aucune modification dans le balisage rendu de la page et ne remet pas non plus moins d’enregistrements que l’autre approche.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-211">This enhancement does not introduce any change to the rendered markup of the page, nor does it bring back fewer records than the other approach.</span></span> <span data-ttu-id="e2f6f-212">Cela réduit simplement le nombre d’appels à la base de données.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-212">It simply reduces the number of calls to the database.</span></span>

> [!NOTE]
> <span data-ttu-id="e2f6f-213">Il est possible que la réduction du nombre d’accès à la base de données améliore les performances de manière intuitive.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-213">One might intuitively reason that reducing the number of database accesses would assuredly improve performance.</span></span> <span data-ttu-id="e2f6f-214">Toutefois, cela n’est peut-être pas le cas.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-214">However, this might not be the case.</span></span> <span data-ttu-id="e2f6f-215">Si vous avez un grand nombre de produits dont `CategoryID` est `NULL`, par exemple, l’appel à la méthode `GetProducts` retourne un certain nombre de produits qui ne sont jamais affichés.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-215">If you have a large number of products whose `CategoryID` is `NULL`, for example, then the call to the `GetProducts` method returns a number of products that are never displayed.</span></span> <span data-ttu-id="e2f6f-216">En outre, le retour de tous les produits peut s’avérer inutile si vous n’avez affiché qu’un sous-ensemble des catégories, ce qui peut être le cas si vous avez implémenté la pagination.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-216">Moreover, returning all of the products can be wasteful if you re only showing a subset of the categories, which might be the case if you have implemented paging.</span></span>

<span data-ttu-id="e2f6f-217">Comme toujours, lorsqu’il s’agit d’analyser les performances de deux techniques, la seule mesure plaisanter consiste à exécuter des tests contrôlés adaptés aux scénarios de cas courants de votre application.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-217">As always, when it comes to analyzing the performance of two techniques, the only surefire measure is to run controlled tests tailored for your application s common case scenarios.</span></span>

## <a name="summary"></a><span data-ttu-id="e2f6f-218">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="e2f6f-218">Summary</span></span>

<span data-ttu-id="e2f6f-219">Dans ce didacticiel, nous avons vu comment imbriquer un contrôle Web de données dans un autre, en examinant en particulier comment avoir un répéteur externe pour afficher un élément pour chaque catégorie avec un répéteur interne répertoriant les produits pour chaque catégorie dans une liste à puces.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-219">In this tutorial we saw how to nest one data Web control within another, specifically examining how to have an outer Repeater display an item for each category with an inner Repeater listing the products for each category in a bulleted list.</span></span> <span data-ttu-id="e2f6f-220">Le principal défi de la création d’une interface utilisateur imbriquée réside dans l’accès et la liaison des données correctes au contrôle Web de données internes.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-220">The main challenge in building a nested user interface lies in accessing and binding the correct data to the inner data Web control.</span></span> <span data-ttu-id="e2f6f-221">Il existe une variété de techniques disponibles, dont deux ont été examinées dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-221">There are a variety of techniques available, two of which we examined in this tutorial.</span></span> <span data-ttu-id="e2f6f-222">La première approche examinée utilisait un ObjectDataSource dans le contrôle Web de données externe s `ItemTemplate` qui était lié au contrôle Web des données internes par le biais de sa propriété `DataSourceID`.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-222">The first approach examined used an ObjectDataSource in the outer data Web control s `ItemTemplate` that was bound to the inner data Web control through its `DataSourceID` property.</span></span> <span data-ttu-id="e2f6f-223">La deuxième technique a accédé aux données via une méthode dans la classe code-behind de la page ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-223">The second technique accessed the data via a method in the ASP.NET page s code-behind class.</span></span> <span data-ttu-id="e2f6f-224">Cette méthode peut ensuite être liée à la propriété interne Data Web s `DataSource` par le biais de la syntaxe DataBinding.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-224">This method can then be bound to the inner data Web control s `DataSource` property through databinding syntax.</span></span>

<span data-ttu-id="e2f6f-225">Tandis que l’interface utilisateur imbriquée examinée dans ce didacticiel utilisait un Repeater imbriqué dans un Repeater, ces techniques peuvent être étendues aux autres contrôles Web de données.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-225">While the nested user interface examined in this tutorial used a Repeater nested within a Repeater, these techniques can be extended to the other data Web controls.</span></span> <span data-ttu-id="e2f6f-226">Vous pouvez imbriquer un Repeater dans un GridView, un GridView dans un contrôle DataList, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-226">You can nest a Repeater within a GridView, or a GridView within a DataList, and so on.</span></span>

<span data-ttu-id="e2f6f-227">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="e2f6f-227">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="e2f6f-228">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="e2f6f-228">About the Author</span></span>

<span data-ttu-id="e2f6f-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept livres ASP/ASP. net et fondateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec des technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-229">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="e2f6f-230">Scott travaille en tant que consultant, formateur et auteur indépendant.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-230">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="e2f6f-231">Son dernier livre est [*Sams vous apprend vous-même ASP.NET 2,0 en 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-231">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="e2f6f-232">Il peut être contacté à [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-232">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="e2f6f-233">ou via son blog, qui se trouve sur [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="e2f6f-233">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="e2f6f-234">Remerciements à</span><span class="sxs-lookup"><span data-stu-id="e2f6f-234">Special Thanks To</span></span>

<span data-ttu-id="e2f6f-235">Cette série de didacticiels a été examinée par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-235">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="e2f6f-236">Les réviseurs de leads pour ce didacticiel étaient Zack Jones et Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="e2f6f-236">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="e2f6f-237">Vous souhaitez revoir mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="e2f6f-237">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="e2f6f-238">Si c’est le cas, insérez une ligne sur [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-238">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="e2f6f-239">[Précédent](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
> [Suivant](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span><span class="sxs-lookup"><span data-stu-id="e2f6f-239">[Previous](showing-multiple-records-per-row-with-the-datalist-control-cs.md)
[Next](displaying-data-with-the-datalist-and-repeater-controls-vb.md)</span></span>
