---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
title: Ajout d’une colonne GridView de cases d'C#option () | Microsoft Docs
author: rick-anderson
description: Ce didacticiel explique comment ajouter une colonne de cases d’option à un contrôle GridView pour fournir à l’utilisateur un moyen plus intuitif de sélectionner une seule ligne...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 32377145-ec25-4715-8370-a1c590a331d5
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
msc.type: authoredcontent
ms.openlocfilehash: b59cc64b14c6414e6558fdb8a281644db8386701
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74593676"
---
# <a name="adding-a-gridview-column-of-radio-buttons-c"></a><span data-ttu-id="4eb1e-103">Ajout d’une colonne GridView de cases d’option (C#)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-103">Adding a GridView Column of Radio Buttons (C#)</span></span>

<span data-ttu-id="4eb1e-104">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="4eb1e-105">[Télécharger l’exemple d’application](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) ou [Télécharger le PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span></span>

> <span data-ttu-id="4eb1e-106">Ce didacticiel explique comment ajouter une colonne de cases d’option à un contrôle GridView pour fournir à l’utilisateur un moyen plus intuitif de sélectionner une seule ligne de GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="4eb1e-107">Introduction</span><span class="sxs-lookup"><span data-stu-id="4eb1e-107">Introduction</span></span>

<span data-ttu-id="4eb1e-108">Le contrôle GridView offre une grande quantité de fonctionnalités intégrées.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="4eb1e-109">Il comprend un certain nombre de champs différents permettant d’afficher du texte, des images, des liens hypertexte et des boutons.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="4eb1e-110">Il prend en charge les modèles pour une personnalisation plus poussée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-110">It supports templates for further customization.</span></span> <span data-ttu-id="4eb1e-111">En quelques clics de souris, il est possible de créer un contrôle GridView dans lequel chaque ligne peut être sélectionnée à l’aide d’un bouton ou d’activer les fonctionnalités de modification ou de suppression.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="4eb1e-112">Malgré la multitude de fonctionnalités fournies, il y aura souvent des situations dans lesquelles des fonctionnalités supplémentaires non prises en charge devront être ajoutées.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="4eb1e-113">Dans ce didacticiel et les deux suivants, nous allons examiner comment améliorer la fonctionnalité de GridView s pour inclure des fonctionnalités supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="4eb1e-114">Ce didacticiel et l’élément suivant portent sur l’amélioration du processus de sélection de lignes.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="4eb1e-115">Comme examiné dans le [maître/détail à l’aide d’un GridView maître sélectionnable avec un DetailView détails](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), nous pouvons ajouter une CommandField au GridView qui comprend un bouton Sélectionner.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="4eb1e-116">Lorsque vous cliquez dessus, une publication est effectuée et la propriété GridView s `SelectedIndex` est mise à jour vers l’index de la ligne dont le bouton Sélectionner a été activé.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="4eb1e-117">Dans le didacticiel [maître/détail utilisant un GridView maître sélectionnable avec un didacticiel détails DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) , nous avons vu comment utiliser cette fonctionnalité pour afficher les détails de la ligne GridView sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="4eb1e-118">Si le bouton Sélectionner fonctionne dans de nombreuses situations, il peut ne pas fonctionner aussi bien pour d’autres.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="4eb1e-119">Au lieu d’utiliser un bouton, deux autres éléments de l’interface utilisateur sont généralement utilisés pour la sélection : la case d’option et la case à cocher.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="4eb1e-120">Nous pouvons augmenter le GridView afin qu’à la place d’un bouton Sélectionner, chaque ligne contienne une case d’option ou une case à cocher.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="4eb1e-121">Dans les scénarios où l’utilisateur ne peut sélectionner qu’un des enregistrements GridView, la case d’option peut être préférée sur le bouton Sélectionner.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="4eb1e-122">Dans les situations où l’utilisateur peut sélectionner plusieurs enregistrements, par exemple dans une application de messagerie Web, où un utilisateur peut vouloir sélectionner plusieurs messages pour supprimer la case à cocher propose des fonctionnalités qui ne sont pas disponibles à partir du bouton Sélectionner ou de la case d’option interfaces utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="4eb1e-123">Ce didacticiel explique comment ajouter une colonne de cases d’option au contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="4eb1e-124">Le didacticiel de procédure explore l’utilisation de cases à cocher.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="4eb1e-125">Étape 1 : création de l’amélioration des pages Web GridView</span><span class="sxs-lookup"><span data-stu-id="4eb1e-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="4eb1e-126">Avant de commencer à améliorer le contrôle GridView pour inclure une colonne de cases d’option, commencez par prendre un moment pour créer les pages ASP.NET dans notre projet de site Web dont nous aurons besoin pour ce didacticiel et les deux suivantes.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="4eb1e-127">Commencez par ajouter un nouveau dossier nommé `EnhancedGridView`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="4eb1e-128">Ajoutez ensuite les pages ASP.NET suivantes à ce dossier, en veillant à associer chaque page à la page maître `Site.master` :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`

![Ajouter les pages ASP.NET pour les didacticiels liés à SqlDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.gif)

<span data-ttu-id="4eb1e-130">**Figure 1**: ajouter les pages ASP.net pour les didacticiels liés à SqlDataSource</span><span class="sxs-lookup"><span data-stu-id="4eb1e-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>

<span data-ttu-id="4eb1e-131">Comme dans les autres dossiers, `Default.aspx` dans le dossier `EnhancedGridView` répertorie les didacticiels de la section.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="4eb1e-132">N’oubliez pas que le contrôle utilisateur `SectionLevelTutorialListing.ascx` fournit cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="4eb1e-133">Par conséquent, ajoutez ce contrôle utilisateur à `Default.aspx` en le faisant glisser de l’Explorateur de solutions sur la page s Mode Création.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="4eb1e-134">[![ajouter le contrôle utilisateur SectionLevelTutorialListing. ascx à default. aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span></span>

<span data-ttu-id="4eb1e-135">**Figure 2**: ajouter le contrôle utilisateur `SectionLevelTutorialListing.ascx` à `Default.aspx` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span></span>

<span data-ttu-id="4eb1e-136">Enfin, ajoutez ces quatre pages en tant qu’entrées au fichier `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="4eb1e-137">Plus précisément, ajoutez le balisage suivant après l’utilisation du contrôle SqlDataSource `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="4eb1e-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>

[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample1.xml)]

<span data-ttu-id="4eb1e-138">Après avoir mis à jour `Web.sitemap`, prenez un moment pour afficher le site Web des didacticiels via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="4eb1e-139">Le menu à gauche contient maintenant des éléments pour les didacticiels de modification, d’insertion et de suppression.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![Le plan de site comprend maintenant des entrées pour l’amélioration des didacticiels GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.gif)

<span data-ttu-id="4eb1e-141">**Figure 3**: le plan de site contient maintenant des entrées pour l’amélioration des didacticiels GridView</span><span class="sxs-lookup"><span data-stu-id="4eb1e-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>

## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="4eb1e-142">Étape 2 : affichage des fournisseurs dans un GridView</span><span class="sxs-lookup"><span data-stu-id="4eb1e-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="4eb1e-143">Pour ce didacticiel, vous allez créer un GridView qui répertorie les fournisseurs des États-Unis, chaque ligne GridView fournissant une case d’option.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="4eb1e-144">Après avoir sélectionné un fournisseur à l’aide de la case d’option, l’utilisateur peut afficher les produits du fournisseur en cliquant sur un bouton.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="4eb1e-145">Bien que cette tâche puisse paraître insignifiante, il y a un certain nombre de subtilités qui la rendent particulièrement difficile.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="4eb1e-146">Avant de nous plonger dans ces subtilités, commençons par obtenir un contrôle GridView énumérant les fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="4eb1e-147">Commencez par ouvrir la page `RadioButtonField.aspx` dans le dossier `EnhancedGridView` en faisant glisser un contrôle GridView de la boîte à outils vers le concepteur.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="4eb1e-148">Définissez le `ID` GridView s sur `Suppliers` et, à partir de sa balise active, choisissez de créer une nouvelle source de données.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="4eb1e-149">En particulier, créez un ObjectDataSource nommé `SuppliersDataSource` qui extrait ses données de l’objet `SuppliersBLL`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>

<span data-ttu-id="4eb1e-150">[![créer un ObjectDataSource nommé SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span></span>

<span data-ttu-id="4eb1e-151">**Figure 4**: créer un ObjectDataSource nommé `SuppliersDataSource` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span></span>

<span data-ttu-id="4eb1e-152">[![configurer ObjectDataSource pour utiliser la classe SuppliersBLL](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span></span>

<span data-ttu-id="4eb1e-153">**Figure 5**: configurer ObjectDataSource pour utiliser la classe `SuppliersBLL` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span></span>

<span data-ttu-id="4eb1e-154">Étant donné que nous voulons uniquement répertorier ces fournisseurs aux États-Unis, choisissez la méthode `GetSuppliersByCountry(country)` dans la liste déroulante de l’onglet sélectionner.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>

<span data-ttu-id="4eb1e-155">[![configurer ObjectDataSource pour utiliser la classe SuppliersBLL](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span></span>

<span data-ttu-id="4eb1e-156">**Figure 6**: configurer ObjectDataSource pour utiliser la classe `SuppliersBLL` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span></span>

<span data-ttu-id="4eb1e-157">Dans l’onglet mettre à jour, sélectionnez l’option (aucune), puis cliquez sur suivant.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-157">From the UPDATE tab, select the (None) option and click Next.</span></span>

<span data-ttu-id="4eb1e-158">[![configurer ObjectDataSource pour utiliser la classe SuppliersBLL](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span></span>

<span data-ttu-id="4eb1e-159">**Figure 7**: configurer ObjectDataSource pour utiliser la classe `SuppliersBLL` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span></span>

<span data-ttu-id="4eb1e-160">Étant donné que la méthode `GetSuppliersByCountry(country)` accepte un paramètre, l’Assistant Configuration de la source de données nous invite à entrer la source de ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="4eb1e-161">Pour spécifier une valeur codée en dur (USA, dans cet exemple), laissez la liste déroulante source de paramètres définie sur aucun et entrez la valeur par défaut dans la zone de texte.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="4eb1e-162">Cliquez sur Terminer pour terminer l'Assistant.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-162">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="4eb1e-163">[![utiliser les États-Unis comme valeur par défaut pour le paramètre Country](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span></span>

<span data-ttu-id="4eb1e-164">**Figure 8**: utiliser les États-Unis comme valeur par défaut pour le paramètre `country` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span></span>

<span data-ttu-id="4eb1e-165">Une fois l’exécution de l’Assistant terminée, le contrôle GridView inclura un BoundField pour chacun des champs de données du fournisseur.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="4eb1e-166">Supprimez tous les `CompanyName`, `City`et `Country` BoundFields, puis renommez la propriété `CompanyName` BoundFields `HeaderText` en Supplier.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="4eb1e-167">Après cela, la syntaxe déclarative GridView et ObjectDataSource doit ressembler à ce qui suit.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample2.aspx)]

<span data-ttu-id="4eb1e-168">Pour ce didacticiel, autorisez l’utilisateur à afficher les produits du fournisseur sélectionnés sur la même page que la liste des fournisseurs ou sur une autre page.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="4eb1e-169">Pour ce faire, ajoutez deux contrôles Web Button à la page.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="4eb1e-170">J’ai défini les `ID` de ces deux boutons pour `ListProducts` et `SendToProducts`, avec l’idée que lorsque l’utilisateur clique sur `ListProducts`, une publication (postback) se produira et que les produits du fournisseur sélectionnés seront répertoriés sur la même page, mais lorsque vous cliquerez sur `SendToProducts`, l’utilisateur sera affecté à une autre page qui répertorie les produits.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="4eb1e-171">La figure 9 illustre le `Suppliers` GridView et les deux contrôles Web Button lorsqu’ils sont affichés dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>

<span data-ttu-id="4eb1e-172">[![ces fournisseurs des États-Unis ont leurs informations de nom, de ville et de pays.](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span></span>

<span data-ttu-id="4eb1e-173">**Figure 9**: les informations relatives au nom, à la ville et au pays des fournisseurs des États-Unis sont indiquées ([cliquez ici pour afficher l’image en plein écran](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span></span>

## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="4eb1e-174">Étape 3 : ajout d’une colonne de cases d’option</span><span class="sxs-lookup"><span data-stu-id="4eb1e-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="4eb1e-175">À ce stade, le `Suppliers` GridView a trois BoundFields qui affichent le nom de la société, la ville et le pays de chaque fournisseur aux États-Unis.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="4eb1e-176">Toutefois, il n’y a pas encore de colonne de cases d’option.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="4eb1e-177">Malheureusement, le GridView n’inclut pas de RadioButtonField intégré. dans le cas contraire, nous pourrions simplement l’ajouter à la grille et le faire.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="4eb1e-178">Au lieu de cela, nous pouvons ajouter un TemplateField et configurer son `ItemTemplate` pour afficher une case d’option, entraînant une case d’option pour chaque ligne GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="4eb1e-179">Au départ, nous pourrions supposer que l’interface utilisateur souhaitée peut être implémentée en ajoutant un contrôle Web RadioButton au `ItemTemplate` d’un TemplateField.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="4eb1e-180">Bien que cette opération ajoute une seule case d’option à chaque ligne du GridView, les cases d’option ne peuvent pas être regroupées et ne sont donc pas mutuellement exclusives.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="4eb1e-181">Autrement dit, un utilisateur final peut sélectionner plusieurs cases d’option simultanément à partir du contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="4eb1e-182">Même si l’utilisation d’un TemplateField de contrôles Web RadioButton n’offre pas les fonctionnalités dont nous avons besoin, nous allons implémenter cette approche, car il est utile d’examiner la raison pour laquelle les cases d’option résultantes ne sont pas regroupées.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="4eb1e-183">Commencez par ajouter un TemplateField au GridView Suppliers, en le rendant le champ le plus à gauche.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="4eb1e-184">Ensuite, dans la balise active GridView s, cliquez sur le lien modifier les modèles, puis faites glisser un contrôle Web RadioButton de la boîte à outils vers le TemplateField s `ItemTemplate` (voir figure 10).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="4eb1e-185">Affectez à la propriété RadioButton s `ID` la valeur `RowSelector` et à la propriété `GroupName` la valeur `SuppliersGroup`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>

<span data-ttu-id="4eb1e-186">[![ajouter un contrôle Web RadioButton au ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span></span>

<span data-ttu-id="4eb1e-187">**Figure 10**: ajouter un contrôle Web RadioButton au `ItemTemplate` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span></span>

<span data-ttu-id="4eb1e-188">Après avoir effectué ces ajouts par le biais du concepteur, le balisage de GridView s doit ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample3.aspx)]

<span data-ttu-id="4eb1e-189">La propriété RadioButton s [`GroupName`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) est utilisée pour regrouper une série de cases d’option.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="4eb1e-190">Tous les contrôles RadioButton avec la même valeur `GroupName` sont considérés comme regroupés ; une seule case d’option peut être sélectionnée à la fois dans un groupe.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="4eb1e-191">La propriété `GroupName` spécifie la valeur de l’attribut rendu des cases d’option `name`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="4eb1e-192">Le navigateur examine les cases d’option `name` attributs pour déterminer les regroupements de cases d’option.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="4eb1e-193">Une fois le contrôle Web RadioButton ajouté au `ItemTemplate`, accédez à cette page via un navigateur et cliquez sur les cases d’option dans la grille s lignes.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="4eb1e-194">Notez que les cases d’option ne sont pas regroupées, ce qui permet de sélectionner toutes les lignes, comme le montre la figure 11.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>

<span data-ttu-id="4eb1e-195">[![les cases d’option GridView s ne sont pas regroupées](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span></span>

<span data-ttu-id="4eb1e-196">**Figure 11**: les cases d’option de GridView s ne sont pas regroupées ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span></span>

<span data-ttu-id="4eb1e-197">La raison pour laquelle les cases d’option ne sont pas regroupées est la raison pour laquelle les attributs de `name` restitués sont différents, malgré le même `GroupName` paramètre de propriété.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="4eb1e-198">Pour voir ces différences, effectuez une vue ou une source à partir du navigateur, puis examinez le balisage de la case d’option :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>

[!code-html[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample4.html)]

<span data-ttu-id="4eb1e-199">Notez que les attributs `name` et `id` ne sont pas les valeurs exactes spécifiées dans le Fenêtre Propriétés, mais sont précédées d’un certain nombre d’autres valeurs de `ID`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="4eb1e-200">Les valeurs de `ID` supplémentaires ajoutées à l’avant des attributs `id` et `name` rendus sont les `ID` s des cases d’option parent contrôlent les `GridViewRow` s `ID` s, les `ID`de GridView, les `ID`du contrôle de contenu et le formulaire Web s `ID`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="4eb1e-201">Ces `ID` s sont ajoutées afin que chaque contrôle Web rendu dans le GridView ait des valeurs de `id` et de `name` uniques.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="4eb1e-202">Chaque contrôle rendu a besoin d’un `name` différent et `id`, car c’est ainsi que le navigateur identifie de manière unique chaque contrôle côté client et comment il identifie le serveur Web en quoi l’action ou la modification s’est produite lors de la publication (postback).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="4eb1e-203">Par exemple, imaginons que nous voulions exécuter du code côté serveur chaque fois qu’un état de case à cocher RadioButton a été modifié.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="4eb1e-204">Pour ce faire, nous avons défini la propriété RadioButton s `AutoPostBack` sur `true` et à créer un gestionnaire d’événements pour l’événement `CheckChanged`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `true` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="4eb1e-205">Toutefois, si les valeurs `name` et `id` affichées pour toutes les cases d’option étaient identiques, lors de la publication (postback), nous n’avons pas pu déterminer le bouton RadioButton spécifique sur lequel l’utilisateur a cliqué.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="4eb1e-206">Le plus bref, c’est que nous ne pouvons pas créer une colonne de cases d’option dans un GridView à l’aide du contrôle Web RadioButton.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="4eb1e-207">Au lieu de cela, nous devons utiliser des techniques plutôt archaïques pour garantir que le balisage approprié est injecté dans chaque ligne GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="4eb1e-208">À l’instar du contrôle Web RadioButton, le contrôle HTML de case d’option, lorsqu’il est ajouté à un modèle, inclut l’attribut `name` unique, ce qui rend les cases d’option de la grille non groupées.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="4eb1e-209">Si vous n’êtes pas familiarisé avec les contrôles HTML, n’hésitez pas à ignorer cette remarque, car les contrôles HTML sont rarement utilisés, en particulier dans ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="4eb1e-210">Toutefois, si vous souhaitez en savoir plus, consultez la rubrique sur [les contrôles Web et les contrôles HTML de](http://www.odetocode.com/Articles/348.aspx) [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>

## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="4eb1e-211">Utilisation d’un contrôle Literal pour injecter le balisage de case d’option</span><span class="sxs-lookup"><span data-stu-id="4eb1e-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="4eb1e-212">Afin de regrouper correctement toutes les cases d’option dans le GridView, nous devons injecter manuellement le balisage des cases d’option dans le `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="4eb1e-213">Chaque case d’option doit avoir le même `name` attribut, mais doit avoir un attribut `id` unique (au cas où nous voulons accéder à une case d’option via un script côté client).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="4eb1e-214">Une fois qu’un utilisateur a sélectionné une case d’option et publié la page, le navigateur renvoie la valeur de l’attribut `value` cases d’option sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="4eb1e-215">Par conséquent, chaque case d’option doit avoir un attribut `value` unique.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="4eb1e-216">Enfin, lors de la publication (postback), nous devons veiller à ajouter l’attribut `checked` à la case d’option qui est sélectionnée. dans le cas contraire, une fois que l’utilisateur a effectué une sélection et publie, les cases d’option reviennent à leur état par défaut (toutes non sélectionnées).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="4eb1e-217">Il existe deux approches qui peuvent être prises afin d’injecter un balisage de bas niveau dans un modèle.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="4eb1e-218">L’une consiste à effectuer une combinaison de balises et d’appels aux méthodes de mise en forme définies dans la classe code-behind.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="4eb1e-219">Cette technique a été abordée dans le didacticiel [utilisation de TemplateFields dans le contrôle GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="4eb1e-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span> <span data-ttu-id="4eb1e-220">Dans notre cas, il peut ressembler à ceci :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-220">In our case it might look something like:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample5.aspx)]

<span data-ttu-id="4eb1e-221">Ici, `GetUniqueRadioButton` et `GetRadioButtonValue` seraient des méthodes définies dans la classe code-behind qui renvoyaient les valeurs d’attribut `id` et `value` appropriées pour chaque case d’option.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="4eb1e-222">Cette approche fonctionne bien pour l’affectation des attributs `id` et `value`, mais elle est très brève quand vous devez spécifier la valeur de l’attribut `checked`, car la syntaxe DataBinding n’est exécutée que lorsque les données sont liées pour la première fois au GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="4eb1e-223">Par conséquent, si l’état d’affichage de GridView est activé, les méthodes de mise en forme se déclenchent uniquement quand la page est chargée pour la première fois (ou lorsque le GridView est explicitement relié à la source de données). par conséquent, la fonction qui définit l’attribut `checked` n’est pas appelée lors de la publication (postback).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="4eb1e-224">Il s’agit d’un problème plutôt subtil et d’un peu au-delà de la portée de cet article, je vais donc le faire.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="4eb1e-225">En revanche, je vous encourage à essayer d’utiliser l’approche ci-dessus et à l’utiliser jusqu’au point où vous serez bloqué.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="4eb1e-226">Bien qu’un tel exercice ne vous permette pas de vous rapprocher d’une version de travail, il vous aidera à mieux comprendre le GridView et le cycle de vie des liaisons de liaison.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="4eb1e-227">L’autre approche pour injecter des balises personnalisées, de bas niveau dans un modèle et l’approche que nous allons utiliser pour ce didacticiel consiste à ajouter un [contrôle Literal](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) au modèle.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="4eb1e-228">Ensuite, dans le `RowCreated` GridView s ou `RowDataBound` gestionnaire d’événements, le contrôle Literal peut être accédé par programmation et sa propriété `Text` définie sur le balisage à émettre.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="4eb1e-229">Commencez par supprimer le RadioButton de l' `ItemTemplate`TemplateField s, en le remplaçant par un contrôle Literal.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="4eb1e-230">Définissez les `ID` du contrôle Literal sur `RadioButtonMarkup`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>

<span data-ttu-id="4eb1e-231">[![ajouter un contrôle Literal au ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span></span>

<span data-ttu-id="4eb1e-232">**Figure 12**: ajouter un contrôle Literal à la `ItemTemplate` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span></span>

<span data-ttu-id="4eb1e-233">Ensuite, créez un gestionnaire d’événements pour l’événement `RowCreated` GridView s.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="4eb1e-234">L’événement `RowCreated` se déclenche une fois pour chaque ligne ajoutée, que les données soient ou non reliées au GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="4eb1e-235">Cela signifie que même sur une publication (postback) lorsque les données sont rechargées à partir de l’état d’affichage, l’événement `RowCreated` se déclenche toujours et c’est la raison pour laquelle nous l’utilisons à la place de `RowDataBound` (qui se déclenche uniquement lorsque les données sont explicitement liées au contrôle Web de données).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="4eb1e-236">Dans ce gestionnaire d’événements, nous voulons uniquement procéder à la réutilisation d’une ligne de données.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="4eb1e-237">Pour chaque ligne de données, nous voulons référencer par programmation le contrôle `RadioButtonMarkup` Literal et définir sa propriété `Text` sur le balisage à émettre.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="4eb1e-238">Comme le montre le code suivant, la balise émise crée une case d’option dont l’attribut `name` a la valeur `SuppliersGroup`, dont l’attribut `id` a la valeur `RowSelectorX`, où *X* est l’index de la ligne GridView et dont l’attribut `value` a la valeur de l’index de la ligne GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample6.cs)]

<span data-ttu-id="4eb1e-239">Quand une ligne GridView est sélectionnée et qu’une publication (postback) se produit, nous sommes intéressés par le `SupplierID` du fournisseur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="4eb1e-240">Par conséquent, il est possible que la valeur de chaque case d’option soit le `SupplierID` réel (plutôt que l’index de la ligne GridView).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="4eb1e-241">Bien que cela puisse fonctionner dans certaines circonstances, il s’agit d’un risque pour la sécurité d’accepter et de traiter un `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="4eb1e-242">Par exemple, notre GridView affiche uniquement les fournisseurs des États-Unis.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="4eb1e-243">Toutefois, si le `SupplierID` est passé directement à partir de la case d’option, qu’est-ce qui empêche un utilisateur espiègle de manipuler la valeur `SupplierID` renvoyée lors de la publication ?</span><span class="sxs-lookup"><span data-stu-id="4eb1e-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="4eb1e-244">En utilisant l’index de ligne comme `value`, puis en obtenant le `SupplierID` à la publication (postback) à partir de la collection de `DataKeys`, nous pouvons garantir que l’utilisateur n’utilise qu’une des valeurs `SupplierID` associées à l’une des lignes de GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="4eb1e-245">Après avoir ajouté ce code de gestionnaire d’événements, prenez une minute pour tester la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="4eb1e-246">Tout d’abord, Notez qu’une seule case d’option dans la grille peut être sélectionnée à la fois.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="4eb1e-247">Toutefois, lorsque vous sélectionnez une case d’option et que vous cliquez sur l’un des boutons, une publication (postback) se produit et les cases d’option reviennent à leur état initial (c’est-à-dire lors de la publication (postback), la case d’option sélectionnée n’est plus sélectionnée).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="4eb1e-248">Pour résoudre ce problème, nous devons augmenter le `RowCreated` gestionnaire d’événements afin qu’il inspecte l’index de case d’option sélectionné envoyé à partir de la publication et ajoute l’attribut `checked="checked"` au balisage émis des correspondances d’index de ligne.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="4eb1e-249">Lorsqu’une publication (postback) se produit, le navigateur renvoie le `name` et `value` de la case d’option sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="4eb1e-250">La valeur peut être récupérée par programmation à l’aide de `Request.Form["name"]`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-250">The value can be programmatically retrieved using `Request.Form["name"]`.</span></span> <span data-ttu-id="4eb1e-251">La [propriété`Request.Form`](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) fournit un [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) qui représente les variables de formulaire.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="4eb1e-252">Les variables de formulaire sont les noms et les valeurs des champs de formulaire dans la page Web, et sont renvoyés par le navigateur Web chaque fois qu’une publication (postback) est effectuée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="4eb1e-253">Étant donné que l’attribut `name` rendu des cases d’option dans le GridView est `SuppliersGroup`, lorsque la page Web est publiée, le navigateur renvoie `SuppliersGroup=valueOfSelectedRadioButton` au serveur Web (avec les autres champs de formulaire).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="4eb1e-254">Vous pouvez ensuite accéder à ces informations à partir de la propriété `Request.Form` à l’aide de : `Request.Form["SuppliersGroup"]`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-254">This information can then be accessed from the `Request.Form` property using: `Request.Form["SuppliersGroup"]`.</span></span>

<span data-ttu-id="4eb1e-255">Étant donné que nous devrons déterminer l’index de la case d’option sélectionné non seulement dans le gestionnaire d’événements `RowCreated`, mais dans les gestionnaires d’événements `Click` pour les contrôles Web Button, ajoutez une propriété `SuppliersSelectedIndex` à la classe code-behind qui retourne `-1` si aucune case d’option n’a été sélectionnée et l’index sélectionné si l’une des cases d’option est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample7.cs)]

<span data-ttu-id="4eb1e-256">Une fois cette propriété ajoutée, nous savons ajouter le balisage `checked="checked"` dans le gestionnaire d’événements `RowCreated` lorsque `SuppliersSelectedIndex` est égal à `e.Row.RowIndex`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="4eb1e-257">Mettez à jour le gestionnaire d’événements pour inclure cette logique :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-257">Update the event handler to include this logic:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample8.cs)]

<span data-ttu-id="4eb1e-258">Avec cette modification, la case d’option sélectionnée reste sélectionnée après une publication (postback).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="4eb1e-259">Maintenant que nous avons la possibilité de spécifier la case d’option sélectionnée, nous pourrions modifier le comportement de manière à ce que, lors de la première visite de la page, la première case d’option de la ligne de GridView soit sélectionnée (au lieu de ne pas avoir de cases d’option sélectionnées par défaut, qui est la valeur actuelle comportement).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="4eb1e-260">Pour que la première case d’option soit sélectionnée par défaut, il vous suffit de remplacer l’instruction `if (SuppliersSelectedIndex == e.Row.RowIndex)` par la suivante : `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-260">To have the first radio button selected by default, simply change the `if (SuppliersSelectedIndex == e.Row.RowIndex)` statement to the following: `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span></span>

<span data-ttu-id="4eb1e-261">À ce stade, nous avons ajouté une colonne de cases d’option groupées au contrôle GridView qui permet la sélection et la mémorisation d’une seule ligne GridView sur les publications (postbacks).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="4eb1e-262">Les étapes suivantes permettent d’afficher les produits fournis par le fournisseur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="4eb1e-263">À l’étape 4, nous verrons comment rediriger l’utilisateur vers une autre page, en l’envoyant le long du `SupplierID`sélectionné.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="4eb1e-264">À l’étape 5, nous verrons comment afficher les produits du fournisseur sélectionnés dans un GridView sur la même page.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="4eb1e-265">Au lieu d’utiliser un TemplateField (l’objectif de cette longue étape 3), nous pourrions créer une classe de `DataControlField` personnalisée qui restitue l’interface utilisateur et les fonctionnalités appropriées.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="4eb1e-266">La [classe`DataControlField`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) est la classe de base à partir de laquelle les champs BoundField, CheckBoxField, TemplateField et d’autres champs GridView et DetailsView intégrés dérivent.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="4eb1e-267">La création d’une classe de `DataControlField` personnalisée signifie que la colonne de cases d’option peut être ajoutée simplement à l’aide de la syntaxe déclarative, et que la réplication de la fonctionnalité sur d’autres pages Web et d’autres applications Web est beaucoup plus facile.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>

<span data-ttu-id="4eb1e-268">Toutefois, si vous avez déjà créé des contrôles compilés personnalisés dans ASP.NET, vous savez que cela nécessite un peu problèmes et y fait un grand nombre de subtilités et de cas limites qui doivent être gérés avec soin.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="4eb1e-269">Par conséquent, nous renoncerons à implémenter une colonne de cases d’option comme classe de `DataControlField` personnalisée pour l’instant et à respecter l’option TemplateField.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="4eb1e-270">Nous aurons peut-être la possibilité d’explorer la création, l’utilisation et le déploiement des classes de `DataControlField` personnalisées dans un prochain didacticiel.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="4eb1e-271">Étape 4 : affichage des produits du fournisseur sélectionnés dans une page distincte</span><span class="sxs-lookup"><span data-stu-id="4eb1e-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="4eb1e-272">Une fois que l’utilisateur a sélectionné une ligne GridView, vous devez afficher les produits du fournisseur sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="4eb1e-273">Dans certains cas, nous pouvons souhaiter afficher ces produits dans une page distincte, dans d’autres, il peut être préférable de le faire dans la même page.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="4eb1e-274">Voyons d’abord comment afficher les produits dans une page distincte. à l’étape 5, nous allons examiner comment ajouter un GridView à `RadioButtonField.aspx` pour afficher les produits du fournisseur sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="4eb1e-275">Il existe actuellement deux contrôles Web Button sur la page `ListProducts` et `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="4eb1e-276">Lorsque vous cliquez sur le bouton `SendToProducts`, nous voulons envoyer l’utilisateur à `~/Filtering/ProductsForSupplierDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="4eb1e-277">Cette page a été créée dans le didacticiel de [filtrage maître/détail sur deux pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) et affiche les produits pour le fournisseur dont le `SupplierID` est transmis via le champ querystring nommé `SupplierID`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="4eb1e-278">Pour fournir cette fonctionnalité, créez un gestionnaire d’événements pour l’événement `SendToProducts` Button s `Click`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="4eb1e-279">À l’étape 3, nous avons ajouté la propriété `SuppliersSelectedIndex`, qui retourne l’index de la ligne dont la case d’option est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="4eb1e-280">Les `SupplierID` correspondants peuvent être récupérés à partir de la collection de `DataKeys` GridView s et l’utilisateur peut ensuite être envoyé à `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` à l’aide de `Response.Redirect("url")`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample9.cs)]

<span data-ttu-id="4eb1e-281">Ce code fonctionne très bien tant que l’une des cases d’option est sélectionnée dans le contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="4eb1e-282">Si, initialement, le contrôle GridView n’a pas de cases d’option sélectionnées, et que l’utilisateur clique sur le bouton `SendToProducts`, `SuppliersSelectedIndex` est `-1`, ce qui entraîne la levée d’une exception dans la mesure où `-1` est hors de la plage d’index de la collection `DataKeys`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="4eb1e-283">Toutefois, ce n’est pas un problème si vous avez décidé de mettre à jour le gestionnaire d’événements `RowCreated` comme indiqué à l’étape 3 pour que la première case d’option du GridView soit initialement sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="4eb1e-284">Pour prendre en charge une valeur `SuppliersSelectedIndex` de `-1`, ajoutez un contrôle Web Label à la page au-dessus de GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="4eb1e-285">Définissez sa propriété `ID` sur `ChooseSupplierMsg`, sa propriété `CssClass` sur `Warning`, ses propriétés `EnableViewState` et `Visible` sur `false`, et sa propriété `Text` pour choisir un fournisseur dans la grille.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `false`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="4eb1e-286">La classe CSS `Warning` affiche le texte dans une police rouge, italique, en gras, de grande taille et est définie dans `Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="4eb1e-287">En définissant les propriétés `EnableViewState` et `Visible` sur `false`, l’étiquette n’est pas restituée, à l’exception uniquement des publications dans lesquelles la propriété Control s `Visible` est définie par programmation sur `true`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-287">By setting the `EnableViewState` and `Visible` properties to `false`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `true`.</span></span>

<span data-ttu-id="4eb1e-288">[![ajouter un contrôle Web étiquette au-dessus du contrôle GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span></span>

<span data-ttu-id="4eb1e-289">**Figure 13**: ajouter un contrôle Web étiquette au-dessus du contrôle GridView ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span></span>

<span data-ttu-id="4eb1e-290">Ensuite, augmentez le gestionnaire d’événements `Click` pour afficher l’étiquette `ChooseSupplierMsg` si `SuppliersSelectedIndex` est inférieur à zéro, et redirigez l’utilisateur vers `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample10.cs)]

<span data-ttu-id="4eb1e-291">Accédez à la page dans un navigateur, puis cliquez sur le bouton `SendToProducts` avant de sélectionner un fournisseur à partir du contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="4eb1e-292">Comme illustré dans la figure 14, le `ChooseSupplierMsg` étiquette s’affiche.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="4eb1e-293">Sélectionnez ensuite un fournisseur, puis cliquez sur le bouton `SendToProducts`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="4eb1e-294">Vous obtiendrez ainsi une page qui répertorie les produits fournis par le fournisseur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="4eb1e-295">La figure 15 illustre la page de `ProductsForSupplierDetails.aspx` lorsque le fournisseur de Breweries Bigfoot a été sélectionné.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>

<span data-ttu-id="4eb1e-296">[![l’étiquette ChooseSupplierMsg est affichée si aucun fournisseur n’est sélectionné](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span></span>

<span data-ttu-id="4eb1e-297">**Figure 14**: l’étiquette `ChooseSupplierMsg` s’affiche si aucun fournisseur n’est sélectionné ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span></span>

<span data-ttu-id="4eb1e-298">[![les produits des fournisseurs sélectionnés s’affichent dans ProductsForSupplierDetails. aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span></span>

<span data-ttu-id="4eb1e-299">**Figure 15**: les produits du fournisseur sélectionnés s’affichent dans `ProductsForSupplierDetails.aspx` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span></span>

## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="4eb1e-300">Étape 5 : affichage des produits du fournisseur sélectionnés sur la même page</span><span class="sxs-lookup"><span data-stu-id="4eb1e-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="4eb1e-301">À l’étape 4, nous avons vu comment envoyer à une autre page Web l’utilisateur pour afficher les produits du fournisseur sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="4eb1e-302">Vous pouvez également afficher les produits du fournisseur sélectionnés sur la même page.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="4eb1e-303">Pour illustrer cela, nous allons ajouter un autre GridView à `RadioButtonField.aspx` pour afficher les produits du fournisseur sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="4eb1e-304">Étant donné que nous souhaitons que ce contrôle GridView des produits s’affiche une fois qu’un fournisseur a été sélectionné, ajoutez un contrôle Web Panel sous le `Suppliers` GridView, en affectant à son `ID` la valeur `ProductsBySupplierPanel` et à sa propriété `Visible` la valeur `false`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `false`.</span></span> <span data-ttu-id="4eb1e-305">Dans le volet, ajoutez les produits texte pour le fournisseur sélectionné, suivis d’un GridView nommé `ProductsBySupplier`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="4eb1e-306">À partir de la balise active GridView s, choisissez de le lier à un nouvel ObjectDataSource nommé `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>

<span data-ttu-id="4eb1e-307">[![lier le contrôle GridView ProductsBySupplier à un nouvel ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span></span>

<span data-ttu-id="4eb1e-308">**Figure 16**: lier le `ProductsBySupplier` GridView à un nouvel ObjectDataSource ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span></span>

<span data-ttu-id="4eb1e-309">Ensuite, configurez ObjectDataSource pour utiliser la classe `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="4eb1e-310">Étant donné que nous souhaitons uniquement récupérer les produits fournis par le fournisseur sélectionné, spécifiez que l’ObjectDataSource doit appeler la méthode `GetProductsBySupplierID(supplierID)` pour récupérer ses données.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="4eb1e-311">Sélectionnez (aucun) dans les listes déroulantes des onglets mettre à jour, insérer et supprimer.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="4eb1e-312">[![configurer ObjectDataSource pour utiliser la méthode GetProductsBySupplierID (RéfFournisseur)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span></span>

<span data-ttu-id="4eb1e-313">**Figure 17**: configurer ObjectDataSource pour utiliser la méthode `GetProductsBySupplierID(supplierID)` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span></span>

<span data-ttu-id="4eb1e-314">[![définir les listes déroulantes sur (aucune) dans les onglets mettre à jour, insérer et supprimer](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span></span>

<span data-ttu-id="4eb1e-315">**Figure 18**: définir les listes déroulantes sur (aucune) dans les onglets mettre à jour, insérer et supprimer ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span></span>

<span data-ttu-id="4eb1e-316">Après avoir configuré les onglets Sélectionner, mettre à jour, insérer et supprimer, cliquez sur suivant.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="4eb1e-317">Étant donné que la méthode `GetProductsBySupplierID(supplierID)` attend un paramètre d’entrée, l’Assistant Création d’une source de données vous invite à spécifier la source pour la valeur du paramètre s.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="4eb1e-318">Nous disposons de deux options pour spécifier la source de la valeur du paramètre s.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="4eb1e-319">Nous pourrions utiliser l’objet de paramètre par défaut et affecter par programmation la valeur de la propriété `SuppliersSelectedIndex` à la propriété Parameter s `DefaultValue` dans le gestionnaire d’événements ObjectDataSource s `Selecting`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="4eb1e-320">Reportez-vous au didacticiel [définition par programmation des valeurs de paramètre de ObjectDataSource](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) pour obtenir un actualisateur sur l’assignation par programmation des valeurs aux paramètres de l’ObjectDataSource s.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="4eb1e-321">Vous pouvez également utiliser un ControlParameter et faire référence à la propriété `Suppliers` GridView s [`SelectedValue`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (voir figure 19).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="4eb1e-322">La propriété GridView s `SelectedValue` retourne la valeur `DataKey` correspondant à la [propriété`SelectedIndex`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="4eb1e-323">Pour que cette option fonctionne, vous devez définir par programmation la propriété GridView s `SelectedIndex` sur la ligne sélectionnée lorsque l’utilisateur clique sur le bouton `ListProducts`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="4eb1e-324">À titre d’avantage supplémentaire, en définissant la `SelectedIndex`, l’enregistrement sélectionné prend la `SelectedRowStyle` définie dans le thème `DataWebControls` (arrière-plan jaune).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>

<span data-ttu-id="4eb1e-325">[![utiliser un ControlParameter pour spécifier le paramètre de définition de la source comme source du paramètre](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span></span>

<span data-ttu-id="4eb1e-326">**Figure 19**: utiliser un ControlParameter pour spécifier la valeur SelectedValue de GridView comme source de paramètre ([Cliquer pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span></span>

<span data-ttu-id="4eb1e-327">À la fin de l’Assistant, Visual Studio ajoute automatiquement des champs pour les champs de données du produit.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="4eb1e-328">Supprimez tout sauf les `ProductName`, `CategoryName`et `UnitPrice` BoundFields, puis modifiez les propriétés de `HeaderText` en produit, catégorie et prix.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="4eb1e-329">Configurez le `UnitPrice` BoundField afin que sa valeur soit mise en forme en tant que devise.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="4eb1e-330">Une fois ces modifications effectuées, les balises déclaratives Panel, GridView et ObjectDataSource doivent ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample11.aspx)]

<span data-ttu-id="4eb1e-331">Pour effectuer cet exercice, nous devons affecter à la propriété GridView s `SelectedIndex` la valeur `SelectedSuppliersIndex` et à la propriété `Visible` du panneau `ProductsBySupplierPanel` la valeur `true` lorsque l’utilisateur clique sur le bouton `ListProducts`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `true` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="4eb1e-332">Pour ce faire, créez un gestionnaire d’événements pour l’événement `ListProducts` Button Web Control s `Click` et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="4eb1e-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample12.cs)]

<span data-ttu-id="4eb1e-333">Si un fournisseur n’a pas été sélectionné dans le contrôle GridView, le `ChooseSupplierMsg` étiquette est affiché et le panneau `ProductsBySupplierPanel` masqué.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="4eb1e-334">Dans le cas contraire, si un fournisseur a été sélectionné, le `ProductsBySupplierPanel` s’affiche et la propriété GridView s `SelectedIndex` est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="4eb1e-335">La figure 20 montre les résultats une fois que le fournisseur Bigfoot Breweries a été sélectionné et que l’utilisateur a cliqué sur le bouton afficher les produits en page.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>

<span data-ttu-id="4eb1e-336">[![les produits fournis par Bigfoot Breweries sont répertoriés sur la même page](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span></span>

<span data-ttu-id="4eb1e-337">**Figure 20**: les produits fournis par Bigfoot Breweries sont répertoriés sur la même page ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="4eb1e-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="4eb1e-338">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="4eb1e-338">Summary</span></span>

<span data-ttu-id="4eb1e-339">Comme indiqué dans le didacticiel [maître/détail utilisant un GridView maître sélectionnable avec un DetailView détails](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) , les enregistrements peuvent être sélectionnés à partir d’un GridView à l’aide d’un CommandField dont la propriété `ShowSelectButton` est définie sur `true`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `true`.</span></span> <span data-ttu-id="4eb1e-340">Mais le CommandField affiche ses boutons comme des boutons de commande, des liens ou des images standard.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="4eb1e-341">Une autre interface utilisateur de sélection de lignes consiste à fournir une case d’option ou une case à cocher dans chaque ligne GridView.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="4eb1e-342">Dans ce didacticiel, nous avons examiné comment ajouter une colonne de cases d’option.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="4eb1e-343">Malheureusement, l’ajout d’une colonne de cases d’option n’est pas aussi simple que possible.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="4eb1e-344">Il n’existe aucun RadioButtonField intégré qui peut être ajouté en cliquant sur un bouton, et l’utilisation du contrôle Web RadioButton dans un TemplateField introduit son propre ensemble de problèmes.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="4eb1e-345">À la fin, pour fournir une telle interface, nous devons soit créer une classe de `DataControlField` personnalisée, soit recourir à l’injection du code HTML approprié dans un TemplateField pendant l’événement `RowCreated`.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="4eb1e-346">Après avoir exploré l’ajout d’une colonne de cases d’option, nous allons attirer l’attention sur l’ajout d’une colonne de cases à cocher.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="4eb1e-347">Avec une colonne de cases à cocher, un utilisateur peut sélectionner une ou plusieurs lignes GridView, puis effectuer une opération sur toutes les lignes sélectionnées (par exemple, en sélectionnant un ensemble d’e-mails à partir d’un client de messagerie Web, puis en choisissant de supprimer tous les e-mails sélectionnés).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="4eb1e-348">Dans le didacticiel suivant, nous verrons comment ajouter une telle colonne.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="4eb1e-349">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="4eb1e-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="4eb1e-350">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="4eb1e-350">About the Author</span></span>

<span data-ttu-id="4eb1e-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept livres ASP/ASP. net et fondateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec des technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="4eb1e-352">Scott travaille en tant que consultant, formateur et auteur indépendant.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="4eb1e-353">Son dernier livre est [*Sams vous apprend vous-même ASP.NET 2,0 en 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="4eb1e-354">Il peut être contacté à [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="4eb1e-355">ou via son blog, qui se trouve sur [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="4eb1e-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="4eb1e-356">Remerciements à</span><span class="sxs-lookup"><span data-stu-id="4eb1e-356">Special Thanks To</span></span>

<span data-ttu-id="4eb1e-357">Cette série de didacticiels a été examinée par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="4eb1e-358">Le réviseur de leads pour ce didacticiel était David SURU.</span><span class="sxs-lookup"><span data-stu-id="4eb1e-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="4eb1e-359">Vous souhaitez revoir mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="4eb1e-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="4eb1e-360">Si c’est le cas, insérez une ligne sur [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="4eb1e-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="4eb1e-361">Suivant</span><span class="sxs-lookup"><span data-stu-id="4eb1e-361">Next</span></span>](adding-a-gridview-column-of-checkboxes-cs.md)
