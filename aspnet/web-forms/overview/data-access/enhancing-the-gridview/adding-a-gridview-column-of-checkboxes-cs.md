---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Ajout d’une colonne GridView de cases à cocher (c#) | Microsoft Docs
author: rick-anderson
description: Ce didacticiel explique comment ajouter une colonne de cases à cocher à un contrôle GridView à permettre aux utilisateurs de manière intuitive de la sélection de plusieurs lignes de G....
ms.author: riande
ms.date: 03/06/2007
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: 1921ceeb33197299f3cedb0eef082af0fd8fa960
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57063686"
---
<a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="31b88-103">Ajout d’une colonne GridView de cases à cocher (C#)</span><span class="sxs-lookup"><span data-stu-id="31b88-103">Adding a GridView Column of Checkboxes (C#)</span></span>
====================
<span data-ttu-id="31b88-104">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="31b88-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="31b88-105">[Télécharger l’exemple d’application](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) ou [télécharger le PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="31b88-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="31b88-106">Ce didacticiel explique comment ajouter une colonne de cases à cocher à un contrôle GridView à permettre aux utilisateurs de manière intuitive de la sélection de plusieurs lignes du contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="31b88-107">Introduction</span><span class="sxs-lookup"><span data-stu-id="31b88-107">Introduction</span></span>

<span data-ttu-id="31b88-108">Dans le didacticiel précédent, nous avons examiné comment ajouter une colonne de cases d’option dans le contrôle GridView à des fins de sélection d’un enregistrement particulier.</span><span class="sxs-lookup"><span data-stu-id="31b88-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="31b88-109">Une colonne de cases d’option est une interface utilisateur appropriée lorsque l’utilisateur est limité à la sélection d’au maximum un élément à partir de la grille.</span><span class="sxs-lookup"><span data-stu-id="31b88-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="31b88-110">Dans certains cas, toutefois, nous souhaiterons autoriser l’utilisateur de choisir un nombre arbitraire d’éléments à partir de la grille.</span><span class="sxs-lookup"><span data-stu-id="31b88-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="31b88-111">Clients de messagerie basée sur le Web, par exemple, en général, affichent la liste des messages avec une colonne de cases à cocher.</span><span class="sxs-lookup"><span data-stu-id="31b88-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="31b88-112">L’utilisateur peut sélectionner un nombre arbitraire de messages, puis effectuez une action, telles que le déplacement des e-mails vers un autre dossier ou la suppression.</span><span class="sxs-lookup"><span data-stu-id="31b88-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="31b88-113">Dans ce didacticiel, nous verrons comment ajouter une colonne de cases à cocher et déterminer quelles cases à cocher ont été vérifiées lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="31b88-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="31b88-114">En particulier, nous allons créer un exemple qui reproduit fidèlement l’interface utilisateur du client sur le web.</span><span class="sxs-lookup"><span data-stu-id="31b88-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="31b88-115">Notre exemple inclut un GridView paginé répertoriant les produits dans le `Products` table de base de données avec une case à cocher de chaque ligne (voir Figure 1).</span><span class="sxs-lookup"><span data-stu-id="31b88-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="31b88-116">Un bouton Supprimer des produits sélectionnés, cette option supprime ces produits sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="31b88-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>


<span data-ttu-id="31b88-117">[![Chaque ligne de produit inclut une case à cocher](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-117">[![Each Product Row Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)</span></span>

<span data-ttu-id="31b88-118">**Figure 1**: Chaque ligne de produit inclut une case à cocher ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>


## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="31b88-119">Étape 1 : Ajout d’un GridView paginé qui répertorie les informations de produit</span><span class="sxs-lookup"><span data-stu-id="31b88-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="31b88-120">Avant de nous soucier d’ajout d’une colonne de cases à cocher, permettent de concentrer tout d’abord de s sur la liste des produits dans un GridView qui prend en charge la pagination.</span><span class="sxs-lookup"><span data-stu-id="31b88-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="31b88-121">Commencez par ouvrir le `CheckBoxField.aspx` page dans le `EnhancedGridView` dossier et faites glisser un GridView à partir de la boîte à outils vers le concepteur, en définissant son `ID` à `Products`.</span><span class="sxs-lookup"><span data-stu-id="31b88-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="31b88-122">Ensuite, choisissez lier le contrôle GridView à une nouvelle ObjectDataSource nommé `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="31b88-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="31b88-123">Configurer l’ObjectDataSource à utiliser le `ProductsBLL` classe, appelant le `GetProducts()` méthode pour retourner les données.</span><span class="sxs-lookup"><span data-stu-id="31b88-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="31b88-124">Dans la mesure où ce GridView sera en lecture seule, définir les listes déroulantes dans la mise à jour, insertion et supprimer des onglets à (None).</span><span class="sxs-lookup"><span data-stu-id="31b88-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


<span data-ttu-id="31b88-125">[![Créer un nouveau ObjectDataSource nommé ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-125">[![Create a New ObjectDataSource Named ProductsDataSource](adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)</span></span>

<span data-ttu-id="31b88-126">**Figure 2**: Créer une nouvelle nommée de ObjectDataSource `ProductsDataSource` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>


<span data-ttu-id="31b88-127">[![Configurer l’ObjectDataSource pour récupérer des données à l’aide de la méthode GetProducts()](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-127">[![Configure the ObjectDataSource to Retrieve Data Using the GetProducts() Method](adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)</span></span>

<span data-ttu-id="31b88-128">**Figure 3**: Configurer l’ObjectDataSource pour récupérer des données à l’aide du `GetProducts()` (méthode) ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>


<span data-ttu-id="31b88-129">[![Définir les listes déroulantes dans la mise à jour, insertion et supprimer des onglets à (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-129">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)](adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)</span></span>

<span data-ttu-id="31b88-130">**Figure 4**: La valeur est la liste déroulante répertorie dans la mise à jour, insertion et supprimer des onglets (aucun) ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>


<span data-ttu-id="31b88-131">À l’issue de l’Assistant Configurer la Source de données, Visual Studio crée automatiquement BoundColumns et un CheckBoxColumn pour les champs de données relatives au produit.</span><span class="sxs-lookup"><span data-stu-id="31b88-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="31b88-132">Comme nous l’avons fait dans le didacticiel précédent, supprimez tout sauf la `ProductName`, `CategoryName`, et `UnitPrice` BoundFields et modifier le `HeaderText` propriétés à catégorie, les produits et les prix.</span><span class="sxs-lookup"><span data-stu-id="31b88-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="31b88-133">Configurer le `UnitPrice` BoundField afin que sa valeur est mise en forme comme une devise.</span><span class="sxs-lookup"><span data-stu-id="31b88-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="31b88-134">Configurez également le contrôle GridView pour prendre en charge la pagination en cochant la case Activer la pagination de la balise active.</span><span class="sxs-lookup"><span data-stu-id="31b88-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="31b88-135">Permettent de s également ajouter l’interface utilisateur pour la suppression des produits sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="31b88-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="31b88-136">Ajouter un contrôle bouton sous le contrôle GridView, en définissant son `ID` à `DeleteSelectedProducts` et son `Text` propriété à supprimer les produits sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="31b88-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="31b88-137">Au lieu de supprimer réellement les produits à partir de la base de données, pour cet exemple nous allons simplement afficher un message indiquant que les produits qui aurait été supprimés.</span><span class="sxs-lookup"><span data-stu-id="31b88-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="31b88-138">Pour ce faire, ajoutez un contrôle Web Label sous le bouton.</span><span class="sxs-lookup"><span data-stu-id="31b88-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="31b88-139">Affectez à son ID `DeleteResults`, désactivez out son `Text` propriété et définissez son `Visible` et `EnableViewState` propriétés à `false`.</span><span class="sxs-lookup"><span data-stu-id="31b88-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="31b88-140">Après avoir apporté ces modifications, le balisage déclaratif s GridView, ObjectDataSource, bouton et une étiquette doit similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="31b88-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="31b88-141">Prenez un moment pour afficher la page dans un navigateur (voir Figure 5).</span><span class="sxs-lookup"><span data-stu-id="31b88-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="31b88-142">À ce stade, vous devez voir le nom, la catégorie et le prix des dix premiers produits.</span><span class="sxs-lookup"><span data-stu-id="31b88-142">At this point you should see the name, category, and price of the first ten products.</span></span>


<span data-ttu-id="31b88-143">[![Le nom, la catégorie et le prix des dix premiers produits sont répertoriés.](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-143">[![The Name, Category, and Price of the First Ten Products are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)</span></span>

<span data-ttu-id="31b88-144">**Figure 5**: Le nom, la catégorie et le prix des dix premiers produits sont répertoriés ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>


## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="31b88-145">Étape 2 : Ajout d’une colonne de cases à cocher</span><span class="sxs-lookup"><span data-stu-id="31b88-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="31b88-146">Dans la mesure où ASP.NET 2.0 inclut une CheckBoxField, on pourrait penser qu’il peut servir à ajouter une colonne de cases à cocher à un GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="31b88-147">Malheureusement, qui n’est pas le cas, comme le CheckBoxField est conçu pour fonctionner avec un champ de données booléen.</span><span class="sxs-lookup"><span data-stu-id="31b88-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="31b88-148">Autrement dit, pour pouvoir utiliser le CheckBoxField, nous devons spécifier le champ de données sous-jacente dont la valeur est consultée pour déterminer si le rendu de la case à cocher est activée.</span><span class="sxs-lookup"><span data-stu-id="31b88-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="31b88-149">Nous ne pouvons pas utiliser le CheckBoxField à simplement inclure une colonne de cases à cocher désactivée.</span><span class="sxs-lookup"><span data-stu-id="31b88-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="31b88-150">Au lieu de cela, nous devons ajouter un TemplateField et ajouter un contrôle de case à cocher Web à ses `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="31b88-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="31b88-151">Lancez-vous et ajoutez un TemplateField pour le `Products` GridView et définissez-la comme le premier champ (extrême gauche).</span><span class="sxs-lookup"><span data-stu-id="31b88-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="31b88-152">À partir de la balise active de s GridView, cliquez sur le lien Modifier les modèles et puis faites glisser un contrôle de case à cocher Web à partir de la boîte à outils dans le `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="31b88-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="31b88-153">Définissez cette case à cocher s `ID` propriété `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="31b88-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>


<span data-ttu-id="31b88-154">[![Ajoutez un contrôle de case à cocher Web nommé ProductSelector à ItemTemplate s TemplateField](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-154">[![Add a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate](adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)</span></span>

<span data-ttu-id="31b88-155">**Figure 6**: Ajouter un contrôle de case à cocher Web nommé `ProductSelector` au s TemplateField `ItemTemplate` ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>


<span data-ttu-id="31b88-156">Avec le contrôle TemplateField et la case à cocher Web ajouté, chaque ligne inclut désormais une case à cocher.</span><span class="sxs-lookup"><span data-stu-id="31b88-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="31b88-157">Figure 7 illustre cette page, lorsqu’ils sont affichés via un navigateur, une fois le TemplateField et la case à cocher ont été ajoutés.</span><span class="sxs-lookup"><span data-stu-id="31b88-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>


<span data-ttu-id="31b88-158">[![Chaque ligne de produit inclut désormais une case à cocher](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-158">[![Each Product Row Now Includes a Checkbox](adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)</span></span>

<span data-ttu-id="31b88-159">**Figure 7**: Chaque ligne de produit inclut désormais une case à cocher ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>


## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="31b88-160">Étape 3 : Déterminer quelles cases à cocher ont été vérifiées lors de la publication</span><span class="sxs-lookup"><span data-stu-id="31b88-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="31b88-161">À ce stade, nous avons une colonne de cases à cocher, mais aucun moyen de déterminer quelles cases à cocher ont été vérifiées lors de la publication.</span><span class="sxs-lookup"><span data-stu-id="31b88-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="31b88-162">Lorsque l’utilisateur clique sur le bouton Supprimer les produits sélectionnés, cependant, nous avons besoin de savoir quelles cases à cocher afin de supprimer ces produits ont été extraits.</span><span class="sxs-lookup"><span data-stu-id="31b88-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="31b88-163">Les opérations de mappage GridView [ `Rows` propriété](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) fournit l’accès aux lignes de données dans le contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="31b88-164">Nous pouvons parcourir ces lignes, accéder par programmation le contrôle de case à cocher et recherchez son `Checked` propriété afin de déterminer si la case à cocher a été sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="31b88-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="31b88-165">Créer un gestionnaire d’événements pour le `DeleteSelectedProducts` contrôle Web Button s `Click` événement et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="31b88-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="31b88-166">Le `Rows` propriété retourne une collection de `GridViewRow` instances cette composition les lignes de données de GridView s.</span><span class="sxs-lookup"><span data-stu-id="31b88-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="31b88-167">Le `foreach` boucle ici énumère cette collection.</span><span class="sxs-lookup"><span data-stu-id="31b88-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="31b88-168">Pour chaque `GridViewRow` de l’objet, la ligne s case à cocher est accessible par programmation à l’aide de `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="31b88-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="31b88-169">Si la case à cocher est activée, la ligne s correspondant `ProductID` valeur est extraite de la `DataKeys` collection.</span><span class="sxs-lookup"><span data-stu-id="31b88-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="31b88-170">Dans cet exercice, nous avons simplement afficher un message d’information dans le `DeleteResults` étiqueter, bien que dans une application opérationnelle nous d à la place un appel à la `ProductsBLL` classe s `DeleteProduct(productID)` (méthode).</span><span class="sxs-lookup"><span data-stu-id="31b88-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="31b88-171">Avec l’ajout de ce gestionnaire d’événements, cliquez sur le bouton Supprimer des produits sélectionnés maintenant pour afficher le `ProductID` s des produits sélectionnés.</span><span class="sxs-lookup"><span data-stu-id="31b88-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>


<span data-ttu-id="31b88-172">[![Un clic sur le bouton Supprimer de produits sélectionnée est la ProductIDs de produits sélectionnée sont répertoriées](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-172">[![When the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed](adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)</span></span>

<span data-ttu-id="31b88-173">**Figure 8**: Lorsque le bouton Supprimer de produits sélectionné un clic sur les produits sélectionnés `ProductID` s sont répertoriés ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>


## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="31b88-174">Étape 4 : Ajout de vérifie toutes les et décochez tous les boutons</span><span class="sxs-lookup"><span data-stu-id="31b88-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="31b88-175">Si un utilisateur souhaite supprimer tous les produits sur la page actuelle, ils doivent vérifier chacune des cases à dix cocher.</span><span class="sxs-lookup"><span data-stu-id="31b88-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="31b88-176">Nous pouvons vous aider à accélérer ce processus en ajoutant un vérifier tous les bouton qui, lorsque vous cliquez dessus, sélectionne toutes les cases à cocher dans la grille.</span><span class="sxs-lookup"><span data-stu-id="31b88-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="31b88-177">Un bouton désélectionner tout serait tout aussi utile.</span><span class="sxs-lookup"><span data-stu-id="31b88-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="31b88-178">Ajoutez deux contrôles bouton à la page, en les plaçant au-dessus de la GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="31b88-179">Définir le premier s `ID` à `CheckAll` et son `Text` propriété à vérifier tout ; ensemble le second s `ID` à `UncheckAll` et son `Text` propriété décochez tous les.</span><span class="sxs-lookup"><span data-stu-id="31b88-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="31b88-180">Ensuite, créez une méthode dans la classe code-behind nommée `ToggleCheckState(checkState)` qui, lorsqu’elle est appelée, énumère les `Products` GridView s `Rows` collection et définit chaque case à cocher s `Checked` valeur à la propriété des éléments transmis dans *checkState*  paramètre.</span><span class="sxs-lookup"><span data-stu-id="31b88-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="31b88-181">Ensuite, créez `Click` gestionnaires d’événements pour le `CheckAll` et `UncheckAll` boutons.</span><span class="sxs-lookup"><span data-stu-id="31b88-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="31b88-182">Dans `CheckAll` Gestionnaire d’événements s, il vous suffit d’appel `ToggleCheckState(true)`; dans `UncheckAll`, appelez `ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="31b88-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="31b88-183">Ce code, en cliquant sur le bouton Vérifier tout entraîne une publication et vérifie toutes les cases à cocher dans le contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="31b88-184">De même, en cliquant sur Désélectionner tout Désélectionne toutes les cases à cocher.</span><span class="sxs-lookup"><span data-stu-id="31b88-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="31b88-185">La figure 9 illustre l’écran une fois que le bouton Vérifier tout a été vérifié.</span><span class="sxs-lookup"><span data-stu-id="31b88-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>


<span data-ttu-id="31b88-186">[![En cliquant sur le contrôle que bouton tous sélectionne toutes les cases à cocher](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="31b88-186">[![Clicking the Check All Button Selects All Checkboxes](adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)</span></span>

<span data-ttu-id="31b88-187">**Figure 9**: En cliquant sur les vérifier tous les bouton sélectionne toutes les cases à cocher ([cliquez pour afficher l’image en taille réelle](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="31b88-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>


> [!NOTE]
> <span data-ttu-id="31b88-188">Affichage d’une colonne de cases à cocher, une approche pour sélectionner ou désélectionner toutes les cases à cocher lorsque est via une case à cocher dans la ligne d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="31b88-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="31b88-189">En outre, en cours vérifie toutes les / décochez toute implémentation nécessite une publication (postback).</span><span class="sxs-lookup"><span data-stu-id="31b88-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="31b88-190">Les cases à cocher possible checked ou unchecked, toutefois, entièrement par le biais d’un script côté client, offrant ainsi une expérience utilisateur plus active.</span><span class="sxs-lookup"><span data-stu-id="31b88-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="31b88-191">Pour savoir comment utiliser une case à cocher de la ligne en-tête pour tout et décochez tout en détail, ainsi que d’une discussion sur l’utilisation de techniques de côté client, consultez [vérification toutes les cases à cocher dans un Script côté Client à l’aide de GridView et une case à cocher tous les vérifier](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="31b88-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>


## <a name="summary"></a><span data-ttu-id="31b88-192">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="31b88-192">Summary</span></span>

<span data-ttu-id="31b88-193">Dans les cas où vous avez besoin pour permettre aux utilisateurs de choisir un nombre arbitraire de lignes à partir d’un GridView avant de continuer, l’ajout d’une colonne de cases à cocher est une option.</span><span class="sxs-lookup"><span data-stu-id="31b88-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="31b88-194">Comme nous l’avons vu dans ce didacticiel, y compris une colonne de cases à cocher dans le contrôle GridView implique l’ajout d’un TemplateField avec un contrôle de case à cocher Web.</span><span class="sxs-lookup"><span data-stu-id="31b88-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="31b88-195">À l’aide d’un contrôle Web (par opposition à l’injection de balisage directement dans le modèle, comme nous l’avons fait dans le didacticiel précédent) ASP.NET automatiquement se souvient de cases à cocher ont été et n’ont pas été vérifiées via la publication (postback).</span><span class="sxs-lookup"><span data-stu-id="31b88-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="31b88-196">Nous pouvons également accéder par programme les cases à cocher dans le code pour déterminer si une case à cocher donné est activé, ou pour modifier l’état activé.</span><span class="sxs-lookup"><span data-stu-id="31b88-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to chnage the checked state.</span></span>

<span data-ttu-id="31b88-197">Ce didacticiel et la dernière étudié l’ajout d’une colonne de sélecteur de ligne pour le contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="31b88-198">Dans notre prochain didacticiel, nous allons examiner comment, avec un peu de travail, nous pouvons ajouter des fonctionnalités insertion au GridView.</span><span class="sxs-lookup"><span data-stu-id="31b88-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="31b88-199">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="31b88-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="31b88-200">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="31b88-200">About the Author</span></span>

<span data-ttu-id="31b88-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept les livres sur ASP/ASP.NET et fondateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec les technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="31b88-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="31b88-202">Scott fonctionne comme un consultant indépendant, formateur et writer.</span><span class="sxs-lookup"><span data-stu-id="31b88-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="31b88-203">Son dernier ouvrage est [*SAM animer vous-même ASP.NET 2.0 des dernières 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="31b88-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="31b88-204">Il peut être contacté à [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="31b88-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="31b88-205">ou via son blog, qui se trouve à [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="31b88-205">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="31b88-206">[Précédent](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Suivant](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="31b88-206">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>
