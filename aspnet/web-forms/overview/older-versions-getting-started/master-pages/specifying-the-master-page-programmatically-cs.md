---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
title: Spécification de la page maître par programmation (C#) | Microsoft Docs
author: rick-anderson
description: Examine la définition par programmation de la page maître de la page de contenu via le gestionnaire d’événements PreInit.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 7c4a3445-2440-4aee-b9fd-779c05e6abb2
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
msc.type: authoredcontent
ms.openlocfilehash: 0db23ea05ba001c2bf9fc5330a60a767caa568a0
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74590508"
---
# <a name="specifying-the-master-page-programmatically-c"></a><span data-ttu-id="b670f-103">Spécification de la page maître par programmation (C#)</span><span class="sxs-lookup"><span data-stu-id="b670f-103">Specifying the Master Page Programmatically (C#)</span></span>

<span data-ttu-id="b670f-104">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="b670f-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="b670f-105">[Télécharger le code](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) ou [Télécharger le PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="b670f-105">[Download Code](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) or [Download PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span></span>

> <span data-ttu-id="b670f-106">Examine la définition par programmation de la page maître de la page de contenu via le gestionnaire d’événements PreInit.</span><span class="sxs-lookup"><span data-stu-id="b670f-106">Looks at setting the content page's master page programmatically via the PreInit event handler.</span></span>

## <a name="introduction"></a><span data-ttu-id="b670f-107">Introduction</span><span class="sxs-lookup"><span data-stu-id="b670f-107">Introduction</span></span>

<span data-ttu-id="b670f-108">Depuis l’exemple de [*création d’une disposition à l’ensemble du site à l’aide de pages maîtres*](creating-a-site-wide-layout-using-master-pages-cs.md), toutes les pages de contenu ont référencé leur page maître de manière déclarative via l’attribut `MasterPageFile` de la directive `@Page`.</span><span class="sxs-lookup"><span data-stu-id="b670f-108">Since the inaugural example in [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md), all content pages have referenced their master page declaratively via the `MasterPageFile` attribute in the `@Page` directive.</span></span> <span data-ttu-id="b670f-109">Par exemple, la directive `@Page` suivante lie la page de contenu à la page maître `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="b670f-109">For example, the following `@Page` directive links the content page to the master page `Site.master`:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample1.aspx)]

<span data-ttu-id="b670f-110">La [classe`Page`](https://msdn.microsoft.com/library/system.web.ui.page.aspx) de l’espace de noms `System.Web.UI` comprend une [propriété`MasterPageFile`](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) qui retourne le chemin d’accès à la page maître de la page de contenu. C’est cette propriété qui est définie par la directive `@Page`.</span><span class="sxs-lookup"><span data-stu-id="b670f-110">The [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx) in the `System.Web.UI` namespace includes a [`MasterPageFile` property](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) that returns the path to the content page's master page; it is this property that is set by the `@Page` directive.</span></span> <span data-ttu-id="b670f-111">Cette propriété peut également être utilisée pour spécifier par programmation la page maître de la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="b670f-111">This property can also be used to programmatically specify the content page's master page.</span></span> <span data-ttu-id="b670f-112">Cette approche est utile si vous souhaitez affecter dynamiquement la page maître en fonction de facteurs externes, tels que l’utilisateur visitant la page.</span><span class="sxs-lookup"><span data-stu-id="b670f-112">This approach is useful if you want to dynamically assign the master page based on external factors, such as the user visiting the page.</span></span>

<span data-ttu-id="b670f-113">Dans ce didacticiel, nous allons ajouter une deuxième page maître à notre site Web et déterminer de manière dynamique la page maître à utiliser au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="b670f-113">In this tutorial we add a second master page to our website and dynamically decide which master page to use at runtime.</span></span>

## <a name="step-1-a-look-at-the-page-lifecycle"></a><span data-ttu-id="b670f-114">Étape 1 : examiner le cycle de vie de la page</span><span class="sxs-lookup"><span data-stu-id="b670f-114">Step 1: A Look at the Page Lifecycle</span></span>

<span data-ttu-id="b670f-115">Chaque fois qu’une requête arrive sur le serveur Web pour une page ASP.NET qui est une page de contenu, le moteur ASP.NET doit fusible les contrôles de contenu de la page dans les contrôles ContentPlaceHolder correspondants de la page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-115">Whenever a request arrives at the web server for an ASP.NET page that is a content page, the ASP.NET engine must fuse the page's Content controls into the master page's corresponding ContentPlaceHolder controls.</span></span> <span data-ttu-id="b670f-116">Cette fusion crée une hiérarchie de contrôle unique qui peut ensuite passer par le cycle de vie de la page typique.</span><span class="sxs-lookup"><span data-stu-id="b670f-116">This fusion creates a single control hierarchy that can then proceed through the typical page lifecycle.</span></span>

<span data-ttu-id="b670f-117">La figure 1 illustre cette fusion.</span><span class="sxs-lookup"><span data-stu-id="b670f-117">Figure 1 illustrates this fusion.</span></span> <span data-ttu-id="b670f-118">L’étape 1 de la figure 1 montre les hiérarchies de contrôle de contenu et de page maître initiales.</span><span class="sxs-lookup"><span data-stu-id="b670f-118">Step 1 in Figure 1 shows the initial content and master page control hierarchies.</span></span> <span data-ttu-id="b670f-119">À la fin de l’étape de préinit, les contrôles de contenu de la page sont ajoutés au ContentPlaceHolders correspondant dans la page maître (étape 2).</span><span class="sxs-lookup"><span data-stu-id="b670f-119">At the tail end of the PreInit stage the Content controls in the page are added to the corresponding ContentPlaceHolders in the master page (Step 2).</span></span> <span data-ttu-id="b670f-120">Après cette fusion, la page maître sert de racine de la hiérarchie des contrôles fusionnés.</span><span class="sxs-lookup"><span data-stu-id="b670f-120">After this fusion, the master page serves as the root of the fused control hierarchy.</span></span> <span data-ttu-id="b670f-121">Cette hiérarchie de contrôle fusionnée est ensuite ajoutée à la page pour produire la hiérarchie des contrôles finalisés (étape 3).</span><span class="sxs-lookup"><span data-stu-id="b670f-121">This fused control hierarchy is then added to the page to produce the finalized control hierarchy (Step 3).</span></span> <span data-ttu-id="b670f-122">Le résultat net est que la hiérarchie des contrôles de la page comprend la hiérarchie des contrôles fusionnés.</span><span class="sxs-lookup"><span data-stu-id="b670f-122">The net result is that the page's control hierarchy includes the fused control hierarchy.</span></span>

<span data-ttu-id="b670f-123">[![la page maître et les hiérarchies de contrôle de la page de contenu sont fusionnées au cours de l’étape de préinitialisation](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-123">[![The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span></span>

<span data-ttu-id="b670f-124">**Figure 01**: les hiérarchies de contrôle de page maître et de page de contenu sont fusionnées au cours de l’étape de préinitialisation ([cliquez pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-124">**Figure 01**: The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image3.png))</span></span>

## <a name="step-2-setting-themasterpagefileproperty-from-code"></a><span data-ttu-id="b670f-125">Étape 2 : définition de la propriété`MasterPageFile`à partir du code</span><span class="sxs-lookup"><span data-stu-id="b670f-125">Step 2: Setting the`MasterPageFile`Property from Code</span></span>

<span data-ttu-id="b670f-126">La page maître partakes dans cette fusion dépend de la valeur de la propriété `MasterPageFile` de l’objet `Page`.</span><span class="sxs-lookup"><span data-stu-id="b670f-126">What master page partakes in this fusion depends on the value of the `Page` object's `MasterPageFile` property.</span></span> <span data-ttu-id="b670f-127">La définition de l’attribut `MasterPageFile` dans la directive `@Page` a l’effet net de l’assignation de la propriété `MasterPageFile` de `Page`pendant l’étape d’initialisation, qui est la première étape du cycle de vie de la page.</span><span class="sxs-lookup"><span data-stu-id="b670f-127">Setting the `MasterPageFile` attribute in the `@Page` directive has the net effect of assigning the `Page`'s `MasterPageFile` property during the Initialization stage, which is the very first stage of the page's lifecycle.</span></span> <span data-ttu-id="b670f-128">Vous pouvez également définir cette propriété par programmation.</span><span class="sxs-lookup"><span data-stu-id="b670f-128">We can alternatively set this property programmatically.</span></span> <span data-ttu-id="b670f-129">Toutefois, il est impératif que cette propriété soit définie avant que la fusion de la figure 1 n’ait lieu.</span><span class="sxs-lookup"><span data-stu-id="b670f-129">However, it is imperative that this property be set before the fusion in Figure 1 takes place.</span></span>

<span data-ttu-id="b670f-130">Au début de l’étape de préinitialisation, l’objet `Page` déclenche son [événement`PreInit`](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) et appelle sa [méthode`OnPreInit`](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span><span class="sxs-lookup"><span data-stu-id="b670f-130">At the start of the PreInit stage the `Page` object raises its [`PreInit` event](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) and calls its [`OnPreInit` method](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span></span> <span data-ttu-id="b670f-131">Pour définir la page maître par programmation, nous pouvons soit créer un gestionnaire d’événements pour l’événement `PreInit`, soit substituer la méthode `OnPreInit`.</span><span class="sxs-lookup"><span data-stu-id="b670f-131">To set the master page programmatically, then, we can either create an event handler for the `PreInit` event or override the `OnPreInit` method.</span></span> <span data-ttu-id="b670f-132">Examinons les deux approches.</span><span class="sxs-lookup"><span data-stu-id="b670f-132">Let's look at both approaches.</span></span>

<span data-ttu-id="b670f-133">Commencez par ouvrir `Default.aspx.cs`, le fichier de classe code-behind pour la page d’accueil de notre site.</span><span class="sxs-lookup"><span data-stu-id="b670f-133">Start by opening `Default.aspx.cs`, the code-behind class file for our site's homepage.</span></span> <span data-ttu-id="b670f-134">Ajoutez un gestionnaire d’événements pour l’événement `PreInit` de la page en tapant le code suivant :</span><span class="sxs-lookup"><span data-stu-id="b670f-134">Add an event handler for the page's `PreInit` event by typing in the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample2.cs)]

<span data-ttu-id="b670f-135">À partir de là, nous pouvons définir la propriété `MasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="b670f-135">From here we can set the `MasterPageFile` property.</span></span> <span data-ttu-id="b670f-136">Mettez à jour le code afin qu’il affecte la valeur « ~/site.Master » à la propriété `MasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="b670f-136">Update the code so that it assigns the value "~/Site.master" to the `MasterPageFile` property.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample3.cs)]

<span data-ttu-id="b670f-137">Si vous définissez un point d’arrêt et que vous démarrez avec le débogage, vous verrez que chaque fois que la page `Default.aspx` est visitée ou qu’il y a une publication (postback) sur cette page, le gestionnaire d’événements `Page_PreInit` s’exécute et la propriété `MasterPageFile` est assignée à « ~/site.Master ».</span><span class="sxs-lookup"><span data-stu-id="b670f-137">If you set a breakpoint and start with debugging you'll see that whenever the `Default.aspx` page is visited or whenever there's a postback to this page, the `Page_PreInit` event handler executes and the `MasterPageFile` property is assigned to "~/Site.master".</span></span>

<span data-ttu-id="b670f-138">Vous pouvez également remplacer la méthode `OnPreInit` de la classe `Page` et y définir la propriété `MasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="b670f-138">Alternatively, you can override the `Page` class's `OnPreInit` method and set the `MasterPageFile` property there.</span></span> <span data-ttu-id="b670f-139">Pour cet exemple, nous allons ne pas définir la page maître dans une page particulière, mais plutôt `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="b670f-139">For this example, let's not set the master page in a particular page, but rather from `BasePage`.</span></span> <span data-ttu-id="b670f-140">Rappelez-vous que nous avons créé une classe de page de base personnalisée (`BasePage`) dans la [*section Spécification du titre, des balises meta et d’autres en-têtes HTML dans le didacticiel de la page maître*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="b670f-140">Recall that we created a custom base page class (`BasePage`) back in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial.</span></span> <span data-ttu-id="b670f-141">Actuellement `BasePage` remplace la méthode de `OnLoadComplete` de la classe `Page`, où elle définit la propriété de `Title` de la page en fonction des données de plan de site.</span><span class="sxs-lookup"><span data-stu-id="b670f-141">Currently `BasePage` overrides the `Page` class's `OnLoadComplete` method, where it sets the page's `Title` property based on the site map data.</span></span> <span data-ttu-id="b670f-142">Mettons à jour `BasePage` pour remplacer également la méthode `OnPreInit` pour spécifier par programmation la page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-142">Let's update `BasePage` to also override the `OnPreInit` method to programmatically specify the master page.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample4.cs)]

<span data-ttu-id="b670f-143">Étant donné que toutes les pages de contenu dérivent de `BasePage`, elles sont désormais affectées par programmation à leur page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-143">Because all our content pages derive from `BasePage`, all of them now have their master page programmatically assigned.</span></span> <span data-ttu-id="b670f-144">À ce stade, le gestionnaire d’événements `PreInit` dans `Default.aspx.cs` est superflu ; n’hésitez pas à la supprimer.</span><span class="sxs-lookup"><span data-stu-id="b670f-144">At this point the `PreInit` event handler in `Default.aspx.cs` is superfluous; feel free to remove it.</span></span>

### <a name="what-about-thepagedirective"></a><span data-ttu-id="b670f-145">Qu’en est-il de la directive de`@Page`?</span><span class="sxs-lookup"><span data-stu-id="b670f-145">What About the`@Page`Directive?</span></span>

<span data-ttu-id="b670f-146">Ce qui peut être un peu confus, c’est que les propriétés de `MasterPageFile` de pages de contenu sont maintenant spécifiées à deux emplacements : par programmation dans la méthode `OnPreInit` de la classe `BasePage`, ainsi que via l’attribut `MasterPageFile` dans la directive `@Page` de chaque page de contenu.</span><span class="sxs-lookup"><span data-stu-id="b670f-146">What may be a little confusing is that the content pages' `MasterPageFile` properties are now being specified in two places: programmatically in the `BasePage` class's `OnPreInit` method as well as through the `MasterPageFile` attribute in each content page's `@Page` directive.</span></span>

<span data-ttu-id="b670f-147">La première étape du cycle de vie de la page est l’étape d’initialisation.</span><span class="sxs-lookup"><span data-stu-id="b670f-147">The first stage in the page lifecycle is the Initialization stage.</span></span> <span data-ttu-id="b670f-148">Pendant cette étape, la propriété `MasterPageFile` de l’objet `Page` est assignée à la valeur de l’attribut `MasterPageFile` dans la directive `@Page` (si elle est fournie).</span><span class="sxs-lookup"><span data-stu-id="b670f-148">During this stage the `Page` object's `MasterPageFile` property is assigned the value of the `MasterPageFile` attribute in the `@Page` directive (if it is provided).</span></span> <span data-ttu-id="b670f-149">L’étape PreInit suit l’étape d’initialisation, et c’est ici que nous définissons par programmation la propriété `MasterPageFile` de l’objet `Page`, remplaçant ainsi la valeur assignée à partir de la directive `@Page`.</span><span class="sxs-lookup"><span data-stu-id="b670f-149">The PreInit stage follows the Initialization stage, and it is here where we programmatically set the `Page` object's `MasterPageFile` property, thereby overwriting the value assigned from the `@Page` directive.</span></span> <span data-ttu-id="b670f-150">Étant donné que nous définissons la propriété `MasterPageFile` de l’objet `Page` par programmation, nous pourrions supprimer l’attribut `MasterPageFile` de la directive `@Page` sans affecter l’expérience de l’utilisateur final.</span><span class="sxs-lookup"><span data-stu-id="b670f-150">Because we are setting the `Page` object's `MasterPageFile` property programmatically, we could remove the `MasterPageFile` attribute from the `@Page` directive without affecting the end user's experience.</span></span> <span data-ttu-id="b670f-151">Pour vous en convaincre, supprimez l’attribut `MasterPageFile` de la directive `@Page` dans `Default.aspx` puis accédez à la page via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="b670f-151">To convince yourself of this, go ahead and remove the `MasterPageFile` attribute from the `@Page` directive in `Default.aspx` and then visit the page through a browser.</span></span> <span data-ttu-id="b670f-152">Comme vous pouvez vous y attendre, la sortie est la même qu’avant la suppression de l’attribut.</span><span class="sxs-lookup"><span data-stu-id="b670f-152">As you would expect, the output is the same as before the attribute was removed.</span></span>

<span data-ttu-id="b670f-153">Le fait que la propriété `MasterPageFile` soit définie via la directive `@Page` ou par programmation n’est pas une incidence sur l’expérience de l’utilisateur final.</span><span class="sxs-lookup"><span data-stu-id="b670f-153">Whether the `MasterPageFile` property is set via the `@Page` directive or programmatically is inconsequential to the end user's experience.</span></span> <span data-ttu-id="b670f-154">Toutefois, l’attribut `MasterPageFile` de la directive `@Page` est utilisé par Visual Studio au moment du design pour produire la vue WYSIWYG dans le concepteur.</span><span class="sxs-lookup"><span data-stu-id="b670f-154">However, the `MasterPageFile` attribute in the `@Page` directive is used by Visual Studio during design-time to produce the WYSIWYG view in the Designer.</span></span> <span data-ttu-id="b670f-155">Si vous revenez à `Default.aspx` dans Visual Studio et que vous accédez au concepteur, vous verrez le message « erreur de la page maître : la page contient des contrôles qui nécessitent une référence de page maître, mais aucun n’est spécifié » (voir figure 2).</span><span class="sxs-lookup"><span data-stu-id="b670f-155">If you return to `Default.aspx` in Visual Studio and navigate to the Designer you'll see the message, "Master Page error: The page has controls that require a Master Page reference, but none is specified" (see Figure 2).</span></span>

<span data-ttu-id="b670f-156">En bref, vous devez conserver l’attribut `MasterPageFile` dans la directive `@Page` pour bénéficier d’une expérience de conception riche dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b670f-156">In short, you need to leave the `MasterPageFile` attribute in the `@Page` directive to enjoy a rich design-time experience in Visual Studio.</span></span>

<span data-ttu-id="b670f-157">[![Visual Studio utilise l’attribut MasterPageFile de la directive @Page pour restituer le mode Design](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-157">[![Visual Studio Uses the @Page Directive's MasterPageFile Attribute to Render the Design View](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span></span>

<span data-ttu-id="b670f-158">**Figure 02**: Visual Studio utilise l’attribut `MasterPageFile` de la directive `@Page` pour restituer le mode Design ([Cliquer pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-158">**Figure 02**: Visual Studio Uses the `@Page` Directive's `MasterPageFile` Attribute to Render the Design View  ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image6.png))</span></span>

## <a name="step-3-creating-an-alternative-master-page"></a><span data-ttu-id="b670f-159">Étape 3 : création d’une autre page maître</span><span class="sxs-lookup"><span data-stu-id="b670f-159">Step 3: Creating an Alternative Master Page</span></span>

<span data-ttu-id="b670f-160">Étant donné que la page maître d’une page de contenu peut être définie par programmation au moment de l’exécution, il est possible de charger dynamiquement une page maître particulière en fonction de certains critères externes.</span><span class="sxs-lookup"><span data-stu-id="b670f-160">Because a content page's master page can be set programmatically at runtime it's possible to dynamically load a particular master page based on some external criteria.</span></span> <span data-ttu-id="b670f-161">Cette fonctionnalité peut être utile dans les situations où la disposition du site doit varier en fonction de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b670f-161">This functionality can be useful in situations where the site's layout needs to vary based on the user.</span></span> <span data-ttu-id="b670f-162">Par exemple, une application Web du moteur de blog peut permettre à ses utilisateurs de choisir une disposition pour leur blog, où chaque disposition est associée à une autre page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-162">For instance, a blog engine web application may allow its users to choose a layout for their blog, where each layout is associated with a different master page.</span></span> <span data-ttu-id="b670f-163">Lors de l’exécution, lorsqu’un visiteur visualise le blog d’un utilisateur, l’application Web doit déterminer la disposition du blog et associer de manière dynamique la page maître correspondante à la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="b670f-163">At runtime, when a visitor is viewing a user's blog, the web application would need to determine the blog's layout and dynamically associate the corresponding master page with the content page.</span></span>

<span data-ttu-id="b670f-164">Examinons comment charger dynamiquement une page maître au moment de l’exécution en fonction de certains critères externes.</span><span class="sxs-lookup"><span data-stu-id="b670f-164">Let's examine how to dynamically load a master page at runtime based on some external criteria.</span></span> <span data-ttu-id="b670f-165">Notre site Web contient actuellement une seule page maître (`Site.master`).</span><span class="sxs-lookup"><span data-stu-id="b670f-165">Our website currently contains just one master page (`Site.master`).</span></span> <span data-ttu-id="b670f-166">Nous avons besoin d’une autre page maître pour illustrer le choix d’une page maître au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="b670f-166">We need another master page to illustrate choosing a master page at runtime.</span></span> <span data-ttu-id="b670f-167">Cette étape porte sur la création et la configuration de la nouvelle page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-167">This step focuses on creating and configuring the new master page.</span></span> <span data-ttu-id="b670f-168">L’étape 4 permet de déterminer la page maître à utiliser au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="b670f-168">Step 4 looks at determining what master page to use at runtime.</span></span>

<span data-ttu-id="b670f-169">Créez une nouvelle page maître dans le dossier racine nommé `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-169">Create a new master page in the root folder named `Alternate.master`.</span></span> <span data-ttu-id="b670f-170">Ajoutez également une nouvelle feuille de style au site Web nommé `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="b670f-170">Also add a new style sheet to the website named `AlternateStyles.css`.</span></span>

<span data-ttu-id="b670f-171">[![ajouter une autre page maître et un autre fichier CSS au site Web](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-171">[![Add Another Master Page and CSS File to the Website](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span></span>

<span data-ttu-id="b670f-172">**Figure 03**: ajouter une autre page maître et un autre fichier CSS au site Web ([cliquez pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-172">**Figure 03**: Add Another Master Page and CSS File to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image9.png))</span></span>

<span data-ttu-id="b670f-173">J’ai conçu la page maître `Alternate.master` pour afficher le titre en haut de la page, centré et sur un arrière-plan bleu marine.</span><span class="sxs-lookup"><span data-stu-id="b670f-173">I've designed the `Alternate.master` master page to have the title displayed at the top of the page, centered and on a navy background.</span></span> <span data-ttu-id="b670f-174">J’ai distribué la colonne de gauche et déplacé ce contenu sous le contrôle `MainContent` ContentPlaceHolder, qui s’étend maintenant à la largeur totale de la page.</span><span class="sxs-lookup"><span data-stu-id="b670f-174">I've dispensed of the left column and moved that content beneath the `MainContent` ContentPlaceHolder control, which now spans the entire width of the page.</span></span> <span data-ttu-id="b670f-175">En outre, j’nixed la liste des leçons non triées et je l’ai remplacée par une liste horizontale au-dessus `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="b670f-175">Furthermore, I nixed the unordered Lessons list and replaced it with a horizontal list above `MainContent`.</span></span> <span data-ttu-id="b670f-176">J’ai également mis à jour les polices et les couleurs utilisées par la page maître (et, par extension, ses pages de contenu).</span><span class="sxs-lookup"><span data-stu-id="b670f-176">I also updated the fonts and colors used by the master page (and, by extension, its content pages).</span></span> <span data-ttu-id="b670f-177">La figure 4 montre `Default.aspx` lors de l’utilisation de la page maître `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-177">Figure 4 shows `Default.aspx` when using the `Alternate.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="b670f-178">ASP.NET offre la possibilité de définir des *thèmes*.</span><span class="sxs-lookup"><span data-stu-id="b670f-178">ASP.NET includes the ability to define *Themes*.</span></span> <span data-ttu-id="b670f-179">Un thème est une collection d’images, de fichiers CSS et de paramètres de propriété de contrôle Web liés aux styles qui peuvent être appliqués à une page au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="b670f-179">A Theme is a collection of images, CSS files, and style-related Web control property settings that can be applied to a page at runtime.</span></span> <span data-ttu-id="b670f-180">Les thèmes sont la méthode à suivre si les dispositions de votre site diffèrent uniquement dans les images affichées et par leurs règles CSS.</span><span class="sxs-lookup"><span data-stu-id="b670f-180">Themes are the way to go if your site's layouts differ only in the images displayed and by their CSS rules.</span></span> <span data-ttu-id="b670f-181">Si les dispositions diffèrent de façon plus importante, par exemple en utilisant différents contrôles Web ou une disposition radicalement différente, vous devrez utiliser des pages maîtres distinctes.</span><span class="sxs-lookup"><span data-stu-id="b670f-181">If the layouts differ more substantially, such as using different Web controls or having a radically different layout, then you will need to use separate master pages.</span></span> <span data-ttu-id="b670f-182">Pour plus d’informations sur les thèmes, consultez la section de lecture supplémentaire à la fin de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="b670f-182">Consult the Further Reading section at the end of this tutorial for more information on Themes.</span></span>

<span data-ttu-id="b670f-183">[![nos pages de contenu peuvent désormais utiliser une nouvelle apparence](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-183">[![Our Content Pages Can Now Use a New Look and Feel](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span></span>

<span data-ttu-id="b670f-184">**Figure 04**: nos pages de contenu peuvent désormais utiliser une nouvelle apparence ([Cliquer pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-184">**Figure 04**: Our Content Pages Can Now Use a New Look and Feel ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image12.png))</span></span>

<span data-ttu-id="b670f-185">Lorsque le balisage maître et les pages de contenu sont fusionnés, la classe `MasterPage` vérifie que chaque contrôle de contenu de la page de contenu fait référence à un ContentPlaceHolder dans la page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-185">When the master and content pages' markup are fused, the `MasterPage` class checks to ensure that every Content control in the content page references a ContentPlaceHolder in the master page.</span></span> <span data-ttu-id="b670f-186">Une exception est levée si un contrôle de contenu qui référence un ContentPlaceHolder inexistant est trouvé.</span><span class="sxs-lookup"><span data-stu-id="b670f-186">An exception is thrown if a Content control that references a non-existent ContentPlaceHolder is found.</span></span> <span data-ttu-id="b670f-187">En d’autres termes, il est impératif que la page maître qui est assignée à la page de contenu ait un ContentPlaceHolder pour chaque contrôle de contenu dans la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="b670f-187">In other words, it is imperative that the master page being assigned to the content page have a ContentPlaceHolder for each Content control in the content page.</span></span>

<span data-ttu-id="b670f-188">La page maître `Site.master` comprend quatre contrôles ContentPlaceHolder :</span><span class="sxs-lookup"><span data-stu-id="b670f-188">The `Site.master` master page includes four ContentPlaceHolder controls:</span></span>

- `head`
- `MainContent`
- `QuickLoginUI`
- `LeftColumnContent`

<span data-ttu-id="b670f-189">Certaines pages de contenu de notre site Web incluent simplement un ou deux contrôles de contenu. d’autres incluent un contrôle de contenu pour chaque ContentPlaceHolders disponible.</span><span class="sxs-lookup"><span data-stu-id="b670f-189">Some of the content pages in our website include just one or two Content controls; others include a Content control for each of the available ContentPlaceHolders.</span></span> <span data-ttu-id="b670f-190">Si la nouvelle page maître (`Alternate.master`) peut être assignée aux pages de contenu qui ont des contrôles de contenu pour tous les ContentPlaceHolders dans `Site.master`, il est essentiel que `Alternate.master` inclue également les mêmes contrôles ContentPlaceHolder que `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-190">If our new master page (`Alternate.master`) may ever be assigned to those content pages that have Content controls for all of the ContentPlaceHolders in `Site.master` then it is essential that `Alternate.master` also include the same ContentPlaceHolder controls as `Site.master`.</span></span>

<span data-ttu-id="b670f-191">Pour faire en sorte que votre page maître `Alternate.master` ressemble à mine (voir figure 4), commencez par définir les styles de la page maître dans la feuille de style `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="b670f-191">To get your `Alternate.master` master page to look similar to mine (see Figure 4), start by defining the master page's styles in the `AlternateStyles.css` style sheet.</span></span> <span data-ttu-id="b670f-192">Ajoutez les règles suivantes dans `AlternateStyles.css`:</span><span class="sxs-lookup"><span data-stu-id="b670f-192">Add the following rules into `AlternateStyles.css`:</span></span>

[!code-css[Main](specifying-the-master-page-programmatically-cs/samples/sample5.css)]

<span data-ttu-id="b670f-193">Ensuite, ajoutez le balisage déclaratif suivant à `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-193">Next, add the following declarative markup to `Alternate.master`.</span></span> <span data-ttu-id="b670f-194">Comme vous pouvez le voir, `Alternate.master` contient quatre contrôles ContentPlaceHolder avec les mêmes `ID` valeurs que les contrôles ContentPlaceHolder dans `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-194">As you can see, `Alternate.master` contains four ContentPlaceHolder controls with the same `ID` values as the ContentPlaceHolder controls in `Site.master`.</span></span> <span data-ttu-id="b670f-195">En outre, il comprend un contrôle ScriptManager, qui est nécessaire pour les pages de notre site Web qui utilisent l’infrastructure AJAX ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b670f-195">Moreover, it includes a ScriptManager control, which is necessary for those pages in our website that use the ASP.NET AJAX framework.</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample6.aspx)]

### <a name="testing-the-new-master-page"></a><span data-ttu-id="b670f-196">Test de la nouvelle page maître</span><span class="sxs-lookup"><span data-stu-id="b670f-196">Testing the New Master Page</span></span>

<span data-ttu-id="b670f-197">Pour tester cette nouvelle page maître, mettez à jour la méthode `OnPreInit` de la classe `BasePage`, afin que la valeur "~/alternate.Master" soit affectée à la propriété `MasterPageFile`, puis accédez au site Web.</span><span class="sxs-lookup"><span data-stu-id="b670f-197">To test this new master page update the `BasePage` class's `OnPreInit` method so that the `MasterPageFile` property is assigned the value "~/Alternate.master" and then visit the website.</span></span> <span data-ttu-id="b670f-198">Chaque page doit fonctionner sans erreur, à l’exception de deux : `~/Admin/AddProduct.aspx` et `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b670f-198">Every page should function without error except for two: `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="b670f-199">L’ajout d’un produit au contrôle DetailsView dans `~/Admin/AddProduct.aspx` produit une `NullReferenceException` à partir de la ligne de code qui tente de définir la propriété `GridMessageText` de la page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-199">Adding a product to the DetailsView in `~/Admin/AddProduct.aspx` results in a `NullReferenceException` from the line of code that attempts to set the master page's `GridMessageText` property.</span></span> <span data-ttu-id="b670f-200">Lorsque vous vous rendez `~/Admin/Products.aspx` une `InvalidCastException` est levée lors du chargement de la page avec le message suivant : « impossible d’effectuer un cast d’un objet de type’ASP. Alternate\_Master’en type’ASP. site\_Master'. »</span><span class="sxs-lookup"><span data-stu-id="b670f-200">When visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown on page load with the message: "Unable to cast object of type 'ASP.alternate\_master' to type 'ASP.site\_master'."</span></span>

<span data-ttu-id="b670f-201">Ces erreurs se produisent parce que la classe code-behind `Site.master` comprend des événements publics, des propriétés et des méthodes qui ne sont pas définis dans `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-201">These errors occur because the `Site.master` code-behind class includes public events, properties, and methods that are not defined in `Alternate.master`.</span></span> <span data-ttu-id="b670f-202">La partie du balisage de ces deux pages a une directive `@MasterType` qui fait référence à la page maître `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-202">The markup portion of these two pages have a `@MasterType` directive that references the `Site.master` master page.</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample7.aspx)]

<span data-ttu-id="b670f-203">En outre, le gestionnaire d’événements `ItemInserted` du contrôle DetailsView dans `~/Admin/AddProduct.aspx` comprend du code qui convertit la propriété faiblement typée `Page.Master` en un objet de type `Site`.</span><span class="sxs-lookup"><span data-stu-id="b670f-203">Also, the DetailsView's `ItemInserted` event handler in `~/Admin/AddProduct.aspx` includes code that casts the loosely-typed `Page.Master` property to an object of type `Site`.</span></span> <span data-ttu-id="b670f-204">La directive `@MasterType` (utilisée de cette façon) et le cast dans le gestionnaire d’événements `ItemInserted` associent étroitement les pages `~/Admin/AddProduct.aspx` et `~/Admin/Products.aspx` à la page maître `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-204">The `@MasterType` directive (used this way) and the cast in the `ItemInserted` event handler tightly couples the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to the `Site.master` master page.</span></span>

<span data-ttu-id="b670f-205">Pour rompre ce couplage étroit, nous pouvons `Site.master` et `Alternate.master` dérivent d’une classe de base commune qui contient des définitions pour les membres publics.</span><span class="sxs-lookup"><span data-stu-id="b670f-205">To break this tight coupling we can have `Site.master` and `Alternate.master` derive from a common base class that contains definitions for the public members.</span></span> <span data-ttu-id="b670f-206">Après cela, nous pouvons mettre à jour la directive `@MasterType` pour référencer ce type de base commun.</span><span class="sxs-lookup"><span data-stu-id="b670f-206">Following that, we can update the `@MasterType` directive to reference this common base type.</span></span>

### <a name="creating-a-custom-base-master-page-class"></a><span data-ttu-id="b670f-207">Création d’une classe de page maître personnalisée</span><span class="sxs-lookup"><span data-stu-id="b670f-207">Creating a Custom Base Master Page Class</span></span>

<span data-ttu-id="b670f-208">Ajoutez un nouveau fichier de classe au dossier `App_Code` nommé `BaseMasterPage.cs` et dérivez-le de `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b670f-208">Add a new class file to the `App_Code` folder named `BaseMasterPage.cs` and have it derive from `System.Web.UI.MasterPage`.</span></span> <span data-ttu-id="b670f-209">Nous devons définir la méthode `RefreshRecentProductsGrid` et la propriété `GridMessageText` dans `BaseMasterPage`, mais nous ne pouvons pas simplement les déplacer à partir de `Site.master`, car ces membres utilisent des contrôles Web spécifiques à la page maître `Site.master` (le `RecentProducts` GridView et l’étiquette `GridMessage`).</span><span class="sxs-lookup"><span data-stu-id="b670f-209">We need to define the `RefreshRecentProductsGrid` method and the `GridMessageText` property in `BaseMasterPage`, but we can't simply move them there from `Site.master` because these members work with Web controls that are specific to the `Site.master` master page (the `RecentProducts` GridView and `GridMessage` Label).</span></span>

<span data-ttu-id="b670f-210">Nous devons configurer `BaseMasterPage` de manière à ce que ces membres soient définis ici, mais ils sont implémentés par les classes dérivées de `BaseMasterPage`(`Site.master` et `Alternate.master`).</span><span class="sxs-lookup"><span data-stu-id="b670f-210">What we need to do is configure `BaseMasterPage` in such a way that these members are defined there, but are actually implemented by `BaseMasterPage`'s derived classes (`Site.master` and `Alternate.master`).</span></span> <span data-ttu-id="b670f-211">Ce type d’héritage est possible en marquant la classe et ses membres comme `abstract`.</span><span class="sxs-lookup"><span data-stu-id="b670f-211">This type of inheritance is possible by marking the class and its members as `abstract`.</span></span> <span data-ttu-id="b670f-212">En résumé, l’ajout du mot clé `abstract` à ces deux membres annonce que `BaseMasterPage` n’a pas implémenté `RefreshRecentProductsGrid` et `GridMessageText`, mais que ses classes dérivées le feront.</span><span class="sxs-lookup"><span data-stu-id="b670f-212">In short, adding the `abstract` keyword to these two members announces that `BaseMasterPage` hasn't implemented `RefreshRecentProductsGrid` and `GridMessageText`, but that its derived classes will.</span></span>

<span data-ttu-id="b670f-213">Nous devons également définir l’événement `PricesDoubled` dans `BaseMasterPage` et fournir un moyen aux classes dérivées de déclencher l’événement.</span><span class="sxs-lookup"><span data-stu-id="b670f-213">We also need to define the `PricesDoubled` event in `BaseMasterPage` and provide a means by the derived classes to raise the event.</span></span> <span data-ttu-id="b670f-214">Le modèle utilisé dans le .NET Framework pour faciliter ce comportement consiste à créer un événement public dans la classe de base et à ajouter une méthode protégée `virtual` nommée `OnEventName`.</span><span class="sxs-lookup"><span data-stu-id="b670f-214">The pattern used in the .NET Framework to facilitate this behavior is to create a public event in the base class and add a protected, `virtual` method named `OnEventName`.</span></span> <span data-ttu-id="b670f-215">Les classes dérivées peuvent ensuite appeler cette méthode pour déclencher l’événement ou la substituer pour exécuter du code immédiatement avant ou après le déclenchement de l’événement.</span><span class="sxs-lookup"><span data-stu-id="b670f-215">Derived classes can then call this method to raise the event or can override it to execute code immediately before or after the event is raised.</span></span>

<span data-ttu-id="b670f-216">Mettez à jour votre classe `BaseMasterPage` de manière à ce qu’elle contienne le code suivant :</span><span class="sxs-lookup"><span data-stu-id="b670f-216">Update your `BaseMasterPage` class so that it contains the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample8.cs)]

<span data-ttu-id="b670f-217">Ensuite, accédez à la classe code-behind `Site.master` et dérivez-la de `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b670f-217">Next, go to the `Site.master` code-behind class and have it derive from `BaseMasterPage`.</span></span> <span data-ttu-id="b670f-218">Étant donné que `BaseMasterPage` est `abstract` vous devez remplacer ces membres `abstract` ici dans `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-218">Because `BaseMasterPage` is `abstract` we need to override those `abstract` members here in `Site.master`.</span></span> <span data-ttu-id="b670f-219">Ajoutez le mot clé `override` aux définitions de méthode et de propriété.</span><span class="sxs-lookup"><span data-stu-id="b670f-219">Add the `override` keyword to the method and property definitions.</span></span> <span data-ttu-id="b670f-220">Mettez également à jour le code qui déclenche l’événement `PricesDoubled` dans le gestionnaire d’événements `Click` du bouton `DoublePrice` à l’aide d’un appel à la méthode `OnPricesDoubled` de la classe de base.</span><span class="sxs-lookup"><span data-stu-id="b670f-220">Also update the code that raises the `PricesDoubled` event in the `DoublePrice` Button's `Click` event handler with a call to the base class's `OnPricesDoubled` method.</span></span>

<span data-ttu-id="b670f-221">Après ces modifications, la `Site.master` classe code-behind doit contenir le code suivant :</span><span class="sxs-lookup"><span data-stu-id="b670f-221">After these modifications the `Site.master` code-behind class should contain the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample9.cs)]

<span data-ttu-id="b670f-222">Nous devons également mettre à jour la classe code-behind de `Alternate.master`pour dériver de `BaseMasterPage` et remplacer les deux membres `abstract`.</span><span class="sxs-lookup"><span data-stu-id="b670f-222">We also need to update `Alternate.master`'s code-behind class to derive from `BaseMasterPage` and override the two `abstract` members.</span></span> <span data-ttu-id="b670f-223">Toutefois, étant donné que `Alternate.master` ne contient pas de GridView qui répertorie les produits les plus récents ou une étiquette qui affiche un message après l’ajout d’un nouveau produit à la base de données, ces méthodes n’ont rien à faire.</span><span class="sxs-lookup"><span data-stu-id="b670f-223">But because `Alternate.master` does not contain a GridView that lists the most recent products nor a Label that displays a message after a new product is added to the database, these methods do not need to do anything.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample10.cs)]

### <a name="referencing-the-base-master-page-class"></a><span data-ttu-id="b670f-224">Référencement de la classe de page maître de base</span><span class="sxs-lookup"><span data-stu-id="b670f-224">Referencing the Base Master Page Class</span></span>

<span data-ttu-id="b670f-225">Maintenant que nous avons terminé la classe `BaseMasterPage` et que nos deux pages maîtres l’étendent, notre dernière étape consiste à mettre à jour les pages `~/Admin/AddProduct.aspx` et `~/Admin/Products.aspx` pour faire référence à ce type commun.</span><span class="sxs-lookup"><span data-stu-id="b670f-225">Now that we have completed the `BaseMasterPage` class and have our two master pages extending it, our final step is to update the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to refer to this common type.</span></span> <span data-ttu-id="b670f-226">Commencez par modifier la directive `@MasterType` dans les deux pages à partir de :</span><span class="sxs-lookup"><span data-stu-id="b670f-226">Start by changing the `@MasterType` directive in both pages from:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample11.aspx)]

<span data-ttu-id="b670f-227">À :</span><span class="sxs-lookup"><span data-stu-id="b670f-227">To:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample12.aspx)]

<span data-ttu-id="b670f-228">Au lieu de référencer un chemin d’accès de fichier, la propriété `@MasterType` fait désormais référence au type de base (`BaseMasterPage`).</span><span class="sxs-lookup"><span data-stu-id="b670f-228">Rather than referencing a file path, the `@MasterType` property now references the base type (`BaseMasterPage`).</span></span> <span data-ttu-id="b670f-229">Par conséquent, la propriété fortement typée `Master` utilisée dans les deux classes code-behind des pages est désormais de type `BaseMasterPage` (au lieu de type `Site`).</span><span class="sxs-lookup"><span data-stu-id="b670f-229">Consequently, the strongly-typed `Master` property used in both pages' code-behind classes is now of type `BaseMasterPage` (instead of type `Site`).</span></span> <span data-ttu-id="b670f-230">Une fois cette modification effectuée, visitez `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b670f-230">With this change in place revisit `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="b670f-231">Auparavant, cela provoquait une erreur de conversion, car la page est configurée pour utiliser la page maître `Alternate.master`, mais la directive `@MasterType` a référencé le fichier `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-231">Previously, this resulted in a casting error because the page is configured to use the `Alternate.master` master page, but the `@MasterType` directive referenced the `Site.master` file.</span></span> <span data-ttu-id="b670f-232">Mais maintenant, la page s’affiche sans erreur.</span><span class="sxs-lookup"><span data-stu-id="b670f-232">But now the page renders without error.</span></span> <span data-ttu-id="b670f-233">Cela est dû au fait que la `Alternate.master` page maître peut être convertie en un objet de type `BaseMasterPage` (puisqu’elle l’étend).</span><span class="sxs-lookup"><span data-stu-id="b670f-233">This is because the `Alternate.master` master page can be cast to an object of type `BaseMasterPage` (since it extends it).</span></span>

<span data-ttu-id="b670f-234">Une petite modification doit être apportée dans `~/Admin/AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b670f-234">There's one small change that needs to be made in `~/Admin/AddProduct.aspx`.</span></span> <span data-ttu-id="b670f-235">Le gestionnaire d’événements `ItemInserted` du contrôle DetailsView utilise à la fois la propriété de `Master` fortement typée et la propriété de `Page.Master` faiblement typée.</span><span class="sxs-lookup"><span data-stu-id="b670f-235">The DetailsView control's `ItemInserted` event handler uses both the strongly-typed `Master` property and the loosely-typed `Page.Master` property.</span></span> <span data-ttu-id="b670f-236">Nous avons corrigé la référence fortement typée lorsque nous avons mis à jour la directive `@MasterType`, mais nous devons toujours mettre à jour la référence faiblement typée.</span><span class="sxs-lookup"><span data-stu-id="b670f-236">We fixed the strongly-typed reference when we updated the `@MasterType` directive, but we still need to update the loosely-typed reference.</span></span> <span data-ttu-id="b670f-237">Remplacez la ligne de code suivante :</span><span class="sxs-lookup"><span data-stu-id="b670f-237">Replace the following line of code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample13.cs)]

<span data-ttu-id="b670f-238">Avec le code suivant, qui effectue un cast `Page.Master` vers le type de base :</span><span class="sxs-lookup"><span data-stu-id="b670f-238">With the following, which casts `Page.Master` to the base type:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample14.cs)]

## <a name="step-4-determining-what-master-page-to-bind-to-the-content-pages"></a><span data-ttu-id="b670f-239">Étape 4 : détermination de la page maître à lier aux pages de contenu</span><span class="sxs-lookup"><span data-stu-id="b670f-239">Step 4: Determining What Master Page to Bind to the Content Pages</span></span>

<span data-ttu-id="b670f-240">Notre classe `BasePage` définit actuellement toutes les propriétés de `MasterPageFile` de contenu sur une valeur codée en dur au cours de l’étape de préinitialisation du cycle de vie de la page.</span><span class="sxs-lookup"><span data-stu-id="b670f-240">Our `BasePage` class currently sets all content pages' `MasterPageFile` properties to a hard-coded value in the PreInit stage of the page lifecycle.</span></span> <span data-ttu-id="b670f-241">Nous pouvons mettre à jour ce code pour baser la page maître sur un facteur externe.</span><span class="sxs-lookup"><span data-stu-id="b670f-241">We can update this code to base the master page on some external factor.</span></span> <span data-ttu-id="b670f-242">Par exemple, la page maître à charger dépend des préférences de l’utilisateur actuellement connecté.</span><span class="sxs-lookup"><span data-stu-id="b670f-242">Perhaps the master page to load depends on the preferences of the currently logged on user.</span></span> <span data-ttu-id="b670f-243">Dans ce cas, nous aurions besoin d’écrire du code dans la méthode `OnPreInit` dans `BasePage` qui recherche les préférences de la page maître de l’utilisateur en cours de consultation.</span><span class="sxs-lookup"><span data-stu-id="b670f-243">In that case, we'd need to write code in the `OnPreInit` method in `BasePage` that looks up the currently visiting user's master page preferences.</span></span>

<span data-ttu-id="b670f-244">Nous allons créer une page Web qui permet à l’utilisateur de choisir la page maître à utiliser : `Site.master` ou `Alternate.master` et enregistrer ce choix dans une variable de session.</span><span class="sxs-lookup"><span data-stu-id="b670f-244">Let's create a web page that allows the user to choose which master page to use - `Site.master` or `Alternate.master` - and save this choice in a Session variable.</span></span> <span data-ttu-id="b670f-245">Commencez par créer une nouvelle page Web dans le répertoire racine nommé `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b670f-245">Start by creating a new web page in the root directory named `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="b670f-246">Lors de la création de cette page (ou de toute autre page de contenu), vous n’avez pas besoin de la lier à une page maître, car la page maître est définie par programme dans `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="b670f-246">When creating this page (or any other content pages henceforth) you don't need to bind it to a master page because the master page is set programmatically in `BasePage`.</span></span> <span data-ttu-id="b670f-247">Toutefois, si vous ne liez pas la nouvelle page à une page maître, le balisage déclaratif par défaut de la nouvelle page contient un formulaire Web et tout autre contenu fourni par la page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-247">However, if you do not bind the new page to a master page then the new page's default declarative markup contains a Web Form and other content supplied by the master page.</span></span> <span data-ttu-id="b670f-248">Vous devez remplacer manuellement ce balisage par les contrôles de contenu appropriés.</span><span class="sxs-lookup"><span data-stu-id="b670f-248">You'll need to manually replace this markup with the appropriate Content controls.</span></span> <span data-ttu-id="b670f-249">Pour cette raison, je trouve qu’il est plus facile de lier la nouvelle page ASP.NET à une page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-249">For that reason, I find it easier to bind the new ASP.NET page to a master page.</span></span>

> [!NOTE]
> <span data-ttu-id="b670f-250">Étant donné que `Site.master` et `Alternate.master` ont le même jeu de contrôles ContentPlaceHolder, peu importe la page maître que vous choisissez lors de la création de la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="b670f-250">Because `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls it doesn't matter what master page you choose when creating the new content page.</span></span> <span data-ttu-id="b670f-251">Pour des fins de cohérence, je vous suggère d’utiliser `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-251">For consistency, I'd suggest using `Site.master`.</span></span>

<span data-ttu-id="b670f-252">[![ajouter une nouvelle page de contenu au site Web](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-252">[![Add a New Content Page to the Website](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span></span>

<span data-ttu-id="b670f-253">**Figure 05**: ajouter une nouvelle page de contenu au site Web ([cliquez pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-253">**Figure 05**: Add a New Content Page to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image15.png))</span></span>

<span data-ttu-id="b670f-254">Mettez à jour le fichier `Web.sitemap` pour inclure une entrée pour cette leçon.</span><span class="sxs-lookup"><span data-stu-id="b670f-254">Update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="b670f-255">Ajoutez le balisage suivant sous le `<siteMapNode>` pour les pages maîtres et la leçon ASP.NET AJAX :</span><span class="sxs-lookup"><span data-stu-id="b670f-255">Add the following markup beneath the `<siteMapNode>` for the Master Pages and ASP.NET AJAX lesson:</span></span>

[!code-xml[Main](specifying-the-master-page-programmatically-cs/samples/sample15.xml)]

<span data-ttu-id="b670f-256">Avant d’ajouter du contenu à la page `ChooseMasterPage.aspx`, prenez un moment pour mettre à jour la classe code-behind de la page afin qu’elle dérive de `BasePage` (plutôt que `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="b670f-256">Before adding any content to the `ChooseMasterPage.aspx` page take a moment to update the page's code-behind class so that it derives from `BasePage` (rather than `System.Web.UI.Page`).</span></span> <span data-ttu-id="b670f-257">Ensuite, ajoutez un contrôle DropDownList à la page, affectez à sa propriété `ID` la valeur `MasterPageChoice`et ajoutez deux ListItems avec les valeurs `Text` de « ~/site.Master » et de « ~/Alternate.Master ».</span><span class="sxs-lookup"><span data-stu-id="b670f-257">Next, add a DropDownList control to the page, set its `ID` property to `MasterPageChoice`, and add two ListItems with the `Text` values of "~/Site.master" and "~/Alternate.master".</span></span>

<span data-ttu-id="b670f-258">Ajoutez un contrôle Web Button à la page et définissez ses propriétés `ID` et `Text` sur `SaveLayout` et « enregistrer le choix de disposition », respectivement.</span><span class="sxs-lookup"><span data-stu-id="b670f-258">Add a Button Web control to the page and set its `ID` and `Text` properties to `SaveLayout` and "Save Layout Choice", respectively.</span></span> <span data-ttu-id="b670f-259">À ce stade, le balisage déclaratif de votre page doit ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="b670f-259">At this point your page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample16.aspx)]

<span data-ttu-id="b670f-260">Lorsque la page est visitée pour la première fois, vous devez afficher le choix de la page maître actuellement sélectionnée de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="b670f-260">When the page is first visited we need to display the user's currently selected master page choice.</span></span> <span data-ttu-id="b670f-261">Créez un gestionnaire d’événements `Page_Load` et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="b670f-261">Create a `Page_Load` event handler and add the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample17.cs)]

<span data-ttu-id="b670f-262">Le code ci-dessus s’exécute uniquement sur la première page visitée (et non sur les publications (postbacks) suivantes).</span><span class="sxs-lookup"><span data-stu-id="b670f-262">The above code executes only on the first page visit (and not on subsequent postbacks).</span></span> <span data-ttu-id="b670f-263">Il vérifie d’abord si la variable de session `MyMasterPage` existe.</span><span class="sxs-lookup"><span data-stu-id="b670f-263">It first checks to see if the Session variable `MyMasterPage` exists.</span></span> <span data-ttu-id="b670f-264">Si c’est le cas, il tente de trouver le ListItem correspondant dans le `MasterPageChoice` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="b670f-264">If it does, it attempts to find the matching ListItem in the `MasterPageChoice` DropDownList.</span></span> <span data-ttu-id="b670f-265">Si une valeur ListItem correspondante est trouvée, sa propriété `Selected` est définie sur `true`.</span><span class="sxs-lookup"><span data-stu-id="b670f-265">If a matching ListItem is found, its `Selected` property is set to `true`.</span></span>

<span data-ttu-id="b670f-266">Nous avons également besoin d’un code qui enregistre le choix de l’utilisateur dans la variable de session `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b670f-266">We also need code that saves the user's choice into the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="b670f-267">Créez un gestionnaire d’événements pour l’événement `Click` du bouton `SaveLayout` et ajoutez le code suivant :</span><span class="sxs-lookup"><span data-stu-id="b670f-267">Create an event handler for the `SaveLayout` Button's `Click` event and add the following code:</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample18.cs)]

> [!NOTE]
> <span data-ttu-id="b670f-268">Au moment où le gestionnaire d’événements `Click` s’exécute lors de la publication (postback), la page maître a déjà été sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="b670f-268">By the time the `Click` event handler executes on postback, the master page has already been selected.</span></span> <span data-ttu-id="b670f-269">Par conséquent, la sélection de la liste déroulante de l’utilisateur ne sera pas appliquée jusqu’à la prochaine visite de la page.</span><span class="sxs-lookup"><span data-stu-id="b670f-269">Therefore, the user's drop-down list selection won't be in effect until the next page visit.</span></span> <span data-ttu-id="b670f-270">Le `Response.Redirect` oblige le navigateur à redemander `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b670f-270">The `Response.Redirect` forces the browser to re-request `ChooseMasterPage.aspx`.</span></span>

<span data-ttu-id="b670f-271">Une fois la page `ChooseMasterPage.aspx` terminée, la dernière tâche consiste à avoir `BasePage` affecter la propriété `MasterPageFile` en fonction de la valeur de la variable de session `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="b670f-271">With the `ChooseMasterPage.aspx` page complete, our final task is to have `BasePage` assign the `MasterPageFile` property based on the value of the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="b670f-272">Si la variable de session n’est pas définie, `BasePage` valeur par défaut est `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="b670f-272">If the Session variable is not set have `BasePage` default to `Site.master`.</span></span>

[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample19.cs)]

> [!NOTE]
> <span data-ttu-id="b670f-273">J’ai déplacé le code qui affecte la propriété `MasterPageFile` de l’objet `Page` à partir du gestionnaire d’événements `OnPreInit` et à deux méthodes distinctes.</span><span class="sxs-lookup"><span data-stu-id="b670f-273">I moved the code that assigns the `Page` object's `MasterPageFile` property out of the `OnPreInit` event handler and into two separate methods.</span></span> <span data-ttu-id="b670f-274">Cette première méthode, `SetMasterPageFile`, assigne la propriété `MasterPageFile` à la valeur retournée par la deuxième méthode, `GetMasterPageFileFromSession`.</span><span class="sxs-lookup"><span data-stu-id="b670f-274">This first method, `SetMasterPageFile`, assigns the `MasterPageFile` property to the value returned by the second method, `GetMasterPageFileFromSession`.</span></span> <span data-ttu-id="b670f-275">J’ai rendu la méthode `SetMasterPageFile` `virtual` afin que les futures classes qui étendent `BasePage` puissent éventuellement la substituer pour implémenter une logique personnalisée, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="b670f-275">I made the `SetMasterPageFile` method `virtual` so that future classes that extend `BasePage` can optionally override it to implement custom logic, if needed.</span></span> <span data-ttu-id="b670f-276">Nous verrons un exemple de remplacement de la propriété `SetMasterPageFile` de `BasePage`dans le didacticiel suivant.</span><span class="sxs-lookup"><span data-stu-id="b670f-276">We'll see an example of overriding `BasePage`'s `SetMasterPageFile` property in the next tutorial.</span></span>

<span data-ttu-id="b670f-277">Une fois ce code en place, accédez à la page `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="b670f-277">With this code in place, visit the `ChooseMasterPage.aspx` page.</span></span> <span data-ttu-id="b670f-278">Au départ, la page maître `Site.master` est sélectionnée (voir figure 6), mais l’utilisateur peut choisir une autre page maître dans la liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="b670f-278">Initially, the `Site.master` master page is selected (see Figure 6), but the user can pick a different master page from the drop-down list.</span></span>

<span data-ttu-id="b670f-279">[![pages de contenu s’affichent à l’aide de la page maître site. Master](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-279">[![Content Pages are Displayed Using the Site.master Master Page](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span></span>

<span data-ttu-id="b670f-280">**Figure 06**: les pages de contenu s’affichent à l’aide de la `Site.master` page maître ([cliquez pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-280">**Figure 06**: Content Pages are Displayed Using the `Site.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image18.png))</span></span>

<span data-ttu-id="b670f-281">[![pages de contenu sont maintenant affichées à l’aide de la page maître autre. Master.](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="b670f-281">[![Content Pages are Now Displayed Using the Alternate.master Master Page](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span></span>

<span data-ttu-id="b670f-282">**Figure 07**: les pages de contenu s’affichent désormais à l’aide de la `Alternate.master` page maître ([cliquez pour afficher l’image en taille réelle](specifying-the-master-page-programmatically-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="b670f-282">**Figure 07**: Content Pages are Now Displayed Using the `Alternate.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image21.png))</span></span>

## <a name="summary"></a><span data-ttu-id="b670f-283">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="b670f-283">Summary</span></span>

<span data-ttu-id="b670f-284">Quand une page de contenu est visitée, ses contrôles de contenu sont fusionnés avec les contrôles ContentPlaceHolder de sa page maître.</span><span class="sxs-lookup"><span data-stu-id="b670f-284">When a content page is visited, its Content controls are fused with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="b670f-285">La page maître de la page de contenu est indiquée par la propriété `MasterPageFile` de la classe `Page`, qui est assignée à l’attribut `MasterPageFile` de la directive `@Page` au cours de l’étape d’initialisation.</span><span class="sxs-lookup"><span data-stu-id="b670f-285">The content page's master page is denoted by the `Page` class's `MasterPageFile` property, which is assigned to the `@Page` directive's `MasterPageFile` attribute during the Initialization stage.</span></span> <span data-ttu-id="b670f-286">Comme ce didacticiel l’a montré, nous pouvons affecter une valeur à la propriété `MasterPageFile` tant que nous le faisons avant la fin de l’étape de préinitialisation.</span><span class="sxs-lookup"><span data-stu-id="b670f-286">As this tutorial showed, we can assign a value to the `MasterPageFile` property as long as we do so before the end of the PreInit stage.</span></span> <span data-ttu-id="b670f-287">La possibilité de spécifier par programmation la page maître ouvre la porte à des scénarios plus avancés, tels que la liaison dynamique d’une page de contenu à une page maître en fonction de facteurs externes.</span><span class="sxs-lookup"><span data-stu-id="b670f-287">Being able to programmatically specify the master page opens the door for more advanced scenarios, such as dynamically binding a content page to a master page based on external factors.</span></span>

<span data-ttu-id="b670f-288">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="b670f-288">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="b670f-289">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="b670f-289">Further Reading</span></span>

<span data-ttu-id="b670f-290">Pour plus d’informations sur les sujets abordés dans ce didacticiel, reportez-vous aux ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="b670f-290">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="b670f-291">Diagramme du cycle de vie de la page ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b670f-291">ASP.NET Page Lifecycle Diagram</span></span>](http://emanish.googlepages.com/Asp.Net2.0Lifecycle.PNG)
- [<span data-ttu-id="b670f-292">Présentation du cycle de vie de la page ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b670f-292">ASP.NET Page Lifecycle Overview</span></span>](https://msdn.microsoft.com/library/ms178472.aspx)
- [<span data-ttu-id="b670f-293">Vue d’ensemble des thèmes et des apparences ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b670f-293">ASP.NET Themes and Skins Overview</span></span>](https://msdn.microsoft.com/library/ykzx33wh.aspx)
- [<span data-ttu-id="b670f-294">Pages maîtres : conseils, astuces et interruptions</span><span class="sxs-lookup"><span data-stu-id="b670f-294">Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="b670f-295">Thèmes dans ASP.NET</span><span class="sxs-lookup"><span data-stu-id="b670f-295">Themes in ASP.NET</span></span>](http://www.odetocode.com/articles/423.aspx)

### <a name="about-the-author"></a><span data-ttu-id="b670f-296">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="b670f-296">About the Author</span></span>

<span data-ttu-id="b670f-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de plusieurs ouvrages ASP/ASP. net et fondateur de 4GuysFromRolla.com, travaille avec les technologies Web de Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="b670f-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="b670f-298">Scott travaille en tant que consultant, formateur et auteur indépendant.</span><span class="sxs-lookup"><span data-stu-id="b670f-298">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="b670f-299">Son dernier livre est [*Sams vous apprend vous-même ASP.NET 3,5 en 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="b670f-299">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="b670f-300">Scott peut être contacté au [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) ou via son blog à l’adresse [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="b670f-300">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="b670f-301">Remerciements à</span><span class="sxs-lookup"><span data-stu-id="b670f-301">Special Thanks To</span></span>

<span data-ttu-id="b670f-302">Cette série de didacticiels a été examinée par de nombreux réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="b670f-302">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="b670f-303">Le réviseur de leads pour ce didacticiel était Teli Banerjee.</span><span class="sxs-lookup"><span data-stu-id="b670f-303">Lead reviewer for this tutorial was Suchi Banerjee.</span></span> <span data-ttu-id="b670f-304">Vous souhaitez revoir mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="b670f-304">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="b670f-305">Dans ce cas, insérez une ligne à [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="b670f-305">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="b670f-306">[Précédent](master-pages-and-asp-net-ajax-cs.md)
> [Suivant](nested-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="b670f-306">[Previous](master-pages-and-asp-net-ajax-cs.md)
[Next](nested-master-pages-cs.md)</span></span>
