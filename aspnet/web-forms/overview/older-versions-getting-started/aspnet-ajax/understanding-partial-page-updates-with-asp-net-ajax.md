---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
title: Présentation des mises à jour de Page partielle avec ASP.NET AJAX | Microsoft Docs
author: scottcate
description: La fonctionnalité la plus visible des Extensions ASP.NET AJAX est peut-être la possibilité d’effectuer des mises à jour une page partielle ou incrémentielle sans effectuer une publication automatique complète en t...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 54d9df99-1161-4899-b4e8-2679c85915e7
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
msc.type: authoredcontent
ms.openlocfilehash: d2d7982a4e0175824ffede965dc8206219485df2
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59396471"
---
# <a name="understanding-partial-page-updates-with-aspnet-ajax"></a><span data-ttu-id="8317f-103">Présentation des mises à jour de page partielles avec ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="8317f-103">Understanding Partial Page Updates with ASP.NET AJAX</span></span>

<span data-ttu-id="8317f-104">par [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="8317f-104">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="8317f-105">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="8317f-105">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial01_Partial_Page_Updates_cs.pdf)

> <span data-ttu-id="8317f-106">La fonctionnalité la plus visible des Extensions ASP.NET AJAX est peut-être la possibilité d’effectuer des mises à jour une page partielle ou incrémentielle sans effectuer une publication automatique complète sur le serveur, sans modifications de code et les changements de balise minimal.</span><span class="sxs-lookup"><span data-stu-id="8317f-106">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="8317f-107">Les avantages sont étendues : l’état de vos éléments multimédias (par exemple, Adobe Flash ou un support de Windows) est inchangé, coûts de bande passante sont réduits, et le client ne connaît pas le scintillement généralement associé à une publication (postback).</span><span class="sxs-lookup"><span data-stu-id="8317f-107">The advantages are extensive – the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>


## <a name="introduction"></a><span data-ttu-id="8317f-108">Introduction</span><span class="sxs-lookup"><span data-stu-id="8317f-108">Introduction</span></span>

<span data-ttu-id="8317f-109">Technologie de Microsoft ASP.NET offre un modèle de programmation orientée objet et événementiel et il unifie les avantages du code compilé.</span><span class="sxs-lookup"><span data-stu-id="8317f-109">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="8317f-110">Toutefois, son modèle de traitement côté serveur présente plusieurs inconvénients inhérents à la technologie :</span><span class="sxs-lookup"><span data-stu-id="8317f-110">However, its server-side processing model has several drawbacks inherent in the technology:</span></span>

- <span data-ttu-id="8317f-111">Mises à jour de la page nécessitent un aller-retour vers le serveur, ce qui nécessite une actualisation de la page.</span><span class="sxs-lookup"><span data-stu-id="8317f-111">Page updates require a round-trip to the server, which requires a page refresh.</span></span>
- <span data-ttu-id="8317f-112">Boucles ne sont pas conservent tous les effets générés par Javascript ou autre technologie côté client (par exemple, Adobe Flash)</span><span class="sxs-lookup"><span data-stu-id="8317f-112">Round-trips do not persist any effects generated by Javascript or other client-side technology (such as Adobe Flash)</span></span>
- <span data-ttu-id="8317f-113">Au cours de la publication (postback), les navigateurs autres que Microsoft Internet Explorer ne gèrent pas restaurer automatiquement la position de défilement.</span><span class="sxs-lookup"><span data-stu-id="8317f-113">During postback, browsers other than Microsoft Internet Explorer do not support automatically restoring the scroll position.</span></span> <span data-ttu-id="8317f-114">Et même dans Internet Explorer, il existe toujours un scintillement comme la page est actualisée.</span><span class="sxs-lookup"><span data-stu-id="8317f-114">And even in Internet Explorer, there is still a flicker as the page is refreshed.</span></span>
- <span data-ttu-id="8317f-115">Publications (postbacks) peut impliquer une grande quantité de bande passante, comme le \_ \_peut augmenter de champ de formulaire d’état d’affichage, en particulier lorsque vous traitez des contrôles tels que le contrôle GridView ou répéteurs.</span><span class="sxs-lookup"><span data-stu-id="8317f-115">Postbacks may involve a high amount of bandwidth as the \_\_VIEWSTATE form field may grow, especially when dealing with controls such as the GridView control or repeaters.</span></span>
- <span data-ttu-id="8317f-116">Il n’existe aucun modèle unifié pour accéder aux Services Web via JavaScript ou autre technologie côté client.</span><span class="sxs-lookup"><span data-stu-id="8317f-116">There is no unified model for accessing Web Services through JavaScript or other client-side technology.</span></span>

<span data-ttu-id="8317f-117">Entrez les extensions ASP.NET AJAX de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="8317f-117">Enter Microsoft's ASP.NET AJAX extensions.</span></span> <span data-ttu-id="8317f-118">AJAX, signifiant **A** synchrone **J** avaScript **A** nd **X** ML, est une infrastructure intégrée permettant la page incrémentielle mises à jour via JavaScript inter-plateformes, composée de code côté serveur qui comprend l’infrastructure AJAX de Microsoft et un composant de script appelé Script Microsoft AJAX Library.</span><span class="sxs-lookup"><span data-stu-id="8317f-118">AJAX, which stands for **A** synchronous **J** avaScript **A** nd **X** ML, is an integrated framework for providing incremental page updates via cross-platform JavaScript, composed of server-side code comprising the Microsoft AJAX Framework, and a script component called the Microsoft AJAX Script Library.</span></span> <span data-ttu-id="8317f-119">Les extensions ASP.NET AJAX fournissent également prise en charge multiplateforme pour accéder à des Services Web ASP.NET via JavaScript.</span><span class="sxs-lookup"><span data-stu-id="8317f-119">The ASP.NET AJAX extensions also provide cross-platform support for accessing ASP.NET Web Services via JavaScript.</span></span>

<span data-ttu-id="8317f-120">Ce livre blanc examine les fonctionnalités de mises à jour de page partielle des Extensions ASP.NET AJAX, qui inclut le composant ScriptManager, le contrôle UpdatePanel et le contrôle UpdateProgress et prend en compte les scénarios dans lesquels ils doivent ou ne doivent pas être utilisé.</span><span class="sxs-lookup"><span data-stu-id="8317f-120">This whitepaper examines the partial page updates functionality of the ASP.NET AJAX Extensions, which includes the ScriptManager component, the UpdatePanel control, and the UpdateProgress control, and considers scenarios in which they should or should not be utilized.</span></span>

<span data-ttu-id="8317f-121">Ce livre blanc est basé sur la version bêta 2 de Visual Studio 2008 et .NET Framework 3.5, qui intègre les Extensions ASP.NET AJAX dans la bibliothèque de classes de Base (où il était précédemment un composant additionnel disponible pour ASP.NET 2.0).</span><span class="sxs-lookup"><span data-stu-id="8317f-121">This whitepaper is based on the Beta 2 release of the Visual Studio 2008 and the .NET Framework 3.5, which integrates the ASP.NET AJAX Extensions into the Base Class Library (where it was previously an add-on component available for ASP.NET 2.0).</span></span> <span data-ttu-id="8317f-122">Ce livre blanc suppose également que vous utilisez Visual Studio 2008 et pas Visual Web Developer Express Edition ; Certains modèles de projet qui sont référencés n’est peut-être pas disponibles pour les utilisateurs de Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="8317f-122">This whitepaper also assumes that you are using Visual Studio 2008 and not Visual Web Developer Express Edition; some project templates that are referenced may not be available to Visual Web Developer Express users.</span></span>

## <a name="partial-page-updates"></a><span data-ttu-id="8317f-123">Mises à jour de Page partielle</span><span class="sxs-lookup"><span data-stu-id="8317f-123">Partial Page Updates</span></span>

<span data-ttu-id="8317f-124">La fonctionnalité la plus visible des Extensions ASP.NET AJAX est peut-être la possibilité d’effectuer des mises à jour une page partielle ou incrémentielle sans effectuer une publication automatique complète sur le serveur, sans modifications de code et les changements de balise minimal.</span><span class="sxs-lookup"><span data-stu-id="8317f-124">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="8317f-125">Les avantages sont étendues : l’état de vos éléments multimédias (par exemple, Adobe Flash ou un support de Windows) est inchangé, réduction des coûts de bande passante et le client ne connaît pas le scintillement généralement associé à une publication (postback).</span><span class="sxs-lookup"><span data-stu-id="8317f-125">The advantages are extensive - the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

<span data-ttu-id="8317f-126">La possibilité d’intégrer le rendu de page partielle est intégrée à ASP.NET avec des modifications minimes dans votre projet.</span><span class="sxs-lookup"><span data-stu-id="8317f-126">The ability to integrate partial page rendering is integrated into ASP.NET with minimal changes into your project.</span></span>

## <a name="walkthrough-integrating-partial-rendering-into-an-existing-project"></a><span data-ttu-id="8317f-127">Procédure pas à pas : L’intégration de rendu partiel dans un projet existant</span><span class="sxs-lookup"><span data-stu-id="8317f-127">Walkthrough: Integrating Partial Rendering into an Existing Project</span></span>


1. <span data-ttu-id="8317f-128">Dans Microsoft Visual Studio 2008, créez un projet de Site Web ASP.NET en accédant à <em>fichier</em>  <em>- &gt; New</em>  <em>- &gt; le Site Web</em> et en sélectionnant le Site Web ASP.NET à partir de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="8317f-128">In Microsoft Visual Studio 2008, create a new ASP.NET Web Site project by going to <em>File</em><em>-&gt; New</em><em>-&gt; Web Site</em> and selecting ASP.NET Web Site from the dialog.</span></span> <span data-ttu-id="8317f-129">Vous pouvez le nommer comme vous le souhaitez, et vous pouvez l’installer dans le système de fichiers ou dans les Services Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="8317f-129">You can name it whatever you like, and you may install it either to the file system or into Internet Information Services (IIS).</span></span>
2. <span data-ttu-id="8317f-130">S’affiche avec la page par défaut vide avec le balisage de base ASP.NET (un formulaire côté serveur et un `@Page` directive).</span><span class="sxs-lookup"><span data-stu-id="8317f-130">You will be presented with the blank default page with basic ASP.NET markup (a server-side form and an `@Page` directive).</span></span> <span data-ttu-id="8317f-131">Supprimer une étiquette appelée `Label1` et un bouton appelé `Button1` sur la page dans l’élément de formulaire.</span><span class="sxs-lookup"><span data-stu-id="8317f-131">Drop a Label called `Label1` and a Button called `Button1` onto the page within the form element.</span></span> <span data-ttu-id="8317f-132">Vous pouvez définir leurs propriétés de texte à votre convenance.</span><span class="sxs-lookup"><span data-stu-id="8317f-132">You may set their text properties to whatever you like.</span></span>
3. <span data-ttu-id="8317f-133">En mode conception, double-cliquez sur `Button1` pour générer un gestionnaire d’événements de code-behind.</span><span class="sxs-lookup"><span data-stu-id="8317f-133">In Design view, double-click `Button1` to generate a code-behind event handler.</span></span> <span data-ttu-id="8317f-134">Dans ce gestionnaire d’événements, définissez `Label1.Text` à, vous avez cliqué sur le bouton !</span><span class="sxs-lookup"><span data-stu-id="8317f-134">Within this event handler, set `Label1.Text` to You clicked the button!</span></span> <span data-ttu-id="8317f-135">.</span><span class="sxs-lookup"><span data-stu-id="8317f-135">.</span></span>

<span data-ttu-id="8317f-136">**Liste 1 : Balisage de default.aspx avant le rendu partiel est activé.**</span><span class="sxs-lookup"><span data-stu-id="8317f-136">**Listing 1: Markup for default.aspx before partial rendering is enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample1.aspx)]

<span data-ttu-id="8317f-137">**Listing 2 : Code-behind (supprimé) dans default.aspx.cs**</span><span class="sxs-lookup"><span data-stu-id="8317f-137">**Listing 2: Codebehind (trimmed) in default.aspx.cs**</span></span>

[!code-csharp[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample2.cs)]

1. <span data-ttu-id="8317f-138">Appuyez sur F5 pour lancer votre site web.</span><span class="sxs-lookup"><span data-stu-id="8317f-138">Press F5 to launch your web site.</span></span> <span data-ttu-id="8317f-139">Visual Studio vous invite à ajouter un fichier web.config pour activer le débogage ; le faire.</span><span class="sxs-lookup"><span data-stu-id="8317f-139">Visual Studio will prompt you to add a web.config file to enable debugging; do so.</span></span> <span data-ttu-id="8317f-140">Lorsque vous cliquez sur le bouton, notez que la page est actualisée pour modifier le texte dans l’étiquette, et il existe un scintillement brève comme la page est redessinée.</span><span class="sxs-lookup"><span data-stu-id="8317f-140">When you click the button, notice that the page refreshes to change the text in the label, and there is a brief flicker as the page is redrawn.</span></span>
2. <span data-ttu-id="8317f-141">Après la fermeture de la fenêtre du navigateur, retournez à Visual Studio et à la page de balisage.</span><span class="sxs-lookup"><span data-stu-id="8317f-141">After closing your browser window, return to Visual Studio and to the markup page.</span></span> <span data-ttu-id="8317f-142">Défiler vers le bas dans la boîte à outils Visual Studio et l’onglet Extensions AJAX.</span><span class="sxs-lookup"><span data-stu-id="8317f-142">Scroll down in the Visual Studio toolbox, and find the tab labeled AJAX Extensions.</span></span> <span data-ttu-id="8317f-143">(Si vous n’avez pas cet onglet, car vous utilisez une version antérieure des extensions AJAX ou Atlas, reportez-vous à la procédure pas à pas pour enregistrer les éléments de boîte à outils des Extensions AJAX plus loin dans ce livre blanc, ou installez la version actuelle avec le programme d’installation de Windows téléchargeable à partir du site Web).</span><span class="sxs-lookup"><span data-stu-id="8317f-143">(If you do not have this tab because you are using an older version of AJAX or Atlas extensions, refer to the walkthrough for registering the AJAX Extensions toolbox items later in this whitepaper, or install the current version with the Windows Installer downloadable from the website).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image2.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image1.png)

<span data-ttu-id="8317f-144">([Cliquez pour afficher l’image en taille réelle](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="8317f-144">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span></span>


1. <span data-ttu-id="8317f-145"><em>Problème connu :</em>si vous installez Visual Studio 2008 sur un ordinateur équipé de Visual Studio 2005 est installé avec les Extensions ASP.NET 2.0 AJAX, Visual Studio 2008 importe les éléments de boîte à outils AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="8317f-145"><em>Known Issue:</em>If you install Visual Studio 2008 onto a computer that already has Visual Studio 2005 installed with the ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 will import the AJAX Extensions toolbox items.</span></span> <span data-ttu-id="8317f-146">Vous pouvez déterminer si c’est le cas en examinant l’info-bulle des composants ; Il doivent indiquer la Version 3.5.0.0.</span><span class="sxs-lookup"><span data-stu-id="8317f-146">You can determine whether this is the case by examining the tooltip of the components; they should say Version 3.5.0.0.</span></span> <span data-ttu-id="8317f-147">S’ils disent Version 2.0.0.0, puis vous avez importé vos anciens éléments de boîte à outils et devez les importer manuellement à l’aide de la boîte de dialogue Choisir des éléments de boîte à outils dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8317f-147">If they say Version 2.0.0.0, then you have imported your old toolbox items, and will need to manually import them by using the Choose Toolbox Items dialog in Visual Studio.</span></span> <span data-ttu-id="8317f-148">Il se peut que vous ne pourrez pas ajouter des contrôles de Version 2 via le concepteur.</span><span class="sxs-lookup"><span data-stu-id="8317f-148">You will be unable to add Version 2 controls via the designer.</span></span>

2. <span data-ttu-id="8317f-149">Avant du `<asp:Label>` balise commence, créer une ligne de l’espace blanc et double-cliquez sur le contrôle UpdatePanel dans la boîte à outils.</span><span class="sxs-lookup"><span data-stu-id="8317f-149">Before the `<asp:Label>` tag begins, create a line of whitespace, and double-click on the UpdatePanel control in the toolbox.</span></span> <span data-ttu-id="8317f-150">Notez qu’un nouveau `@Register` directive est incluse en haut de la page, indiquant que les contrôles dans l’espace de noms System.Web.UI doivent être importées à l’aide de la `asp:` préfixe.</span><span class="sxs-lookup"><span data-stu-id="8317f-150">Note that a new `@Register` directive is included at the top of the page, indicating that controls within the System.Web.UI namespace should be imported using the `asp:` prefix.</span></span>
3. <span data-ttu-id="8317f-151">Faites glisser la fermeture `</asp:UpdatePanel>` balise après la fin de l’élément Button, afin que l’élément soit bien formé avec les contrôles Label et Button encapsulés.</span><span class="sxs-lookup"><span data-stu-id="8317f-151">Drag the closing `</asp:UpdatePanel>` tag past the end of the Button element, so that the element is well-formed with the Label and Button controls wrapped.</span></span>
4. <span data-ttu-id="8317f-152">Après l’ouverture `<asp:UpdatePanel>` balise, commencer une nouvelle balise d’ouverture.</span><span class="sxs-lookup"><span data-stu-id="8317f-152">After the opening `<asp:UpdatePanel>` tag, begin opening a new tag.</span></span> <span data-ttu-id="8317f-153">Notez qu’IntelliSense vous présente deux options.</span><span class="sxs-lookup"><span data-stu-id="8317f-153">Note that IntelliSense prompts you with two options.</span></span> <span data-ttu-id="8317f-154">Dans ce cas, créez un `<ContentTemplate>` balise.</span><span class="sxs-lookup"><span data-stu-id="8317f-154">In this case, create a `<ContentTemplate>` tag.</span></span> <span data-ttu-id="8317f-155">Veillez à encapsuler cette balise autour de votre étiquette et un bouton afin que le balisage est bien formé.</span><span class="sxs-lookup"><span data-stu-id="8317f-155">Be sure to wrap this tag around your Label and Button so that the markup is well-formed.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image5.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image4.png)

<span data-ttu-id="8317f-156">([Cliquez pour afficher l’image en taille réelle](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="8317f-156">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span></span>


1. <span data-ttu-id="8317f-157">N’importe où dans le `<form>` élément, inclure un contrôle ScriptManager en double-cliquant sur le `ScriptManager` élément dans la boîte à outils.</span><span class="sxs-lookup"><span data-stu-id="8317f-157">Anywhere within the `<form>` element, include a ScriptManager control by double-clicking on the `ScriptManager` item in the toolbox.</span></span>
2. <span data-ttu-id="8317f-158">Modifier le `<asp:ScriptManager>` balise afin qu’il inclue l’attribut `EnablePartialRendering= true`.</span><span class="sxs-lookup"><span data-stu-id="8317f-158">Edit the `<asp:ScriptManager>` tag so that it includes the attribute `EnablePartialRendering= true`.</span></span>

<span data-ttu-id="8317f-159">**Liste 3 : Balisage de default.aspx avec le rendu partiel est activé**</span><span class="sxs-lookup"><span data-stu-id="8317f-159">**Listing 3: Markup for default.aspx with partial rendering enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample3.aspx)]

1. <span data-ttu-id="8317f-160">Ouvrez votre fichier web.config.</span><span class="sxs-lookup"><span data-stu-id="8317f-160">Open your web.config file.</span></span> <span data-ttu-id="8317f-161">Notez que Visual Studio a ajouté automatiquement une référence de compilation à System.Web.Extensions.dll.</span><span class="sxs-lookup"><span data-stu-id="8317f-161">Notice that Visual Studio has automatically added a compilation reference to System.Web.Extensions.dll.</span></span>

1. <span data-ttu-id="8317f-162">Quelles sont les nouveautés dans Visual Studio 2008 : Le fichier web.config qui est fourni avec le Site de Web ASP.NET modèles de projet automatiquement inclut toutes les références nécessaires pour les Extensions ASP.NET AJAX et inclut les sections d’informations de configuration qui peuvent être non commentée pour activer supplémentaires commentées fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="8317f-162">What's New in Visual Studio 2008: The web.config that comes with the ASP.NET Web Site project templates automatically includes all necessary references to the ASP.NET AJAX Extensions, and includes commented sections of configuration information that can be un-commented to enable additional functionality.</span></span> <span data-ttu-id="8317f-163">Visual Studio 2005 avaient des modèles similaires lorsque ASP.NET 2.0 AJAX Extensions ont été installées.</span><span class="sxs-lookup"><span data-stu-id="8317f-163">Visual Studio 2005 had similar templates when ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="8317f-164">Toutefois, dans Visual Studio 2008, les Extensions AJAX sont opt-out par défaut (autrement dit, ils sont référencés par défaut, mais peuvent être supprimés en tant que références).</span><span class="sxs-lookup"><span data-stu-id="8317f-164">However, in Visual Studio 2008, the AJAX Extensions are opt-out by default (that is, they are referenced by default, but can be removed as references).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image8.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image7.png)

<span data-ttu-id="8317f-165">([Cliquez pour afficher l’image en taille réelle](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="8317f-165">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span></span>


1. <span data-ttu-id="8317f-166">Appuyez sur F5 pour lancer votre site Web.</span><span class="sxs-lookup"><span data-stu-id="8317f-166">Press F5 to launch your website.</span></span> <span data-ttu-id="8317f-167">Notez comment aucune modification de code source ont été nécessaires pour prendre en charge le rendu partiel - uniquement le balisage a été modifié.</span><span class="sxs-lookup"><span data-stu-id="8317f-167">Note how no source code changes were required to support partial rendering - only markup was changed.</span></span>

<span data-ttu-id="8317f-168">Lorsque vous lancez votre site Web, vous devez voir que le rendu partiel est maintenant activée, car lorsque vous cliquez sur le bouton il ne sera pas de scintillement ni y aura-t-il toute modification de la position de défilement de page (cet exemple ne montre pas qui).</span><span class="sxs-lookup"><span data-stu-id="8317f-168">When you launch your website, you should see that partial rendering is now enabled, because when you click on the button there will be no flicker, nor will there be any change in the page scroll position (this example does not demonstrate that).</span></span> <span data-ttu-id="8317f-169">Si vous deviez examiner la source de la page affichée après avoir cliqué sur le bouton, il confirme qu’en fait la publication en retour n’a pas eu lieu - le texte d’étiquette d’origine fait toujours partie de la balise source, et l’étiquette a changé via JavaScript.</span><span class="sxs-lookup"><span data-stu-id="8317f-169">If you were to look at the rendered source of the page after clicking the button, it will confirm that in fact a post-back has not occurred - the original label text is still part of the source markup, and the label has changed through JavaScript.</span></span>

<span data-ttu-id="8317f-170">Visual Studio 2008 ne semble pas être accompagnée d’un modèle prédéfini pour un site web compatible ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="8317f-170">Visual Studio 2008 does not appear to come with a pre-defined template for an ASP.NET AJAX-Enabled web site.</span></span> <span data-ttu-id="8317f-171">Toutefois, un tel modèle était disponible dans Visual Studio 2005 si le Visual Studio 2005 et ASP.NET 2.0 AJAX Extensions ont été installées.</span><span class="sxs-lookup"><span data-stu-id="8317f-171">However, such a template was available within Visual Studio 2005 if the Visual Studio 2005 and ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="8317f-172">Par conséquent, configuration d’un site web et en commençant par le modèle de Site de Web compatible AJAX seront probablement encore plus faciles, comme le modèle doit inclure un fichier web.config entièrement configuré (prenant en charge toutes les Extensions ASP.NET AJAX, notamment l’accès aux Services Web et la sérialisation JSON - JavaScript Object Notation) et inclut un UpdatePanel et le ContentTemplate au sein de la page Web Forms principale par défaut.</span><span class="sxs-lookup"><span data-stu-id="8317f-172">Consequently, configuring a web site and starting with the AJAX-Enabled Web Site template will likely be even easier, as the template should include a fully-configured web.config file (supporting all of the ASP.NET AJAX Extensions, including Web Services access and JSON serialization - JavaScript Object Notation) and includes an UpdatePanel and ContentTemplate within the main Web Forms page by default.</span></span> <span data-ttu-id="8317f-173">L’activation de rendu partiel avec cette page par défaut est aussi simple que revisité étape 10 de cette procédure pas à pas et en déposant les contrôles sur la page.</span><span class="sxs-lookup"><span data-stu-id="8317f-173">Enabling partial rendering with this default page is as simple as revisiting Step 10 of this walkthrough and dropping controls onto the page.</span></span>

## <a name="the-scriptmanager-control"></a><span data-ttu-id="8317f-174">Le contrôle ScriptManager</span><span class="sxs-lookup"><span data-stu-id="8317f-174">The ScriptManager Control</span></span>

## <a name="scriptmanager-control-reference"></a><span data-ttu-id="8317f-175">Référence du contrôle ScriptManager</span><span class="sxs-lookup"><span data-stu-id="8317f-175">ScriptManager Control Reference</span></span>

<span data-ttu-id="8317f-176">Propriétés du balisage activé :</span><span class="sxs-lookup"><span data-stu-id="8317f-176">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="8317f-177">**Nom de la propriété**</span><span class="sxs-lookup"><span data-stu-id="8317f-177">**Property Name**</span></span> | <span data-ttu-id="8317f-178">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-178">**Type**</span></span> | <span data-ttu-id="8317f-179">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-179">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-180">AllowCustomErrors-Redirect</span><span class="sxs-lookup"><span data-stu-id="8317f-180">AllowCustomErrors-Redirect</span></span> | <span data-ttu-id="8317f-181">Bool</span><span class="sxs-lookup"><span data-stu-id="8317f-181">Bool</span></span> | <span data-ttu-id="8317f-182">Spécifie s’il faut utiliser la section d’erreurs personnalisées du fichier web.config pour gérer les erreurs.</span><span class="sxs-lookup"><span data-stu-id="8317f-182">Specifies whether to use the custom error section of the web.config file to handle errors.</span></span> |
| <span data-ttu-id="8317f-183">AsyncPostBackError-Message</span><span class="sxs-lookup"><span data-stu-id="8317f-183">AsyncPostBackError-Message</span></span> | <span data-ttu-id="8317f-184">Chaîne</span><span class="sxs-lookup"><span data-stu-id="8317f-184">String</span></span> | <span data-ttu-id="8317f-185">Obtient ou définit le message d’erreur envoyé au client si une erreur est générée.</span><span class="sxs-lookup"><span data-stu-id="8317f-185">Gets or sets the error message sent to the client if an error is raised.</span></span> |
| <span data-ttu-id="8317f-186">AsyncPostBack-Timeout</span><span class="sxs-lookup"><span data-stu-id="8317f-186">AsyncPostBack-Timeout</span></span> | <span data-ttu-id="8317f-187">Int32</span><span class="sxs-lookup"><span data-stu-id="8317f-187">Int32</span></span> | <span data-ttu-id="8317f-188">Obtient ou définit la quantité par défaut d’une heure, qu'un client doit attendre la demande asynchrone s’achève.</span><span class="sxs-lookup"><span data-stu-id="8317f-188">Gets or sets the default amount of a time a client should wait for the asynchronous request to complete.</span></span> |
| <span data-ttu-id="8317f-189">EnableScript-Globalization</span><span class="sxs-lookup"><span data-stu-id="8317f-189">EnableScript-Globalization</span></span> | <span data-ttu-id="8317f-190">Bool</span><span class="sxs-lookup"><span data-stu-id="8317f-190">Bool</span></span> | <span data-ttu-id="8317f-191">Obtient ou définit si la globalisation de script est activée.</span><span class="sxs-lookup"><span data-stu-id="8317f-191">Gets or sets whether script globalization is enabled.</span></span> |
| <span data-ttu-id="8317f-192">EnableScript-Localization</span><span class="sxs-lookup"><span data-stu-id="8317f-192">EnableScript-Localization</span></span> | <span data-ttu-id="8317f-193">Bool</span><span class="sxs-lookup"><span data-stu-id="8317f-193">Bool</span></span> | <span data-ttu-id="8317f-194">Obtient ou définit une valeur indiquant si la localisation de script est activée.</span><span class="sxs-lookup"><span data-stu-id="8317f-194">Gets or sets whether script localization is enabled.</span></span> |
| <span data-ttu-id="8317f-195">ScriptLoadTimeout</span><span class="sxs-lookup"><span data-stu-id="8317f-195">ScriptLoadTimeout</span></span> | <span data-ttu-id="8317f-196">Int32</span><span class="sxs-lookup"><span data-stu-id="8317f-196">Int32</span></span> | <span data-ttu-id="8317f-197">Détermine le nombre de secondes autorisé pour le chargement des scripts dans le client</span><span class="sxs-lookup"><span data-stu-id="8317f-197">Determines the number of seconds allowed for loading scripts into the client</span></span> |
| <span data-ttu-id="8317f-198">ScriptMode</span><span class="sxs-lookup"><span data-stu-id="8317f-198">ScriptMode</span></span> | <span data-ttu-id="8317f-199">Enum (Auto, Debug, Release, héritent)</span><span class="sxs-lookup"><span data-stu-id="8317f-199">Enum (Auto, Debug, Release, Inherit)</span></span> | <span data-ttu-id="8317f-200">Obtient ou définit s’il faut restituer les versions release des scripts</span><span class="sxs-lookup"><span data-stu-id="8317f-200">Gets or sets whether to render release versions of scripts</span></span> |
| <span data-ttu-id="8317f-201">ScriptPath</span><span class="sxs-lookup"><span data-stu-id="8317f-201">ScriptPath</span></span> | <span data-ttu-id="8317f-202">Chaîne</span><span class="sxs-lookup"><span data-stu-id="8317f-202">String</span></span> | <span data-ttu-id="8317f-203">Obtient ou définit le chemin d’accès racine à l’emplacement des fichiers de script à envoyer au client.</span><span class="sxs-lookup"><span data-stu-id="8317f-203">Gets or sets the root path to the location of script files to be sent to the client.</span></span> |

<span data-ttu-id="8317f-204">Propriétés du code uniquement :</span><span class="sxs-lookup"><span data-stu-id="8317f-204">Code-Only Properties:</span></span>

| <span data-ttu-id="8317f-205">**Nom de la propriété**</span><span class="sxs-lookup"><span data-stu-id="8317f-205">**Property Name**</span></span> | <span data-ttu-id="8317f-206">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-206">**Type**</span></span> | <span data-ttu-id="8317f-207">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-207">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-208">AuthenticationService</span><span class="sxs-lookup"><span data-stu-id="8317f-208">AuthenticationService</span></span> | <span data-ttu-id="8317f-209">AuthenticationService-Manager</span><span class="sxs-lookup"><span data-stu-id="8317f-209">AuthenticationService-Manager</span></span> | <span data-ttu-id="8317f-210">Obtient les détails sur le proxy de Service d’authentification ASP.NET qui sera envoyé au client.</span><span class="sxs-lookup"><span data-stu-id="8317f-210">Gets details about the ASP.NET Authentication Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="8317f-211">IsDebuggingEnabled</span><span class="sxs-lookup"><span data-stu-id="8317f-211">IsDebuggingEnabled</span></span> | <span data-ttu-id="8317f-212">Bool</span><span class="sxs-lookup"><span data-stu-id="8317f-212">Bool</span></span> | <span data-ttu-id="8317f-213">Obtient si le script et le débogage du code est activé.</span><span class="sxs-lookup"><span data-stu-id="8317f-213">Gets whether script and code debugging is enabled.</span></span> |
| <span data-ttu-id="8317f-214">IsInAsyncPostback</span><span class="sxs-lookup"><span data-stu-id="8317f-214">IsInAsyncPostback</span></span> | <span data-ttu-id="8317f-215">Bool</span><span class="sxs-lookup"><span data-stu-id="8317f-215">Bool</span></span> | <span data-ttu-id="8317f-216">Détermine si la page en cours d’une demande de publication asynchrone.</span><span class="sxs-lookup"><span data-stu-id="8317f-216">Gets whether the page is currently in an asynchronous post back request.</span></span> |
| <span data-ttu-id="8317f-217">ProfileService</span><span class="sxs-lookup"><span data-stu-id="8317f-217">ProfileService</span></span> | <span data-ttu-id="8317f-218">ProfileService-Manager</span><span class="sxs-lookup"><span data-stu-id="8317f-218">ProfileService-Manager</span></span> | <span data-ttu-id="8317f-219">Obtient les détails sur le proxy de Service de profilage ASP.NET qui sera envoyé au client.</span><span class="sxs-lookup"><span data-stu-id="8317f-219">Gets details about the ASP.NET Profiling Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="8317f-220">scripts ;</span><span class="sxs-lookup"><span data-stu-id="8317f-220">Scripts</span></span> | <span data-ttu-id="8317f-221">Collection&lt;référence de Script&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-221">Collection&lt;Script-Reference&gt;</span></span> | <span data-ttu-id="8317f-222">Obtient une collection de références de script qui sera envoyé au client.</span><span class="sxs-lookup"><span data-stu-id="8317f-222">Gets a collection of script references that will be sent to the client.</span></span> |
| <span data-ttu-id="8317f-223">Services</span><span class="sxs-lookup"><span data-stu-id="8317f-223">Services</span></span> | <span data-ttu-id="8317f-224">Collection&lt;référence de Service&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-224">Collection&lt;Service-Reference&gt;</span></span> | <span data-ttu-id="8317f-225">Obtient une collection de références de proxy de Service Web qui sera envoyé au client.</span><span class="sxs-lookup"><span data-stu-id="8317f-225">Gets a collection of Web Service proxy references that will be sent to the client.</span></span> |
| <span data-ttu-id="8317f-226">SupportsPartialRendering</span><span class="sxs-lookup"><span data-stu-id="8317f-226">SupportsPartialRendering</span></span> | <span data-ttu-id="8317f-227">Bool</span><span class="sxs-lookup"><span data-stu-id="8317f-227">Bool</span></span> | <span data-ttu-id="8317f-228">Détermine si le client actuel prend en charge le rendu partiel.</span><span class="sxs-lookup"><span data-stu-id="8317f-228">Gets whether the current client supports partial rendering.</span></span> <span data-ttu-id="8317f-229">Si cette propriété retourne **false**, toutes les demandes de page seront alors des publications (postbacks) standard.</span><span class="sxs-lookup"><span data-stu-id="8317f-229">If this property returns **false**, then all page requests will be standard postbacks.</span></span> |

<span data-ttu-id="8317f-230">Méthodes de Code public :</span><span class="sxs-lookup"><span data-stu-id="8317f-230">Public Code Methods:</span></span>

| <span data-ttu-id="8317f-231">**Nom de la méthode**</span><span class="sxs-lookup"><span data-stu-id="8317f-231">**Method Name**</span></span> | <span data-ttu-id="8317f-232">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-232">**Type**</span></span> | <span data-ttu-id="8317f-233">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-233">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-234">SetFocus(string)</span><span class="sxs-lookup"><span data-stu-id="8317f-234">SetFocus(string)</span></span> | <span data-ttu-id="8317f-235">Void</span><span class="sxs-lookup"><span data-stu-id="8317f-235">Void</span></span> | <span data-ttu-id="8317f-236">Définit le focus du client à un contrôle spécifique lors de la demande est terminée.</span><span class="sxs-lookup"><span data-stu-id="8317f-236">Sets the focus of the client to a particular control when the request has completed.</span></span> |

<span data-ttu-id="8317f-237">Descendants de balisage :</span><span class="sxs-lookup"><span data-stu-id="8317f-237">Markup Descendants:</span></span>

| <span data-ttu-id="8317f-238">**Tag**</span><span class="sxs-lookup"><span data-stu-id="8317f-238">**Tag**</span></span> | <span data-ttu-id="8317f-239">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-239">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="8317f-240">&lt;AuthenticationService&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-240">&lt;AuthenticationService&gt;</span></span> | <span data-ttu-id="8317f-241">Fournit des détails sur le proxy au service d’authentification ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8317f-241">Provides details about the proxy to the ASP.NET authentication service.</span></span> |
| <span data-ttu-id="8317f-242">&lt;ProfileService&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-242">&lt;ProfileService&gt;</span></span> | <span data-ttu-id="8317f-243">Fournit des détails sur le serveur proxy pour le service de profilage de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8317f-243">Provides details about the proxy to the ASP.NET profiling service.</span></span> |
| <span data-ttu-id="8317f-244">&lt;Scripts&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-244">&lt;Scripts&gt;</span></span> | <span data-ttu-id="8317f-245">Fournit des références de script supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="8317f-245">Provides additional script references.</span></span> |
| <span data-ttu-id="8317f-246">&lt;asp:ScriptReference&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-246">&lt;asp:ScriptReference&gt;</span></span> | <span data-ttu-id="8317f-247">Indique une référence de script spécifiques.</span><span class="sxs-lookup"><span data-stu-id="8317f-247">Denotes a specific script reference.</span></span> |
| <span data-ttu-id="8317f-248">&lt;Service&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-248">&lt;Service&gt;</span></span> | <span data-ttu-id="8317f-249">Fournit des références de Service Web supplémentaires qui disposera des classes proxy générées.</span><span class="sxs-lookup"><span data-stu-id="8317f-249">Provides additional Web Service references which will have proxy classes generated.</span></span> |
| <span data-ttu-id="8317f-250">&lt;asp:ServiceReference&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-250">&lt;asp:ServiceReference&gt;</span></span> | <span data-ttu-id="8317f-251">Indique une référence de Service Web spécifique.</span><span class="sxs-lookup"><span data-stu-id="8317f-251">Denotes a specific Web Service reference.</span></span> |

<span data-ttu-id="8317f-252">Le contrôle ScriptManager est la base essentielle pour les Extensions ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="8317f-252">The ScriptManager control is the essential core for the ASP.NET AJAX Extensions.</span></span> <span data-ttu-id="8317f-253">Il fournit l’accès à la bibliothèque de scripts (y compris le système de type complète un script côté client), prend en charge le rendu partiel et fournit la prise en charge complète pour les services ASP.NET supplémentaires (par exemple, l’authentification et de profilage, mais également d’autres Services Web).</span><span class="sxs-lookup"><span data-stu-id="8317f-253">It provides access to the script library (including the extensive client-side script type system), supports partial rendering, and provides extensive support for additional ASP.NET services (such as authentication and profiling, but also other Web Services).</span></span> <span data-ttu-id="8317f-254">Le contrôle ScriptManager fournit également la prise en charge de globalisation et localisation pour les scripts client.</span><span class="sxs-lookup"><span data-stu-id="8317f-254">The ScriptManager control also provides globalization and localization support for the client scripts.</span></span>

## <a name="providing-alternative-and-supplemental-scripts"></a><span data-ttu-id="8317f-255">En fournissant des Scripts supplémentaires et Alternative</span><span class="sxs-lookup"><span data-stu-id="8317f-255">Providing Alternative and Supplemental Scripts</span></span>

<span data-ttu-id="8317f-256">Bien que les Extensions Microsoft ASP.NET 2.0 AJAX incluent le code de la totalité du script dans les versions debug et release des éditions en tant que ressources incorporées dans les assemblys référencés, les développeurs sont libres de rediriger le ScriptManager pour les fichiers de script personnalisé, mais aussi inscrire scripts nécessaires supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="8317f-256">While the Microsoft ASP.NET 2.0 AJAX Extensions include the entire script code in both debug and release editions as resources embedded in the referenced assemblies, developers are free to redirect the ScriptManager to customized script files, as well as register additional necessary scripts.</span></span>

<span data-ttu-id="8317f-257">Pour remplacer la liaison par défaut pour les scripts sont en général inclus (tels que ceux qui prennent en charge de l’espace de noms Sys.WebForms et le système de typage personnalisé), vous pouvez vous inscrire à la `ResolveScriptReference` événement de la classe ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="8317f-257">To override the default binding for the typically-included scripts (such as those which support the Sys.WebForms namespace and the custom typing system), you can register for the `ResolveScriptReference` event of the ScriptManager class.</span></span> <span data-ttu-id="8317f-258">Lorsque cette méthode est appelée, le Gestionnaire d’événements a la possibilité de modifier le chemin d’accès au fichier de script en question ; le Gestionnaire de script envoie ensuite une copie différente ou personnalisée des scripts au client.</span><span class="sxs-lookup"><span data-stu-id="8317f-258">When this method is called, the event handler has the opportunity to change the path to the script file in question; the script manager will then send a different or customized copy of the scripts to the client.</span></span>

<span data-ttu-id="8317f-259">En outre, les références de script (représenté par la `ScriptReference` classe) peut être inclus par programme ou par le biais de balisage.</span><span class="sxs-lookup"><span data-stu-id="8317f-259">Additionally, script references (represented by the `ScriptReference` class) can be included programmatically or via markup.</span></span> <span data-ttu-id="8317f-260">Pour ce faire, soit modifier par programmation la `ScriptManager.Scripts` collection, ou incluez `<asp:ScriptReference>` balises sous le `<Scripts>` balise, qui est un enfant de premier niveau du contrôle ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="8317f-260">To do so, either programmatically modify the `ScriptManager.Scripts` collection, or include `<asp:ScriptReference>` tags under the `<Scripts>` tag, which is a first-level child of the ScriptManager control.</span></span>

## <a name="custom-error-handling-for-updatepanels"></a><span data-ttu-id="8317f-261">Gestion d’UpdatePanel d’erreur personnalisée</span><span class="sxs-lookup"><span data-stu-id="8317f-261">Custom Error Handling for UpdatePanels</span></span>

<span data-ttu-id="8317f-262">Bien que les mises à jour sont gérées par les déclencheurs spécifiés par les contrôles UpdatePanel, la prise en charge pour la gestion des erreurs et messages d’erreur personnalisés est gérée par instance du contrôle ScriptManager d’une page.</span><span class="sxs-lookup"><span data-stu-id="8317f-262">Although updates are handled by triggers specified by UpdatePanel controls, the support for error handling and custom error messages is handled by a page's ScriptManager control instance.</span></span> <span data-ttu-id="8317f-263">Pour cela, exposez un événement, `AsyncPostBackError`, à la page qui peut ensuite fournir une logique de gestion des exceptions personnalisée.</span><span class="sxs-lookup"><span data-stu-id="8317f-263">This is done by exposing an event, `AsyncPostBackError`, to the page which can then provide custom exception-handling logic.</span></span>

<span data-ttu-id="8317f-264">En consommant de l’événement AsyncPostBackError, vous pouvez spécifier le `AsyncPostBackErrorMessage` propriété, ce qui provoque ensuite un message d’alerte à signaler à l’achèvement du rappel.</span><span class="sxs-lookup"><span data-stu-id="8317f-264">By consuming the AsyncPostBackError event, you may specify the `AsyncPostBackErrorMessage` property, which then causes an alert box to be raised upon completion of the callback.</span></span>

<span data-ttu-id="8317f-265">Personnalisation côté client est également possible au lieu d’utiliser la fenêtre d’alerte par défaut ; par exemple, vous pouvez souhaiter afficher un texte personnalisé `<div>` élément plutôt que par défaut navigateur boîte de dialogue modale.</span><span class="sxs-lookup"><span data-stu-id="8317f-265">Client-side customization is also possible instead of using the default alert box; for instance, you may want to display a customized `<div>` element rather than the default browser modal dialog.</span></span> <span data-ttu-id="8317f-266">Dans ce cas, vous pouvez gérer l’erreur dans le script client :</span><span class="sxs-lookup"><span data-stu-id="8317f-266">In this case, you can handle the error in client script:</span></span>

<span data-ttu-id="8317f-267">**Liste 5 : Un script côté client pour afficher les erreurs personnalisées**</span><span class="sxs-lookup"><span data-stu-id="8317f-267">**Listing 5: Client-side script to display custom errors**</span></span>

[!code-html[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample4.html)]

<span data-ttu-id="8317f-268">Tout simplement, le script ci-dessus inscrit un rappel avec le runtime d’AJAX côté client pour lors de la requête asynchrone est terminée.</span><span class="sxs-lookup"><span data-stu-id="8317f-268">Quite simply, the above script registers a callback with the client-side AJAX runtime for when the asynchronous request has been completed.</span></span> <span data-ttu-id="8317f-269">Vérifie si une erreur a été signalée, ensuite il et dans ce cas, traite les détails de celui-ci, enfin qui indique au runtime que l’erreur a été gérée dans le script personnalisé.</span><span class="sxs-lookup"><span data-stu-id="8317f-269">It then checks to see whether an error was reported, and if so, processes the details of it, finally indicating to the runtime that the error was handled in custom script.</span></span>

## <a name="globalization-and-localization-support"></a><span data-ttu-id="8317f-270">Prise en charge de la localisation et de globalisation</span><span class="sxs-lookup"><span data-stu-id="8317f-270">Globalization and Localization Support</span></span>

<span data-ttu-id="8317f-271">Le contrôle ScriptManager offre la prise en charge complète pour la localisation de chaînes de script et des composants d’interface utilisateur ; Toutefois, cette rubrique est en dehors de la portée de ce livre blanc.</span><span class="sxs-lookup"><span data-stu-id="8317f-271">The ScriptManager control provides extensive support for localization of script strings and user interface components; however, that topic is outside of the scope of this whitepaper.</span></span> <span data-ttu-id="8317f-272">Pour plus d’informations, consultez le livre blanc, prise en charge de la globalisation dans ASP.NET AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="8317f-272">For more information, see the whitepaper, Globalization Support in ASP.NET AJAX Extensions.</span></span>

## <a name="the-updatepanel-control"></a><span data-ttu-id="8317f-273">Le contrôle UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="8317f-273">The UpdatePanel Control</span></span>

## <a name="updatepanel-control-reference"></a><span data-ttu-id="8317f-274">Référence de contrôle UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="8317f-274">UpdatePanel Control Reference</span></span>

<span data-ttu-id="8317f-275">Propriétés du balisage activé :</span><span class="sxs-lookup"><span data-stu-id="8317f-275">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="8317f-276">**Nom de la propriété**</span><span class="sxs-lookup"><span data-stu-id="8317f-276">**Property Name**</span></span> | <span data-ttu-id="8317f-277">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-277">**Type**</span></span> | <span data-ttu-id="8317f-278">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-278">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-279">ChildrenAsTriggers</span><span class="sxs-lookup"><span data-stu-id="8317f-279">ChildrenAsTriggers</span></span> | <span data-ttu-id="8317f-280">bool</span><span class="sxs-lookup"><span data-stu-id="8317f-280">bool</span></span> | <span data-ttu-id="8317f-281">Spécifie si les contrôles enfants appellent automatiquement l’actualisation de publication (postback).</span><span class="sxs-lookup"><span data-stu-id="8317f-281">Specifies whether child controls automatically invoke refresh on postback.</span></span> |
| <span data-ttu-id="8317f-282">RenderMode</span><span class="sxs-lookup"><span data-stu-id="8317f-282">RenderMode</span></span> | <span data-ttu-id="8317f-283">enum (bloc, Inline)</span><span class="sxs-lookup"><span data-stu-id="8317f-283">enum (Block, Inline)</span></span> | <span data-ttu-id="8317f-284">Spécifie que la façon du contenu s’afficheront visuellement.</span><span class="sxs-lookup"><span data-stu-id="8317f-284">Specifies the way the content will be visually presented.</span></span> |
| <span data-ttu-id="8317f-285">UpdateMode</span><span class="sxs-lookup"><span data-stu-id="8317f-285">UpdateMode</span></span> | <span data-ttu-id="8317f-286">enum (toujours, conditionnel)</span><span class="sxs-lookup"><span data-stu-id="8317f-286">enum (Always, Conditional)</span></span> | <span data-ttu-id="8317f-287">Spécifie si le contrôle UpdatePanel est toujours actualisé pendant un rendu partiel ou si elles sont actualisées uniquement lorsqu’un déclencheur est atteint.</span><span class="sxs-lookup"><span data-stu-id="8317f-287">Specifies whether the UpdatePanel is always refreshed during a partial render or if it is only refreshed when a trigger is hit.</span></span> |

<span data-ttu-id="8317f-288">Propriétés du code uniquement :</span><span class="sxs-lookup"><span data-stu-id="8317f-288">Code-Only Properties:</span></span>

| <span data-ttu-id="8317f-289">**Nom de la propriété**</span><span class="sxs-lookup"><span data-stu-id="8317f-289">**Property Name**</span></span> | <span data-ttu-id="8317f-290">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-290">**Type**</span></span> | <span data-ttu-id="8317f-291">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-291">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-292">IsInPartialRendering</span><span class="sxs-lookup"><span data-stu-id="8317f-292">IsInPartialRendering</span></span> | <span data-ttu-id="8317f-293">bool</span><span class="sxs-lookup"><span data-stu-id="8317f-293">bool</span></span> | <span data-ttu-id="8317f-294">Détermine si le contrôle UpdatePanel prend en charge le rendu partiel pour la requête actuelle.</span><span class="sxs-lookup"><span data-stu-id="8317f-294">Gets whether the UpdatePanel is supporting partial rendering for the current request.</span></span> |
| <span data-ttu-id="8317f-295">ContentTemplate</span><span class="sxs-lookup"><span data-stu-id="8317f-295">ContentTemplate</span></span> | <span data-ttu-id="8317f-296">ITemplate</span><span class="sxs-lookup"><span data-stu-id="8317f-296">ITemplate</span></span> | <span data-ttu-id="8317f-297">Obtient le modèle de balisage pour la demande de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="8317f-297">Gets the markup template for the update request.</span></span> |
| <span data-ttu-id="8317f-298">ContentTemplateContainer</span><span class="sxs-lookup"><span data-stu-id="8317f-298">ContentTemplateContainer</span></span> | <span data-ttu-id="8317f-299">Contrôle</span><span class="sxs-lookup"><span data-stu-id="8317f-299">Control</span></span> | <span data-ttu-id="8317f-300">Obtient le modèle de programmation pour la demande de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="8317f-300">Gets the programmatic template for the update request.</span></span> |
| <span data-ttu-id="8317f-301">Déclencheurs</span><span class="sxs-lookup"><span data-stu-id="8317f-301">Triggers</span></span> | <span data-ttu-id="8317f-302">UpdatePanel - TriggerCollection</span><span class="sxs-lookup"><span data-stu-id="8317f-302">UpdatePanel- TriggerCollection</span></span> | <span data-ttu-id="8317f-303">Obtient la liste des déclencheurs associés à l’UpdatePanel actuel.</span><span class="sxs-lookup"><span data-stu-id="8317f-303">Gets the list of triggers associated with the current UpdatePanel.</span></span> |

<span data-ttu-id="8317f-304">Méthodes de Code public :</span><span class="sxs-lookup"><span data-stu-id="8317f-304">Public Code Methods:</span></span>

| <span data-ttu-id="8317f-305">**Nom de la méthode**</span><span class="sxs-lookup"><span data-stu-id="8317f-305">**Method Name**</span></span> | <span data-ttu-id="8317f-306">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-306">**Type**</span></span> | <span data-ttu-id="8317f-307">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-307">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-308">Update()</span><span class="sxs-lookup"><span data-stu-id="8317f-308">Update()</span></span> | <span data-ttu-id="8317f-309">Void</span><span class="sxs-lookup"><span data-stu-id="8317f-309">Void</span></span> | <span data-ttu-id="8317f-310">Met à jour UpdatePanel spécifié par programmation.</span><span class="sxs-lookup"><span data-stu-id="8317f-310">Updates the specified UpdatePanel programmatically.</span></span> <span data-ttu-id="8317f-311">Permet à une demande de serveur déclencher un rendu partiel d’un UpdatePanel sinon-non déclenchée.</span><span class="sxs-lookup"><span data-stu-id="8317f-311">Allows a server request to trigger a partial render of an otherwise-untriggered UpdatePanel.</span></span> |

<span data-ttu-id="8317f-312">Descendants de balisage :</span><span class="sxs-lookup"><span data-stu-id="8317f-312">Markup Descendants:</span></span>

| <span data-ttu-id="8317f-313">**Tag**</span><span class="sxs-lookup"><span data-stu-id="8317f-313">**Tag**</span></span> | <span data-ttu-id="8317f-314">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="8317f-315">&lt;ContentTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-315">&lt;ContentTemplate&gt;</span></span> | <span data-ttu-id="8317f-316">Spécifie le balisage à utiliser pour restituer le résultat de rendu partiel.</span><span class="sxs-lookup"><span data-stu-id="8317f-316">Specifies the markup to be used to render the partial rendering result.</span></span> <span data-ttu-id="8317f-317">Enfant de &lt;asp : UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="8317f-317">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="8317f-318">&lt;Déclencheurs&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-318">&lt;Triggers&gt;</span></span> | <span data-ttu-id="8317f-319">Spécifie une collection de *n* contrôles associés à la mise à jour cet UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8317f-319">Specifies a collection of *n* controls associated with updating this UpdatePanel.</span></span> <span data-ttu-id="8317f-320">Enfant de &lt;asp : UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="8317f-320">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="8317f-321">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-321">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="8317f-322">Spécifie un déclencheur qui appelle un rendu de page partielle pour le contrôle UpdatePanel donné.</span><span class="sxs-lookup"><span data-stu-id="8317f-322">Specifies a trigger that invokes a partial page render for the given UpdatePanel.</span></span> <span data-ttu-id="8317f-323">Cela peut ou peut ne pas être un contrôle en tant que descendant de UpdatePanel en question.</span><span class="sxs-lookup"><span data-stu-id="8317f-323">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="8317f-324">Granulaire de l’événement. Enfant de &lt;déclencheurs&gt;.</span><span class="sxs-lookup"><span data-stu-id="8317f-324">Granular to the event name.Child of &lt;Triggers&gt;.</span></span> |
| <span data-ttu-id="8317f-325">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-325">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="8317f-326">Spécifie un contrôle qui génère la page entière à actualiser.</span><span class="sxs-lookup"><span data-stu-id="8317f-326">Specifies a control that causes the entire page to refresh.</span></span> <span data-ttu-id="8317f-327">Cela peut ou peut ne pas être un contrôle en tant que descendant de UpdatePanel en question.</span><span class="sxs-lookup"><span data-stu-id="8317f-327">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="8317f-328">Granulaire à l’objet.</span><span class="sxs-lookup"><span data-stu-id="8317f-328">Granular to the object.</span></span> <span data-ttu-id="8317f-329">Enfant de &lt;déclencheurs&gt;.</span><span class="sxs-lookup"><span data-stu-id="8317f-329">Child of &lt;Triggers&gt;.</span></span> |

<span data-ttu-id="8317f-330">Le `UpdatePanel` est le contrôle qui délimite le contenu côté serveur qui participera à la fonctionnalité de rendu partiel des Extensions AJAX.</span><span class="sxs-lookup"><span data-stu-id="8317f-330">The `UpdatePanel` control is the control that delimits the server-side content that will take part in the partial rendering functionality of the AJAX Extensions.</span></span> <span data-ttu-id="8317f-331">Il n’existe aucune limite au nombre de contrôles UpdatePanel qui peuvent se trouver sur une page, et ils peuvent être imbriqués.</span><span class="sxs-lookup"><span data-stu-id="8317f-331">There is no limit to the number of UpdatePanel controls that can be on a page, and they can be nested.</span></span> <span data-ttu-id="8317f-332">Chaque UpdatePanel est isolé, afin que chacun peut travailler indépendamment (vous pouvez avoir deux UpdatePanel en cours d’exécution en même temps, rendu des différentes parties de la page, indépendamment de la publication (postback) de la page).</span><span class="sxs-lookup"><span data-stu-id="8317f-332">Each UpdatePanel is isolated, so that each can work independently (you can have two UpdatePanels running at the same time, rendering different parts of the page, independent of the page's postback).</span></span>

<span data-ttu-id="8317f-333">Le contrôle UpdatePanel contrôler principalement des contrats avec des déclencheurs de contrôle - par défaut, n’importe quel contrôle de contenu au sein d’un UpdatePanel `ContentTemplate` qui crée une publication (postback) est inscrit en tant que déclencheur pour le contrôle UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8317f-333">The UpdatePanel control primarily deals with control triggers - by default, any control contained within an UpdatePanel's `ContentTemplate` that creates a postback is registered as a trigger for the UpdatePanel.</span></span> <span data-ttu-id="8317f-334">Cela signifie que le contrôle UpdatePanel peut utiliser les contrôles de lié aux données par défaut (par exemple, le contrôle GridView), des contrôles utilisateur, et ils peuvent être programmés dans le script.</span><span class="sxs-lookup"><span data-stu-id="8317f-334">This means that the UpdatePanel can work with the default data-bound controls (such as the GridView), with user controls, and they can be programmed in script.</span></span>

<span data-ttu-id="8317f-335">Par défaut, lorsqu’un rendu de page partielle est déclenché, tous les contrôles UpdatePanel sur la page seront actualisées, ou non le contrôle UpdatePanel contrôle défini déclencheurs de cette action.</span><span class="sxs-lookup"><span data-stu-id="8317f-335">By default, when a partial page render is triggered, all UpdatePanel controls on the page will be refreshed, whether or not the UpdatePanel controls defined triggers for such action.</span></span> <span data-ttu-id="8317f-336">Par exemple, si un UpdatePanel définit un contrôle de bouton, ce bouton est activé, tous les contrôles UpdatePanel sur cette page seront actualisées par défaut.</span><span class="sxs-lookup"><span data-stu-id="8317f-336">For example, if one UpdatePanel defines a Button control, and that Button control is clicked, all UpdatePanel controls on that page will be refreshed by default.</span></span> <span data-ttu-id="8317f-337">C’est pourquoi, par défaut, le `UpdateMode` propriété du contrôle UpdatePanel est définie sur `Always`.</span><span class="sxs-lookup"><span data-stu-id="8317f-337">This is because, by default, the `UpdateMode` property of the UpdatePanel is set to `Always`.</span></span> <span data-ttu-id="8317f-338">Vous pouvez également définir la propriété UpdateMode `Conditional`, ce qui signifie que le UpdatePanel est actualisé uniquement si un déclencheur spécifique est atteint.</span><span class="sxs-lookup"><span data-stu-id="8317f-338">Alternatively, you may set the UpdateMode property to `Conditional`, which means that the UpdatePanel will only be refreshed if a specific trigger is hit.</span></span>

## <a name="custom-control-notes"></a><span data-ttu-id="8317f-339">Notes de contrôle personnalisé</span><span class="sxs-lookup"><span data-stu-id="8317f-339">Custom Control Notes</span></span>

<span data-ttu-id="8317f-340">Un UpdatePanel peut être ajouté à n’importe quel contrôle utilisateur ou un contrôle personnalisé ; Toutefois, la page sur laquelle ces contrôles sont inclus doit également inclure un contrôle ScriptManager avec la propriété EnablePartialRendering est définie sur **true**.</span><span class="sxs-lookup"><span data-stu-id="8317f-340">An UpdatePanel can be added to any user control or custom control; however, the page on which these controls are included must also include a ScriptManager control with the property EnablePartialRendering set to **true**.</span></span>

<span data-ttu-id="8317f-341">Une façon dans laquelle vous pourrez compte lors de l’utilisation de contrôles Web personnalisés consiste à remplacer l’élément protégé `CreateChildControls()` méthode de la `CompositeControl` classe.</span><span class="sxs-lookup"><span data-stu-id="8317f-341">One way in which you might account for this when using Web Custom Controls is to override the protected `CreateChildControls()` method of the `CompositeControl` class.</span></span> <span data-ttu-id="8317f-342">En procédant ainsi, vous pouvez injecter un UpdatePanel entre les enfants du contrôle et le monde extérieur si vous déterminez que la page prend en charge le rendu partiel ; Sinon, vous pouvez simplement superposer les contrôles enfants dans un conteneur `Control` instance.</span><span class="sxs-lookup"><span data-stu-id="8317f-342">By doing so, you can inject an UpdatePanel between the control's children and the outside world if you determine the page supports partial rendering; otherwise, you can simply layer the child controls into a container `Control` instance.</span></span>

## <a name="updatepanel-considerations"></a><span data-ttu-id="8317f-343">Considérations de UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="8317f-343">UpdatePanel Considerations</span></span>

<span data-ttu-id="8317f-344">Le contrôle UpdatePanel fonctionne comme un élément d’une boîte noire, encapsulant des publications (postbacks) ASP.NET dans le contexte d’un JavaScript XMLHttpRequest.</span><span class="sxs-lookup"><span data-stu-id="8317f-344">The UpdatePanel operates as something of a black-box, wrapping ASP.NET postbacks within the context of a JavaScript XMLHttpRequest.</span></span> <span data-ttu-id="8317f-345">Toutefois, il existe des considérations de performances significatives à l’esprit, à la fois en termes de comportement et la vitesse.</span><span class="sxs-lookup"><span data-stu-id="8317f-345">However, there are significant performance considerations to bear in mind, both in terms of behavior and speed.</span></span> <span data-ttu-id="8317f-346">Pour comprendre le fonctionne de l’UpdatePanel, afin que vous pouvez décider mieux lorsque son utilisation est appropriée, vous devez examiner l’échange d’AJAX.</span><span class="sxs-lookup"><span data-stu-id="8317f-346">To understand how the UpdatePanel works, so that you can best decide when its use is appropriate, you should examine the AJAX exchange.</span></span> <span data-ttu-id="8317f-347">L’exemple suivant utilise un site existant et, Mozilla Firefox avec l’extension Firebug (Firebug capture les données de XMLHttpRequest).</span><span class="sxs-lookup"><span data-stu-id="8317f-347">The following example uses an existing site and, Mozilla Firefox with the Firebug extension (Firebug captures XMLHttpRequest data).</span></span>

<span data-ttu-id="8317f-348">Envisagez un formulaire comprenant, entre autres choses, une zone de texte code postal qui devrait permettre de remplir un champ Ville et l’état sur un formulaire ou contrôle.</span><span class="sxs-lookup"><span data-stu-id="8317f-348">Consider a form that, among other things, has a postal code textbox which is supposed to populate a city and state field on a form or control.</span></span> <span data-ttu-id="8317f-349">Ce formulaire collecte finalement les informations d’appartenance, y compris le nom d’un utilisateur, adresse et les informations de contact.</span><span class="sxs-lookup"><span data-stu-id="8317f-349">This form ultimately collects membership information, including a user's name, address, and contact information.</span></span> <span data-ttu-id="8317f-350">Il existe de nombreuses considérations de conception à prendre en compte, en fonction des exigences d’un projet spécifique.</span><span class="sxs-lookup"><span data-stu-id="8317f-350">There are many design considerations to take into account, based on the requirements of a specific project.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image11.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image10.png)

<span data-ttu-id="8317f-351">([Cliquez pour afficher l’image en taille réelle](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="8317f-351">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image14.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image13.png)

<span data-ttu-id="8317f-352">([Cliquez pour afficher l’image en taille réelle](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="8317f-352">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span></span>


<span data-ttu-id="8317f-353">Dans l’itération d’origine de cette application, un contrôle a été créé incorporé de l’intégralité des données d’inscription utilisateur, y compris le code postal, ville et état.</span><span class="sxs-lookup"><span data-stu-id="8317f-353">In the original iteration of this application, a control was built that incorporated the entirety of the user registration data, including the postal code, city, and state.</span></span> <span data-ttu-id="8317f-354">L’ensemble du contrôle a été encapsulé dans un UpdatePanel et déposé sur un formulaire Web.</span><span class="sxs-lookup"><span data-stu-id="8317f-354">The entire control was wrapped within an UpdatePanel and dropped onto a Web Form.</span></span> <span data-ttu-id="8317f-355">Une fois le code postal est entré par l’utilisateur, le contrôle UpdatePanel détecte l’événement (l’événement TextChanged correspondant dans le serveur principal, en spécifiant des déclencheurs ou à l’aide de la propriété ChildrenAsTriggers a la valeur true).</span><span class="sxs-lookup"><span data-stu-id="8317f-355">When the postal code is entered by the user, the UpdatePanel detects the event (the corresponding TextChanged event in the back-end, either by specifying triggers or by using the ChildrenAsTriggers property set to true).</span></span> <span data-ttu-id="8317f-356">AJAX publie tous les champs dans le contrôle UpdatePanel, telles que capturées par FireBug (voir le diagramme de droite).</span><span class="sxs-lookup"><span data-stu-id="8317f-356">AJAX posts all of the fields within the UpdatePanel, as captured by FireBug (see the diagram on the right).</span></span>

<span data-ttu-id="8317f-357">Comme l’indique la capture d’écran, les valeurs à partir de chaque contrôle dans le contrôle UpdatePanel sont remis (dans ce cas, ils sont tous vides), ainsi que le champ d’état d’affichage.</span><span class="sxs-lookup"><span data-stu-id="8317f-357">As the screen capture indicates, values from every control within the UpdatePanel are delivered (in this case, they are all empty), as well as the ViewState field.</span></span> <span data-ttu-id="8317f-358">Au total, plus de 9 Ko de données est envoyé lorsqu’en fait uniquement cinq octets de données étaient nécessaires pour effectuer cette demande particulier.</span><span class="sxs-lookup"><span data-stu-id="8317f-358">All told, over 9kb of data is sent, when in fact only five bytes of data were needed to make this particular request.</span></span> <span data-ttu-id="8317f-359">La réponse est encore plus volumineux : au total, 57 Ko est envoyé au client, tout simplement pour mettre à jour un champ de texte et un champ de liste déroulante.</span><span class="sxs-lookup"><span data-stu-id="8317f-359">The response is even more bloated: in total, 57kb is sent to the client, simply to update a text field and a drop-down field.</span></span>

<span data-ttu-id="8317f-360">Il peut également être intéressant de voir comment ASP.NET AJAX met à jour la présentation.</span><span class="sxs-lookup"><span data-stu-id="8317f-360">It may also be of interest to see how ASP.NET AJAX updates the presentation.</span></span> <span data-ttu-id="8317f-361">La partie de la réponse de demande de mise à jour de UpdatePanel est indiquée dans l’affichage de la console Firebug sur la gauche ; C’est une spécialement conçue délimitée une barre verticale chaîne qui est divisée par le script client et puis sont assemblés à nouveau sur la page.</span><span class="sxs-lookup"><span data-stu-id="8317f-361">The response portion of the UpdatePanel's update request is shown in the Firebug console display on the left; it is a specially-formulated pipe-delimited string that is broken up by the client script and then reassembled on the page.</span></span> <span data-ttu-id="8317f-362">Plus précisément, ASP.NET AJAX définit le *innerHTML* propriété de l’élément HTML sur le client qui représente votre UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8317f-362">Specifically, ASP.NET AJAX sets the *innerHTML* property of the HTML element on the client that represents your UpdatePanel.</span></span> <span data-ttu-id="8317f-363">Comme le navigateur génère à nouveau le modèle DOM, il existe un léger délai, en fonction de la quantité d’informations qui doivent être traitées.</span><span class="sxs-lookup"><span data-stu-id="8317f-363">As the browser re-generates the DOM, there is a slight delay, depending on the amount of information that needs to be processed.</span></span>

<span data-ttu-id="8317f-364">La régénération du modèle DOM déclenche un nombre de problèmes supplémentaires :</span><span class="sxs-lookup"><span data-stu-id="8317f-364">The regeneration of the DOM triggers a number of additional issues:</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image17.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image16.png)

<span data-ttu-id="8317f-365">([Cliquez pour afficher l’image en taille réelle](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="8317f-365">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span></span>


- <span data-ttu-id="8317f-366">Si l’élément HTML ayant le focus se trouve dans UpdatePanel, il perd le focus.</span><span class="sxs-lookup"><span data-stu-id="8317f-366">If the focused HTML element is within the UpdatePanel, it will lose focus.</span></span> <span data-ttu-id="8317f-367">Par conséquent, pour les utilisateurs enfoncée la touche Tab pour quitter la zone de texte code postal, leur destination suivante aurait été la zone de texte Ville.</span><span class="sxs-lookup"><span data-stu-id="8317f-367">So, for users who pressed the Tab key to exit the postal code text box, their next destination would have been the City text box.</span></span> <span data-ttu-id="8317f-368">Toutefois, une fois que le contrôle UpdatePanel actualisé l’affichage, le formulaire aurait dû n’est plus le focus, et en appuyant sur Tab aurait démarré la mise en surbrillance les éléments de la vue (notamment les liens).</span><span class="sxs-lookup"><span data-stu-id="8317f-368">However, once the UpdatePanel refreshed the display, the form would no longer have had focus, and pressing Tab would have started highlighting the focus elements (such as links).</span></span>
- <span data-ttu-id="8317f-369">Si n’importe quel type de script côté client personnalisé est en cours d’utilisation que les éléments DOM de l’accès, les références conservées par les fonctions peut-être devenir obsolète après une publication automatique partielle.</span><span class="sxs-lookup"><span data-stu-id="8317f-369">If any type of custom client-side script is in use that accesses DOM elements, references persisted by functions may become defunct after a partial postback.</span></span>

<span data-ttu-id="8317f-370">UpdatePanel n’est pas destinées à être fourre-tout solutions.</span><span class="sxs-lookup"><span data-stu-id="8317f-370">UpdatePanels are not intended to be catch-all solutions.</span></span> <span data-ttu-id="8317f-371">Au lieu de cela, ils fournissent une solution rapide pour certaines situations, notamment le prototypage, mises à jour du contrôle de petite et fournissent une interface familière aux développeurs ASP.NET qui peuvent être familiarisé avec le modèle d’objet .NET, mais moins donc avec le DOM.</span><span class="sxs-lookup"><span data-stu-id="8317f-371">Rather, they provide a quick solution for certain situations, including prototyping, small control updates, and provide a familiar interface to ASP.NET developers who might be familiar with the .NET object model but less-so with the DOM.</span></span> <span data-ttu-id="8317f-372">Il existe plusieurs alternatives qui peuvent entraîner de meilleures performances, en fonction du scénario d’application :</span><span class="sxs-lookup"><span data-stu-id="8317f-372">There are a number of alternatives that may result in better performance, depending on the application scenario:</span></span>

- <span data-ttu-id="8317f-373">Envisagez d’utiliser les PageMethods et JSON (JavaScript Object Notation) permet au développeur d’appeler des méthodes statiques sur une page comme si un appel de service web a été invoqué.</span><span class="sxs-lookup"><span data-stu-id="8317f-373">Consider using PageMethods and JSON (JavaScript Object Notation) allows the developer to invoke static methods on a page as if a web service call was being invoked.</span></span> <span data-ttu-id="8317f-374">Étant donné que les méthodes sont statiques, aucun état n’est nécessaire ; l’appelant de script fournit les paramètres, et le résultat est renvoyé de façon asynchrone.</span><span class="sxs-lookup"><span data-stu-id="8317f-374">Because the methods are static, no state is necessary; the script caller supplies the parameters, and the result is returned asynchronously.</span></span>
- <span data-ttu-id="8317f-375">Envisagez d’utiliser un Service Web et le JSON si un seul contrôle doit être utilisé dans plusieurs emplacements dans une application.</span><span class="sxs-lookup"><span data-stu-id="8317f-375">Consider using a Web Service and JSON if a single control needs to be used in several places across an application.</span></span> <span data-ttu-id="8317f-376">Cela à nouveau nécessite très peu de travail particulière et fonctionne de façon asynchrone.</span><span class="sxs-lookup"><span data-stu-id="8317f-376">This again requires very little special work, and works asynchronously.</span></span>

<span data-ttu-id="8317f-377">Incorporation des fonctionnalités via les Services Web ou des méthodes de Page présente également des inconvénients.</span><span class="sxs-lookup"><span data-stu-id="8317f-377">Incorporating functionality through Web Services or Page Methods has drawbacks as well.</span></span> <span data-ttu-id="8317f-378">Tout d’abord, les développeurs ASP.NET ont généralement tendent à générer de petits composants de fonctionnalité dans des contrôles utilisateur (fichiers .ascx).</span><span class="sxs-lookup"><span data-stu-id="8317f-378">First and foremost, ASP.NET developers typically tend to build small components of functionality into user controls (.ascx files).</span></span> <span data-ttu-id="8317f-379">Les méthodes de page ne peut pas être hébergés dans ces fichiers. ils doivent être hébergés au sein de la classe de page .aspx réelle.</span><span class="sxs-lookup"><span data-stu-id="8317f-379">Page methods cannot be hosted in these files; they must be hosted within the actual .aspx page class.</span></span> <span data-ttu-id="8317f-380">De même, les services Web, doivent être hébergés au sein de la classe .asmx.</span><span class="sxs-lookup"><span data-stu-id="8317f-380">Web services, similarly, must be hosted within the .asmx class.</span></span> <span data-ttu-id="8317f-381">Selon l’application, cette architecture peut violer le principe de responsabilité unique, car la fonctionnalité d’un composant unique est désormais répartie sur deux ou plusieurs composants physiques qui peuvent avoir des liens cohésifs peu ou pas.</span><span class="sxs-lookup"><span data-stu-id="8317f-381">Depending on the application, this architecture may violate the Single Responsibility Principle, in that the functionality for a single component is now spread across two or more physical components which may have little or no cohesive ties.</span></span>

<span data-ttu-id="8317f-382">Enfin, si une application nécessite qu’UpdatePanel est utilisés, les instructions suivantes doivent faciliter la résolution des problèmes et maintenance.</span><span class="sxs-lookup"><span data-stu-id="8317f-382">Finally, if an application requires that UpdatePanels are used, the following guidelines should assist with troubleshooting and maintenance.</span></span>

- <span data-ttu-id="8317f-383">**Nest UpdatePanel aussi peu que possible, non seulement au sein d’unités, mais également sur des unités de code.**</span><span class="sxs-lookup"><span data-stu-id="8317f-383">**Nest UpdatePanels as little as possible, not only within-units, but also across units of code.**</span></span> <span data-ttu-id="8317f-384">Par exemple, un UpdatePanel sur une Page qui encapsule un contrôle, tandis que ce contrôle contient également un UpdatePanel, qui contient un autre contrôle qui contient un UpdatePanel, est d’avoir une imbrication cross-unité.</span><span class="sxs-lookup"><span data-stu-id="8317f-384">For example, having an UpdatePanel on a Page that wraps a Control, while that Control also contains an UpdatePanel, which contains another Control that contains an UpdatePanel, is cross-unit nesting.</span></span> <span data-ttu-id="8317f-385">Cela évite effacer les éléments qui doit être l’actualisation et empêche les actualisations inattendues à enfant UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8317f-385">This helps to keep clear which elements should be refreshing, and prevents unexpected refreshes to child UpdatePanels.</span></span>
- <span data-ttu-id="8317f-386">**Conserver le *ChildrenAsTriggers* propriété définie sur false et définir explicitement le déclenchement d’événements.**</span><span class="sxs-lookup"><span data-stu-id="8317f-386">**Keep the *ChildrenAsTriggers* property set to false, and explicitly set triggering events.**</span></span> <span data-ttu-id="8317f-387">Utilisation de la `<Triggers>` collection est un moyen beaucoup plus clair pour gérer les événements et peut empêcher un comportement inattendu, en aidant à avec les tâches de maintenance et de forcer un développeur à participer à un événement.</span><span class="sxs-lookup"><span data-stu-id="8317f-387">Utilizing the `<Triggers>` collection is a much clearer way to handle events, and may prevent unexpected behavior, helping with maintenance tasks and forcing a developer to opt-in for an event.</span></span>
- <span data-ttu-id="8317f-388">**Utilisez la plus petite unité possible pour obtenir une fonctionnalité.**</span><span class="sxs-lookup"><span data-stu-id="8317f-388">**Use the smallest possible unit to achieve functionality.**</span></span> <span data-ttu-id="8317f-389">Comme indiqué dans la discussion sur le service de code postal d’habillage qu'uniquement le strict minimum réduit le temps pour le serveur, le traitement total et l’encombrement de l’échange client-serveur, amélioration des performances.</span><span class="sxs-lookup"><span data-stu-id="8317f-389">As noted in the discussion of the postal code service, wrapping only the bare minimum reduces time to the server, total processing, and the footprint of the client-server exchange, enhancing performance.</span></span>

## <a name="the-updateprogress-control"></a><span data-ttu-id="8317f-390">Le contrôle UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="8317f-390">The UpdateProgress Control</span></span>

## <a name="updateprogress-control-reference"></a><span data-ttu-id="8317f-391">Référence de contrôle UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="8317f-391">UpdateProgress Control Reference</span></span>

<span data-ttu-id="8317f-392">Propriétés du balisage activé :</span><span class="sxs-lookup"><span data-stu-id="8317f-392">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="8317f-393">**Nom de la propriété**</span><span class="sxs-lookup"><span data-stu-id="8317f-393">**Property Name**</span></span> | <span data-ttu-id="8317f-394">**Type**</span><span class="sxs-lookup"><span data-stu-id="8317f-394">**Type**</span></span> | <span data-ttu-id="8317f-395">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-395">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8317f-396">AssociatedUpdate-PanelID</span><span class="sxs-lookup"><span data-stu-id="8317f-396">AssociatedUpdate-PanelID</span></span> | <span data-ttu-id="8317f-397">Chaîne</span><span class="sxs-lookup"><span data-stu-id="8317f-397">String</span></span> | <span data-ttu-id="8317f-398">Spécifie l’ID du contrôle UpdatePanel qui UpdateProgress doivent signaler sur.</span><span class="sxs-lookup"><span data-stu-id="8317f-398">Specifies the ID of the UpdatePanel that this UpdateProgress should report on.</span></span> |
| <span data-ttu-id="8317f-399">DisplayAfter</span><span class="sxs-lookup"><span data-stu-id="8317f-399">DisplayAfter</span></span> | <span data-ttu-id="8317f-400">Int</span><span class="sxs-lookup"><span data-stu-id="8317f-400">Int</span></span> | <span data-ttu-id="8317f-401">Spécifie le délai d’attente en millisecondes avant l’affichage de ce contrôle une fois que la demande asynchrone commence.</span><span class="sxs-lookup"><span data-stu-id="8317f-401">Specifies the timeout in milliseconds before this control is displayed after the asynchronous request begins.</span></span> |
| <span data-ttu-id="8317f-402">DynamicLayout</span><span class="sxs-lookup"><span data-stu-id="8317f-402">DynamicLayout</span></span> | <span data-ttu-id="8317f-403">bool</span><span class="sxs-lookup"><span data-stu-id="8317f-403">bool</span></span> | <span data-ttu-id="8317f-404">Spécifie si la progression est restituée dynamiquement.</span><span class="sxs-lookup"><span data-stu-id="8317f-404">Specifies whether the progress is rendered dynamically.</span></span> |

<span data-ttu-id="8317f-405">Descendants de balisage :</span><span class="sxs-lookup"><span data-stu-id="8317f-405">Markup Descendants:</span></span>

| <span data-ttu-id="8317f-406">**Tag**</span><span class="sxs-lookup"><span data-stu-id="8317f-406">**Tag**</span></span> | <span data-ttu-id="8317f-407">**Description**</span><span class="sxs-lookup"><span data-stu-id="8317f-407">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="8317f-408">&lt;ProgressTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="8317f-408">&lt;ProgressTemplate&gt;</span></span> | <span data-ttu-id="8317f-409">Contient le modèle de contrôle pour le contenu qui s’affichera avec ce contrôle.</span><span class="sxs-lookup"><span data-stu-id="8317f-409">Contains the control template set for the content that will be displayed with this control.</span></span> |

<span data-ttu-id="8317f-410">Le contrôle UpdateProgress vous donne une mesure de vos commentaires à maintenir l’intérêt de vos utilisateurs tout en effectuant le travail nécessaire au transport pour le serveur.</span><span class="sxs-lookup"><span data-stu-id="8317f-410">The UpdateProgress control gives you a measure of feedback to keep your users' interest while doing the necessary work to transport to the server.</span></span> <span data-ttu-id="8317f-411">Cela peut aider vos utilisateurs à savoir que quelque chose même si elle ne soient pas apparent, en particulier parce que la plupart des utilisateurs sont habitués à la page de l’actualisation et voir la barre d’état à mettre en surbrillance.</span><span class="sxs-lookup"><span data-stu-id="8317f-411">This can help your users know that you're doing something even though it may not be apparent, especially since most users are used to the page refreshing and seeing the status bar highlight.</span></span>

<span data-ttu-id="8317f-412">En tant que note, les contrôles UpdateProgress peuvent apparaître n’importe où sur une hiérarchie de la page.</span><span class="sxs-lookup"><span data-stu-id="8317f-412">As a note, UpdateProgress controls can appear anywhere on a page hierarchy.</span></span> <span data-ttu-id="8317f-413">Toutefois, dans le cas dans lequel une publication automatique partielle est lancée à partir d’un UpdatePanel (où un UpdatePanel est imbriqué dans un autre UpdatePanel) enfant, publications que l’enfant UpdatePanel provoque UpdateProgress modèles soient affichés pour l’enfant le déclencheur UpdatePanel, ainsi que le parent UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8317f-413">However, in cases in which a partial postback is initiated from a child UpdatePanel (where an UpdatePanel is nested within another UpdatePanel), postbacks that trigger the child UpdatePanel will cause UpdateProgress templates to be displayed for the child UpdatePanel as well as the parent UpdatePanel.</span></span> <span data-ttu-id="8317f-414">Toutefois, si le déclencheur est un enfant direct du parent UpdatePanel, seuls les modèles UpdateProgress associés au parent seront affiche.</span><span class="sxs-lookup"><span data-stu-id="8317f-414">But, if the trigger is a direct child of the parent UpdatePanel, then only the UpdateProgress templates associated with the parent will be displayed.</span></span>

## <a name="summary"></a><span data-ttu-id="8317f-415">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="8317f-415">Summary</span></span>

<span data-ttu-id="8317f-416">Les extensions Microsoft ASP.NET AJAX sont des produits sophistiqués conçus pour aider à rendre le contenu web plus accessibles et pour fournir une expérience utilisateur plus riches à vos applications web.</span><span class="sxs-lookup"><span data-stu-id="8317f-416">The Microsoft ASP.NET AJAX extensions are sophisticated products designed to assist in making web content more accessible and to provide a richer user experience to your web applications.</span></span> <span data-ttu-id="8317f-417">Dans le cadre des Extensions AJAX ASP.NET, les contrôles de rendu de page partielle, y compris les contrôles ScriptManager, UpdatePanel et UpdateProgress sont certains des composants plus visibles du Kit de ressources.</span><span class="sxs-lookup"><span data-stu-id="8317f-417">As part of the ASP.NET AJAX Extensions, the partial page rendering controls, including the ScriptManager, the UpdatePanel, and UpdateProgress controls are some of the most visible components of the toolkit.</span></span>

<span data-ttu-id="8317f-418">Le composant ScriptManager s’intègre à la fourniture de client JavaScript pour les Extensions, ainsi que des permet aux différents composants côté serveur et côté client collaborer avec les investissements de développement minimal.</span><span class="sxs-lookup"><span data-stu-id="8317f-418">The ScriptManager component integrates the provision of client JavaScript for the Extensions, as well as enables the various server- and client-side components to work together with minimal development investment.</span></span>

<span data-ttu-id="8317f-419">Le contrôle UpdatePanel est la zone magique apparente : balisage dans le contrôle UpdatePanel peut avoir code-behind côté serveur et ne déclenche pas une actualisation de la page.</span><span class="sxs-lookup"><span data-stu-id="8317f-419">The UpdatePanel control is the apparent magic box - markup within the UpdatePanel can have server-side Codebehind and not trigger a page refresh.</span></span> <span data-ttu-id="8317f-420">Contrôles UpdatePanel peuvent être imbriqués et peuvent dépendre des contrôles dans les autres UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="8317f-420">UpdatePanel controls can be nested, and can be dependent on controls in other UpdatePanels.</span></span> <span data-ttu-id="8317f-421">Par défaut, les UpdatePanel gérer toute publication appelée par leurs contrôles descendants, bien que cette fonctionnalité peut être ajustée, soit de manière déclarative ou par programme.</span><span class="sxs-lookup"><span data-stu-id="8317f-421">By default, UpdatePanels handle any postbacks invoked by their descendant controls, although this functionality can be finely tuned, either declaratively or programmatically.</span></span>

<span data-ttu-id="8317f-422">Lorsque vous utilisez le contrôle UpdatePanel, les développeurs doivent connaître l’impact sur les performances peut se produire potentiellement.</span><span class="sxs-lookup"><span data-stu-id="8317f-422">When using the UpdatePanel control, developers should be aware of the performance impact that could potentially arise.</span></span> <span data-ttu-id="8317f-423">Les alternatives potentielles incluent les services web et les méthodes de page, bien que la conception de l’application doit être considéré comme.</span><span class="sxs-lookup"><span data-stu-id="8317f-423">Potential alternatives include web services and page methods, though the design of the application should be considered.</span></span>

<span data-ttu-id="8317f-424">Le contrôle autorise l’utilisateur à savoir qu’il n’est pas ignoré, et que la demande en arrière-plan se passe lors de la page est sinon pas de UpdateProgress sert à rien pour répondre à l’entrée utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8317f-424">The UpdateProgress control allows the user to know that she or he is not being ignored, and that the behind-the-scenes request is going on while the page is otherwise not doing anything to respond to the user input.</span></span> <span data-ttu-id="8317f-425">Il inclut également la possibilité d’abandonner les résultats de rendu partiel.</span><span class="sxs-lookup"><span data-stu-id="8317f-425">It also includes the ability to abort partial rendering results.</span></span>

<span data-ttu-id="8317f-426">Ensemble, ces outils vous aider à la création d’une expérience utilisateur riche et transparente par le bon fonctionnement du serveur moins évident à l’utilisateur et d’interrompre le flux de travail moins.</span><span class="sxs-lookup"><span data-stu-id="8317f-426">Together, these tools assist creating a rich and seamless user experience by making server work less apparent to the user and interrupting workflow less.</span></span>

## <a name="bio"></a><span data-ttu-id="8317f-427">Bio</span><span class="sxs-lookup"><span data-stu-id="8317f-427">Bio</span></span>

<span data-ttu-id="8317f-428">Scott Cate travaille avec les technologies Web Microsoft depuis 1997 et est le président de myKB.com ([www.myKB.com](http://www.myKB.com)) où il est spécialisé dans l’écriture d’ASP.NET en fonction des applications axées sur les solutions logicielles de la Base de connaissances.</span><span class="sxs-lookup"><span data-stu-id="8317f-428">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="8317f-429">Scott peut être contacté par courrier électronique en [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) ou son blog à l’adresse [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="8317f-429">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="8317f-430">Next</span><span class="sxs-lookup"><span data-stu-id="8317f-430">Next</span></span>](understanding-asp-net-ajax-updatepanel-triggers.md)
