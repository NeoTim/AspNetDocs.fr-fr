---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-a-database-cs
title: Déploiement d’une base de données (c#) | Microsoft Docs
author: rick-anderson
description: Déploiement d’une application web ASP.NET implique l’obtention de fichiers nécessaires et aux ressources à partir de l’environnement de développement à l’environnement de production. Pour da...
ms.author: riande
ms.date: 04/23/2009
ms.assetid: ff537a10-9f1f-43fe-9bcb-3dda161ba8f5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-a-database-cs
msc.type: authoredcontent
ms.openlocfilehash: da63b39fcad58580dd1f9c86b811b1a2dcc1cf7e
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/17/2019
ms.locfileid: "59416647"
---
# <a name="deploying-a-database-c"></a><span data-ttu-id="7edd4-104">Déploiement d’une base de données (C#)</span><span class="sxs-lookup"><span data-stu-id="7edd4-104">Deploying a Database (C#)</span></span>

<span data-ttu-id="7edd4-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="7edd4-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="7edd4-106">[Télécharger le Code](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_07_CS.zip) ou [télécharger le PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial07_DeployDB_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="7edd4-106">[Download Code](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_07_CS.zip) or [Download PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial07_DeployDB_cs.pdf)</span></span>

> <span data-ttu-id="7edd4-107">Déploiement d’une application web ASP.NET implique l’obtention de fichiers nécessaires et aux ressources à partir de l’environnement de développement à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-107">Deploying an ASP.NET web application entails getting the necessary files and resources from the development environment to the production environment.</span></span> <span data-ttu-id="7edd4-108">Pour les applications web orientées données, cela inclut le schéma de base de données et les données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-108">For data-driven web applications this includes the database schema and data.</span></span> <span data-ttu-id="7edd4-109">Ce didacticiel est le premier d’une série qui explore les étapes nécessaires pour déployer la base de données à partir de l’environnement de développement en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-109">This tutorial is the first in a series that explores the steps needed to successfully deploy the database from the development environment to production.</span></span>


## <a name="introduction"></a><span data-ttu-id="7edd4-110">Introduction</span><span class="sxs-lookup"><span data-stu-id="7edd4-110">Introduction</span></span>

<span data-ttu-id="7edd4-111">Déploiement d’une application web ASP.NET implique l’obtention de fichiers nécessaires et aux ressources à partir de l’environnement de développement à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-111">Deploying an ASP.NET web application entails getting the necessary files and resources from the development environment to the production environment.</span></span> <span data-ttu-id="7edd4-112">Au cours des six derniers didacticiels, nous avons vu déployant une simple application web de critiques de livres.</span><span class="sxs-lookup"><span data-stu-id="7edd4-112">Over the course of the past six tutorials we looked at deploying a simple Book Reviews web application.</span></span> <span data-ttu-id="7edd4-113">Ce site de démonstration était composé d’un nombre de ressources côté serveur - pages ASP.NET, les fichiers de configuration, un `Web.sitemap` fichier et ainsi de suite - ainsi que des ressources côté client, comme les images et des fichiers CSS.</span><span class="sxs-lookup"><span data-stu-id="7edd4-113">This demo site was comprised of a number of server-side resources - ASP.NET pages, configuration files, a `Web.sitemap` file, and so forth - along with client-side resources, like images and CSS files.</span></span> <span data-ttu-id="7edd4-114">Mais qu’en est-il des piloté par les données des applications web ?</span><span class="sxs-lookup"><span data-stu-id="7edd4-114">But what about data-driven web applications?</span></span> <span data-ttu-id="7edd4-115">Quelles étapes supplémentaires sont nécessaires pour déployer une application web qui utilise une base de données ?</span><span class="sxs-lookup"><span data-stu-id="7edd4-115">What extra steps must be taken to deploy a web application that uses a database?</span></span>

<span data-ttu-id="7edd4-116">Sur les didacticiels plusieurs suivants, nous étudierons les étapes nécessaires pour déployer une application web pilotée par les données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-116">Over the next several tutorials we will address the steps needed to deploy a data-driven web application.</span></span> <span data-ttu-id="7edd4-117">Ce didacticiel commence par examiner comment obtenir un schéma s de base de données et du contenu à partir de l’environnement de développement à l’environnement de production, tandis que le didacticiel suivant examine les modifications de configuration nécessaires.</span><span class="sxs-lookup"><span data-stu-id="7edd4-117">This tutorial starts by examining how to get a database s schema and contents from the development environment to the production environment, while the subsequent tutorial looks at the needed configuration changes.</span></span> <span data-ttu-id="7edd4-118">Après que nous allons explorer les défis du déploiement d’une base de données qui utilise les Services d’Application (l’appartenance, rôles, profil et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="7edd4-118">Following that we'll explore challenges of deploying a database that uses the Application Services (Membership, Roles, Profile, and so on).</span></span>

## <a name="examining-the-updated-book-reviews-web-application"></a><span data-ttu-id="7edd4-119">Examen de l’Application Web de révisions de mis à jour</span><span class="sxs-lookup"><span data-stu-id="7edd4-119">Examining the Updated Book Reviews Web Application</span></span>

<span data-ttu-id="7edd4-120">Afin d’illustrer le déploiement d’une application web pilotée par les données, je ve mis à jour l’application web de critiques de livres à partir d’un site Web simple, statique vers un piloté par les données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-120">In order to demonstrate deploying a data-driven web application, I ve updated the Book Reviews web application from a simple, static website to a data-driven one.</span></span> <span data-ttu-id="7edd4-121">Comme auparavant, il existe deux versions de l’application dans ce téléchargement didacticiel s : une qui utilise le modèle de projet d’Application Web et l’autre qui utilise le modèle de projet de Site Web.</span><span class="sxs-lookup"><span data-stu-id="7edd4-121">As before, there are two versions of the application in this tutorial s download: one that uses the Web Application Project model and one that uses the Web Site Project model.</span></span>

<span data-ttu-id="7edd4-122">La mise à jour critiques de livres web application utilise un [SQL Server 2008 Express Edition](https://www.microsoft.com/express/sql/default.aspx) base de données, qui est stocké dans le site s `App_Data` dossier (`~/App_Data/Reviews.mdf`).</span><span class="sxs-lookup"><span data-stu-id="7edd4-122">The updated Book Reviews web application uses a [SQL Server 2008 Express Edition](https://www.microsoft.com/express/sql/default.aspx) database, which is stored in the site s `App_Data` folder (`~/App_Data/Reviews.mdf`).</span></span> <span data-ttu-id="7edd4-123">Si vous avez installé sur votre ordinateur SQL Server 2008 la démonstration doit s’exécuter sans erreur.</span><span class="sxs-lookup"><span data-stu-id="7edd4-123">If you have SQL Server 2008 installed on your computer then the demo should run without error.</span></span> <span data-ttu-id="7edd4-124">Si vous avez une version antérieure de SQL Server, vous pouvez soit installer le gratuit SQL Server 2008 Express Edition, ou vous pouvez utiliser la base de données de téléchargement des scripts disponibles dans ce didacticiel s pour créer la base de données vous-même.</span><span class="sxs-lookup"><span data-stu-id="7edd4-124">If you have an older version of SQL Server you can either install the free SQL Server 2008 Express Edition or you can use the database scripts available in this tutorial s download to create the database yourself.</span></span>

<span data-ttu-id="7edd4-125">Le `Reviews.mdf` base de données contient quatre tables :</span><span class="sxs-lookup"><span data-stu-id="7edd4-125">The `Reviews.mdf` database contains four tables:</span></span>

- <span data-ttu-id="7edd4-126">`Genres` -inclut un enregistrement pour chaque genre, telles que la technologie, Fiction et entreprise.</span><span class="sxs-lookup"><span data-stu-id="7edd4-126">`Genres` - includes a record for each genre, such as Technology, Fiction, and Business.</span></span>
- <span data-ttu-id="7edd4-127">`Books` -inclut un enregistrement pour chaque révision, avec des colonnes comme `Title`, `GenreId`, `ReviewDate`, et `Review`, entre autres.</span><span class="sxs-lookup"><span data-stu-id="7edd4-127">`Books` - includes a record for each review, with columns like `Title`, `GenreId`, `ReviewDate`, and `Review`, among others.</span></span>
- <span data-ttu-id="7edd4-128">`Authors` -inclut des informations sur chaque auteur qui a contribué à un livre de révision.</span><span class="sxs-lookup"><span data-stu-id="7edd4-128">`Authors` - includes information about each author who has contributed to a reviewed book.</span></span>
- <span data-ttu-id="7edd4-129">`BooksAuthors` -une table de jointure plusieurs-à-plusieurs qui spécifie les auteurs ont écrit quels livres.</span><span class="sxs-lookup"><span data-stu-id="7edd4-129">`BooksAuthors` - a many-to-many join table that specifies what authors have written what books.</span></span>
  

<span data-ttu-id="7edd4-130">La figure 1 illustre un diagramme de ces quatre tables.</span><span class="sxs-lookup"><span data-stu-id="7edd4-130">Figure 1 shows an ER diagram of these four tables.</span></span>


<span data-ttu-id="7edd4-131">[![Les opérations de mappage d’Application Web livre évaluations de base de données sont composée de quatre Tables.](deploying-a-database-cs/_static/image2.jpg)](deploying-a-database-cs/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-131">[![The Book Reviews Web Application s Database is Comprised of Four Tables](deploying-a-database-cs/_static/image2.jpg)](deploying-a-database-cs/_static/image1.jpg)</span></span> 

<span data-ttu-id="7edd4-132">**Figure 1**: Les opérations de mappage d’Application Web livre évaluations de base de données sont composée de quatre Tables ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-132">**Figure 1**: The Book Reviews Web Application s Database is Comprised of Four Tables ([Click to view full-size image](deploying-a-database-cs/_static/image3.jpg))</span></span>


<span data-ttu-id="7edd4-133">La version précédente du site Web critiques de livres avait une page ASP.NET distincte pour chaque livre.</span><span class="sxs-lookup"><span data-stu-id="7edd4-133">The previous version of the Book Reviews website had a separate ASP.NET page for each book.</span></span> <span data-ttu-id="7edd4-134">Par exemple, il a été une page nommée `~/Tech/TYASP35.aspx` qui contenait la revue pour *enseigner vous-même ASP.NET 3.5 des dernières 24 heures*.</span><span class="sxs-lookup"><span data-stu-id="7edd4-134">For example, there was a page named `~/Tech/TYASP35.aspx` that contained the review for *Teach Yourself ASP.NET 3.5 in 24 Hours*.</span></span> <span data-ttu-id="7edd4-135">Cette nouvelle version piloté par les données du site Web a les révisions stockées dans la base de données et une page ASP.NET unique, Review.aspx?ID=*bookId*, qui affiche la révision pour le catalogue spécifié.</span><span class="sxs-lookup"><span data-stu-id="7edd4-135">This new data-driven version of the website has the reviews stored in the database and a single ASP.NET page, Review.aspx?ID=*bookId*, which displays the review for the specified book.</span></span> <span data-ttu-id="7edd4-136">De même, il existe un Genre.aspx?ID=*genreId* page qui répertorie les livres de révision du genre spécifié.</span><span class="sxs-lookup"><span data-stu-id="7edd4-136">Likewise, there is a Genre.aspx?ID=*genreId* page that lists the reviewed books in the specified genre.</span></span>

<span data-ttu-id="7edd4-137">Les figures 2 et 3 affichent le `Genre.aspx` et `Review.aspx` pages en action.</span><span class="sxs-lookup"><span data-stu-id="7edd4-137">Figures 2 and 3 show the `Genre.aspx` and `Review.aspx` pages in action.</span></span> <span data-ttu-id="7edd4-138">Notez l’URL dans la barre d’adresse pour chaque page.</span><span class="sxs-lookup"><span data-stu-id="7edd4-138">Note the URL in the Address bar for each page.</span></span> <span data-ttu-id="7edd4-139">Dans la Figure 2 il s Genre.aspx ? ID = 85d164ba-1123-4 c 47-82a0-c8ec75de7e0e.</span><span class="sxs-lookup"><span data-stu-id="7edd4-139">In Figure 2 it s Genre.aspx?ID=85d164ba-1123-4c47-82a0-c8ec75de7e0e.</span></span> <span data-ttu-id="7edd4-140">Étant donné que 85d164ba-1123-4c47-82a0-c8ec75de7e0e est le `GenreId` valeur pour le genre de technologie, les lectures de titre de page s « Technologie révisions » et la liste à puces énumère ces avis sur le site qui relèvent de ce genre.</span><span class="sxs-lookup"><span data-stu-id="7edd4-140">Because 85d164ba-1123-4c47-82a0-c8ec75de7e0e is the `GenreId` value for the Technology genre, the page s heading reads "Technology Reviews" and the bulleted list enumerates those reviews on the site that fall under this genre.</span></span>


<span data-ttu-id="7edd4-141">[![La Page de Genre de technologie](deploying-a-database-cs/_static/image5.jpg)](deploying-a-database-cs/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-141">[![The Technology Genre Page](deploying-a-database-cs/_static/image5.jpg)](deploying-a-database-cs/_static/image4.jpg)</span></span> 

<span data-ttu-id="7edd4-142">**Figure 2**: La Page de Genre de technologie ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-142">**Figure 2**: The Technology Genre Page ([Click to view full-size image](deploying-a-database-cs/_static/image6.jpg))</span></span>


<span data-ttu-id="7edd4-143">[![La révision de Teach Yourself ASP.NET 3.5 dans 24 heures](deploying-a-database-cs/_static/image8.jpg)](deploying-a-database-cs/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-143">[![The Review for Teach Yourself ASP.NET 3.5 in 24 Hours](deploying-a-database-cs/_static/image8.jpg)](deploying-a-database-cs/_static/image7.jpg)</span></span> 

<span data-ttu-id="7edd4-144">**Figure 3**: La révision de *enseigner vous-même ASP.NET 3.5 des dernières 24 heures* ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-144">**Figure 3**: The Review for *Teach Yourself ASP.NET 3.5 in 24 Hours* ([Click to view full-size image](deploying-a-database-cs/_static/image9.jpg))</span></span>


<span data-ttu-id="7edd4-145">L’application web passe en revue du livre inclut également une section d’administration où les administrateurs peuvent ajouter, modifier et supprimer des genres, révisions et créer des informations.</span><span class="sxs-lookup"><span data-stu-id="7edd4-145">The Book Reviews web application also includes an administration section where administrators can add, edit, and delete genres, reviews, and author information.</span></span> <span data-ttu-id="7edd4-146">Actuellement, n’importe quel visiteur peut accéder à la section administration.</span><span class="sxs-lookup"><span data-stu-id="7edd4-146">Currently, any visitor can access the administration section.</span></span> <span data-ttu-id="7edd4-147">Dans un futur didacticiel nous ajouter la prise en charge pour les comptes d’utilisateur et autoriser uniquement les utilisateurs autorisés dans les pages d’administration.</span><span class="sxs-lookup"><span data-stu-id="7edd4-147">In a future tutorial we'll add support for user accounts and only permit authorized users into the administration pages.</span></span>

<span data-ttu-id="7edd4-148">Si vous téléchargez l’application de critiques de livres, n’oubliez pas que son objectif est de montrer le déploiement d’une application orientée données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-148">If you download the Book Reviews application please keep in mind that its purpose is to demonstrate deploying a data-driven application.</span></span> <span data-ttu-id="7edd4-149">Il ne présente pas les meilleures pratiques en ce qui concerne la conception de l’application.</span><span class="sxs-lookup"><span data-stu-id="7edd4-149">It does not exhibit best practices as far as application design.</span></span> <span data-ttu-id="7edd4-150">Par exemple, il n’existe aucun distinct couche DAL (Data Access) ; les pages ASP.NET communiquent directement avec la base de données via le contrôle SqlDataSource ou le code ADO.NET dans leurs classes de code-behind.</span><span class="sxs-lookup"><span data-stu-id="7edd4-150">For example, there is no separate Data Access Layer (DAL); the ASP.NET pages communicate directly with the database through the SqlDataSource control or ADO.NET code in their code-behind classes.</span></span> <span data-ttu-id="7edd4-151">Pour une plus approfondi de la création d’applications pilotées par les données à l’aide d’une architecture à plusieurs niveaux, reportez-vous à mon [ *utilisation des données* didacticiels](../../data-access/index.md).</span><span class="sxs-lookup"><span data-stu-id="7edd4-151">For a more in-depth look at creating data-driven applications using a tiered architecture, refer to my [*Working with Data* tutorials](../../data-access/index.md).</span></span>

## <a name="databases-on-development-versus-production"></a><span data-ttu-id="7edd4-152">Bases de données sur le développement et la Production</span><span class="sxs-lookup"><span data-stu-id="7edd4-152">Databases on Development Versus Production</span></span>

<span data-ttu-id="7edd4-153">Lorsque vous démarrez le développement sur une application web pilotée par les données, vous devez spécifier une chaîne de connexion de base de données, qui fournit des détails de l’application sur la façon de se connecter à la base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-153">When you start development on a data-driven web application you must specify a database connection string, which provides the application details on how to connect to the database.</span></span> <span data-ttu-id="7edd4-154">Cette chaîne de connexion spécifie, entre autres choses, le serveur de base de données, le nom de la base de données et les informations de sécurité.</span><span class="sxs-lookup"><span data-stu-id="7edd4-154">This connection string specifies, among other things, the database server, the database name, and security information.</span></span> <span data-ttu-id="7edd4-155">En règle générale, la base de données utilisé par l’application pendant le développement est différent de celui de la base de données utilisée quand il s en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-155">Most often, the database used by the application during development is different than the database used when it s in production.</span></span> <span data-ttu-id="7edd4-156">Il existe de nombreux avantages liés à l’aide de différentes bases de données pour le développement et production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-156">There are many benefits of using different databases for development versus production.</span></span> <span data-ttu-id="7edd4-157">Ne pas avoir une autre base de données dans des moyens de développement vous ont à vous soucier d’accidentellement la modification ou la suppression des données actives.</span><span class="sxs-lookup"><span data-stu-id="7edd4-157">Having a different database in development means you don t have to worry about accidentally modifying or deleting live data.</span></span> <span data-ttu-id="7edd4-158">Il vous permet également de placer dans les données de test factice ou apporter des modifications avec rupture au modèle de données sans avoir à vous soucier de l’impact sur l’application en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-158">It also lets you put in dummy test data or make breaking changes to the data model without having to worry about the effects on the application in production.</span></span> <span data-ttu-id="7edd4-159">L’inconvénient d’avoir une autre base de données dans les environnements de développement et de production est que lorsque l’application est déployée la base de données et toutes les modifications pertinentes sur le schéma de base de données s ou de données doivent également être déployées.</span><span class="sxs-lookup"><span data-stu-id="7edd4-159">The downside of having a different database in the development and production environments is that when the application is deployed the database and any pertinent changes to the database s schema or data must also be deployed.</span></span>

<span data-ttu-id="7edd4-160">Avant le premier déploiement, il existe une seule instance de la base de données, et cette instance est dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="7edd4-160">Prior to the first deployment, there is only one instance of the database, and that instance is in the development environment.</span></span> <span data-ttu-id="7edd4-161">Lors du déploiement de l’application en production pour la première fois, nous devons non seulement copier les fichiers nécessaires côté serveur et côté client, mais également copier la base de données à partir de l’environnement de développement vers l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-161">When deploying the application to production for the first time we must not only copy up the necessary server-side and client-side files, but also copy the database from the development environment to the production environment.</span></span> <span data-ttu-id="7edd4-162">Il s’agit où nous en sommes droit maintenant avec l’application web critiques de livres - la base de données réside dans le `App_Data` dossier dans notre environnement de développement n’ayant pas encore été envoyées à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-162">This is where we stand right now with the Book Reviews web application - the database resides in the `App_Data` folder in our development environment but has not yet been pushed up to the production environment.</span></span>

<span data-ttu-id="7edd4-163">Une fois que l’application a été déployée, il existe deux copies de la base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-163">Once the application has been deployed there are two copies of the database.</span></span> <span data-ttu-id="7edd4-164">Que l’application arrive à maturité, nouvelles fonctionnalités peuvent être ajoutées, ce qui nécessite une modification au modèle de données (telles que l’ajout de nouvelles colonnes aux tables existantes, apporter des modifications aux colonnes existantes, ajout de nouvelles tables et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="7edd4-164">As the application matures, new features may be added, necessitating a change to the data model (such as adding new columns to existing tables, making changes to existing columns, adding new tables, and so on).</span></span> <span data-ttu-id="7edd4-165">Lorsque l’application web est ensuite déployée, les modifications appliquées à la base de données dans l’environnement de développement dans la mesure où le dernier déploiement doit être appliqué à la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-165">When the web application is next deployed, the changes applied to the database in the development environment since the last deployment must be applied to the production database.</span></span> <span data-ttu-id="7edd4-166">Certaines stratégies pour la gestion de ce processus sont traitées dans un futur didacticiel.</span><span class="sxs-lookup"><span data-stu-id="7edd4-166">Some strategies for managing this process are discussed in a future tutorial.</span></span> <span data-ttu-id="7edd4-167">Ce didacticiel se concentre sur le déploiement de la base de données à partir de l’environnement de développement en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-167">This tutorial focuses on deploying the entire database from the development environment to production.</span></span>

## <a name="deploying-the-database-to-the-production-environment"></a><span data-ttu-id="7edd4-168">Déploiement de la base de données dans l’environnement de Production</span><span class="sxs-lookup"><span data-stu-id="7edd4-168">Deploying the Database to the Production Environment</span></span>

<span data-ttu-id="7edd4-169">Le reste de ce didacticiel examine comment déployer la base de données à partir de l’environnement de développement à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-169">The remainder of this tutorial looks at how to deploy the database from the development environment to the production environment.</span></span> <span data-ttu-id="7edd4-170">Si vous suivez vous avez besoin pour vous assurer que votre compte avec votre fournisseur d’hébergement web inclut Microsoft SQL Server database prend en charge.</span><span class="sxs-lookup"><span data-stu-id="7edd4-170">If you are following along you need to make sure that your account with your web host provider includes Microsoft SQL Server database support.</span></span> <span data-ttu-id="7edd4-171">Vous devez également avoir des informations à portée de main, à savoir le nom du serveur de base de données, le nom de la base de données et le nom d’utilisateur et mot de passe utilisé pour se connecter à la base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-171">You'll also need to have some information at hand, namely the database server name, the database name, and the username and password used to connect to the database.</span></span>

<span data-ttu-id="7edd4-172">Comme indiqué précédemment dans ce didacticiel, la base de données du site Web s critiques de livres est une base de données SQL Server 2008 Express Edition stockée dans le `App_Data` dossier.</span><span class="sxs-lookup"><span data-stu-id="7edd4-172">As noted earlier in this tutorial, the Book Reviews website s database is a SQL Server 2008 Express Edition database stored in the `App_Data` folder.</span></span> <span data-ttu-id="7edd4-173">Il serait, mettez au point de penser que déploiement d’une base de données serait simplement à copier le `App_Data` dossier à partir de l’environnement de développement à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-173">It would stand to reason that deploying such a database would be as simple as copying the `App_Data` folder from the development environment to the production environment.</span></span> <span data-ttu-id="7edd4-174">Toutefois, la plupart des fournisseurs d’hébergement web ne prennent pas en charge hébergement bases de données dans le `App_Data` dossier en raison des raisons de sécurité.</span><span class="sxs-lookup"><span data-stu-id="7edd4-174">However, most web host providers do not support hosting databases in the `App_Data` folder because of security reasons.</span></span> <span data-ttu-id="7edd4-175">Au lieu de cela, les hôtes web fournissent un compte sur un serveur de base de données SQL Server dans leur environnement.</span><span class="sxs-lookup"><span data-stu-id="7edd4-175">Instead, web hosts provide an account on a SQL Server database server within their environment.</span></span> <span data-ttu-id="7edd4-176">Déploiement de la base de données à partir de votre environnement de développement à l’environnement de production nécessite l’obtention de votre base de données enregistré sur votre serveur de base de données s web hôte.</span><span class="sxs-lookup"><span data-stu-id="7edd4-176">Deploying the database from your development environment to the production environment requires getting your database registered on your web host s database server.</span></span>

<span data-ttu-id="7edd4-177">Par conséquent, comment obtenir votre base de données à partir de l’environnement de développement à l’environnement de production ?</span><span class="sxs-lookup"><span data-stu-id="7edd4-177">So how do you get your database from the development environment to the production environment?</span></span> <span data-ttu-id="7edd4-178">Il existe plusieurs façons de procéder selon les services offerts par votre hôte web.</span><span class="sxs-lookup"><span data-stu-id="7edd4-178">There are a couple ways to accomplish this depending on what services your web host offers.</span></span> <span data-ttu-id="7edd4-179">Avec certains hôtes, tels que DiscountASP.NET, vous pouvez FTP une sauvegarde de la base de données ou le texte réel `.mdf` fichier à votre site Web et ensuite, restaurez le fichier de sauvegarde à partir du Panneau de configuration ou attacher la `.mdf` fichier sur le serveur de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7edd4-179">With some hosts, such as DiscountASP.NET, you can FTP a backup of the database or the actual `.mdf` file to your website and then, from the Control Panel, restore the backup file or attach the `.mdf` file to the SQL Server database server.</span></span> <span data-ttu-id="7edd4-180">Avec ces outils de déploiement de la base de données est aussi simple que la copie la `App_Data` dossier dans lequel l’environnement de production, puis l’attacher via le panneau de configuration.</span><span class="sxs-lookup"><span data-stu-id="7edd4-180">With such tools deploying the database is as simple as copying the `App_Data` folder to the production environment and then attaching it via the Control Panel.</span></span> <span data-ttu-id="7edd4-181">Il s’agit peut-être le moyen le plus simple et plus rapide pour publier votre base de données pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="7edd4-181">This is perhaps the easiest and quickest way to publish your database for the first time.</span></span>

<span data-ttu-id="7edd4-182">Une autre approche consiste à utiliser l’Assistant Publication de base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-182">Another approach is to use the Database Publishing Wizard.</span></span> <span data-ttu-id="7edd4-183">L’Assistant Publication de base de données est une application de bureau Windows qui génère les commandes SQL pour créer votre schéma s de base de données - les tables, procédures stockées, vues, fonctions définies par l’utilisateur et ainsi de suite - et, éventuellement, les données dans ses tables.</span><span class="sxs-lookup"><span data-stu-id="7edd4-183">The Database Publishing Wizard is a Windows desktop application that will generate the SQL commands to create your database s schema - the tables, stored procedures, views, user-defined functions, and so forth - and, optionally, the data in its tables.</span></span> <span data-ttu-id="7edd4-184">Vous pouvez ensuite vous connecter à votre serveur web hôte fournisseur s de base de données via SQL Server Management Studio et puis exécutez ce script pour dupliquer la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-184">You can then connect to your web host provider s database server through SQL Server Management Studio and then execute this script to duplicate the database on production.</span></span> <span data-ttu-id="7edd4-185">Mieux encore, si votre fournisseur d’hébergement web prend en charge Microsoft s [Database Publishing Services](http://www.codeplex.com/sqlhost/Wiki/View.aspx?title=Database%20Publishing%20Services&amp;referringTitle=Home) vous pouvez avoir le script généré par l’Assistant Publication de base de données exécutée automatiquement sur le serveur de base de données à votre place.</span><span class="sxs-lookup"><span data-stu-id="7edd4-185">Even better, if your web host provider supports Microsoft s [Database Publishing Services](http://www.codeplex.com/sqlhost/Wiki/View.aspx?title=Database%20Publishing%20Services&amp;referringTitle=Home) you can have the script generated by the Database Publishing Wizard automatically executed on the database server on your behalf.</span></span> <span data-ttu-id="7edd4-186">Étant donné que l’Assistant Publication de base de données génère un script qui crée le schéma de base de données s et les données, il fonctionne indépendamment du fait que votre fournisseur d’hébergement web offre des fonctionnalités comme l’attachement à un chargé `.mdf` fichier.</span><span class="sxs-lookup"><span data-stu-id="7edd4-186">Because the Database Publishing Wizard generates a script that creates the database s schema and data, it will work regardless of whether your web host provider offers features like attaching an uploaded `.mdf` file.</span></span>

### <a name="generating-the-sql-commands-to-create-the-database-schema-and-data-using-the-database-publishing-wizard"></a><span data-ttu-id="7edd4-187">Générer les commandes SQL pour créer le schéma de base de données et les données à l’aide de l’Assistant Publication de base de données</span><span class="sxs-lookup"><span data-stu-id="7edd4-187">Generating the SQL Commands to Create the Database Schema and Data Using the Database Publishing Wizard</span></span>

<span data-ttu-id="7edd4-188">Laissez s guident dans l’utilisation de l’Assistant Publication de base de données à déployer la base de données critiques de livres en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-188">Let s walk through using the Database Publishing Wizard to deploy the Book Reviews database to production.</span></span> <span data-ttu-id="7edd4-189">Si vous utilisez Visual Studio 2008 ou au-delà, l’Assistant Publication de base de données est déjà installé.</span><span class="sxs-lookup"><span data-stu-id="7edd4-189">If you are using Visual Studio 2008 or beyond, the Database Publishing Wizard is already installed.</span></span> <span data-ttu-id="7edd4-190">Si vous utilisez Visual Studio 2005, vous devez d’abord [Téléchargez et installez](https://www.microsoft.com/downloads/details.aspx?familyid=56E5B1C5-BF17-42E0-A410-371A838E570A&amp;displaylang=en) l’Assistant.</span><span class="sxs-lookup"><span data-stu-id="7edd4-190">If you are using Visual Studio 2005 then you will need to first [download and install](https://www.microsoft.com/downloads/details.aspx?familyid=56E5B1C5-BF17-42E0-A410-371A838E570A&amp;displaylang=en) the wizard.</span></span>

<span data-ttu-id="7edd4-191">Ouvrez Visual Studio et accédez à la `Reviews.mdf` base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-191">Open Visual Studio and navigate to the `Reviews.mdf` database.</span></span> <span data-ttu-id="7edd4-192">Si vous utilisez Visual Web Developer, accédez à l’Explorateur de base de données ; Si vous utilisez Visual Studio, utilisez l’Explorateur de serveurs.</span><span class="sxs-lookup"><span data-stu-id="7edd4-192">If you are using Visual Web Developer, go to the Database Explorer; if you are using Visual Studio, use the Server Explorer.</span></span> <span data-ttu-id="7edd4-193">La figure 4 illustre le `Reviews.mdf` base de données dans l’Explorateur de base de données dans Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="7edd4-193">Figure 4 shows the `Reviews.mdf` database in the Database Explorer in Visual Web Developer.</span></span> <span data-ttu-id="7edd4-194">Comme le montre la Figure 4, le `Reviews.mdf` base de données se compose de quatre tables, trois procédures stockées et une fonction définie par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7edd4-194">As Figure 4 shows, the `Reviews.mdf` database is composed of four tables, three stored procedures, and a user-defined function.</span></span>


<span data-ttu-id="7edd4-195">[![Localisez la base de données dans l’Explorateur de base de données ou l’Explorateur de serveurs](deploying-a-database-cs/_static/image11.jpg)](deploying-a-database-cs/_static/image10.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-195">[![Locate the Database in the Database Explorer or Server Explorer](deploying-a-database-cs/_static/image11.jpg)](deploying-a-database-cs/_static/image10.jpg)</span></span> 

<span data-ttu-id="7edd4-196">**Figure 4**: Localisez la base de données dans l’Explorateur de base de données ou l’Explorateur de serveurs ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image12.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-196">**Figure 4**: Locate the Database in the Database Explorer or Server Explorer ([Click to view full-size image](deploying-a-database-cs/_static/image12.jpg))</span></span>


<span data-ttu-id="7edd4-197">Avec le bouton droit sur le nom de la base de données et choisissez l’option « Publier au fournisseur » dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="7edd4-197">Right-click on the database name and choose the "Publish to provider" option from the context menu.</span></span> <span data-ttu-id="7edd4-198">Cette action lance l’Assistant Publication de base de données (voir Figure 5).</span><span class="sxs-lookup"><span data-stu-id="7edd4-198">This launches the Database Publishing Wizard (see Figure 5).</span></span> <span data-ttu-id="7edd4-199">Cliquez sur Suivant pour passer au-delà de l’écran de démarrage.</span><span class="sxs-lookup"><span data-stu-id="7edd4-199">Click Next to advance past the splash screen.</span></span>


<span data-ttu-id="7edd4-200">[![L’écran d’accueil Assistant de publication de base de données](deploying-a-database-cs/_static/image14.jpg)](deploying-a-database-cs/_static/image13.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-200">[![The Database Publishing Wizard Splash Screen](deploying-a-database-cs/_static/image14.jpg)](deploying-a-database-cs/_static/image13.jpg)</span></span> 

<span data-ttu-id="7edd4-201">**Figure 5**: L’écran de démarrage de l’Assistant de publication de base de données ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image15.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-201">**Figure 5**: The Database Publishing Wizard Splash Screen ([Click to view full-size image](deploying-a-database-cs/_static/image15.jpg))</span></span>


<span data-ttu-id="7edd4-202">Le deuxième écran de l’Assistant répertorie les bases de données accessibles à l’Assistant Publication de base de données et vous permet de choisir s’il faut écrire tous les objets dans la base de données ou choisir les objets au script.</span><span class="sxs-lookup"><span data-stu-id="7edd4-202">The second screen in the wizard lists the databases accessible to the Database Publishing Wizard and lets you choose whether to script all objects in the selected database or to pick which objects to script.</span></span> <span data-ttu-id="7edd4-203">Sélectionnez la base de données appropriée et laissez l’option « Script tous les objets dans la base de données sélectionnée » cochée.</span><span class="sxs-lookup"><span data-stu-id="7edd4-203">Select the appropriate database and leave the "Script all objects in the selected database" option checked.</span></span>

> [!NOTE]
> <span data-ttu-id="7edd4-204">Si vous obtenez l’erreur « Il y a aucun objet dans la base de données *databaseName* des types scriptables par cet Assistant » lorsque vous cliquez sur suivant dans l’écran illustré à la Figure 6, assurez-vous que le chemin d’accès à votre fichier de base de données n’est pas trop long.</span><span class="sxs-lookup"><span data-stu-id="7edd4-204">If you get the error "There are no objects in database *databaseName* of the types scriptable by this wizard" when clicking Next in the screen shown in Figure 6, make sure that the path to your database file is not overly long.</span></span> <span data-ttu-id="7edd4-205">Il a été découvert que cette erreur peut se produire si le chemin d’accès au fichier de base de données est trop long.</span><span class="sxs-lookup"><span data-stu-id="7edd4-205">It has been discovered that this error can arise if the path to the database file is too long.</span></span>


<span data-ttu-id="7edd4-206">[![L’écran d’accueil Assistant de publication de base de données](deploying-a-database-cs/_static/image17.jpg)](deploying-a-database-cs/_static/image16.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-206">[![The Database Publishing Wizard Splash Screen](deploying-a-database-cs/_static/image17.jpg)](deploying-a-database-cs/_static/image16.jpg)</span></span> 

<span data-ttu-id="7edd4-207">**Figure 6**: L’écran de démarrage de l’Assistant de publication de base de données ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image18.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-207">**Figure 6**: The Database Publishing Wizard Splash Screen ([Click to view full-size image](deploying-a-database-cs/_static/image18.jpg))</span></span>


<span data-ttu-id="7edd4-208">À partir de l’écran suivant vous pouvez générer un fichier de script ou, si votre hôte web prend en charge, publier la base de données directement sur votre serveur web hôte fournisseur s de base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-208">From the next screen you can generate a script file or, if your web host supports it, publish the database directly to your web host provider s database server.</span></span> <span data-ttu-id="7edd4-209">Comme le montre la Figure 7, j’ai le script écrit dans le fichier `C:\REVIEWS.MDF.sql`.</span><span class="sxs-lookup"><span data-stu-id="7edd4-209">As Figure 7 shows, I am having the script written to the file `C:\REVIEWS.MDF.sql`.</span></span>


<span data-ttu-id="7edd4-210">[![La base de données dans un fichier de script ou la publier directement sur votre fournisseur d’hébergement Web](deploying-a-database-cs/_static/image20.jpg)](deploying-a-database-cs/_static/image19.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-210">[![Script the Database to a File or Publish it Directly to Your Web Host Provider](deploying-a-database-cs/_static/image20.jpg)](deploying-a-database-cs/_static/image19.jpg)</span></span> 

<span data-ttu-id="7edd4-211">**Figure 7**: La base de données dans un fichier de script ou la publier directement sur votre fournisseur d’hébergement Web ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image21.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-211">**Figure 7**: Script the Database to a File or Publish it Directly to Your Web Host Provider ([Click to view full-size image](deploying-a-database-cs/_static/image21.jpg))</span></span>


<span data-ttu-id="7edd4-212">L’écran suivant vous invite à entrer une variété d’options de script.</span><span class="sxs-lookup"><span data-stu-id="7edd4-212">The subsequent screen prompts you for a variety of scripting options.</span></span> <span data-ttu-id="7edd4-213">Vous pouvez spécifier si le script doit inclure des instructions drop pour supprimer ces objets existants.</span><span class="sxs-lookup"><span data-stu-id="7edd4-213">You can specify whether the script should include drop statements to remove these existing objects.</span></span> <span data-ttu-id="7edd4-214">Par défaut est True, ce qui est correct lors du déploiement d’une base de données pour la première fois.</span><span class="sxs-lookup"><span data-stu-id="7edd4-214">This defaults to True, which is fine when deploying a database for the first time.</span></span> <span data-ttu-id="7edd4-215">Vous pouvez également spécifier si la base de données cible est SQL Server 2000, SQL Server 2005 ou SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="7edd4-215">You can also specify whether the target database is SQL Server 2000, SQL Server 2005, or SQL Server 2008.</span></span> <span data-ttu-id="7edd4-216">Enfin, vous pouvez indiquer s’il faut écrire le schéma et les données, uniquement les données, ou uniquement le schéma.</span><span class="sxs-lookup"><span data-stu-id="7edd4-216">Finally, you can indicate whether to script the schema and data, just the data, or just the schema.</span></span> <span data-ttu-id="7edd4-217">Le schéma est la collection d’objets de base de données, les tables, procédures stockées, vues et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="7edd4-217">The schema is the collection of database objects, the tables, stored procedures, views, and so on.</span></span> <span data-ttu-id="7edd4-218">Les données sont les informations qui résident dans les tables.</span><span class="sxs-lookup"><span data-stu-id="7edd4-218">The data is the information residing in the tables.</span></span>

<span data-ttu-id="7edd4-219">Comme l’illustre la Figure 8, j’ai avons l’Assistant configuré pour supprimer des objets de base de données existante, pour générer un script pour une base de données SQL Server 2008 et pour publier le schéma et les données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-219">As Figure 8 illustrates, I ve got the wizard configured to drop existing database objects, to generate script for a SQL Server 2008 database, and to publish both the schema and data.</span></span>


<span data-ttu-id="7edd4-220">[![Spécifiez la publication Options](deploying-a-database-cs/_static/image23.jpg)](deploying-a-database-cs/_static/image22.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-220">[![Specify the Publishing Options](deploying-a-database-cs/_static/image23.jpg)](deploying-a-database-cs/_static/image22.jpg)</span></span> 

<span data-ttu-id="7edd4-221">**Figure 8**: Spécifiez les Options de publication ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image24.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-221">**Figure 8**: Specify the Publishing Options ([Click to view full-size image](deploying-a-database-cs/_static/image24.jpg))</span></span>


<span data-ttu-id="7edd4-222">Les deux écrans finales résument les actions qui sont sur le point d’entreprendre, puis afficher l’état de l’écriture de scripts.</span><span class="sxs-lookup"><span data-stu-id="7edd4-222">The final two screens summarize the actions that are about to be taken and then display the status of the scripting.</span></span> <span data-ttu-id="7edd4-223">Le résultat net de l’exécution de l’Assistant est que nous avons un fichier de script qui contient les commandes SQL nécessaires pour créer la base de données sur la production et le remplir avec les mêmes données sur le développement.</span><span class="sxs-lookup"><span data-stu-id="7edd4-223">The net result of running the wizard is that we have a script file that contains the SQL commands needed to create the database on production and populate it with the same data as on development.</span></span>

### <a name="executing-the-sql-commands-on-the-production-environment-database"></a><span data-ttu-id="7edd4-224">L’exécution des commandes SQL sur la base de données des environnement de Production</span><span class="sxs-lookup"><span data-stu-id="7edd4-224">Executing the SQL Commands On the Production Environment Database</span></span>

<span data-ttu-id="7edd4-225">Maintenant que nous avons le script qui contient les commandes SQL pour créer la base de données et toutes ses données qui reste est d’exécuter le script sur la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-225">Now that we have the script that contains the SQL commands to create the database and its data all that remains is to execute the script on the production database.</span></span> <span data-ttu-id="7edd4-226">Certains fournisseurs d’hébergement web offrent une zone de texte dans leur panneau où vous pouvez entrer des commandes SQL à exécuter sur votre base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-226">Some web host providers offer a textbox in their Control Panel where you can enter SQL commands to execute on your database.</span></span> <span data-ttu-id="7edd4-227">Si vous avez un fichier de script très volumineux, cette option peut ne pas fonctionner (le `REVIEWS.MDF.sql` fichier de script est plus 425 Ko, par exemple).</span><span class="sxs-lookup"><span data-stu-id="7edd4-227">If you have a very large script file then this option might not work (the `REVIEWS.MDF.sql` script file is over 425 KB in size, for instance).</span></span>

<span data-ttu-id="7edd4-228">Une meilleure approche consiste à se connecter directement au serveur de base de données de production à l’aide de SQL Server Management Studio (SSMS).</span><span class="sxs-lookup"><span data-stu-id="7edd4-228">A better approach is to connect directly to the production database server using SQL Server Management Studio (SSMS).</span></span> <span data-ttu-id="7edd4-229">Si vous avez un non - Express Edition de SQL Server installée sur votre ordinateur puis que vous avez déjà installé de SSMS.</span><span class="sxs-lookup"><span data-stu-id="7edd4-229">If you have a non-Express Edition of SQL Server installed on your computer then you likely already have SSMS installed.</span></span> <span data-ttu-id="7edd4-230">Sinon, vous pouvez [Téléchargez et installez](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) une copie gratuite de SQL Server Management Studio Express Edition.</span><span class="sxs-lookup"><span data-stu-id="7edd4-230">Otherwise, you can [download and install](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) a free copy of SQL Server Management Studio Express Edition.</span></span>

<span data-ttu-id="7edd4-231">Lancez SSMS et connectez-vous à votre serveur de base de données web hôte s en utilisant les informations fournies par votre fournisseur d’hébergement web.</span><span class="sxs-lookup"><span data-stu-id="7edd4-231">Launch SSMS and connect to your web host s database server using the information provided by your web host provider.</span></span>


<span data-ttu-id="7edd4-232">[![Se connecter à votre serveur Web hôte fournisseur s de base de données](deploying-a-database-cs/_static/image26.jpg)](deploying-a-database-cs/_static/image25.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-232">[![Connect to Your Web Host Provider s Database Server](deploying-a-database-cs/_static/image26.jpg)](deploying-a-database-cs/_static/image25.jpg)</span></span> 

<span data-ttu-id="7edd4-233">**Figure 9**: Se connecter à votre fournisseur d’hébergement Web s serveur de base de données ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image27.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-233">**Figure 9**: Connect to Your Web Host Provider s Database Server ([Click to view full-size image](deploying-a-database-cs/_static/image27.jpg))</span></span>


<span data-ttu-id="7edd4-234">Développez l’onglet bases de données et recherchez votre base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-234">Expand the Databases tab and locate your database.</span></span> <span data-ttu-id="7edd4-235">Cliquez sur le bouton Nouvelle requête dans le coin supérieur gauche de la barre d’outils, collez les commandes SQL à partir du fichier de script créé par l’Assistant Publication de base de données, puis cliquez sur le bouton d’exécution pour exécuter ces commandes sur le serveur de base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-235">Click the New Query button in the upper left corner of the Toolbar, paste in the SQL commands from the script file created by the Database Publishing Wizard, and click the Execute button to run these commands on the production database server.</span></span> <span data-ttu-id="7edd4-236">Si votre fichier de script est particulièrement important, il peut prendre plusieurs minutes pour exécuter les commandes.</span><span class="sxs-lookup"><span data-stu-id="7edd4-236">If your script file is especially large it may take several minutes to execute the commands.</span></span>


<span data-ttu-id="7edd4-237">[![Se connecter à votre serveur Web hôte fournisseur s de base de données](deploying-a-database-cs/_static/image29.jpg)](deploying-a-database-cs/_static/image28.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-237">[![Connect to Your Web Host Provider s Database Server](deploying-a-database-cs/_static/image29.jpg)](deploying-a-database-cs/_static/image28.jpg)</span></span> 

<span data-ttu-id="7edd4-238">**Figure 10**: Se connecter à votre fournisseur d’hébergement Web s serveur de base de données ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image30.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-238">**Figure 10**: Connect to Your Web Host Provider s Database Server ([Click to view full-size image](deploying-a-database-cs/_static/image30.jpg))</span></span>


<span data-ttu-id="7edd4-239">S résume-t-elle est !</span><span class="sxs-lookup"><span data-stu-id="7edd4-239">That s all there is to it!</span></span> <span data-ttu-id="7edd4-240">À ce stade, la base de données de développement a été dupliqué en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-240">At this point the development database has been duplicated to production.</span></span> <span data-ttu-id="7edd4-241">Si vous actualisez la base de données dans SSMS, vous devez voir les nouveaux objets de base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-241">If you Refresh the database in SSMS you should see the new database objects.</span></span> <span data-ttu-id="7edd4-242">Figure 11 illustre les tables de base de données de production, les procédures stockées et les fonctions définies par l’utilisateur, qui reflètent ceux sur la base de données de développement.</span><span class="sxs-lookup"><span data-stu-id="7edd4-242">Figure 11 shows the production database s tables, stored procedures, and user-defined functions, which mirror those on the development database.</span></span> <span data-ttu-id="7edd4-243">Et étant donné que nous lui avons demandé l’Assistant Publication de base de données pour publier les données, les tables de s de base de données de production ont les mêmes données que les tables de s de base de données de développement au moment de que l’Assistant a été exécuté.</span><span class="sxs-lookup"><span data-stu-id="7edd4-243">And because we instructed the Database Publishing Wizard to publish the data, the production database s tables have the same data as the development database s tables at the time the wizard was executed.</span></span> <span data-ttu-id="7edd4-244">La figure 12 illustre les données dans le `Books` table sur la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-244">Figure 12 shows the data in the `Books` table on the production database.</span></span>


<span data-ttu-id="7edd4-245">[![Les objets de base de données ont été dupliqués sur la base de données de Production](deploying-a-database-cs/_static/image32.jpg)](deploying-a-database-cs/_static/image31.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-245">[![The Database Objects Have Been Duplicated on the Production Database](deploying-a-database-cs/_static/image32.jpg)](deploying-a-database-cs/_static/image31.jpg)</span></span> 

<span data-ttu-id="7edd4-246">**Figure 11**: La base de données objets ont été dupliqués sur la base de données de Production ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image33.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-246">**Figure 11**: The Database Objects Have Been Duplicated on the Production Database ([Click to view full-size image](deploying-a-database-cs/_static/image33.jpg))</span></span>


<span data-ttu-id="7edd4-247">[![La base de données de Production contient les mêmes données que la base de données de développement](deploying-a-database-cs/_static/image35.jpg)](deploying-a-database-cs/_static/image34.jpg)</span><span class="sxs-lookup"><span data-stu-id="7edd4-247">[![The Production Database Contains the Same Data as on the Development Database](deploying-a-database-cs/_static/image35.jpg)](deploying-a-database-cs/_static/image34.jpg)</span></span> 

<span data-ttu-id="7edd4-248">**Figure 12**: La base de données de Production contient les mêmes données que sur la base de données de développement ([cliquez pour afficher l’image en taille réelle](deploying-a-database-cs/_static/image36.jpg))</span><span class="sxs-lookup"><span data-stu-id="7edd4-248">**Figure 12**: The Production Database Contains the Same Data as on the Development Database ([Click to view full-size image](deploying-a-database-cs/_static/image36.jpg))</span></span>


<span data-ttu-id="7edd4-249">À ce stade, nous avons déployé uniquement la base de données de développement en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-249">At this point we have only deployed the development database to production.</span></span> <span data-ttu-id="7edd4-250">Nous n’avons pas encore examiné de déploiement de l’application web elle-même ou examiner les modifications de configuration nécessaires pour que l’application de production à utiliser la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-250">We have not yet looked at deploying the web application itself or examined what configuration changes are needed to have the application on production use the production database.</span></span> <span data-ttu-id="7edd4-251">Nous aborderons ces problèmes dans le didacticiel suivant !</span><span class="sxs-lookup"><span data-stu-id="7edd4-251">We'll cover these issues in the next tutorial!</span></span>

## <a name="summary"></a><span data-ttu-id="7edd4-252">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="7edd4-252">Summary</span></span>

<span data-ttu-id="7edd4-253">Déploiement d’une application web pilotée par les données nécessite la copie de la base de données utilisée pendant le développement à l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-253">Deploying a data-driven web application requires copying the database used during development to the production environment.</span></span> <span data-ttu-id="7edd4-254">Plusieurs fournisseurs d’hébergement web offrent des outils permettant de simplifier le processus de déploiement d’une base de données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-254">Many web host providers offer tools to simplify the process of deploying a database.</span></span> <span data-ttu-id="7edd4-255">Par exemple, avec DiscountASP.NET, vous pouvez FTP votre base de données `.mdf` fichier (ou une sauvegarde), puis attachez la base de données sur le serveur de base de données à partir du panneau.</span><span class="sxs-lookup"><span data-stu-id="7edd4-255">For example, with DiscountASP.NET you can FTP your database `.mdf` file (or a backup) and then attach the database to the database server from the Control Panel.</span></span> <span data-ttu-id="7edd4-256">Une autre option qui fonctionne indépendamment de quelles fonctionnalités offerts par votre fournisseur hôte web est outil Assistant Publication de base de données Microsoft s, ce qui génère un script de commandes SQL pour créer le schéma de s de base de données de développement et les données.</span><span class="sxs-lookup"><span data-stu-id="7edd4-256">Another option that works regardless of what features your web host provider offers is Microsoft s Database Publishing Wizard tool, which generates a script of SQL commands to create the development database s schema and data.</span></span> <span data-ttu-id="7edd4-257">Une fois que ce script a été généré, vous pouvez l’exécuter sur la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-257">Once this script has been generated you can execute it on the production database.</span></span>

<span data-ttu-id="7edd4-258">Maintenant que la base de données de critiques de livres web application s est sur la production, nous pouvons déployer l’application.</span><span class="sxs-lookup"><span data-stu-id="7edd4-258">Now that the Book Reviews web application s database is on production we can deploy the application.</span></span> <span data-ttu-id="7edd4-259">Toutefois, les informations de configuration web application s spécifient la chaîne de connexion à la base de données, et cette chaîne de connexion fait référence à la base de données de développement.</span><span class="sxs-lookup"><span data-stu-id="7edd4-259">However, the web application s configuration information specifies the connection string to the database, and that connection string references the development database.</span></span> <span data-ttu-id="7edd4-260">Nous devons mettre à jour ces informations de chaîne de connexion lors du déploiement du site de production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-260">We need to update this connection string information when deploying the site to production.</span></span> <span data-ttu-id="7edd4-261">Le didacticiel suivant examine ces différences de configuration et décrit les étapes nécessaires pour publier le site pilotés par les données de critiques de livres en production.</span><span class="sxs-lookup"><span data-stu-id="7edd4-261">The next tutorial looks at these configuration differences and walks through the steps needed to publish the data-driven Book Reviews site to production.</span></span>

<span data-ttu-id="7edd4-262">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="7edd4-262">Happy Programming!</span></span>

#### <a name="further-reading"></a><span data-ttu-id="7edd4-263">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="7edd4-263">Further Reading</span></span>

<span data-ttu-id="7edd4-264">Pour plus d’informations sur les sujets abordés dans ce didacticiel, consultez les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="7edd4-264">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="7edd4-265">Télécharger la base de données Microsoft SQL Server 1.1 d’Assistant Publication</span><span class="sxs-lookup"><span data-stu-id="7edd4-265">Download the Microsoft SQL Server Database Publishing Wizard 1.1</span></span>](https://www.microsoft.com/downloads/details.aspx?familyid=56E5B1C5-BF17-42E0-A410-371A838E570A&amp;displaylang=en)
- [<span data-ttu-id="7edd4-266">Télécharger Microsoft SQL Server Management Studio Express Edition</span><span class="sxs-lookup"><span data-stu-id="7edd4-266">Download the Microsoft SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)

> [!div class="step-by-step"]
> <span data-ttu-id="7edd4-267">[Précédent](core-differences-between-iis-and-the-asp-net-development-server-cs.md)
> [Suivant](configuring-the-production-web-application-to-use-the-production-database-cs.md)</span><span class="sxs-lookup"><span data-stu-id="7edd4-267">[Previous](core-differences-between-iis-and-the-asp-net-development-server-cs.md)
[Next](configuring-the-production-web-application-to-use-the-production-database-cs.md)</span></span>
