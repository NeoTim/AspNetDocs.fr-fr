---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
title: Les différences de Configuration courantes entre le développement et de Production (c#) | Microsoft Docs
author: rick-anderson
description: Dans les didacticiels précédents, nous avons déployé notre site Web en copiant tous les fichiers pertinentes à partir de l’environnement de développement dans l’environnement de production. Toutefois, j’ai...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 721a5c37-7e21-48e0-832e-535c6351dcae
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
msc.type: authoredcontent
ms.openlocfilehash: 265243a54eb5ab28a7f76d2df32a9442d61862a5
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65130651"
---
# <a name="common-configuration-differences-between-development-and-production-c"></a><span data-ttu-id="4b732-104">Différences de configuration courantes entre le développement et la production (C#)</span><span class="sxs-lookup"><span data-stu-id="4b732-104">Common Configuration Differences Between Development and Production (C#)</span></span>

<span data-ttu-id="4b732-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4b732-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="4b732-106">Télécharger PDF</span><span class="sxs-lookup"><span data-stu-id="4b732-106">Download PDF</span></span>](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_cs.pdf)

> <span data-ttu-id="4b732-107">Dans les didacticiels précédents, nous avons déployé notre site Web en copiant tous les fichiers pertinentes à partir de l’environnement de développement dans l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4b732-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="4b732-108">Toutefois, il n’est pas rare pour permettre les différences de configuration entre environnements, ce qui nécessite que chaque environnement ont un unique fichier Web.config.</span><span class="sxs-lookup"><span data-stu-id="4b732-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="4b732-109">Ce didacticiel examine les différences de configuration classique et examine les stratégies pour gérer les informations de configuration distinct.</span><span class="sxs-lookup"><span data-stu-id="4b732-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>

## <a name="introduction"></a><span data-ttu-id="4b732-110">Introduction</span><span class="sxs-lookup"><span data-stu-id="4b732-110">Introduction</span></span>

<span data-ttu-id="4b732-111">Les deux derniers didacticiels passé en revue le déploiement d’une application web simple.</span><span class="sxs-lookup"><span data-stu-id="4b732-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="4b732-112">Le [ *déploiement de votre Site à l’aide d’un FTP Client* ](deploying-your-site-using-an-ftp-client-cs.md) didacticiel vous a montré comment utiliser un client FTP autonome pour copier les fichiers nécessaires à partir de l’environnement de développement jusqu'à la production.</span><span class="sxs-lookup"><span data-stu-id="4b732-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-cs.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="4b732-113">Le didacticiel précédent, [ *déploiement de votre Site à l’aide de Visual Studio*](deploying-your-site-using-visual-studio-cs.md), rechercher au moment du déploiement à l’aide d’outil Copier le Site Web et l’option de publication de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4b732-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-cs.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="4b732-114">Dans les deux didacticiels chaque fichier dans l’environnement de production a été une copie d’un fichier sur l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="4b732-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="4b732-115">Toutefois, il n’est pas rare que les fichiers de configuration dans l’environnement de production diffèrent de celles figurant dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="4b732-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="4b732-116">Configuration d’une application web est stockée dans le `Web.config` de fichiers et comprend généralement des informations sur les ressources externes, telles que la base de données, web et serveurs de messagerie.</span><span class="sxs-lookup"><span data-stu-id="4b732-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="4b732-117">Il indique également le comportement de l’application dans certaines situations, telles que le plan d’action à entreprendre lorsqu’une exception non gérée se produit.</span><span class="sxs-lookup"><span data-stu-id="4b732-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="4b732-118">Lorsque vous déployez une application web, il est important que les informations de configuration correct se retrouvent dans l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4b732-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="4b732-119">Dans la plupart des cas le `Web.config` Impossible de copier le fichier dans l’environnement de développement dans l’environnement de production en tant que-est.</span><span class="sxs-lookup"><span data-stu-id="4b732-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="4b732-120">Au lieu de cela, une version personnalisée de `Web.config` doit être chargé en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="4b732-121">Ce didacticiel passe en revue brièvement certaines des différences de configuration plus courantes ; Il récapitule également certaines techniques pour gérer les informations de configuration différente entre les environnements.</span><span class="sxs-lookup"><span data-stu-id="4b732-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="4b732-122">Configuration classique des différences entre les environnements de développement et Production</span><span class="sxs-lookup"><span data-stu-id="4b732-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="4b732-123">Le `Web.config` fichier inclut un large éventail d’informations de configuration pour une application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="4b732-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="4b732-124">Certaines de ces informations de configuration est le même quel que soit l’environnement.</span><span class="sxs-lookup"><span data-stu-id="4b732-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="4b732-125">Par exemple, les paramètres d’authentification et les règles d’autorisation d’URL indiquée dans le `Web.config` du fichier `<authentication>` et `<authorization>` les éléments sont généralement les mêmes, quel que soit l’environnement.</span><span class="sxs-lookup"><span data-stu-id="4b732-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="4b732-126">Mais les autres informations de configuration - telles que des informations sur les ressources externes - généralement diffèrent selon l’environnement.</span><span class="sxs-lookup"><span data-stu-id="4b732-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="4b732-127">Chaînes de connexion de base de données sont un bon exemple d’informations de configuration qui diffèrent selon l’environnement.</span><span class="sxs-lookup"><span data-stu-id="4b732-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="4b732-128">Lorsqu’une application web communique avec un serveur de base de données doit tout d’abord établir une connexion, et qui est obtenu via une [chaîne de connexion](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span><span class="sxs-lookup"><span data-stu-id="4b732-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="4b732-129">Bien qu’il soit possible de coder en dur la chaîne de connexion de base de données directement dans les pages web ou le code qui se connecte à la base de données, il est préférable de placer `Web.config`de [ `<connectionStrings>` élément](https://msdn.microsoft.com/library/bf7sd233.aspx) afin que la chaîne de connexion les informations sont dans un emplacement unique et centralisé.</span><span class="sxs-lookup"><span data-stu-id="4b732-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="4b732-130">Souvent, une autre base de données est utilisé au cours du développement est utilisée dans la production ; Par conséquent, les informations de chaîne de connexion doivent être uniques pour chaque environnement.</span><span class="sxs-lookup"><span data-stu-id="4b732-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="4b732-131">Didacticiels futures explorent le déploiement d’applications orientées données, moment où nous nous plongerons dans les détails de la façon dont les chaînes de connexion de base de données sont stockées dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="4b732-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>

<span data-ttu-id="4b732-132">Le comportement prévu des environnements de développement et de production diffère considérablement.</span><span class="sxs-lookup"><span data-stu-id="4b732-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="4b732-133">Une application web dans l’environnement de développement est en cours créée, testé et débogué par un petit groupe de développeurs.</span><span class="sxs-lookup"><span data-stu-id="4b732-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="4b732-134">Dans l’environnement de production, cette même application est visitée par un grand nombre d’utilisateurs simultané.</span><span class="sxs-lookup"><span data-stu-id="4b732-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="4b732-135">ASP.NET inclut un certain nombre de fonctionnalités qui permettent aux développeurs de tester et déboguer une application, mais ces fonctionnalités doivent être désactivées pour des raisons de performances et sécurité dans l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4b732-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="4b732-136">Examinons quelques ces paramètres de configuration.</span><span class="sxs-lookup"><span data-stu-id="4b732-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="4b732-137">Paramètres de configuration qui affectent les performances</span><span class="sxs-lookup"><span data-stu-id="4b732-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="4b732-138">Lorsqu’une page ASP.NET est visitée pour la première fois (ou la première fois après que qu’il a changé), son balisage déclaratif doit être convertie en une classe, et cette classe doit être compilée.</span><span class="sxs-lookup"><span data-stu-id="4b732-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="4b732-139">Si l’application web utilise une compilation automatique la classe code-behind de la page doit être compilée, trop.</span><span class="sxs-lookup"><span data-stu-id="4b732-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="4b732-140">Vous pouvez configurer un large éventail d’options de compilation via le `Web.config` du fichier [ `<compilation>` élément](https://msdn.microsoft.com/library/s10awwz0.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b732-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="4b732-141">L’attribut de débogage est un des attributs plus importants dans le `<compilation>` élément.</span><span class="sxs-lookup"><span data-stu-id="4b732-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="4b732-142">Si le `debug` attribut est défini sur « true », les assemblys compilés incluent les symboles de débogage, qui sont nécessaires lors du débogage d’une application dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4b732-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="4b732-143">Toutefois, les symboles de débogage augmenter la taille de l’assembly et imposent des exigences de mémoire supplémentaire lors de l’exécution du code.</span><span class="sxs-lookup"><span data-stu-id="4b732-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="4b732-144">En outre, lorsque le `debug` attribut est défini sur « true » à n’importe quel contenu retourné par `WebResource.axd` n'est pas mis en cache, ce qui signifie que chaque fois qu’un utilisateur visite une page, ils doivent télécharger à nouveau le contenu statique retourné par `WebResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="4b732-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> <span data-ttu-id="4b732-145">`WebResource.axd` est un gestionnaire HTTP intégré introduit dans ASP.NET 2.0 qui utilisent des contrôles serveur pour récupérer des ressources incorporées, telles que les fichiers de script, des images, des fichiers CSS et autres contenus.</span><span class="sxs-lookup"><span data-stu-id="4b732-145">`WebResource.axd` is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="4b732-146">Pour plus d’informations sur la façon de `WebResource.axd` fonctionne et comment vous pouvez l’utiliser pour accéder à des ressources incorporées à partir de vos contrôles serveur personnalisés, consultez [l’accès à Embedded ressources via une URL à l’aide `WebResource.axd` ](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b732-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>

<span data-ttu-id="4b732-147">Le `<compilation>` l’élément `debug` attribut est généralement défini sur « true » dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="4b732-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="4b732-148">En fait, cet attribut doit être défini sur « true » pour déboguer une application web ; Si vous essayez de déboguer une application ASP.NET à partir de Visual Studio et le `debug` attribut est défini sur « false », Visual Studio affiche un message expliquant que l’application ne peut pas être déboguée jusqu'à ce que le `debug` attribut est défini sur « true » et sera offre pour effectuer cette modification pour vous.</span><span class="sxs-lookup"><span data-stu-id="4b732-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="4b732-149">Vous devez **jamais** ont le `debug` attribut défini sur « true » dans un environnement de production en raison de son impact sur les performances.</span><span class="sxs-lookup"><span data-stu-id="4b732-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="4b732-150">Pour une discussion plus détaillée à ce sujet, reportez-vous à [Scott Guthrie](https://weblogs.asp.net/scottgu/)du billet de blog, [n’exécuter Production ASP.NET Applications avec `debug="true"` activé](https://weblogs.asp.net/scottgu/442448).</span><span class="sxs-lookup"><span data-stu-id="4b732-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="4b732-151">Le suivi et les erreurs personnalisées</span><span class="sxs-lookup"><span data-stu-id="4b732-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="4b732-152">Lorsqu’une exception non gérée se produit dans une application ASP.NET, il se propage jusqu'à l’exécution du moment où une des trois choses se produit :</span><span class="sxs-lookup"><span data-stu-id="4b732-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="4b732-153">Un message d’erreur générique runtime s’affiche.</span><span class="sxs-lookup"><span data-stu-id="4b732-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="4b732-154">Cette page informe l’utilisateur qu’il était une erreur d’exécution, mais ne fournit pas des détails concernant l’erreur.</span><span class="sxs-lookup"><span data-stu-id="4b732-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="4b732-155">Un message d’exception détails s’affiche, qui inclut des informations sur l’exception qui vient d’être levée.</span><span class="sxs-lookup"><span data-stu-id="4b732-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="4b732-156">Une page d’erreur personnalisée s’affiche, qui est une page ASP.NET que vous créez qui affiche un message que vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="4b732-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="4b732-157">Que se passe-t-il en cas d’une exception non gérée varie selon le `Web.config` du fichier [ `<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b732-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="4b732-158">Lorsque vous développez et testez une application, qu'il est utile de consulter les détails d’une exception dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="4b732-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="4b732-159">Toutefois, affichant les détails de l’exception dans une application de production est un risque de sécurité potentiel.</span><span class="sxs-lookup"><span data-stu-id="4b732-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="4b732-160">En outre, il est unflattering et permet un aspect de votre site Web.</span><span class="sxs-lookup"><span data-stu-id="4b732-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="4b732-161">Dans l’idéal, en cas d’une exception non prise en charge une application web dans l’environnement de développement affichera les détails de l’exception tandis que la même application en production affiche une page d’erreur personnalisée.</span><span class="sxs-lookup"><span data-stu-id="4b732-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="4b732-162">La valeur par défaut `<customErrors>` paramètre section affiche les détails de l’exception du message uniquement lorsque la page est visitée via localhost et montre la page d’erreur générique runtime dans le cas contraire.</span><span class="sxs-lookup"><span data-stu-id="4b732-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="4b732-163">Ce n’est pas idéale, mais elle est garantie pour savoir que le comportement par défaut ne révèle les détails de l’exception pour les visiteurs non local.</span><span class="sxs-lookup"><span data-stu-id="4b732-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="4b732-164">Un futur didacticiel examine les `<customErrors>` section plus en détail et montre comment une page d’erreur personnalisé affiché lorsqu’une erreur se produit en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>

<span data-ttu-id="4b732-165">Une autre fonctionnalité d’ASP.NET qui est utile lors du développement est le suivi.</span><span class="sxs-lookup"><span data-stu-id="4b732-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="4b732-166">Le suivi, si activé, enregistre des informations sur chaque demande entrante et fournit une page web spéciale, `Trace.axd`, pour l’affichage des détails de la demande récente.</span><span class="sxs-lookup"><span data-stu-id="4b732-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="4b732-167">Vous pouvez activer et configurer le suivi via la [ `<trace>` élément](https://msdn.microsoft.com/library/6915t83k.aspx) dans `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="4b732-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="4b732-168">Si vous activez le traçage Assurez-vous que qu’il est désactivé en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="4b732-169">Étant donné que les informations de trace incluent les cookies, les données de session et les autres informations potentiellement sensibles, il est important de désactiver le suivi en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="4b732-170">La bonne nouvelle est que, par défaut, le suivi est désactivé et le `Trace.axd` fichier est uniquement accessible via localhost.</span><span class="sxs-lookup"><span data-stu-id="4b732-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="4b732-171">Si vous modifiez ces paramètres par défaut dans le développement Assurez-vous qu’ils sont désactivés précédent en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="4b732-172">Techniques pour gérer les informations de Configuration distinct</span><span class="sxs-lookup"><span data-stu-id="4b732-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="4b732-173">Avoir différents paramètres de configuration dans les environnements de développement et de production complique le processus de déploiement.</span><span class="sxs-lookup"><span data-stu-id="4b732-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="4b732-174">Dans les deux didacticiels précédentes le processus de déploiement impliquait copie de tous les fichiers nécessaires à partir de développement en production, mais cette approche fonctionne uniquement si les informations de configuration sont le même dans les deux environnements.</span><span class="sxs-lookup"><span data-stu-id="4b732-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="4b732-175">Il existe plusieurs techniques pour le déploiement d’une application avec différentes informations de configuration.</span><span class="sxs-lookup"><span data-stu-id="4b732-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="4b732-176">Nous allons catalogue certaines de ces options pour les applications web hébergées.</span><span class="sxs-lookup"><span data-stu-id="4b732-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="4b732-177">Déployer manuellement le fichier de Configuration des environnement de Production</span><span class="sxs-lookup"><span data-stu-id="4b732-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="4b732-178">L’approche la plus simple consiste à maintenir deux versions de le `Web.config` fichier : un pour l’environnement de développement et l’autre pour l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4b732-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="4b732-179">Déploiement d’un site de production implique la copie de tous les fichiers sur le serveur de production dans l’environnement de développement *sauf* pour le `Web.config` fichier.</span><span class="sxs-lookup"><span data-stu-id="4b732-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="4b732-180">Au lieu de cela, le spécifiques à l’environnement production `Web.config` fichier sera copié dans la production.</span><span class="sxs-lookup"><span data-stu-id="4b732-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="4b732-181">Cette approche n’est pas très sophistiquée, mais il est facile à implémenter, car les informations de configuration changent rarement.</span><span class="sxs-lookup"><span data-stu-id="4b732-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="4b732-182">Il convient le mieux pour les applications avec une équipe de développement de petite taille qui sont hébergés sur un serveur web unique et dont les informations de configuration sont rarement modifiées.</span><span class="sxs-lookup"><span data-stu-id="4b732-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="4b732-183">Il est plus tenable lors du déploiement manuel de fichiers de l’application à l’aide d’un client FTP autonome.</span><span class="sxs-lookup"><span data-stu-id="4b732-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="4b732-184">Lorsque vous utilisez l’outil Copier le Site Web ou l’option de publication de Visual Studio, vous devez tout d’abord permuter spécifique au déploiement `Web.config` de fichiers avec celui de production spécifique avant de déployer et puis permutez les revenir une fois le déploiement terminé.</span><span class="sxs-lookup"><span data-stu-id="4b732-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="4b732-185">Modifier la Configuration pendant la génération ou le processus de déploiement</span><span class="sxs-lookup"><span data-stu-id="4b732-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="4b732-186">Les discussions ont jusqu'à présent considéré comme un processus de génération et de déploiement ad-hoc.</span><span class="sxs-lookup"><span data-stu-id="4b732-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="4b732-187">Plusieurs grands projets logiciels ont formalisé plus de processus qui rendent l’utilisation de l’open source, maison, ou des outils tiers.</span><span class="sxs-lookup"><span data-stu-id="4b732-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="4b732-188">Pour ces projets, vous pouvez probablement personnaliser le processus de génération ou de déploiement pour modifier les informations de configuration de façon appropriée avant d’être envoyée en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="4b732-189">Si vous générez votre application web à l’aide [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), ou un autre outil de génération, vous pouvez probablement ajouter une étape de génération pour modifier le `Web.config` fichier à inclure les paramètres spécifiques à la production.</span><span class="sxs-lookup"><span data-stu-id="4b732-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="4b732-190">Ou bien votre flux de travail de déploiement pourrait par programmation se connecter au serveur de contrôle source et récupérer approprié `Web.config` fichier.</span><span class="sxs-lookup"><span data-stu-id="4b732-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="4b732-191">L’approche réelle pour l’obtention des informations de configuration appropriées à la production varie largement en fonction de vos outils et les flux de travail.</span><span class="sxs-lookup"><span data-stu-id="4b732-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="4b732-192">Par conséquent, nous passerons pas dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="4b732-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="4b732-193">Si vous utilisez un outil de génération populaires comme MSBuild ou NAnt vous trouverez des didacticiels et articles sur le déploiement spécifiques à ces outils via une recherche sur le web.</span><span class="sxs-lookup"><span data-stu-id="4b732-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="4b732-194">La gestion des différences de Configuration via le déploiement Web de projet Complément</span><span class="sxs-lookup"><span data-stu-id="4b732-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="4b732-195">En 2006 Microsoft a publié le développement projet Complément pour Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="4b732-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="4b732-196">Un complément pour Visual Studio 2008 a été publié en 2008.</span><span class="sxs-lookup"><span data-stu-id="4b732-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="4b732-197">Ce complément permet aux développeurs ASP.NET créer un projet de déploiement Web distinct en même temps que leur projet d’application web qui, lors de la génération, explicitement compile l’application web et copie les fichiers à déployer dans un répertoire de sortie locale.</span><span class="sxs-lookup"><span data-stu-id="4b732-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="4b732-198">Le projet d’Application Web utilise MSBuild en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="4b732-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="4b732-199">Par défaut, l’environnement de développement `Web.config` fichier est copié dans le répertoire de sortie, mais vous pouvez configurer le projet de déploiement Web pour personnaliser le</span><span class="sxs-lookup"><span data-stu-id="4b732-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="4b732-200">informations de configuration qui sont copiées dans ce répertoire comme suit :</span><span class="sxs-lookup"><span data-stu-id="4b732-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="4b732-201">Via `Web.config` remplacement de la section, dans lequel vous spécifiez la section à remplacer et un fichier XML qui contient le texte de remplacement de fichiers.</span><span class="sxs-lookup"><span data-stu-id="4b732-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="4b732-202">En fournissant un chemin d’accès à un fichier de source de configuration externe.</span><span class="sxs-lookup"><span data-stu-id="4b732-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="4b732-203">Avec cette option est sélectionnée, le projet de déploiement Web copie un particulier `Web.config` fichier dans le répertoire de sortie (et non le `Web.config` fichier utilisé dans l’environnement de développement).</span><span class="sxs-lookup"><span data-stu-id="4b732-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="4b732-204">En ajoutant des règles personnalisées pour le fichier MSBuild utilisé par le projet de déploiement Web.</span><span class="sxs-lookup"><span data-stu-id="4b732-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="4b732-205">Pour déployer la build d’application web du projet de déploiement Web et puis copiez les fichiers à partir du dossier de sortie du projet dans l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4b732-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="4b732-206">Pour en savoir plus sur l’utilisation du projet de déploiement Web, consultez [cet article de projets de déploiement Web](https://msdn.microsoft.com/magazine/cc163448.aspx) dans le numéro d’avril 2007 de [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), ou consultez les liens dans la section obtenir des informations supplémentaires à la fin de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="4b732-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="4b732-207">Vous ne pouvez pas utiliser le projet de déploiement Web avec Visual Web Developer, car le projet de déploiement Web est implémenté comme un Visual Studio Add-In et les éditions Visual Studio Express (y compris Visual Web Developer) ne prennent pas en charge des compléments.</span><span class="sxs-lookup"><span data-stu-id="4b732-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>

## <a name="summary"></a><span data-ttu-id="4b732-208">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="4b732-208">Summary</span></span>

<span data-ttu-id="4b732-209">Les ressources externes et le comportement d’une application web dans le développement sont généralement différentes de celle utilisée lorsque la même application est en production.</span><span class="sxs-lookup"><span data-stu-id="4b732-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="4b732-210">Par exemple, les chaînes de connexion de base de données, les options de compilation et le comportement lorsqu’une exception non gérée se produit couramment diffèrent entre les environnements.</span><span class="sxs-lookup"><span data-stu-id="4b732-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="4b732-211">Le processus de déploiement doit prendre en compte ces différences.</span><span class="sxs-lookup"><span data-stu-id="4b732-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="4b732-212">Comme expliqué dans ce didacticiel, l’approche la plus simple consiste à copier manuellement un fichier de configuration de remplacement pour l’environnement de production.</span><span class="sxs-lookup"><span data-stu-id="4b732-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="4b732-213">Solutions spécifiques plus fluides sont possibles lorsque vous utilisez le déploiement de projet complément ou avec un processus de génération ou de déploiement plus formel pouvant s’adapter à ces personnalisations.</span><span class="sxs-lookup"><span data-stu-id="4b732-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="4b732-214">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="4b732-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="4b732-215">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="4b732-215">Further Reading</span></span>

<span data-ttu-id="4b732-216">Pour plus d’informations sur les sujets abordés dans ce didacticiel, consultez les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="4b732-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="4b732-217">Chaînes de connexion expliqués</span><span class="sxs-lookup"><span data-stu-id="4b732-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="4b732-218">@ ConnectionStrings.com de chaînes de connexion de base de données</span><span class="sxs-lookup"><span data-stu-id="4b732-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="4b732-219">Ne pas exécuter des Applications ASP.NET de Production avec `debug="true"` activé</span><span class="sxs-lookup"><span data-stu-id="4b732-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="4b732-220">Répondre correctement aux Exceptions non gérées - affichage des Pages d’erreur convivial</span><span class="sxs-lookup"><span data-stu-id="4b732-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="4b732-221">Comment faire Utiliser un projet de déploiement Web de Visual Studio 2008 ?</span><span class="sxs-lookup"><span data-stu-id="4b732-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="4b732-222">Paramètres de Configuration de la clé lors du déploiement d’une base de données</span><span class="sxs-lookup"><span data-stu-id="4b732-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="4b732-223">[Téléchargement de projets de déploiement Visual Studio 2008 Web](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [téléchargement de projets de déploiement Visual Studio 2005 Web](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="4b732-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="4b732-224">[Projets de déploiement Web Visual Studio 2008](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 déploiement projet prise en charge Web publié](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="4b732-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="4b732-225">Projets de déploiement web</span><span class="sxs-lookup"><span data-stu-id="4b732-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="4b732-226">[Précédent](deploying-your-site-using-visual-studio-cs.md)
> [Suivant](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span><span class="sxs-lookup"><span data-stu-id="4b732-226">[Previous](deploying-your-site-using-visual-studio-cs.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span></span>
