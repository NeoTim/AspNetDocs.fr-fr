---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
title: 'Déploiement d’une Application de Web ASP.NET avec SQL Server Compact à l’aide de Visual Studio ou Visual Web Developer : Déploiement dans l’environnement de Production - 7 sur 12 | Microsoft Docs'
author: tdykstra
description: Cette série de didacticiels vous montre comment déployer une ASP.NET (publier) projet d’application web qui inclut une base de données SQL Server Compact à l’aide de Visual Stu...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: b83ab819-2b05-4776-b7b4-79ef78d457a5
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12
msc.type: authoredcontent
ms.openlocfilehash: 0b8e894684717e5d628fcc8c75b18d33118b9127
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65133334"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-deploying-to-the-production-environment---7-of-12"></a><span data-ttu-id="41694-103">Déploiement d’une Application de Web ASP.NET avec SQL Server Compact à l’aide de Visual Studio ou Visual Web Developer : Déploiement dans l’environnement de Production - 7 sur 12</span><span class="sxs-lookup"><span data-stu-id="41694-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Deploying to the Production Environment - 7 of 12</span></span>

<span data-ttu-id="41694-104">par [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="41694-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="41694-105">Télécharger le projet de démarrage</span><span class="sxs-lookup"><span data-stu-id="41694-105">Download Starter Project</span></span>](http://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="41694-106">Cette série de didacticiels vous montre comment déployer une ASP.NET (publier) projet d’application web qui inclut une base de données SQL Server Compact à l’aide de Visual Studio 2012 RC ou Visual Studio Express 2012 RC pour le Web.</span><span class="sxs-lookup"><span data-stu-id="41694-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="41694-107">Vous pouvez également utiliser Visual Studio 2010 si vous installez la mise à jour de publication Web.</span><span class="sxs-lookup"><span data-stu-id="41694-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="41694-108">Pour une introduction à la série, consultez [le premier didacticiel de la série](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="41694-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="41694-109">Pour obtenir un didacticiel qui montre les fonctionnalités de déploiement introduites après la version RC de Visual Studio 2012, montre comment déployer des éditions de SQL Server autre que SQL Server Compact et montre comment déployer dans Azure App Service Web Apps, consultez [déploiement Web ASP.NET à l’aide de Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="41694-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="41694-110">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="41694-110">Overview</span></span>

<span data-ttu-id="41694-111">Dans ce didacticiel, vous configurez un compte avec un fournisseur d’hébergement et déployer votre application ASP.NET application web à l’environnement de production à l’aide de Visual Studio clic publier la fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="41694-111">In this tutorial, you set up an account with a hosting provider and deploy your ASP.NET web application to the production environment by using the Visual Studio one-click publish feature.</span></span>

<span data-ttu-id="41694-112">Rappel : Si vous obtenez un message d’erreur ou quelque chose ne fonctionne pas lorsque vous parcourez le didacticiel, veillez à consulter le [page Résolution des problèmes](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="41694-112">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="selecting-a-hosting-provider"></a><span data-ttu-id="41694-113">Sélection d’un fournisseur d’hébergement</span><span class="sxs-lookup"><span data-stu-id="41694-113">Selecting a Hosting Provider</span></span>

<span data-ttu-id="41694-114">Pour l’application Contoso University et cette série de didacticiels, vous avez besoin d’un fournisseur qui prend en charge ASP.NET 4 et Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="41694-114">For the Contoso University application and this tutorial series, you need a provider that supports ASP.NET 4 and Web Deploy.</span></span> <span data-ttu-id="41694-115">Une société d’hébergement spécifique a été choisie afin que les didacticiels pourraient illustrer l’expérience complète de déploiement sur un site Web actif.</span><span class="sxs-lookup"><span data-stu-id="41694-115">A specific hosting company was chosen so that the tutorials could illustrate the complete experience of deploying to a live website.</span></span> <span data-ttu-id="41694-116">Chaque société d’hébergement fournit différentes fonctionnalités et l’expérience de déploiement sur leurs serveurs varie légèrement.</span><span class="sxs-lookup"><span data-stu-id="41694-116">Each hosting company provides different features, and the experience of deploying to their servers varies somewhat.</span></span> <span data-ttu-id="41694-117">Toutefois, la procédure décrite dans ce didacticiel est généralement utilisée pour l’ensemble du processus.</span><span class="sxs-lookup"><span data-stu-id="41694-117">However, the process described in this tutorial is typical for the overall process.</span></span> <span data-ttu-id="41694-118">Le fournisseur d’hébergement pour ce didacticiel, Cytanium.com, est un des nombreux qui sont disponibles, et son utilisation dans ce didacticiel ne constitue pas une approbation ou la recommandation.</span><span class="sxs-lookup"><span data-stu-id="41694-118">The hosting provider used for this tutorial, Cytanium.com, is one of many that are available, and its use in this tutorial does not constitute an endorsement or recommendation.</span></span>

<span data-ttu-id="41694-119">Lorsque vous êtes prêt à sélectionner votre propre fournisseur d’hébergement, vous pouvez comparer les fonctionnalités et les prix dans la [galerie de fournisseurs](https://www.microsoft.com/web/hosting) sur le site Web Microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="41694-119">When you are ready to select your own hosting provider, you can compare features and prices in the [gallery of providers](https://www.microsoft.com/web/hosting) on the Microsoft.com/web site.</span></span>

## <a name="creating-an-account"></a><span data-ttu-id="41694-120">Création d’un compte</span><span class="sxs-lookup"><span data-stu-id="41694-120">Creating an Account</span></span>

<span data-ttu-id="41694-121">Créez un compte auprès de votre fournisseur sélectionné.</span><span class="sxs-lookup"><span data-stu-id="41694-121">Create an account at your selected provider.</span></span> <span data-ttu-id="41694-122">Si prise en charge une base de données SQL Server complète est un ajout supplémentaire, vous n’avez pas besoin de le sélectionner pour ce didacticiel, mais vous en aurez besoin pour le [migration vers SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) didacticiel plus loin dans cette série.</span><span class="sxs-lookup"><span data-stu-id="41694-122">If support for a full SQL Server database is an added extra, you do not need to select it for this tutorial, but you'll need it for the [Migrating to SQL Server](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12.md) tutorial later in this series.</span></span>

<span data-ttu-id="41694-123">Pour ces didacticiels, vous n’êtes pas obligé d’inscrire un nouveau nom de domaine.</span><span class="sxs-lookup"><span data-stu-id="41694-123">For these tutorials, you don't have to register a new domain name.</span></span> <span data-ttu-id="41694-124">Vous pouvez tester pour vérifier la réussite du déploiement à l’aide de l’URL temporaire attribué au site par le fournisseur.</span><span class="sxs-lookup"><span data-stu-id="41694-124">You can test to verify successful deployment by using the temporary URL assigned to the site by the provider.</span></span>

<span data-ttu-id="41694-125">Une fois que le compte a été créé, vous recevez généralement un e-mail de bienvenue qui contient toutes les informations que vous avez besoin pour déployer et gérer votre site.</span><span class="sxs-lookup"><span data-stu-id="41694-125">After the account has been created, you typically receive a welcome email that contains all the information you need in order to deploy and manage your site.</span></span> <span data-ttu-id="41694-126">Les informations qui vous envoie par votre fournisseur d’hébergement seront similaires à celles indiquées ici.</span><span class="sxs-lookup"><span data-stu-id="41694-126">The information that your hosting provider sends you will be similar to what is shown here.</span></span> <span data-ttu-id="41694-127">L’e-mail de bienvenue Cytanium est envoyé aux nouveaux propriétaires de comptes comprend les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="41694-127">The Cytanium welcome email that's sent to new account owners includes the following information:</span></span>

- <span data-ttu-id="41694-128">URL vers le site du fournisseur contrôle panneau, où vous pouvez gérer les paramètres de votre site.</span><span class="sxs-lookup"><span data-stu-id="41694-128">The URL to the provider's control panel site, where you can manage settings for your site.</span></span> <span data-ttu-id="41694-129">L’ID et le mot de passe spécifiés sont inclus dans cette partie de l’e-mail de bienvenue pour faciliter la référence.</span><span class="sxs-lookup"><span data-stu-id="41694-129">The ID and password you specified are included in this part of the welcome email for easy reference.</span></span> <span data-ttu-id="41694-130">(Les deux ont été modifiées pour une valeur de démonstration pour cette illustration.)</span><span class="sxs-lookup"><span data-stu-id="41694-130">(Both have been changed to a demo value for this illustration.)</span></span>

    <span data-ttu-id="41694-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="41694-131">[![Welcome_Email_Control_Panel_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image2.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image1.png)</span></span>
- <span data-ttu-id="41694-132">La version du .NET Framework par défaut et les informations sur la modification.</span><span class="sxs-lookup"><span data-stu-id="41694-132">The default .NET Framework version and information about how to change it.</span></span> <span data-ttu-id="41694-133">Nombreux hébergement sites par défaut vers la version 2.0, qui fonctionne avec les applications ASP.NET qui ciblent le .NET Framework 2.0, 3.0 ou 3.5.</span><span class="sxs-lookup"><span data-stu-id="41694-133">Many hosting sites default to 2.0, which works with ASP.NET applications that target the .NET Framework 2.0, 3.0, or 3.5.</span></span> <span data-ttu-id="41694-134">Toutefois Contoso University étant une application .NET Framework 4, vous devez modifier ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="41694-134">However Contoso University is a .NET Framework 4 application, so you have to change this setting.</span></span> <span data-ttu-id="41694-135">(Pour une application ASP.NET 4.5 vous utiliseriez le paramètre .NET 4.0.)</span><span class="sxs-lookup"><span data-stu-id="41694-135">(For an ASP.NET 4.5 application you would use the .NET 4.0 setting.)</span></span>

    <span data-ttu-id="41694-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="41694-136">[![Welcome_Email_Framework_Version](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image4.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image3.png)</span></span>
- <span data-ttu-id="41694-137">L’URL temporaire que vous pouvez utiliser pour accéder à votre site web.</span><span class="sxs-lookup"><span data-stu-id="41694-137">The temporary URL that you can use to access your web site.</span></span> <span data-ttu-id="41694-138">Lorsque ce compte a été créé, « contosouniversity.com » a été entré en tant que le nom de domaine existant.</span><span class="sxs-lookup"><span data-stu-id="41694-138">When this account was created, "contosouniversity.com" was entered as the existing domain name.</span></span> <span data-ttu-id="41694-139">Par conséquent, l’URL temporaire est `http://contosouniversity.com.vserver01.cytanium.com`.</span><span class="sxs-lookup"><span data-stu-id="41694-139">Therefore the temporary URL is `http://contosouniversity.com.vserver01.cytanium.com`.</span></span>

    <span data-ttu-id="41694-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="41694-140">[![Welcome_Email_Temporary_URL](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image6.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image5.png)</span></span>
- <span data-ttu-id="41694-141">Informations sur la configuration des bases de données et les chaînes de connexion dont vous avez besoin afin d’y accéder :</span><span class="sxs-lookup"><span data-stu-id="41694-141">Information about how to set up databases, and the connection strings that you need in order to access them:</span></span>

    <span data-ttu-id="41694-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="41694-142">[![Welcome_Email_Database_Info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image8.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image7.png)</span></span>
- <span data-ttu-id="41694-143">Informations sur les outils et les paramètres pour le déploiement de votre site.</span><span class="sxs-lookup"><span data-stu-id="41694-143">Information about tools and settings for deploying your site.</span></span> <span data-ttu-id="41694-144">(Le courrier électronique à partir de Cytanium mentionne également WebMatrix, qui est omis ici.)</span><span class="sxs-lookup"><span data-stu-id="41694-144">(The email from Cytanium also mentions WebMatrix, which is omitted here.)</span></span>

    <span data-ttu-id="41694-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="41694-145">[![Welcome_Email_Deploy_info](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image10.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image9.png)</span></span>

## <a name="setting-the-net-framework-version"></a><span data-ttu-id="41694-146">Définition de la Version du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="41694-146">Setting the .NET Framework Version</span></span>

<span data-ttu-id="41694-147">L’e-mail de bienvenue Cytanium inclut un lien pour obtenir des instructions sur la modification de la version du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="41694-147">The Cytanium welcome email includes a link to instructions on how to change the version of the .NET Framework.</span></span> <span data-ttu-id="41694-148">Ces instructions expliquent que cela est possible via le panneau de configuration Cytanium.</span><span class="sxs-lookup"><span data-stu-id="41694-148">These instructions explain that this can be done through the Cytanium control panel.</span></span> <span data-ttu-id="41694-149">Autres fournisseurs ont des sites de panneau de contrôle qui paraissent différentes, ou il peuvent vous demander de procéder de manière différente.</span><span class="sxs-lookup"><span data-stu-id="41694-149">Other providers have control panel sites that look different, or they may instruct you to do this in a different way.</span></span>

<span data-ttu-id="41694-150">Accédez à l’URL de panneau de contrôle.</span><span class="sxs-lookup"><span data-stu-id="41694-150">Go to the control panel URL.</span></span> <span data-ttu-id="41694-151">Une fois connecté avec votre nom d’utilisateur et le mot de passe, vous consultez le panneau de configuration.</span><span class="sxs-lookup"><span data-stu-id="41694-151">After logging in with your user name and password, you see the control panel.</span></span>

<span data-ttu-id="41694-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="41694-152">[![Cytanium_Control_Panel](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image12.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image11.png)</span></span>

<span data-ttu-id="41694-153">Dans le **espaces hébergement** boîte, maintenez le pointeur sur l’icône Web et sélectionnez **Sites Web** dans le menu.</span><span class="sxs-lookup"><span data-stu-id="41694-153">In the **Hosting Spaces** box, hold the pointer over the Web icon and select **Web Sites** from the menu.</span></span>

<span data-ttu-id="41694-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="41694-154">[![Cytanium_Control_Panel_selecting_Web_Sites](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image14.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image13.png)</span></span>

<span data-ttu-id="41694-155">Dans le **Sites Web** , cliquez sur **contosouniversity.com** (le nom du site que vous avez utilisé lorsque vous avez créé le compte).</span><span class="sxs-lookup"><span data-stu-id="41694-155">In the **Web Sites** box, click **contosouniversity.com** (the name of the site that you used when you created the account).</span></span>

<span data-ttu-id="41694-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="41694-156">[![Cytanium_Control_Panel_selecting_contosouniversity](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image16.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image15.png)</span></span>

<span data-ttu-id="41694-157">Dans le **propriétés du Site Web** boîte, sélectionnez le **Extensions** onglet.</span><span class="sxs-lookup"><span data-stu-id="41694-157">In the **Web Site Properties** box, select the **Extensions** tab.</span></span>

<span data-ttu-id="41694-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="41694-158">[![Cytanium_Control_Panel_Extensions_tab](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image18.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image17.png)</span></span>

<span data-ttu-id="41694-159">Changer d’ASP.NET à partir de **2.0 Pipeline intégré** à **4.0 (Pipeline intégré)**, puis cliquez sur **mise à jour**.</span><span class="sxs-lookup"><span data-stu-id="41694-159">Change ASP.NET from **2.0 Integrated Pipeline** to **4.0 (Integrated Pipeline)**, and then click **Update**.</span></span>

## <a name="publishing-to-the-hosting-provider"></a><span data-ttu-id="41694-160">Publication sur le fournisseur d’hébergement</span><span class="sxs-lookup"><span data-stu-id="41694-160">Publishing to the Hosting Provider</span></span>

<span data-ttu-id="41694-161">L’e-mail de Bienvenue à partir du fournisseur d’hébergement inclut tous les paramètres que vous avez besoin pour publier le projet, et vous pouvez entrer manuellement ces informations dans un profil de publication.</span><span class="sxs-lookup"><span data-stu-id="41694-161">The welcome email from the hosting provider includes all of the settings you need in order to publish the project, and you can enter that information manually into a publish profile.</span></span> <span data-ttu-id="41694-162">Mais vous allez utiliser un plus facile et moins sujette aux erreurs méthode pour configurer le déploiement vers le fournisseur : vous allez télécharger un *.publishsettings* de fichiers et les importer dans un profil de publication.</span><span class="sxs-lookup"><span data-stu-id="41694-162">But you'll use an easier and less error-prone method to configure deployment to the provider: you'll download a *.publishsettings* file and import it into a publish profile.</span></span>

<span data-ttu-id="41694-163">Dans votre navigateur, accédez au panneau de commande Cytanium et sélectionnez **Web** , puis sélectionnez **Sites Web.**</span><span class="sxs-lookup"><span data-stu-id="41694-163">In your browser, go to the Cytanium control panel and select **Web** and then select **Web Sites.**</span></span>

![Le panneau de configuration en sélectionnant des Sites Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image19.png)

<span data-ttu-id="41694-165">Sélectionnez le **contosouniversity.com** site web.</span><span class="sxs-lookup"><span data-stu-id="41694-165">Select the **contosouniversity.com** web site.</span></span>

![Le panneau de configuration en sélectionnant contosouniversity.com](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image20.png)

<span data-ttu-id="41694-167">Sélectionnez le **publication Web** onglet.</span><span class="sxs-lookup"><span data-stu-id="41694-167">Select the **Web Publishing** tab.</span></span>

![Onglet de contrôle de publication sur le panneau de configuration Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image21.png)

<span data-ttu-id="41694-169">Créer des informations d’identification à utiliser pour le web de publication en entrant un nom d’utilisateur et le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="41694-169">Create credentials to use for web publishing by entering a user name and password.</span></span> <span data-ttu-id="41694-170">Vous pouvez entrer les informations d’identification que vous utilisez pour vous connecter au panneau de commande.</span><span class="sxs-lookup"><span data-stu-id="41694-170">You can enter the same credentials that you use to log on to the control panel.</span></span> <span data-ttu-id="41694-171">Puis cliquez sur **activer**.</span><span class="sxs-lookup"><span data-stu-id="41694-171">Then click **Enable**.</span></span>

![Le panneau de configuration créer les informations d’identification de publication](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image22.png)

<span data-ttu-id="41694-173">Cliquez sur **télécharger le profil de publication pour ce site web**.</span><span class="sxs-lookup"><span data-stu-id="41694-173">Click **Download Publishing Profile for this web site**.</span></span>

![Profil de publication de contrôler le téléchargement du Panneau de configuration](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image23.png)

<span data-ttu-id="41694-175">Lorsque vous êtes invité à ouvrir ou enregistrer le fichier, enregistrez-le.</span><span class="sxs-lookup"><span data-stu-id="41694-175">When you are prompted to open or save the file, save it.</span></span>

![Enregistrez le fichier de profil de publication](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image24.png)

<span data-ttu-id="41694-177">Dans **l’Explorateur de solutions** dans Visual Studio, cliquez sur le projet ContosoUniversity et sélectionnez **publier**.</span><span class="sxs-lookup"><span data-stu-id="41694-177">In **Solution Explorer** in Visual Studio, right-click the ContosoUniversity project and select **Publish**.</span></span> <span data-ttu-id="41694-178">Le **publier le site Web** boîte de dialogue s’ouvre sur la **aperçu** onglet avec le **Test** profil est sélectionné, car c’est le dernier profil que vous avez utilisé.</span><span class="sxs-lookup"><span data-stu-id="41694-178">The **Publish Web** dialog box opens on the **Preview** tab with the **Test** profile selected because that is the last profile you used.</span></span>

<span data-ttu-id="41694-179">Sélectionnez le **profil** onglet, puis cliquez sur **importation**.</span><span class="sxs-lookup"><span data-stu-id="41694-179">Select the **Profile** tab and then Click **Import**.</span></span>

![Web Assistant Importation bouton Publier](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image25.png)

<span data-ttu-id="41694-181">Dans le **importer les paramètres de publication** boîte de dialogue, sélectionnez le *.publishsettings* fichier que vous avez téléchargé, puis cliquez sur **Open**.</span><span class="sxs-lookup"><span data-stu-id="41694-181">In the **Import Publish Settings** dialog box, select the *.publishsettings* file that you downloaded, and click **Open**.</span></span> <span data-ttu-id="41694-182">L’Assistant avance à l’onglet connexion avec tous les champs renseignés.</span><span class="sxs-lookup"><span data-stu-id="41694-182">The wizard advances to the Connection tab with all of the fields filled in.</span></span>

![Publication : onglet Web Assistant connexion](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image26.png)

<span data-ttu-id="41694-184">Le fichier .publishsettings place l’URL permanente planifié pour le site dans la zone URL de Destination, mais si vous n’avez pas acheté ce domaine encore, remplacez la valeur par l’URL temporaire.</span><span class="sxs-lookup"><span data-stu-id="41694-184">The .publishsettings file puts the planned permanent URL for the site in the Destination URL box, but if you haven't purchased that domain yet, replace the value with the temporary URL.</span></span> <span data-ttu-id="41694-185">Pour cet exemple, l’URL est  *[ http://contosouniversity.com.vserver01.cytanium.com ](http://contosouniversity.com.vserver01.cytanium.com).*</span><span class="sxs-lookup"><span data-stu-id="41694-185">For this example, the URL is *[http://contosouniversity.com.vserver01.cytanium.com](http://contosouniversity.com.vserver01.cytanium.com).*</span></span> <span data-ttu-id="41694-186">Le seul objectif de cette zone consiste à spécifier les URL que le navigateur s’ouvre pour automatiquement après avoir correctement après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="41694-186">The only purpose of this box is to specify what URL the browser will open to automatically after successfully after deployment.</span></span> <span data-ttu-id="41694-187">Si vous laissez vide, la seule conséquence est que le navigateur ne démarre pas automatiquement après le déploiement.</span><span class="sxs-lookup"><span data-stu-id="41694-187">If you leave it blank, the only consequence is that the browser won't start automatically after deployment.</span></span>

<span data-ttu-id="41694-188">Cliquez sur **valider la connexion** pour vérifier que les paramètres sont corrects et que vous pouvez vous connecter au serveur.</span><span class="sxs-lookup"><span data-stu-id="41694-188">Click **Validate Connection** to verify that the settings are correct and you can connect to the server.</span></span> <span data-ttu-id="41694-189">Comme vous l’avez vu précédemment, une coche verte vérifie que la connexion est établie.</span><span class="sxs-lookup"><span data-stu-id="41694-189">As you saw earlier, a green check mark verifies that the connection is successful.</span></span>

<span data-ttu-id="41694-190">Lorsque vous cliquez sur Valider la connexion, vous pouvez voir un **erreur de certificat** boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="41694-190">When you click Validate Connection, you might see a **Certificate Error** dialog box.</span></span> <span data-ttu-id="41694-191">Si vous le faites, vérifiez que le nom du serveur est ce que vous attendez.</span><span class="sxs-lookup"><span data-stu-id="41694-191">If you do, verify that the server name is what you expect.</span></span> <span data-ttu-id="41694-192">Dans le cas, sélectionnez **enregistrer ce certificat pour les sessions ultérieures de Visual Studio** et cliquez sur **Accept**.</span><span class="sxs-lookup"><span data-stu-id="41694-192">If it is, select **Save this certificate for future sessions of Visual Studio** and click **Accept**.</span></span> <span data-ttu-id="41694-193">(Cette erreur signifie que le fournisseur d’hébergement a choisi d’éviter de devoir acheter un certificat SSL pour l’URL que vous effectuez le déploiement.</span><span class="sxs-lookup"><span data-stu-id="41694-193">(This error means that the hosting provider has chosen to avoid the expense of purchasing an SSL certificate for the URL that you are deploying to.</span></span> <span data-ttu-id="41694-194">Si vous préférez établir une connexion sécurisée à l’aide d’un certificat valide, contactez votre fournisseur d’hébergement.)</span><span class="sxs-lookup"><span data-stu-id="41694-194">If you prefer to establish a secure connection by using a valid certificate, contact your hosting provider.)</span></span>

![Erreur de certificat](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image27.png)

<span data-ttu-id="41694-196">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="41694-196">Click **Next**.</span></span>

<span data-ttu-id="41694-197">Dans le **bases de données** section de la **paramètres** , entrez les mêmes valeurs que vous avez entré pour le Test de profil de publication.</span><span class="sxs-lookup"><span data-stu-id="41694-197">In the **Databases** section of the **Settings** tab, enter the same values that you entered for the Test publish profile.</span></span> <span data-ttu-id="41694-198">Vous trouverez les chaînes de connexion que vous avez besoin dans les listes déroulantes.</span><span class="sxs-lookup"><span data-stu-id="41694-198">You'll find the connection strings you need in the drop-down lists.</span></span>

- <span data-ttu-id="41694-199">Dans la zone chaîne de connexion pour **SchoolContext,** sélectionnez `Data Source=|DataDirectory|School-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="41694-199">In the connection string box for **SchoolContext,** select `Data Source=|DataDirectory|School-Prod.sdf`</span></span>
- <span data-ttu-id="41694-200">Sous **SchoolContext**, sélectionnez **appliquer des Migrations Code First**.</span><span class="sxs-lookup"><span data-stu-id="41694-200">Under **SchoolContext**, select **Apply Code First Migrations**.</span></span>
- <span data-ttu-id="41694-201">Dans la zone chaîne de connexion pour **DefaultConnection**, sélectionnez `Data Source=|DataDirectory|aspnet-Prod.sdf`</span><span class="sxs-lookup"><span data-stu-id="41694-201">In the connection string box for **DefaultConnection**, select `Data Source=|DataDirectory|aspnet-Prod.sdf`</span></span>
- <span data-ttu-id="41694-202">Sous **DefaultConnection**, laissez **base de données de mise à jour** désactivée.</span><span class="sxs-lookup"><span data-stu-id="41694-202">Under **DefaultConnection**, leave **Update database** cleared.</span></span>

![Publication : onglet Paramètres Assistant Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image28.png)

<span data-ttu-id="41694-204">Cliquez sur **Suivant**.</span><span class="sxs-lookup"><span data-stu-id="41694-204">Click **Next**.</span></span>

<span data-ttu-id="41694-205">Dans le **aperçu** , cliquez sur **démarrer l’aperçu** pour afficher la liste des fichiers qui seront copiés.</span><span class="sxs-lookup"><span data-stu-id="41694-205">In the **Preview** tab, click **Start Preview** to see a list of the files that will be copied.</span></span> <span data-ttu-id="41694-206">Vous voyez la même liste que vous avez vu plus tôt lors du déploiement vers IIS sur l’ordinateur local.</span><span class="sxs-lookup"><span data-stu-id="41694-206">You see the same list that you saw earlier when you deployed to IIS on the local computer.</span></span>

<span data-ttu-id="41694-207">Avant de publier, modifier le nom du profil afin que votre fichier de transformation Web.Production.config sera appliqué.</span><span class="sxs-lookup"><span data-stu-id="41694-207">Before you publish, change the name of the profile so that your Web.Production.config transformation file will be applied.</span></span> <span data-ttu-id="41694-208">Sélectionnez le **profil** onglet et cliquez sur **gérer les profils**.</span><span class="sxs-lookup"><span data-stu-id="41694-208">Select the **Profile** tab and click **Manage Profiles**.</span></span>

![Web Assistant Gérer les profils de publication](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image29.png)

<span data-ttu-id="41694-210">Dans le **modifier les profils de publication Web** boîte de dialogue, sélectionnez le profil de production, cliquez sur **renommer**, puis remplacez le nom de profil en Production.</span><span class="sxs-lookup"><span data-stu-id="41694-210">In the **Edit Web Publish Profiles** dialog box, select the production profile, click **Rename**, and change the profile name to Production.</span></span> <span data-ttu-id="41694-211">Puis cliquez sur **fermer**.</span><span class="sxs-lookup"><span data-stu-id="41694-211">Then click **Close**.</span></span>

![Modifier la boîte de dialogue profils de publication Web](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image30.png)

<span data-ttu-id="41694-213">Cliquez sur **Publier**.</span><span class="sxs-lookup"><span data-stu-id="41694-213">Click **Publish**.</span></span>

<span data-ttu-id="41694-214">L’application est publiée dans le fournisseur d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="41694-214">The application is published to the hosting provider.</span></span> <span data-ttu-id="41694-215">Le résultat s’affiche dans le **sortie** fenêtre.</span><span class="sxs-lookup"><span data-stu-id="41694-215">The result shows in the **Output** window.</span></span>

![Fenêtre sortie après le déploiement](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image31.png)

<span data-ttu-id="41694-217">Le navigateur s’ouvre automatiquement à l’URL que vous avez entré dans **URL de Destination** zone sur le **connexion** onglet de la **publier le site Web** Assistant.</span><span class="sxs-lookup"><span data-stu-id="41694-217">The browser automatically opens to the URL that you entered in **Destination URL** box on the **Connection** tab of the **Publish Web** wizard.</span></span> <span data-ttu-id="41694-218">Vous voyez la page d’accueil même lorsque vous exécutez le site dans Visual Studio, mais maintenant il n’existe aucun « (Test) » ou d’un indicateur d’environnement « (Dev) » dans la barre de titre.</span><span class="sxs-lookup"><span data-stu-id="41694-218">You see the same home page as when you run the site in Visual Studio, except now there is no "(Test)" or "(Dev)" environment indicator in the title bar.</span></span> <span data-ttu-id="41694-219">Cela indique que l’indicateur d’environnement *Web.config* transformation a fonctionné correctement.</span><span class="sxs-lookup"><span data-stu-id="41694-219">This indicates that the environment indicator *Web.config* transformation worked correctly.</span></span>

> [!NOTE]
> <span data-ttu-id="41694-220">Si vous voyez toujours « (Test) » dans le titre, supprimez le *obj* dossier le projet de ContosoUniversity et de redéploiement.</span><span class="sxs-lookup"><span data-stu-id="41694-220">If you still see "(Test)" in the heading, delete the *obj* folder from the ContosoUniversity project and redeploy.</span></span> <span data-ttu-id="41694-221">Dans les versions préliminaires du logiciel, le fichier de transformation précédemment appliquées (Web.Test.config) peut obtenir appliqué à nouveau même si vous utilisez le profil de Production.</span><span class="sxs-lookup"><span data-stu-id="41694-221">In pre-release versions of the software, the previously applied transformation file (Web.Test.config) might get applied again although you are using the Production profile.</span></span>

<span data-ttu-id="41694-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="41694-222">[![Home_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image33.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image32.png)</span></span>

<span data-ttu-id="41694-223">Avant d’exécuter une page qui provoque l’accès de base de données, assurez-vous que Elmah sera en mesure de consignation des erreurs qui se produisent.</span><span class="sxs-lookup"><span data-stu-id="41694-223">Before you run a page that causes database access, make sure that Elmah will be able to log any errors that occur.</span></span>

## <a name="setting-folder-permissions-for-elmah"></a><span data-ttu-id="41694-224">Définition des autorisations de dossier pour Elmah</span><span class="sxs-lookup"><span data-stu-id="41694-224">Setting Folder Permissions for Elmah</span></span>

<span data-ttu-id="41694-225">Comme vous vous souvenez du didacticiel précédent de cette série, il se peut que vous devez vous assurer que l’application dispose des autorisations d’écriture pour le dossier dans votre application où Elmah stocke les fichiers journaux des erreurs.</span><span class="sxs-lookup"><span data-stu-id="41694-225">As you remember from the previous tutorial in this series, you must make sure that the application has Write permissions for the folder in your application where Elmah stores error log files.</span></span> <span data-ttu-id="41694-226">Lors du déploiement vers IIS localement sur votre ordinateur, vous définissez manuellement ces autorisations.</span><span class="sxs-lookup"><span data-stu-id="41694-226">When you deployed to IIS locally on your computer, you set those permissions manually.</span></span> <span data-ttu-id="41694-227">Dans cette section, vous verrez comment définir des autorisations au Cytanium.</span><span class="sxs-lookup"><span data-stu-id="41694-227">In this section, you'll see how to set permissions at Cytanium.</span></span> <span data-ttu-id="41694-228">(Certains fournisseurs d’hébergement ne permettent pas cela ; il peut offrir un ou plusieurs dossiers prédéfinis avec des autorisations d’écriture.</span><span class="sxs-lookup"><span data-stu-id="41694-228">(Some hosting providers may not enable you to do this; they may offer one or more predefined folders with Write permissions.</span></span> <span data-ttu-id="41694-229">Dans ce cas vous devrez modifier votre application pour utiliser les dossiers spécifiés.)</span><span class="sxs-lookup"><span data-stu-id="41694-229">In that case you would have to modify your application to use the specified folders.)</span></span>

<span data-ttu-id="41694-230">Vous pouvez définir des autorisations de dossier dans le panneau de configuration Cytanium.</span><span class="sxs-lookup"><span data-stu-id="41694-230">You can set folder permissions in the Cytanium control panel.</span></span> <span data-ttu-id="41694-231">Accédez au contrôle de panneau URL et sélectionnez **Gestionnaire de fichiers**.</span><span class="sxs-lookup"><span data-stu-id="41694-231">Go to the control panel URL and select **File Manager**.</span></span>

<span data-ttu-id="41694-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="41694-232">[![Cytanium_Control_Panel_with_File_Manager_selected](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image35.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image34.png)</span></span>

<span data-ttu-id="41694-233">Dans le **Gestionnaire de fichiers** boîte, sélectionnez **contosouniversity.com** , puis **wwwroot** pour afficher le dossier racine de l’application.</span><span class="sxs-lookup"><span data-stu-id="41694-233">In the **File Manager** box, select **contosouniversity.com** and then **wwwroot** to see the application's root folder.</span></span> <span data-ttu-id="41694-234">Cliquez sur l’icône de cadenas en regard **Elmah**.</span><span class="sxs-lookup"><span data-stu-id="41694-234">Click the padlock icon next to **Elmah**.</span></span>

<span data-ttu-id="41694-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="41694-235">[![Cytanium_Control_Panel_File_Manager_at_root_folder](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image37.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image36.png)</span></span>

<span data-ttu-id="41694-236">Dans le **fichier**/**autorisations du dossier** fenêtre, sélectionnez le **en lecture** et **écrire** cases à cocher pour  **contosouniversity.com** et cliquez sur **définir des autorisations**.</span><span class="sxs-lookup"><span data-stu-id="41694-236">In the **File**/**Folder Permissions** window, select the **Read** and **Write** checkboxes for **contosouniversity.com** and click **Set Permissions**.</span></span>

<span data-ttu-id="41694-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="41694-237">[![Cytanium_Control_Panel_File_Folder_Permissions_Elmah](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image39.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image38.png)</span></span>

<span data-ttu-id="41694-238">Assurez-vous que Elmah a accès en écriture à la *Elmah* dossier en provoquant une erreur, puis en affichant le rapport d’erreurs Elmah.</span><span class="sxs-lookup"><span data-stu-id="41694-238">Make sure that Elmah has write access to the *Elmah* folder by causing an error and then displaying the Elmah error report.</span></span> <span data-ttu-id="41694-239">Demander une URL non valide comme *Studentsxxx.aspx*.</span><span class="sxs-lookup"><span data-stu-id="41694-239">Request an invalid URL like *Studentsxxx.aspx*.</span></span> <span data-ttu-id="41694-240">Comme auparavant, vous voyez la *GenericErrorPage.aspx* page.</span><span class="sxs-lookup"><span data-stu-id="41694-240">As before, you see the *GenericErrorPage.aspx* page.</span></span> <span data-ttu-id="41694-241">Cliquez sur le **se déconnecter** lier, puis exécutez *Elmah.axd*.</span><span class="sxs-lookup"><span data-stu-id="41694-241">Click the **Log Out** link, and then run *Elmah.axd*.</span></span> <span data-ttu-id="41694-242">Vous obtenez le **Log In** page tout d’abord, ce qui valide le fait que le *Web.config* transformation ajouté avec succès d’autorisation Elmah.</span><span class="sxs-lookup"><span data-stu-id="41694-242">You get the **Log In** page first, which validates that the *Web.config* transform successfully added Elmah authorization.</span></span> <span data-ttu-id="41694-243">Une fois que vous êtes connecté, vous voyez le rapport qui affiche l’erreur que vous venez d’origine.</span><span class="sxs-lookup"><span data-stu-id="41694-243">After you log in, you see the report that shows the error you just caused.</span></span>

<span data-ttu-id="41694-244">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="41694-244">[![Elmah.axd_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image41.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image40.png)</span></span>

## <a name="testing-in-the-production-environment"></a><span data-ttu-id="41694-245">Test dans l’environnement de Production</span><span class="sxs-lookup"><span data-stu-id="41694-245">Testing in the Production Environment</span></span>

<span data-ttu-id="41694-246">Exécutez le **étudiants** page.</span><span class="sxs-lookup"><span data-stu-id="41694-246">Run the **Students** page.</span></span> <span data-ttu-id="41694-247">L’application essaie d’accéder à la base de données School pour la première fois, ce qui déclenche les Migrations Code First pour créer la base de données.</span><span class="sxs-lookup"><span data-stu-id="41694-247">The application tries to access the School database for the first time, which triggers Code First Migrations to create the database.</span></span> <span data-ttu-id="41694-248">Lorsque la page s’affiche après le délai de tout moment, il montre qu’il n’y a aucun étudiant.</span><span class="sxs-lookup"><span data-stu-id="41694-248">When the page displays after a moment's delay, it shows that there are no students.</span></span>

<span data-ttu-id="41694-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="41694-249">[![Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image43.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image42.png)</span></span>

<span data-ttu-id="41694-250">Exécutez le **formateurs** page pour vérifier que les données d’amorçage insérées avec succès les données des formateurs dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="41694-250">Run the **Instructors** page to verify that the Seed data successfully inserted instructor data in the database.</span></span>

<span data-ttu-id="41694-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="41694-251">[![Instructors_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image45.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image44.png)</span></span>

<span data-ttu-id="41694-252">Comme vous l’avez fait dans l’environnement de test, que vous souhaitez vérifier que les mises à jour de la base de données fonctionnent dans l’environnement de production, mais en règle générale, vous ne souhaitez pas entrer des données de test dans votre base de données de production.</span><span class="sxs-lookup"><span data-stu-id="41694-252">As you did in the test environment, you want to verify that database updates work in the production environment, but you typically do not want to enter test data into your production database.</span></span> <span data-ttu-id="41694-253">Pour ce didacticiel, vous allez utiliser la même méthode que vous l’avez fait dans le test.</span><span class="sxs-lookup"><span data-stu-id="41694-253">For this tutorial, you'll use the same method you did in test.</span></span> <span data-ttu-id="41694-254">Mais dans une application réelle, que vous souhaiterez sans doute trouver une méthode qui valide de cette base de données mises à jour réussissent sans introduire de données de test dans la base de données de production.</span><span class="sxs-lookup"><span data-stu-id="41694-254">But in a real application you might want to find a method that validates that database updates are successful without introducing test data into the production database.</span></span> <span data-ttu-id="41694-255">Dans certaines applications, il peut être pratique ajouter un élément, puis le supprimer.</span><span class="sxs-lookup"><span data-stu-id="41694-255">In some applications, it might be practical to add something and then delete it.</span></span>

<span data-ttu-id="41694-256">Ajoutez un étudiant, puis affichez les données que vous avez entré dans le **étudiants** page pour vérifier que vous pouvez mettre à jour des données dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="41694-256">Add a student and then view the data you entered in the **Students** page to verify that you can update data in the database.</span></span>

<span data-ttu-id="41694-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="41694-257">[![Add_Students_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image47.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image46.png)</span></span>

<span data-ttu-id="41694-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="41694-258">[![Students_page_with_new_student_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image49.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image48.png)</span></span>

<span data-ttu-id="41694-259">Vérifiez que les règles d’autorisation sont fonctionne correctement en sélectionnant **crédits de la mise à jour** à partir de la **cours** menu.</span><span class="sxs-lookup"><span data-stu-id="41694-259">Validate that authorization rules are working correctly by selecting **Update Credits** from the **Courses** menu.</span></span> <span data-ttu-id="41694-260">Le **Log In** page s’affiche.</span><span class="sxs-lookup"><span data-stu-id="41694-260">The **Log In** page is displayed.</span></span> <span data-ttu-id="41694-261">Entrez vos informations d’identification du compte administrateur, cliquez sur **Log In**et le **mise à jour crédits** page s’affiche.</span><span class="sxs-lookup"><span data-stu-id="41694-261">Enter your administrator account credentials, click **Log In**, and the **Update Credits** page is displayed.</span></span>

<span data-ttu-id="41694-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="41694-262">[![Log_In_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image51.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image50.png)</span></span>

<span data-ttu-id="41694-263">Si la connexion est réussie, le **mise à jour crédits** page s’affiche.</span><span class="sxs-lookup"><span data-stu-id="41694-263">If login is successful, the **Update Credits** page is displayed.</span></span> <span data-ttu-id="41694-264">Cela indique que la base de données d’appartenance ASP.NET (avec le compte administrateur unique) a été déployé avec succès.</span><span class="sxs-lookup"><span data-stu-id="41694-264">This indicates that the ASP.NET membership database (with the single administrator account) was successfully deployed.</span></span>

<span data-ttu-id="41694-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="41694-265">[![Update_Credits_page_Prod](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image53.png)](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/_static/image52.png)</span></span>

<span data-ttu-id="41694-266">Vous disposez maintenant de déployer et testé votre site et il est disponible publiquement sur Internet.</span><span class="sxs-lookup"><span data-stu-id="41694-266">You have now successfully deployed and tested your site and it is available publicly over the Internet.</span></span>

## <a name="creating-a-more-reliable-test-environment"></a><span data-ttu-id="41694-267">Création d’un environnement de Test plus fiable</span><span class="sxs-lookup"><span data-stu-id="41694-267">Creating a More Reliable Test Environment</span></span>

<span data-ttu-id="41694-268">Comme expliqué dans la [déploiement dans l’environnement de Test](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) didacticiel, l’environnement de test plus fiable serait un deuxième compte au fournisseur d’hébergement qui a comme le compte de production.</span><span class="sxs-lookup"><span data-stu-id="41694-268">As explained in the [Deploying to the Test Environment](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md) tutorial, the most reliable test environment would be a second account at the hosting provider that's just like the production account.</span></span> <span data-ttu-id="41694-269">Il s’agit plus onéreux qu’utiliser IIS local comme environnement de test, dans la mesure où vous seriez obligé de s’inscrire à un deuxième compte d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="41694-269">This would be more expensive than using local IIS as your test environment, since you would have to sign up for a second hosting account.</span></span> <span data-ttu-id="41694-270">Mais si elle empêche les erreurs de site de production ou de pannes, vous pouvez décider que cela vaut la peine.</span><span class="sxs-lookup"><span data-stu-id="41694-270">But if it prevents production site errors or outages, you might decide that it's worth the cost.</span></span>

<span data-ttu-id="41694-271">La majeure partie du processus de création et de déploiement pour un compte de test est similaire à ce que vous avez déjà fait pour déployer en production :</span><span class="sxs-lookup"><span data-stu-id="41694-271">Most of the process for creating and deploying to a test account is similar to what you've already done to deploy to production:</span></span>

- <span data-ttu-id="41694-272">Créer un *Web.config* fichier de transformation.</span><span class="sxs-lookup"><span data-stu-id="41694-272">Create a *Web.config* transformation file.</span></span>
- <span data-ttu-id="41694-273">Créer un compte au fournisseur d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="41694-273">Create an account at the hosting provider.</span></span>
- <span data-ttu-id="41694-274">Créer un nouveau profil de publication et déployez sur le compte de test.</span><span class="sxs-lookup"><span data-stu-id="41694-274">Create a new publish profile and deploy to the test account.</span></span>

### <a name="preventing-public-access-to-the-test-site"></a><span data-ttu-id="41694-275">Empêche l’accès Public sur le Site de Test</span><span class="sxs-lookup"><span data-stu-id="41694-275">Preventing Public Access to the Test Site</span></span>

<span data-ttu-id="41694-276">Une considération importante pour le compte de test est qu’il sera en direct sur Internet, mais vous ne souhaitez pas le public à l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="41694-276">An important consideration for the test account is that it will be live on the Internet, but you don't want the public to use it.</span></span> <span data-ttu-id="41694-277">Pour conserver le site privé, vous pouvez utiliser un ou plusieurs des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="41694-277">To keep the site private you can use one or more of the following methods:</span></span>

- <span data-ttu-id="41694-278">Contactez le fournisseur d’hébergement pour définir des règles de pare-feu qui autorisent l’accès au site de test uniquement à partir d’adresses IP que vous utilisez pour le test.</span><span class="sxs-lookup"><span data-stu-id="41694-278">Contact the hosting provider to set firewall rules that allow access to the testing site only from IP addresses that you use for testing.</span></span>
- <span data-ttu-id="41694-279">Masquer l’URL afin qu’il n’est pas similaire à l’URL du site public.</span><span class="sxs-lookup"><span data-stu-id="41694-279">Disguise the URL so that it is not similar to the public site's URL.</span></span>
- <span data-ttu-id="41694-280">Utilisez un *robots.txt* fichier pour vous assurer que les moteurs de recherche pas analysera les liens de site et les rapports de test à ce dernier dans les résultats de la recherche.</span><span class="sxs-lookup"><span data-stu-id="41694-280">Use a *robots.txt* file to ensure that search engines will not crawl the test site and report links to it in search results.</span></span>

<span data-ttu-id="41694-281">La première de ces méthodes est évidemment le plus sécurisé, mais la procédure qui est spécifique à chaque fournisseur d’hébergement et n’est pas traitée dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="41694-281">The first of these methods is obviously the most secure, but the procedure for that is specific to each hosting provider and will not be covered in this tutorial.</span></span> <span data-ttu-id="41694-282">Si vous effectuez l’organiser avec votre fournisseur d’hébergement pour autoriser uniquement votre adresse IP accéder à l’URL de compte de test, en théorie n’avoir à vous soucier de l’analyse il de moteurs de recherche.</span><span class="sxs-lookup"><span data-stu-id="41694-282">If you do arrange with your hosting provider to allow only your IP address to browse to the test account URL, you theoretically don't have to worry about search engines crawling it.</span></span> <span data-ttu-id="41694-283">Mais même dans ce cas, déployez un *robots.txt* fichier est une bonne idée en tant que sauvegarde au cas où cette règle de pare-feu est jamais accidentellement désactivée.</span><span class="sxs-lookup"><span data-stu-id="41694-283">But even in that case, deploying a *robots.txt* file is a good idea as a backup in case that firewall rule is ever accidentally turned off.</span></span>

<span data-ttu-id="41694-284">Le *robots.txt* fichier est placé dans votre dossier de projet et doit contenir le texte suivant :</span><span class="sxs-lookup"><span data-stu-id="41694-284">The *robots.txt* file goes in your project folder and should have the following text in it:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12/samples/sample1.cmd)]

<span data-ttu-id="41694-285">Le `User-agent` ligne indique les moteurs de recherche les règles dans le fichier s’appliquent à tous les web robots d’indexation (robots), et le `Disallow` ligne spécifie qu’aucune page sur le site ne doit être analysé.</span><span class="sxs-lookup"><span data-stu-id="41694-285">The `User-agent` line tells search engines that the rules in the file apply to all search engine web crawlers (robots), and the `Disallow` line specifies that no pages on the site should be crawled.</span></span>

<span data-ttu-id="41694-286">Vous ne voulez probablement pas que les moteurs de recherche pour le catalogue de votre site de production, vous devez exclure ce fichier de déploiement de production.</span><span class="sxs-lookup"><span data-stu-id="41694-286">You probably do want search engines to catalog your production site, so you need to exclude this file from production deployment.</span></span> <span data-ttu-id="41694-287">Pour ce faire, consultez **exclure certains fichiers ou dossiers de déploiement ?** dans [Forum aux questions du déploiement de projet d’Application ASP.NET Web](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span><span class="sxs-lookup"><span data-stu-id="41694-287">To do that, see **Can I exclude specific files or folders from deployment?** in [ASP.NET Web Application Project Deployment FAQ](https://msdn.microsoft.com/library/ee942158.aspx#can_i_exclude_specific_files_or_folders_from_deployment).</span></span> <span data-ttu-id="41694-288">Assurez-vous que vous spécifiez l’exclusion uniquement pour le profil de publication de la Production.</span><span class="sxs-lookup"><span data-stu-id="41694-288">Make sure that you specify the exclusion only for the Production publish profile.</span></span>

<span data-ttu-id="41694-289">Créer un deuxième compte d’hébergement est une approche à travailler avec un environnement de test qui n’est pas obligatoire, mais peut être intéressant de la dépense supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="41694-289">Creating a second hosting account is an approach to working with a test environment that is not required but might be worth the added expense.</span></span> <span data-ttu-id="41694-290">Dans les didacticiels suivants, vous allez continuer à utiliser IIS comme votre environnement de test.</span><span class="sxs-lookup"><span data-stu-id="41694-290">In the following tutorials, you'll continue to use IIS as your test environment.</span></span>

<span data-ttu-id="41694-291">Dans le didacticiel suivant, vous allez mettre à jour le code d’application et déploient vos modifications dans les environnements de test et de production.</span><span class="sxs-lookup"><span data-stu-id="41694-291">In the next tutorial, you'll update application code and deploy your change to the test and production environments.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="41694-292">[Précédent](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
> [Suivant](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="41694-292">[Previous](deployment-to-a-hosting-provider-setting-folder-permissions-6-of-12.md)
[Next](deployment-to-a-hosting-provider-deploying-a-code-only-update-8-of-12.md)</span></span>
