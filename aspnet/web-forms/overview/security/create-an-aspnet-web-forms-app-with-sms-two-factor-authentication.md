---
uid: web-forms/overview/security/create-an-aspnet-web-forms-app-with-sms-two-factor-authentication
title: Créer une application ASP.NET Web Forms avec l’authentification à deux facteurs SMSC#() | Microsoft Docs
author: Erikre
description: Ce didacticiel vous montre comment créer une application ASP.NET Web Forms avec l’authentification à deux facteurs. Ce didacticiel a été conçu pour compléter le didacticiel intitulé CR...
ms.author: riande
ms.date: 10/09/2014
ms.assetid: 716264ae-ab72-45de-bfc5-53a6237089cf
msc.legacyurl: /web-forms/overview/security/create-an-aspnet-web-forms-app-with-sms-two-factor-authentication
msc.type: authoredcontent
ms.openlocfilehash: c9558aca8a655071c0c94ed66433cf721f26c011
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77466426"
---
# <a name="create-an-aspnet-web-forms-app-with-sms-two-factor-authentication-c"></a><span data-ttu-id="2e0a9-104">Créer une application Web Forms ASP.NET avec authentification à deux facteurs par SMS (C#)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-104">Create an ASP.NET Web Forms app with SMS Two-Factor Authentication (C#)</span></span>

<span data-ttu-id="2e0a9-105">par [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-105">by [Erik Reitan](https://github.com/Erikre)</span></span>

[<span data-ttu-id="2e0a9-106">Télécharger l’application ASP.NET Web Forms avec la messagerie et l’authentification à deux facteurs SMS</span><span class="sxs-lookup"><span data-stu-id="2e0a9-106">Download ASP.NET Web Forms App with Email and SMS Two-Factor Authentication</span></span>](https://code.msdn.microsoft.com/ASPNET-Web-Forms-App-with-5a0ff94e)

> <span data-ttu-id="2e0a9-107">Ce didacticiel vous montre comment créer une application ASP.NET Web Forms avec l’authentification à deux facteurs.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-107">This tutorial shows you how to build an ASP.NET Web Forms app with Two-Factor Authentication.</span></span> <span data-ttu-id="2e0a9-108">Ce didacticiel a été conçu pour compléter le didacticiel intitulé [créer une application secure ASP.NET Web Forms avec l’inscription de l’utilisateur, la confirmation par e-mail et la réinitialisation du mot de passe](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).</span><span class="sxs-lookup"><span data-stu-id="2e0a9-108">This tutorial was designed to complement the tutorial titled [Create a secure ASP.NET Web Forms app with user registration, email confirmation and password reset](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).</span></span> <span data-ttu-id="2e0a9-109">En outre, ce didacticiel est basé sur le [didacticiel MVC](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md)de Rick Anderson.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-109">In addition, this tutorial was based on Rick Anderson's [MVC tutorial](../../../mvc/overview/security/aspnet-mvc-5-app-with-sms-and-email-two-factor-authentication.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="2e0a9-110">Introduction</span><span class="sxs-lookup"><span data-stu-id="2e0a9-110">Introduction</span></span>

<span data-ttu-id="2e0a9-111">Ce didacticiel vous guide tout au long des étapes nécessaires à la création d’une application de Web Forms ASP.NET qui prend en charge l’authentification à deux facteurs à l’aide de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-111">This tutorial guides you through the steps required to create an ASP.NET Web Forms application that supports Two-Factor Authentication using Visual Studio.</span></span> <span data-ttu-id="2e0a9-112">L’authentification à deux facteurs est une étape d’authentification utilisateur supplémentaire.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-112">Two-Factor Authentication is an extra user authentication step.</span></span> <span data-ttu-id="2e0a9-113">Cette étape supplémentaire génère un numéro d’identification personnel (PIN) unique lors de la connexion.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-113">This extra step generates a unique personal identification number (PIN) during sign-in.</span></span> <span data-ttu-id="2e0a9-114">Le code PIN est généralement envoyé à l’utilisateur sous forme de message électronique ou SMS.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-114">The PIN is commonly sent to the user as an email or SMS message.</span></span> <span data-ttu-id="2e0a9-115">L’utilisateur de votre application entre alors le code confidentiel comme mesure d’authentification supplémentaire lors de la connexion.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-115">The user of your app then enters the PIN as an extra authentication measure when signing-in.</span></span>

### <a name="tutorial-tasks-and-information"></a><span data-ttu-id="2e0a9-116">Tâches et informations sur le didacticiel :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-116">Tutorial Tasks and Information:</span></span>

- [<span data-ttu-id="2e0a9-117">Créer une application de Web Forms ASP.NET</span><span class="sxs-lookup"><span data-stu-id="2e0a9-117">Create an ASP.NET Web Forms App</span></span>](#createWebForms)
- [<span data-ttu-id="2e0a9-118">Configurer SMS et l’authentification à deux facteurs</span><span class="sxs-lookup"><span data-stu-id="2e0a9-118">Setup SMS and Two-Factor Authentication</span></span>](#SMS)
- [<span data-ttu-id="2e0a9-119">Activer l’authentification à deux facteurs pour l’utilisateur inscrit</span><span class="sxs-lookup"><span data-stu-id="2e0a9-119">Enable Two-Factor Authentication for Registered User</span></span>](#use2FA)
- [<span data-ttu-id="2e0a9-120">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="2e0a9-120">Additional Resources</span></span>](#addRes)

<a id="createWebForms"></a>
## <a name="create-an-aspnet-web-forms-app"></a><span data-ttu-id="2e0a9-121">Créer une application de Web Forms ASP.NET</span><span class="sxs-lookup"><span data-stu-id="2e0a9-121">Create an ASP.NET Web Forms App</span></span>

<span data-ttu-id="2e0a9-122">Commencez par installer et exécuter [Visual Studio Express 2013 pour le Web](https://go.microsoft.com/fwlink/?LinkId=299058) ou [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566).</span><span class="sxs-lookup"><span data-stu-id="2e0a9-122">Start by installing and running [Visual Studio Express 2013 for Web](https://go.microsoft.com/fwlink/?LinkId=299058) or [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566).</span></span> <span data-ttu-id="2e0a9-123">Installez [Visual Studio 2013 Update 3](https://go.microsoft.com/fwlink/?LinkId=390465) ou une version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-123">Install [Visual Studio 2013 Update 3](https://go.microsoft.com/fwlink/?LinkId=390465) or higher as well.</span></span> <span data-ttu-id="2e0a9-124">En outre, vous devrez créer un compte [Twilio](https://www.twilio.com/try-twilio) , comme expliqué ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-124">Also, you will need to create a [Twilio](https://www.twilio.com/try-twilio) account, as explained below.</span></span>

> [!NOTE]
> <span data-ttu-id="2e0a9-125">Important : vous devez installer [Visual Studio 2013 Update 3](https://go.microsoft.com/fwlink/?LinkId=390465) ou version ultérieure pour suivre ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-125">Important: You must install [Visual Studio 2013 Update 3](https://go.microsoft.com/fwlink/?LinkId=390465) or higher to complete this tutorial.</span></span>

1. <span data-ttu-id="2e0a9-126">Créez un projet (**fichier** -&gt; **nouveau projet**), puis sélectionnez le modèle **Application Web ASP.net** avec le .NET Framework version 4.5.2 dans la boîte de dialogue **nouveau projet** .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-126">Create a new project (**File** -&gt; **New Project**) and select the **ASP.NET Web Application** template along with the .NET Framework version 4.5.2 from the **New Project** dialog box.</span></span>
2. <span data-ttu-id="2e0a9-127">Dans la boîte de dialogue **nouveau projet ASP.net** , sélectionnez le modèle **Web Forms** .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-127">From the **New ASP.NET Project** dialog box, select the **Web Forms** template.</span></span> <span data-ttu-id="2e0a9-128">Laissez l’authentification par défaut en tant que **comptes d’utilisateur individuels**.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-128">Leave the default authentication as **Individual User Accounts**.</span></span> <span data-ttu-id="2e0a9-129">Cliquez ensuite sur **OK** pour créer le nouveau projet.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-129">Then, click **OK** to create the new project.</span></span>  
    <span data-ttu-id="2e0a9-130">![Boîte de dialogue New ASP.NET Project](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-130">![New ASP.NET Project dialog box](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image1.png)</span></span>
3. <span data-ttu-id="2e0a9-131">Activez protocole SSL (SSL) pour le projet.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-131">Enable Secure Sockets Layer (SSL) for the project.</span></span> <span data-ttu-id="2e0a9-132">Suivez les étapes disponibles dans la section **activer SSL pour le projet** de la [série prise en main avec Web Forms didacticiel](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#SSLWebForms).</span><span class="sxs-lookup"><span data-stu-id="2e0a9-132">Follow the steps available in the **Enable SSL for the Project** section of the [Getting Started with Web Forms tutorial series](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#SSLWebForms).</span></span>
4. <span data-ttu-id="2e0a9-133">Dans Visual Studio, ouvrez la **console du gestionnaire de package** (**Outils** -&gt; gestionnaire de **package NuGet** -&gt; **console du gestionnaire de package**), puis entrez la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-133">In Visual Studio, open the **Package Manager Console** (**Tools** -&gt; **NuGet Package Manger** -&gt; **Package Manager Console**), and enter the following command:</span></span>  
    `Install-Package Twilio`

<a id="SMS"></a>
## <a name="setup-sms-and-two-factor-authentication"></a><span data-ttu-id="2e0a9-134">Configurer SMS et l’authentification à deux facteurs</span><span class="sxs-lookup"><span data-stu-id="2e0a9-134">Setup SMS and Two-Factor Authentication</span></span>

<span data-ttu-id="2e0a9-135">Ce didacticiel utilise Twilio, mais vous pouvez utiliser n’importe quel fournisseur SMS.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-135">This tutorial uses Twilio, but you can use any SMS provider.</span></span>

1. <span data-ttu-id="2e0a9-136">Créez un compte [Twilio](https://www.twilio.com/try-twilio) .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-136">Create a [Twilio](https://www.twilio.com/try-twilio) account.</span></span>
2. <span data-ttu-id="2e0a9-137">À partir de l’onglet **tableau de bord** de votre compte Twilio, copiez le **SID de compte** et le **jeton d’authentification.**</span><span class="sxs-lookup"><span data-stu-id="2e0a9-137">From the **Dashboard** tab of your Twilio account, copy the **Account SID** and **Auth Token.**</span></span> <span data-ttu-id="2e0a9-138">Vous les ajouterez ultérieurement à votre application.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-138">You will add them to your app later.</span></span>
3. <span data-ttu-id="2e0a9-139">Dans l’onglet **nombres** , copiez également votre **numéro de téléphone** Twilio.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-139">From the **Numbers** tab, copy your Twilio **phone number** as well.</span></span>
4. <span data-ttu-id="2e0a9-140">Rendez le **SID de compte**Twilio, le **jeton d’authentification** et le **numéro de téléphone** disponibles pour l’application.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-140">Make the Twilio **Account SID**, **Auth Token** and **phone number** available to the app.</span></span> <span data-ttu-id="2e0a9-141">Pour simplifier les choses, vous allez stocker ces valeurs dans le fichier *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-141">To keep things simple you will store these values in the *web.config* file.</span></span> <span data-ttu-id="2e0a9-142">Lorsque vous déployez dans Azure, vous pouvez stocker les valeurs en toute sécurité dans la section **appSettings** de l’onglet configurer du site Web. En outre, lorsque vous ajoutez le numéro de téléphone, utilisez uniquement des chiffres.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-142">When you deploy to Azure, you can store the values securely in the **appSettings** section on the web site configure tab. Also, when adding the phone number, only use numbers.</span></span>   
   <span data-ttu-id="2e0a9-143">Notez que vous pouvez également ajouter des informations d’identification SendGrid.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-143">Notice that you can also add SendGrid credentials.</span></span> <span data-ttu-id="2e0a9-144">SendGrid est un service de notification par courrier électronique.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-144">SendGrid is an email notification service.</span></span> <span data-ttu-id="2e0a9-145">Pour plus d’informations sur l’activation de SendGrid, consultez la section « raccorder SendGrid » du didacticiel intitulé [créer une application sécurisée de ASP.NET Web Forms avec inscription de l’utilisateur, confirmation par e-mail et réinitialisation du mot de passe.](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-145">For details about how to enable SendGrid, see the 'Hook Up SendGrid' section of the tutorial titled [Create a Secure ASP.NET Web Forms App with user registration, email confirmation and password reset.](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md)</span></span>

    [!code-xml[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample1.xml?highlight=2,6-10)]

    > [!WARNING]
    > <span data-ttu-id="2e0a9-146">Sécurité - Ne jamais stocker de données sensibles dans votre code source.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-146">Security - Never store sensitive data in your source code.</span></span> <span data-ttu-id="2e0a9-147">Dans cet exemple, le compte et les informations d’identification sont stockés dans la section **appSettings** du fichier *Web. config* .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-147">In this example, the account and credentials are stored in the **appSettings** section of the *Web.config* file.</span></span> <span data-ttu-id="2e0a9-148">Sur Azure, vous pouvez stocker ces valeurs en toute sécurité sous l’onglet **[configurer](https://blogs.msdn.com/b/webdev/archive/2014/06/04/queuebackgroundworkitem-to-reliably-schedule-and-run-long-background-process-in-asp-net.aspx)** de la portail Azure.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-148">On Azure, you can securely store these values on the **[Configure](https://blogs.msdn.com/b/webdev/archive/2014/06/04/queuebackgroundworkitem-to-reliably-schedule-and-run-long-background-process-in-asp-net.aspx)** tab in the Azure portal.</span></span> <span data-ttu-id="2e0a9-149">Pour obtenir des informations connexes, consultez la rubrique « [meilleures pratiques pour le déploiement de mots de passe et d’autres données sensibles dans ASP.net et Azure](/aspnet/identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure)» de Rick Anderson.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-149">For related information, see Rick Anderson's topic titled [Best practices for deploying passwords and other sensitive data to ASP.NET and Azure](/aspnet/identity/overview/features-api/best-practices-for-deploying-passwords-and-other-sensitive-data-to-aspnet-and-azure).</span></span>
5. <span data-ttu-id="2e0a9-150">Configurez la classe `SmsService` dans le fichier *App\_Start\IdentityConfig.cs* en mettant en surbrillance les modifications suivantes en jaune :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-150">Configure the `SmsService` class in the *App\_Start\IdentityConfig.cs* file by making the following changes highlighted in yellow:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample2.cs?highlight=5-17)]
6. <span data-ttu-id="2e0a9-151">Ajoutez les instructions `using` suivantes au début du fichier *IdentityConfig.cs* :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-151">Add the following `using` statements to the beginning of the *IdentityConfig.cs* file:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample3.cs?highlight=1-4)]
7. <span data-ttu-id="2e0a9-152">Mettez à jour le fichier *Account/Manage. aspx* en supprimant les lignes mises en surbrillance en jaune :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-152">Update the *Account/Manage.aspx* file by removing the lines highlighted in yellow:</span></span>  

    [!code-aspx[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample4.aspx?highlight=38,53,57-60,63,66,70,73)]
8. <span data-ttu-id="2e0a9-153">Dans le gestionnaire de `Page_Load` du code-behind *Manage.aspx.cs* , supprimez les marques de commentaire de la ligne de code mise en surbrillance en jaune afin qu’elle apparaisse comme suit :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-153">In the `Page_Load` handler of the *Manage.aspx.cs* code-behind, uncomment the line of code highlighted in yellow so that it appears as follows:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample5.cs?highlight=8)]
9. <span data-ttu-id="2e0a9-154">Dans le codebehind of *Account*/*TwoFactorAuthenticationSignIn.aspx.cs*, mettez à jour le gestionnaire de `Page_Load` en ajoutant le code suivant mis en surbrillance en jaune :</span><span class="sxs-lookup"><span data-stu-id="2e0a9-154">In the codebehind of *Account*/*TwoFactorAuthenticationSignIn.aspx.cs*, update the `Page_Load` handler by adding the following code highlighted in yellow:</span></span> 

    [!code-csharp[Main](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/samples/sample6.cs?highlight=3-4,13)]

   <span data-ttu-id="2e0a9-155">En modifiant le code ci-dessus, le DropDownList « Providers » contenant les options d’authentification ne sera pas réinitialisé à la première valeur.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-155">By making the above code change, the "Providers" DropDownList containing the authentication options will not be reset to the first value.</span></span> <span data-ttu-id="2e0a9-156">Cela permettra à l’utilisateur de sélectionner avec succès toutes les options à utiliser lors de l’authentification, et pas seulement la première.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-156">This will allow the user to successfully select all options to use when authenticating, not just the first.</span></span>
10. <span data-ttu-id="2e0a9-157">Dans **Explorateur de solutions**, cliquez avec le bouton droit sur *default. aspx* , puis sélectionnez **définir comme page de démarrage**.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-157">In **Solution Explorer**, right-click *Default.aspx* and select **Set As Start Page**.</span></span>
11. <span data-ttu-id="2e0a9-158">En testant votre application, commencez par créer l’application (**Ctrl**+**Shift**+**B**), puis exécutez l’application (**F5**) et sélectionnez **inscrire** pour créer un nouveau compte d’utilisateur, ou sélectionnez **se connecter** si le compte d’utilisateur a déjà été inscrit.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-158">By testing your app, first build the app (**Ctrl**+**Shift**+**B**) and then run the app (**F5**) and either select **Register** to create a new user account or select **Log in** if the user account has already been registered.</span></span>
12. <span data-ttu-id="2e0a9-159">Une fois que vous (en tant qu’utilisateur) êtes connecté, cliquez sur l’ID d’utilisateur (adresse de messagerie) dans la barre de navigation pour afficher la page **gérer le compte** (Manage. aspx).</span><span class="sxs-lookup"><span data-stu-id="2e0a9-159">Once you (as the user) have logged in, click on the User ID (email address) in the navigation bar to display the **Manage Account** page (Manage.aspx).</span></span>  
    ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image2.png)
13. <span data-ttu-id="2e0a9-160">Cliquez sur **Ajouter** en regard de **numéro de téléphone** dans la page gérer le **compte** .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-160">Click **Add** next to **Phone Number** on the **Manage Account** page.</span></span>  
    ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image3.png)
14. <span data-ttu-id="2e0a9-161">Ajoutez le numéro de téléphone auquel vous (en tant qu’utilisateur) souhaiterez recevoir des messages SMS (messages texte), puis cliquez sur le bouton **Envoyer** .</span><span class="sxs-lookup"><span data-stu-id="2e0a9-161">Add the phone number where you (as the user) would like to receive SMS messages (text messages) and click the **Submit** button.</span></span>   
    ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image4.png)  
    <span data-ttu-id="2e0a9-162">À ce stade, l’application utilise les informations d’identification du *fichier Web. config* pour contacter Twilio.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-162">At this point, the app will use the credentials from the *Web.config* to contact Twilio.</span></span> <span data-ttu-id="2e0a9-163">Un message SMS (message texte) sera envoyé au téléphone associé au compte d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-163">A SMS message (text message) will be sent to the phone associated with the user account.</span></span> <span data-ttu-id="2e0a9-164">Vous pouvez vérifier que le message Twilio a été envoyé en consultant le tableau de bord Twilio.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-164">You can verify that the Twilio message was sent by viewing the Twilio dashboard.</span></span>
15. <span data-ttu-id="2e0a9-165">En quelques secondes, le téléphone associé au compte d’utilisateur recevra un message texte contenant le code de vérification.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-165">In a few seconds, the phone associated with the user account will get a text message containing the verification code.</span></span> <span data-ttu-id="2e0a9-166">Entrez le code de vérification, puis appuyez sur **Envoyer**.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-166">Enter the verification code and press **Submit**.</span></span>  
     ![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image5.png)

<a id="use2FA"></a>
## <a name="enable-two-factor-authentication-for-a-registered-user"></a><span data-ttu-id="2e0a9-167">Activer l’authentification à deux facteurs pour un utilisateur inscrit</span><span class="sxs-lookup"><span data-stu-id="2e0a9-167">Enable Two-Factor Authentication for a Registered User</span></span>

<span data-ttu-id="2e0a9-168">À ce stade, vous avez activé l’authentification à deux facteurs pour votre application.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-168">At this point, you have enabled two-factor authentication for your app.</span></span> <span data-ttu-id="2e0a9-169">Pour qu’un utilisateur puisse utiliser l’authentification à deux facteurs, il peut simplement modifier ses paramètres à l’aide de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-169">For a user to use two-factor authentication, they can simply change their settings using the UI.</span></span> 

1. <span data-ttu-id="2e0a9-170">En tant qu’utilisateur de votre application, vous pouvez activer l’authentification à deux facteurs pour votre compte spécifique en cliquant sur l’ID d’utilisateur (alias de messagerie) dans la barre de navigation pour afficher la page **gérer le compte** . Ensuite, cliquez sur le lien **activer** pour activer l’authentification à deux facteurs pour le compte.![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-170">As a user of your app you can enable two-factor authentication for your specific account by clicking on the user ID (email alias) in the navigation bar to display the **Manage Account** page.Then, click on the **Enable** link to enable two-factor authentication for the account.![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image6.png)</span></span>
2. <span data-ttu-id="2e0a9-171">Déconnectez-vous, puis reconnectez-vous.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-171">Log off, then log back in.</span></span> <span data-ttu-id="2e0a9-172">Si vous avez activé la messagerie électronique, vous pouvez sélectionner SMS ou e-mail pour l’authentification à deux facteurs.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-172">If you've enabled email, you can select either SMS or email for two-factor authentication.</span></span> <span data-ttu-id="2e0a9-173">Si vous n’avez pas activé la messagerie électronique, consultez le didacticiel intitulé [créer une application sécurisée ASP.NET Web Forms avec inscription de l’utilisateur, confirmation par e-mail et réinitialisation du mot de passe](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-173">If you haven't enabled email, see the tutorial titled [Create a Secure ASP.NET Web Forms App with User Registration, Email Confirmation and Password Reset](create-a-secure-aspnet-web-forms-app-with-user-registration-email-confirmation-and-password-reset.md).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image7.png)</span></span>
3. <span data-ttu-id="2e0a9-174">La page authentification à deux facteurs s’affiche, dans laquelle vous pouvez entrer le code (à partir de SMS ou de courrier électronique).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="2e0a9-174">The Two-Factor Authentication page is displayed where you can enter the code (from SMS or email).![](create-an-aspnet-web-forms-app-with-sms-two-factor-authentication/_static/image8.png)</span></span>  
 <span data-ttu-id="2e0a9-175">Si vous cliquez sur la case à cocher **mémoriser ce navigateur** , vous ne devez pas utiliser l’authentification à deux facteurs pour vous connecter lorsque vous utilisez le navigateur et l’appareil où vous avez activé la case à cocher.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-175">Clicking on the **Remember this browser** check box will exempt you from needing to use two-factor authentication to log in when using the browser and device where you checked the box.</span></span> <span data-ttu-id="2e0a9-176">Tant que les utilisateurs malveillants ne peuvent pas accéder à votre appareil, l’activation de l’authentification à deux facteurs et le **rappel de ce navigateur** vous fourniront un accès au mot de passe en une seule étape, tout en conservant une protection renforcée à deux facteurs pour tous les accès à partir d’appareils non approuvés.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-176">As long as malicious users can't gain access to your device, enabling two-factor authentication and clicking on the **Remember this browser** will provide you with convenient one step password access, while still retaining strong two-factor authentication protection for all access from non-trusted devices.</span></span> <span data-ttu-id="2e0a9-177">Vous pouvez effectuer cela sur n’importe quel appareil privé que vous utilisez régulièrement.</span><span class="sxs-lookup"><span data-stu-id="2e0a9-177">You can do this on any private device you regularly use.</span></span>

<a id="addRes"></a>
## <a name="additional-resources"></a><span data-ttu-id="2e0a9-178">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="2e0a9-178">Additional Resources</span></span>

- [<span data-ttu-id="2e0a9-179">Authentification à deux facteurs par SMS et e-mail avec ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="2e0a9-179">Two-factor authentication using SMS and email with ASP.NET Identity</span></span>](../../../identity/overview/features-api/two-factor-authentication-using-sms-and-email-with-aspnet-identity.md)
- [<span data-ttu-id="2e0a9-180">Liens vers les ressources ASP.NET Identity recommandées</span><span class="sxs-lookup"><span data-stu-id="2e0a9-180">Links to ASP.NET Identity Recommended Resources</span></span>](../../../identity/overview/getting-started/aspnet-identity-recommended-resources.md)
- [<span data-ttu-id="2e0a9-181">Déployer une application ASP.NET Web Forms sécurisée avec appartenance, OAuth et SQL Database sur un site Web Azure</span><span class="sxs-lookup"><span data-stu-id="2e0a9-181">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to an Azure Website</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)
- [<span data-ttu-id="2e0a9-182">Série de didacticiels Web Forms ASP.NET-ajouter un fournisseur OAuth 2,0</span><span class="sxs-lookup"><span data-stu-id="2e0a9-182">ASP.NET Web Forms tutorial series - Add an OAuth 2.0 Provider</span></span>](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#OAuthWebForms)
- [<span data-ttu-id="2e0a9-183">Série de didacticiels ASP.NET Web Forms-activer SSL pour le projet</span><span class="sxs-lookup"><span data-stu-id="2e0a9-183">ASP.NET Web Forms tutorial series - Enable SSL for the Project</span></span>](../getting-started/getting-started-with-aspnet-45-web-forms/checkout-and-payment-with-paypal.md#SSLWebForms)
- [<span data-ttu-id="2e0a9-184">Confirmation de compte et récupération de mot de passe avec ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="2e0a9-184">Account Confirmation and Password Recovery with ASP.NET Identity</span></span>](../../../identity/overview/features-api/account-confirmation-and-password-recovery-with-aspnet-identity.md)
- [<span data-ttu-id="2e0a9-185">Création de l’application dans Facebook et connexion de l’application au projet</span><span class="sxs-lookup"><span data-stu-id="2e0a9-185">Creating the app in Facebook and connecting the app to the project</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md#fb)
